(function(){
/** @license Copyright (c) 2020, Blockthrough All rights reserved.
 See license text at: https://blockthrough.com/license
*/(()=>{"use strict";var __webpack_modules__={353:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Xh:()=>browser,Jv:()=>platform,Uh:()=>device,tq:()=>isMobile});var PlatformUnknown="unknown",PlatformAndroid="android",PlatformIOS="ios",PlatformWindows="windows",PlatformLinux="linux",PlatformOSX="osx",PlatformWindowsPhone="windowsphone",BrowserUnknown="unknown",BrowserChrome="chrome",BrowserFirefox="firefox",BrowserIE="ie",BrowserEdge="edge",BrowserOpera="opera",BrowserSafari="safari",BrowserUCBrowser="uc",DeviceUnknown="unknown",DeviceHighEndPhone="highendphone",DeviceTablet="tablet",DevicePersonalComputer="pc",DeviceConnectedTV="tv",DeviceGameConsole="console",browser=function(){var ua=navigator.userAgent;return/edge/i.test(ua)?BrowserEdge:/opera/i.test(ua)||/opr|opios/i.test(ua)?BrowserOpera:/chrome|chromium/i.test(ua)?BrowserChrome:/firefox|iceweasel|fxios/i.test(ua)?BrowserFirefox:/msie|trident/i.test(ua)?BrowserIE:/^((?!chrome|android).)*safari/i.test(ua)?BrowserSafari:/ucbrowser/i.test(ua)?BrowserUCBrowser:window.chrome?BrowserChrome:"undefined"!=typeof InstallTrigger?BrowserFirefox:eval("/*@cc_on!@*/false")||document.documentMode?BrowserIE:window.StyleMedia?BrowserEdge:BrowserUnknown},platform=function(){var e=navigator.userAgent;return/windows|win32/i.test(e)?PlatformWindows:/ipod|iphone|ipad/i.test(e)?PlatformIOS:/android/i.test(e)?PlatformAndroid:/macintosh|mac os x/i.test(e)?PlatformOSX:/linux/i.test(e)?PlatformLinux:/windows phone/i.test(e)?PlatformWindowsPhone:PlatformUnknown},device=function(){var e=navigator.userAgent;return/tablet|ipad/i.test(e)?DeviceTablet:/mobile/i.test(e)||/android|webos|iphone|ipod|blackberry|iemobile|windows phone|opera mini/i.test(e)||/ucbrowser/i.test(e)&&window.ucweb?DeviceHighEndPhone:DevicePersonalComputer},isMobile=function(){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(navigator.userAgent||navigator.vendor||window.opera)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test((navigator.userAgent||navigator.vendor||window.opera).substr(0,4))}},896:(e,t,i)=>{i.d(t,{Y:()=>n});var n=new function(){this.events={},this.addEventListener=function(e,t){this.events.hasOwnProperty(e)?this.events[e].push(t):this.events[e]=[t]},this.removeEventListener=function(e,t){if(this.events.hasOwnProperty(e)){var i=this.events[e].indexOf(t);-1!=i&&this.events[e].splice(i,1)}},this.fireEvent=function(e,t,i,n){if(this.events.hasOwnProperty(e))for(var a=new r(e,t),o=this.events[e],s=o.length,d=0;d<s;d++){try{var c=o[d].call(i,a)}catch(e){}if(null!=c)return c;if(a.shouldStop)return}}},r=function(e,t){this.name=e,this.data=t,this.shouldStop=!1}},149:(e,t,i)=>{i.d(t,{Z:()=>r});const n="static.btloader.com";const r={SharedObject:new function(){this.data={},this.setItem=function(e,t){this.data[e]=t},this.getItem=function(e){return this.data[e]},this.removeItem=function(e){delete this.data[e]},this.clearSharedObject=function(){this.data={}}},consts:{selectorPosition:{APPEND_CHILD:0,INSERT_BEFORE:1},complianceStatus:{UNKNOWN:0,COMPLIANT:1,INCOMPLIANT:2,ERROR:3,PENDING:4},acceptableStandardScreenSize:{width:1366,height:768},headerBiddingType:{prebid:1},refreshType:{UNKNOWN:0,ALL:1,VISIBLE:2,HIDDEN:3},htmlElements:["HTMLScriptElement","HTMLElement","HTMLVideoElement","HTMLAudioElement","HTMLHtmlElement","HTMLHeadElement","HTMLLinkElement","HTMLStyleElement","HTMLBodyElement","HTMLFormElement","HTMLSelectElement","HTMLOptionElement","HTMLInputElement","HTMLTextAreaElement","HTMLButtonElement","HTMLLabelElement","HTMLFieldSetElement","HTMLLegendElement","HTMLUListElement","HTMLOListElement","HTMLDListElement","HTMLDirectoryElement","HTMLMenuElement","HTMLLIElement","HTMLDivElement","HTMLParagraphElement","HTMLHeadingElement","HTMLQuoteElement","HTMLPreElement","HTMLBRElement","HTMLFontElement","HTMLHRElement","HTMLAnchorElement","HTMLImageElement","HTMLObjectElement","HTMLParamElement","HTMLMapElement","HTMLModElement","HTMLAreaElement","HTMLTableElement","HTMLTableCaptionElement","HTMLTableColElement","HTMLTableSectionElement","HTMLTableRowElement","HTMLTableCellElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement"]},upoSettings:{acceptableURLParam:"upapi=true",timeout:3e3,refreshTimeout:3e3,staticDomain:n,whitelistedFrameSettings:{url:`https://${n}/safeFrame.html?upapi=true`,laterSrcModification:void 0,isOurOriginSafeFrame:!0},minTimeBetweenRefreshes:3e4,amazonBidderConfiguration:{enabled:!1,keepHbPb:!1}},whitelistedFrame:undefined,cpbjs:undefined,uGoogletag:undefined}},326:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{k:()=>prebidLoader});var _services__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(34),_shared__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(149),prebidLoader=new function(){var subscriptionLayer=new _services__WEBPACK_IMPORTED_MODULE_0__.Z.SubscriptionLayer;this.subscribeForEvent=function(e,t){subscriptionLayer.subscribeForEvent(e,t)};var initPbjs=function(){var prebidjsCode="LyogcHJlYmlkLmpzIHY1LjExLjAKVXBkYXRlZCA6IDIwMjEtMDktMDEqLwohZnVuY3Rpb24oZSl7dmFyIHQ9d2luZG93LnVwYmpzQ2h1bms7d2luZG93LnVwYmpzQ2h1bms9ZnVuY3Rpb24obixvLGEpe2Zvcih2YXIgYyx1LHMsZD0wLGY9W107ZDxuLmxlbmd0aDtkKyspdT1uW2RdLHJbdV0mJmYucHVzaChyW3VdWzBdKSxyW3VdPTA7Zm9yKGMgaW4gbylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobyxjKSYmKGVbY109b1tjXSk7Zm9yKHQmJnQobixvLGEpO2YubGVuZ3RoOylmLnNoaWZ0KCkoKTtpZihhKWZvcihkPTA7ZDxhLmxlbmd0aDtkKyspcz1pKGkucz1hW2RdKTtyZXR1cm4gc307dmFyIG49e30scj17MzQ3OjB9O2Z1bmN0aW9uIGkodCl7aWYoblt0XSlyZXR1cm4gblt0XS5leHBvcnRzO3ZhciByPW5bdF09e2k6dCxsOiExLGV4cG9ydHM6e319O3JldHVybiBlW3RdLmNhbGwoci5leHBvcnRzLHIsci5leHBvcnRzLGkpLHIubD0hMCxyLmV4cG9ydHN9aS5tPWUsaS5jPW4saS5kPWZ1bmN0aW9uKGUsdCxuKXtpLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITAsZ2V0Om59KX0saS5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiBpLmQodCwiYSIsdCksdH0saS5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxpLnA9IiIsaS5vZT1mdW5jdGlvbihlKXt0aHJvdyBjb25zb2xlLmVycm9yKGUpLGV9LGkoaS5zPTg3Nil9KHswOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJpbnRlcm5hbCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGp9KSksdC5nZXRQcmViaWRJbnRlcm5hbD1mdW5jdGlvbigpe3JldHVybiBffSxuLmQodCwiYmluZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFV9KSksdC5nZXRVbmlxdWVJZGVudGlmaWVyU3RyPUQsdC5nZW5lcmF0ZVVVSUQ9ZnVuY3Rpb24gZSh0KXtyZXR1cm4gdD8odF4od2luZG93JiZ3aW5kb3cuY3J5cHRvJiZ3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcz9jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDEpKVswXSUxNjoxNipNYXRoLnJhbmRvbSgpKT4+dC80KS50b1N0cmluZygxNik6KFsxZTddKy0xZTMrLTRlMystOGUzKy0xZTExKS5yZXBsYWNlKC9bMDE4XS9nLGUpfSx0LmdldEJpZElkUGFyYW1ldGVyPWZ1bmN0aW9uKGUsdCl7aWYodCYmdFtlXSlyZXR1cm4gdFtlXTtyZXR1cm4iIn0sdC50cnlBcHBlbmRRdWVyeVN0cmluZz1mdW5jdGlvbihlLHQsbil7aWYobilyZXR1cm4gZSt0KyI9IitlbmNvZGVVUklDb21wb25lbnQobikrIiYiO3JldHVybiBlfSx0LnBhcnNlUXVlcnlTdHJpbmdQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUpe3ZhciB0PSIiO2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0Kz1uKyI9IitlbmNvZGVVUklDb21wb25lbnQoZVtuXSkrIiYiKTtyZXR1cm4gdD10LnJlcGxhY2UoLyYkLywiIil9LHQudHJhbnNmb3JtQWRTZXJ2ZXJUYXJnZXRpbmdPYmo9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLmxlbmd0aD4wP3VlKGUpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIiIuY29uY2F0KHQsIj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHNlKGUsdCkpKX0pKS5qb2luKCImIik6IiJ9LHQuZ2V0QWRVbml0U2l6ZXM9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuO3ZhciB0PVtdO2lmKGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmQXJyYXkuaXNBcnJheShlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzKSl7dmFyIG49ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcztBcnJheS5pc0FycmF5KG5bMF0pP3Q9bjp0LnB1c2gobil9ZWxzZSBBcnJheS5pc0FycmF5KGUuc2l6ZXMpJiYoQXJyYXkuaXNBcnJheShlLnNpemVzWzBdKT90PWUuc2l6ZXM6dC5wdXNoKGUuc2l6ZXMpKTtyZXR1cm4gdH0sdC5wYXJzZVNpemVzSW5wdXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9W107aWYoInN0cmluZyI9PXR5cGVvZiBlKXt2YXIgbj1lLnNwbGl0KCIsIikscj0vXihcZCkreChcZCkrJC9pO2lmKG4pZm9yKHZhciBpIGluIG4pZWUobixpKSYmbltpXS5tYXRjaChyKSYmdC5wdXNoKG5baV0pfWVsc2UgaWYoIm9iamVjdCI9PT1tKGUpKXt2YXIgbz1lLmxlbmd0aDtpZihvPjApaWYoMj09PW8mJiJudW1iZXIiPT10eXBlb2YgZVswXSYmIm51bWJlciI9PXR5cGVvZiBlWzFdKXQucHVzaChOKGUpKTtlbHNlIGZvcih2YXIgYT0wO2E8bzthKyspdC5wdXNoKE4oZVthXSkpfXJldHVybiB0fSx0LnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5PU4sdC5wYXJzZUdQVFNpbmdsZVNpemVBcnJheVRvUnRiU2l6ZT1mdW5jdGlvbihlKXtpZihrKGUpKXJldHVybnt3OmVbMF0saDplWzFdfX0sdC5nZXRXaW5kb3dUb3A9UCx0LmdldFdpbmRvd1NlbGY9TSx0LmdldFdpbmRvd0xvY2F0aW9uPXEsdC5sb2dNZXNzYWdlPUcsdC5sb2dJbmZvPVcsdC5sb2dXYXJuPUwsdC5sb2dFcnJvcj1GLHQuaGFzQ29uc29sZUxvZ2dlcj1mdW5jdGlvbigpe3JldHVybiBUfSx0LmRlYnVnVHVybmVkT249Vix0LmNyZWF0ZUludmlzaWJsZUlmcmFtZT1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpO3JldHVybiBlLmlkPUQoKSxlLmhlaWdodD0wLGUud2lkdGg9MCxlLmJvcmRlcj0iMHB4IixlLmhzcGFjZT0iMCIsZS52c3BhY2U9IjAiLGUubWFyZ2luV2lkdGg9IjAiLGUubWFyZ2luSGVpZ2h0PSIwIixlLnN0eWxlLmJvcmRlcj0iMCIsZS5zY3JvbGxpbmc9Im5vIixlLmZyYW1lQm9yZGVyPSIwIixlLnNyYz0iYWJvdXQ6YmxhbmsiLGUuc3R5bGUuZGlzcGxheT0ibm9uZSIsZX0sdC5nZXRQYXJhbWV0ZXJCeU5hbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIFNlKHEoKS5zZWFyY2gpW2VdfHwiIn0sdC5pc0E9SCx0LmlzRm49Syx0LmlzU3RyPUosdC5pc0FycmF5PVksdC5pc051bWJlcj1RLHQuaXNQbGFpbk9iamVjdD0kLHQuaXNCb29sZWFuPWZ1bmN0aW9uKGUpe3JldHVybiBIKGUsIkJvb2xlYW4iKX0sdC5pc0VtcHR5PVgsdC5pc0VtcHR5U3RyPWZ1bmN0aW9uKGUpe3JldHVybiBKKGUpJiYoIWV8fDA9PT1lLmxlbmd0aCl9LHQuX2VhY2g9Wix0LmNvbnRhaW5zPWZ1bmN0aW9uKGUsdCl7aWYoWChlKSlyZXR1cm4hMTtpZihLKGUuaW5kZXhPZikpcmV0dXJuLTEhPT1lLmluZGV4T2YodCk7dmFyIG49ZS5sZW5ndGg7Zm9yKDtuLS07KWlmKGVbbl09PT10KXJldHVybiEwO3JldHVybiExfSx0Ll9tYXA9ZnVuY3Rpb24oZSx0KXtpZihYKGUpKXJldHVybltdO2lmKEsoZS5tYXApKXJldHVybiBlLm1hcCh0KTt2YXIgbj1bXTtyZXR1cm4gWihlLChmdW5jdGlvbihyLGkpe24ucHVzaCh0KHIsaSxlKSl9KSksbn0sdC5oYXNPd249ZWUsdC5pbnNlcnRFbGVtZW50PXRlLHQudHJpZ2dlclBpeGVsPW5lLHQuY2FsbEJ1cmw9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zb3VyY2Usbj1lLmJ1cmw7dD09PVMuUzJTLlNSQyYmbiYmai50cmlnZ2VyUGl4ZWwobil9LHQuaW5zZXJ0SHRtbEludG9JZnJhbWU9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuO3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpO3QuaWQ9RCgpLHQud2lkdGg9MCx0LmhlaWdodD0wLHQuaHNwYWNlPSIwIix0LnZzcGFjZT0iMCIsdC5tYXJnaW5XaWR0aD0iMCIsdC5tYXJnaW5IZWlnaHQ9IjAiLHQuc3R5bGUuZGlzcGxheT0ibm9uZSIsdC5zdHlsZS5oZWlnaHQ9IjBweCIsdC5zdHlsZS53aWR0aD0iMHB4Iix0LnNjcm9sbGluZz0ibm8iLHQuZnJhbWVCb3JkZXI9IjAiLHQuYWxsb3d0cmFuc3BhcmVuY3k9InRydWUiLGouaW5zZXJ0RWxlbWVudCh0LGRvY3VtZW50LCJib2R5IiksdC5jb250ZW50V2luZG93LmRvY3VtZW50Lm9wZW4oKSx0LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQud3JpdGUoZSksdC5jb250ZW50V2luZG93LmRvY3VtZW50LmNsb3NlKCl9LHQuaW5zZXJ0VXNlclN5bmNJZnJhbWU9cmUsdC5jcmVhdGVUcmFja1BpeGVsSHRtbD1mdW5jdGlvbihlKXtpZighZSlyZXR1cm4iIjtlPWQuYyhlKTt2YXIgdD1lbmNvZGVVUkkoZSksbj0nPGRpdiBzdHlsZT0icG9zaXRpb246YWJzb2x1dGU7bGVmdDowcHg7dG9wOjBweDt2aXNpYmlsaXR5OmhpZGRlbjsiPic7cmV0dXJuIG4rPSc8aW1nIHNyYz0iJyt0KyciPjwvZGl2Pid9LHQuY3JlYXRlVHJhY2tQaXhlbElmcmFtZUh0bWw9aWUsdC5nZXRWYWx1ZVN0cmluZz1vZSx0LnVuaXF1ZXM9YWUsdC5mbGF0dGVuPWNlLHQuZ2V0QmlkUmVxdWVzdD1mdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjt2YXIgbjtyZXR1cm4gdC5zb21lKChmdW5jdGlvbih0KXt2YXIgcj1jKCkodC5iaWRzLChmdW5jdGlvbih0KXtyZXR1cm5bImJpZElkIiwiYWRJZCIsImJpZF9pZCJdLnNvbWUoKGZ1bmN0aW9uKG4pe3JldHVybiB0W25dPT09ZX0pKX0pKTtyZXR1cm4gciYmKG49cikscn0pKSxufSx0LmdldEtleXM9dWUsdC5nZXRWYWx1ZT1zZSx0LmdldEtleUJ5VmFsdWU9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gZSlpZihlLmhhc093blByb3BlcnR5KG4pJiZlW25dPT09dClyZXR1cm4gbn0sdC5nZXRCaWRkZXJDb2Rlcz1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp1cGJqcy5hZFVuaXRzO3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcn0pKS5yZWR1Y2UoY2UsW10pfSkpLnJlZHVjZShjZSkuZmlsdGVyKGFlKX0sdC5pc0dwdFB1YmFkc0RlZmluZWQ9ZGUsdC5pc0FwbkdldFRhZ0RlZmluZWQ9ZnVuY3Rpb24oKXtpZih3aW5kb3cuYXBudGFnJiZLKHdpbmRvdy5hcG50YWcuZ2V0VGFnKSlyZXR1cm4hMH0sbi5kKHQsImdldEhpZ2hlc3RDcG0iLChmdW5jdGlvbigpe3JldHVybiBmZX0pKSxuLmQodCwiZ2V0T2xkZXN0SGlnaGVzdENwbUJpZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGxlfSkpLG4uZCh0LCJnZXRMYXRlc3RIaWdoZXN0Q3BtQmlkIiwoZnVuY3Rpb24oKXtyZXR1cm4gcGV9KSksdC5zaHVmZmxlPWZ1bmN0aW9uKGUpe3ZhciB0PWUubGVuZ3RoO2Zvcig7dD4wOyl7dmFyIG49TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKnQpO3QtLTt2YXIgcj1lW3RdO2VbdF09ZVtuXSxlW25dPXJ9cmV0dXJuIGV9LHQuYWRVbml0c0ZpbHRlcj1mdW5jdGlvbihlLHQpe3JldHVybiBzKCkoZSx0JiZ0LmFkVW5pdENvZGUpfSx0LmRlZXBDbG9uZT1iZSx0LmluSWZyYW1lPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBqLmdldFdpbmRvd1NlbGYoKSE9PWouZ2V0V2luZG93VG9wKCl9Y2F0Y2goZSl7cmV0dXJuITB9fSx0LmlzU2FmYXJpQnJvd3Nlcj1mdW5jdGlvbigpe3JldHVybi9eKCg/IWNocm9tZXxhbmRyb2lkfGNyaW9zfGZ4aW9zKS4pKnNhZmFyaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl9LHQucmVwbGFjZUF1Y3Rpb25QcmljZT1mdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtyZXR1cm4gZS5yZXBsYWNlKC9cJFx7QVVDVElPTl9QUklDRVx9L2csdCl9LHQucmVwbGFjZUNsaWNrVGhyb3VnaD1mdW5jdGlvbihlLHQpe2lmKCFlfHwhdHx8InN0cmluZyIhPXR5cGVvZiB0KXJldHVybjtyZXR1cm4gZS5yZXBsYWNlKC9cJHtDTElDS1RIUk9VR0h9L2csdCl9LHQudGltZXN0YW1wPWZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCl9LHQuZ2V0UGVyZm9ybWFuY2VOb3c9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LnBlcmZvcm1hbmNlJiZ3aW5kb3cucGVyZm9ybWFuY2Uubm93JiZ3aW5kb3cucGVyZm9ybWFuY2Uubm93KCl8fDB9LHQuaGFzRGV2aWNlQWNjZXNzPWZ1bmN0aW9uKCl7cmV0dXJuITEhPT1yLmIuZ2V0Q29uZmlnKCJkZXZpY2VBY2Nlc3MiKX0sdC5jaGVja0Nvb2tpZVN1cHBvcnQ9dmUsdC5kZWxheUV4ZWN1dGlvbj1mdW5jdGlvbihlLHQpe2lmKHQ8MSl0aHJvdyBuZXcgRXJyb3IoIm51bVJlcXVpcmVkQ2FsbHMgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlci4gR290ICIuY29uY2F0KHQpKTt2YXIgbj0wO3JldHVybiBmdW5jdGlvbigpeysrbj09PXQmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0sdC5ncm91cEJ5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUucmVkdWNlKChmdW5jdGlvbihlLG4pe3JldHVybihlW25bdF1dPWVbblt0XV18fFtdKS5wdXNoKG4pLGV9KSx7fSl9LHQuZ2V0RGVmaW5lZFBhcmFtcz1mdW5jdGlvbihlLHQpe3JldHVybiB0LmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19KSkucmVkdWNlKChmdW5jdGlvbih0LG4pe3JldHVybiBoKHQseSh7fSxuLGVbbl0pKX0pLHt9KX0sdC5pc1ZhbGlkTWVkaWFUeXBlcz1mdW5jdGlvbihlKXt2YXIgdD1bImJhbm5lciIsIm5hdGl2ZSIsInZpZGVvIl07aWYoIU9iamVjdC5rZXlzKGUpLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gcygpKHQsZSl9KSkpcmV0dXJuITE7aWYoZS52aWRlbyYmZS52aWRlby5jb250ZXh0KXJldHVybiBzKCkoWyJpbnN0cmVhbSIsIm91dHN0cmVhbSIsImFkcG9kIl0sZS52aWRlby5jb250ZXh0KTtyZXR1cm4hMH0sdC5nZXRCaWRkZXJSZXF1ZXN0PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gYygpKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZHMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXI9PT10JiZlLmFkVW5pdENvZGU9PT1ufSkpLmxlbmd0aD4wfSkpfHx7c3RhcnQ6bnVsbCxhdWN0aW9uSWQ6bnVsbH19LHQuZ2V0VXNlckNvbmZpZ3VyZWRQYXJhbXM9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29kZT09PXR9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRzfSkpLnJlZHVjZShjZSxbXSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXI9PT1ufSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyYW1zfHx7fX0pKX0sdC5nZXRPcmlnaW49ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LmxvY2F0aW9uLm9yaWdpbj93aW5kb3cubG9jYXRpb24ub3JpZ2luOndpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCsiLy8iK3dpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSsod2luZG93LmxvY2F0aW9uLnBvcnQ/IjoiK3dpbmRvdy5sb2NhdGlvbi5wb3J0OiIiKX0sdC5nZXRETlQ9ZnVuY3Rpb24oKXtyZXR1cm4iMSI9PT1uYXZpZ2F0b3IuZG9Ob3RUcmFja3x8IjEiPT09d2luZG93LmRvTm90VHJhY2t8fCIxIj09PW5hdmlnYXRvci5tc0RvTm90VHJhY2t8fCJ5ZXMiPT09bmF2aWdhdG9yLmRvTm90VHJhY2t9LHQuaXNBZFVuaXRDb2RlTWF0Y2hpbmdTbG90PWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4geWUoZSx0KX19LHQuaXNTbG90TWF0Y2hpbmdBZFVuaXRDb2RlPWhlLHQuZ2V0R3B0U2xvdEluZm9Gb3JBZFVuaXRDb2RlPWZ1bmN0aW9uKGUpe3ZhciB0O2RlKCkmJih0PWMoKSh3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcygpLmdldFNsb3RzKCksaGUoZSkpKTtpZih0KXJldHVybntncHRTbG90OnQuZ2V0QWRVbml0UGF0aCgpLGRpdklkOnQuZ2V0U2xvdEVsZW1lbnRJZCgpfTtyZXR1cm57fX0sdC51bnN1cHBvcnRlZEJpZGRlck1lc3NhZ2U9ZnVuY3Rpb24oZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlLm1lZGlhVHlwZXN8fHtiYW5uZXI6ImJhbm5lciJ9KS5qb2luKCIsICIpO3JldHVybiJcbiAgICAiLmNvbmNhdChlLmNvZGUsIiBpcyBhICIpLmNvbmNhdChuLCIgYWQgdW5pdFxuICAgIGNvbnRhaW5pbmcgYmlkZGVycyB0aGF0IGRvbid0IHN1cHBvcnQgIikuY29uY2F0KG4sIjogIikuY29uY2F0KHQsIi5cbiAgICBUaGlzIGJpZGRlciB3b24ndCBmZXRjaCBkZW1hbmQuXG4gICIpfSx0LmlzSW50ZWdlcj1tZSx0LmNvbnZlcnRDYW1lbFRvVW5kZXJzY29yZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC8oPzpefFwuPykoW0EtWl0pL2csKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIl8iK3QudG9Mb3dlckNhc2UoKX0pKS5yZXBsYWNlKC9eXy8sIiIpfSx0LmNsZWFuT2JqPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qua2V5cyhlKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIHZvaWQgMCE9PWVbbl0mJih0W25dPWVbbl0pLHR9KSx7fSl9LHQucGljaz1mdW5jdGlvbihlLHQpe2lmKCJvYmplY3QiIT09bShlKSlyZXR1cm57fTtyZXR1cm4gdC5yZWR1Y2UoKGZ1bmN0aW9uKG4scixpKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgcilyZXR1cm4gbjt2YXIgbz1yLGE9ci5tYXRjaCgvXiguKz8pXHNhc1xzKC4rPykkL2kpO2EmJihyPWFbMV0sbz1hWzJdKTt2YXIgYz1lW3JdO3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0W2krMV0mJihjPXRbaSsxXShjLG4pKSx2b2lkIDAhPT1jJiYobltvXT1jKSxufSkse30pfSx0LnRyYW5zZm9ybUJpZGRlclBhcmFtS2V5d29yZHM9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOiJrZXl3b3JkcyIsbj1bXTtyZXR1cm4gWihlLChmdW5jdGlvbihlLHIpe2lmKFkoZSkpe3ZhciBpPVtdO1ooZSwoZnVuY3Rpb24oZSl7KChlPW9lKHQrIi4iK3IsZSkpfHwiIj09PWUpJiZpLnB1c2goZSl9KSksZT1pfWVsc2V7aWYoIUooZT1vZSh0KyIuIityLGUpKSlyZXR1cm47ZT1bZV19bi5wdXNoKHtrZXk6cix2YWx1ZTplfSl9KSksbn0sdC5jb252ZXJ0VHlwZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24obil7dmFyIHIsaTt0W25dJiYoSyhlW25dKT90W25dPWVbbl0odFtuXSk6dFtuXT0ocj1lW25dLGk9dFtuXSwic3RyaW5nIj09PXI/aSYmaS50b1N0cmluZygpOiJudW1iZXIiPT09cj9OdW1iZXIoaSk6aSksaXNOYU4odFtuXSkmJmRlbGV0ZSB0LmtleSl9KSksdH0sdC5pc0FycmF5T2ZOdW1zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFkoZSkmJighdHx8ZS5sZW5ndGg9PT10KSYmZS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIG1lKGUpfSkpfSx0LmZpbGw9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49W10scj0wO3I8dDtyKyspe3ZhciBpPSQoZSk/YmUoZSk6ZTtuLnB1c2goaSl9cmV0dXJuIG59LHQuY2h1bms9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49W10scj0wO3I8TWF0aC5jZWlsKGUubGVuZ3RoL3QpO3IrKyl7dmFyIGk9cip0LG89aSt0O24ucHVzaChlLnNsaWNlKGksbykpfXJldHVybiBufSx0LmdldE1pblZhbHVlRnJvbUFycmF5PWZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLm1pbi5hcHBseShNYXRoLGcoZSkpfSx0LmdldE1heFZhbHVlRnJvbUFycmF5PWZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLm1heC5hcHBseShNYXRoLGcoZSkpfSx0LmNvbXBhcmVPbj1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxuKXtyZXR1cm4gdFtlXTxuW2VdPzE6dFtlXT5uW2VdPy0xOjB9fSx0LnBhcnNlUVM9U2UsdC5mb3JtYXRRUz1FZSx0LnBhcnNlVXJsPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO3QmJiJub0RlY29kZVdob2xlVVJMImluIHQmJnQubm9EZWNvZGVXaG9sZVVSTD9uLmhyZWY9ZTpuLmhyZWY9ZGVjb2RlVVJJQ29tcG9uZW50KGUpO3ZhciByPXQmJiJkZWNvZGVTZWFyY2hBc1N0cmluZyJpbiB0JiZ0LmRlY29kZVNlYXJjaEFzU3RyaW5nO3JldHVybntocmVmOm4uaHJlZixwcm90b2NvbDoobi5wcm90b2NvbHx8IiIpLnJlcGxhY2UoLzokLywiIiksaG9zdG5hbWU6bi5ob3N0bmFtZSxwb3J0OituLnBvcnQscGF0aG5hbWU6bi5wYXRobmFtZS5yZXBsYWNlKC9eKD8hXC8pLywiLyIpLHNlYXJjaDpyP24uc2VhcmNoOmoucGFyc2VRUyhuLnNlYXJjaHx8IiIpLGhhc2g6KG4uaGFzaHx8IiIpLnJlcGxhY2UoL14jLywiIiksaG9zdDpuLmhvc3R8fHdpbmRvdy5sb2NhdGlvbi5ob3N0fX0sdC5idWlsZFVybD1mdW5jdGlvbihlKXtyZXR1cm4oZS5wcm90b2NvbHx8Imh0dHAiKSsiOi8vIisoZS5ob3N0fHxlLmhvc3RuYW1lKyhlLnBvcnQ/IjoiLmNvbmNhdChlLnBvcnQpOiIiKSkrKGUucGF0aG5hbWV8fCIiKSsoZS5zZWFyY2g/Ij8iLmNvbmNhdChqLmZvcm1hdFFTKGUuc2VhcmNofHwiIikpOiIiKSsoZS5oYXNoPyIjIi5jb25jYXQoZS5oYXNoKToiIil9LHQuZGVlcEVxdWFsPUFlLHQubWVyZ2VEZWVwPWZ1bmN0aW9uIGUodCl7Zm9yKHZhciBuPWFyZ3VtZW50cy5sZW5ndGgscj1uZXcgQXJyYXkobj4xP24tMTowKSxpPTE7aTxuO2krKylyW2ktMV09YXJndW1lbnRzW2ldO2lmKCFyLmxlbmd0aClyZXR1cm4gdDt2YXIgbz1yLnNoaWZ0KCk7aWYoJCh0KSYmJChvKSlmb3IodmFyIGEgaW4gbykkKG9bYV0pPyh0W2FdfHxoKHQseSh7fSxhLHt9KSksZSh0W2FdLG9bYV0pKTpZKG9bYV0pJiZ0W2FdP1kodFthXSkmJih0W2FdPXRbYV0uY29uY2F0KG9bYV0pKTpoKHQseSh7fSxhLG9bYV0pKTtyZXR1cm4gZS5hcHBseSh2b2lkIDAsW3RdLmNvbmNhdChyKSl9LHQuY3lyYjUzSGFzaD1mdW5jdGlvbihlKXtmb3IodmFyIHQsbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxyPWZ1bmN0aW9uKGUsdCl7aWYoSyhNYXRoLmltdWwpKXJldHVybiBNYXRoLmltdWwoZSx0KTt2YXIgbj0oNDE5NDMwMyZlKSoodHw9MCk7cmV0dXJuIDQyOTA3NzI5OTImZSYmKG4rPSg0MjkwNzcyOTkyJmUpKnR8MCksMHxufSxpPTM3MzU5Mjg1NTlebixvPTExMDM1NDc5OTFebixhPTA7YTxlLmxlbmd0aDthKyspdD1lLmNoYXJDb2RlQXQoYSksaT1yKGledCwyNjU0NDM1NzYxKSxvPXIob150LDE1OTczMzQ2NzcpO3JldHVybiBpPXIoaV5pPj4+MTYsMjI0NjgyMjUwNylecihvXm8+Pj4xMywzMjY2NDg5OTA5KSwoNDI5NDk2NzI5NiooMjA5NzE1MSYobz1yKG9ebz4+PjE2LDIyNDY4MjI1MDcpXnIoaV5pPj4+MTMsMzI2NjQ4OTkwOSkpKSsoaT4+PjApKS50b1N0cmluZygpfTt2YXIgcj1uKDMpLGk9bigxNjYpLG89bi5uKGkpLGE9bigxMSksYz1uLm4oYSksdT1uKDEyKSxzPW4ubih1KSxkPW4oNTUpLGY9bigxNjcpO24uZCh0LCJkZWVwQWNjZXNzIiwoZnVuY3Rpb24oKXtyZXR1cm4gZi5hfSkpO3ZhciBsPW4oMTY4KTtmdW5jdGlvbiBwKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciBuPW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09bilyZXR1cm47dmFyIHIsaSxvPVtdLGE9ITAsYz0hMTt0cnl7Zm9yKG49bi5jYWxsKGUpOyEoYT0ocj1uLm5leHQoKSkuZG9uZSkmJihvLnB1c2goci52YWx1ZSksIXR8fG8ubGVuZ3RoIT09dCk7YT0hMCk7fWNhdGNoKGUpe2M9ITAsaT1lfWZpbmFsbHl7dHJ5e2F8fG51bGw9PW4ucmV0dXJufHxuLnJldHVybigpfWZpbmFsbHl7aWYoYyl0aHJvdyBpfX1yZXR1cm4gb30oZSx0KXx8YihlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gZyhlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gdihlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fGIoZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gYihlLHQpe2lmKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gdihlLHQpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm4iT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSksIk1hcCI9PT1ufHwiU2V0Ij09PW4/QXJyYXkuZnJvbShlKToiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP3YoZSx0KTp2b2lkIDB9fWZ1bmN0aW9uIHYoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn1mdW5jdGlvbiB5KGUsdCxuKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPW4sZX1mdW5jdGlvbiBoKCl7cmV0dXJuKGg9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBtKGUpe3JldHVybihtPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9bi5kKHQsImRlZXBTZXRWYWx1ZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGwuYX0pKTt2YXIgUz1uKDUpLEU9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxBPUJvb2xlYW4od2luZG93LmNvbnNvbGUpLFQ9Qm9vbGVhbihBJiZ3aW5kb3cuY29uc29sZS5sb2cpLE89Qm9vbGVhbihBJiZ3aW5kb3cuY29uc29sZS5pbmZvKSxJPUJvb2xlYW4oQSYmd2luZG93LmNvbnNvbGUud2FybiksQz1Cb29sZWFuKEEmJndpbmRvdy5jb25zb2xlLmVycm9yKSx3PW4oOSksaj17Y2hlY2tDb29raWVTdXBwb3J0OnZlLGNyZWF0ZVRyYWNrUGl4ZWxJZnJhbWVIdG1sOmllLGdldFdpbmRvd1NlbGY6TSxnZXRXaW5kb3dUb3A6UCxnZXRXaW5kb3dMb2NhdGlvbjpxLGluc2VydFVzZXJTeW5jSWZyYW1lOnJlLGluc2VydEVsZW1lbnQ6dGUsaXNGbjpLLHRyaWdnZXJQaXhlbDpuZSxsb2dFcnJvcjpGLGxvZ1dhcm46TCxsb2dNZXNzYWdlOkcsbG9nSW5mbzpXLHBhcnNlUVM6U2UsZm9ybWF0UVM6RWUsZGVlcEVxdWFsOkFlfSxfPXt9O3ZhciBSLEI9e30sVT1mdW5jdGlvbihlLHQpe3JldHVybiB0fS5iaW5kKG51bGwsMSxCKSgpPT09Qj9GdW5jdGlvbi5wcm90b3R5cGUuYmluZDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG49QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsbi5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSkpfX0seD0oUj0wLGZ1bmN0aW9uKCl7cmV0dXJuKytSfSk7ZnVuY3Rpb24gRCgpe3JldHVybiB4KCkrTWF0aC5yYW5kb20oKS50b1N0cmluZygxNikuc3Vic3RyKDIpfWZ1bmN0aW9uIE4oZSl7aWYoayhlKSlyZXR1cm4gZVswXSsieCIrZVsxXX1mdW5jdGlvbiBrKGUpe3JldHVybiBZKGUpJiYyPT09ZS5sZW5ndGgmJiFpc05hTihlWzBdKSYmIWlzTmFOKGVbMV0pfWZ1bmN0aW9uIFAoKXtyZXR1cm4gd2luZG93LnRvcH1mdW5jdGlvbiBNKCl7cmV0dXJuIHdpbmRvdy5zZWxmfWZ1bmN0aW9uIHEoKXtyZXR1cm4gd2luZG93LmxvY2F0aW9ufWZ1bmN0aW9uIEcoKXtWKCkmJlQmJmNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUseihhcmd1bWVudHMsIk1FU1NBR0U6IikpfWZ1bmN0aW9uIFcoKXtWKCkmJk8mJmNvbnNvbGUuaW5mby5hcHBseShjb25zb2xlLHooYXJndW1lbnRzLCJJTkZPOiIpKX1mdW5jdGlvbiBMKCl7VigpJiZJJiZjb25zb2xlLndhcm4uYXBwbHkoY29uc29sZSx6KGFyZ3VtZW50cywiV0FSTklORzoiKSksdy5lbWl0KFMuRVZFTlRTLkFVQ1RJT05fREVCVUcse3R5cGU6IldBUk5JTkciLGFyZ3VtZW50czphcmd1bWVudHN9KX1mdW5jdGlvbiBGKCl7VigpJiZDJiZjb25zb2xlLmVycm9yLmFwcGx5KGNvbnNvbGUseihhcmd1bWVudHMsIkVSUk9SOiIpKSx3LmVtaXQoUy5FVkVOVFMuQVVDVElPTl9ERUJVRyx7dHlwZToiRVJST1IiLGFyZ3VtZW50czphcmd1bWVudHN9KX1mdW5jdGlvbiB6KGUsdCl7ZT1bXS5zbGljZS5jYWxsKGUpO3ZhciBuPXIuYi5nZXRDdXJyZW50QmlkZGVyKCk7cmV0dXJuIHQmJmUudW5zaGlmdCh0KSxuJiZlLnVuc2hpZnQoaSgiI2FhYSIpKSxlLnVuc2hpZnQoaSgiIzNiODhjMyIpKSxlLnVuc2hpZnQoIiVjUHJlYmlkIisobj8iJWMiLmNvbmNhdChuKToiIikpLGU7ZnVuY3Rpb24gaShlKXtyZXR1cm4iZGlzcGxheTogaW5saW5lLWJsb2NrOyBjb2xvcjogI2ZmZjsgYmFja2dyb3VuZDogIi5jb25jYXQoZSwiOyBwYWRkaW5nOiAxcHggNHB4OyBib3JkZXItcmFkaXVzOiAzcHg7Iil9fWZ1bmN0aW9uIFYoKXtyZXR1cm4hIXIuYi5nZXRDb25maWcoImRlYnVnIil9ZnVuY3Rpb24gSChlLHQpe3JldHVybiBFLmNhbGwoZSk9PT0iW29iamVjdCAiK3QrIl0ifWZ1bmN0aW9uIEsoZSl7cmV0dXJuIEgoZSwiRnVuY3Rpb24iKX1mdW5jdGlvbiBKKGUpe3JldHVybiBIKGUsIlN0cmluZyIpfWZ1bmN0aW9uIFkoZSl7cmV0dXJuIEgoZSwiQXJyYXkiKX1mdW5jdGlvbiBRKGUpe3JldHVybiBIKGUsIk51bWJlciIpfWZ1bmN0aW9uICQoZSl7cmV0dXJuIEgoZSwiT2JqZWN0Iil9ZnVuY3Rpb24gWChlKXtpZighZSlyZXR1cm4hMDtpZihZKGUpfHxKKGUpKXJldHVybiEoZS5sZW5ndGg+MCk7Zm9yKHZhciB0IGluIGUpaWYoaGFzT3duUHJvcGVydHkuY2FsbChlLHQpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIFooZSx0KXtpZighWChlKSl7aWYoSyhlLmZvckVhY2gpKXJldHVybiBlLmZvckVhY2godCx0aGlzKTt2YXIgbj0wLHI9ZS5sZW5ndGg7aWYocj4wKWZvcig7bjxyO24rKyl0KGVbbl0sbixlKTtlbHNlIGZvcihuIGluIGUpaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiZ0LmNhbGwodGhpcyxlW25dLG4pfX1mdW5jdGlvbiBlZShlLHQpe3JldHVybiBlLmhhc093blByb3BlcnR5P2UuaGFzT3duUHJvcGVydHkodCk6dm9pZCAwIT09ZVt0XSYmZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGVbdF0hPT1lW3RdfWZ1bmN0aW9uIHRlKGUsdCxuLHIpe3ZhciBpO2UmJmUuc3JjJiYoZS5zcmM9ZC5jKGUuc3JjKSksdD10fHxkb2N1bWVudCxpPW4/dC5nZXRFbGVtZW50c0J5VGFnTmFtZShuKTp0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIik7dHJ5e2lmKChpPWkubGVuZ3RoP2k6dC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpKS5sZW5ndGgpe2k9aVswXTt2YXIgbz1yP251bGw6aS5maXJzdENoaWxkO3JldHVybiBpLmluc2VydEJlZm9yZShlLG8pfX1jYXRjaChlKXt9fWZ1bmN0aW9uIG5lKGUsdCl7ZC5hKCkudGhlbigoZnVuY3Rpb24obil7dmFyIHI9bi5mcmFtZTtpZihuLmlzQlRTYWZlRnJhbWVEb21haW4pe3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwoZnVuY3Rpb24gZShuKXtpZihuLnNvdXJjZT09PXIuY29udGVudFdpbmRvdyl7dmFyIGk7dHJ5e2k9SlNPTi5wYXJzZShuLmRhdGEpfWNhdGNoKGUpe31pJiYiZG9uZVRyaWdnZXJpbmdQaXhlbCI9PWkudHlwZSYmKHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJtZXNzYWdlIixlKSx0JiZqLmlzRm4odCkmJnQoKSl9fSkpO3ZhciBpPSJsZXQgaW1nID0gbmV3IEltYWdlKCk7IGZ1bmN0aW9uIGRvbmUoKSB7IHRvcC5wb3N0TWVzc2FnZSh7IHR5cGU6IFwiZG9uZVRyaWdnZXJpbmdQaXhlbFwiIH0sIFwiKlwiKSB9OyBpbWcuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGRvbmUpOyBpbWcuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBkb25lKTsgaW1nLnNyYyA9IGF0b2IoJyIrYnRvYShlKSsiJyk7IjtyLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2Uoe3R5cGU6ImV2YWwiLGNvZGU6aX0sIioiKX1lbHNle3ZhciBvPW5ldyByLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuSW1hZ2U7dCYmai5pc0ZuKHQpJiYoby5hZGRFdmVudExpc3RlbmVyKCJsb2FkIix0KSxvLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIix0KSksby5zcmM9ZX19KSl9ZnVuY3Rpb24gcmUoZSx0KXt2YXIgbj1qLmNyZWF0ZVRyYWNrUGl4ZWxJZnJhbWVIdG1sKGUsITEsImFsbG93LXNjcmlwdHMgYWxsb3ctc2FtZS1vcmlnaW4iKTtkLmEoKS50aGVuKChmdW5jdGlvbihlKXt2YXIgcj1lLmZyYW1lO2lmKGUuaXNCVFNhZmVGcmFtZURvbWFpbil7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLChmdW5jdGlvbiBlKG4pe2lmKG4uc291cmNlPT09ci5jb250ZW50V2luZG93KXt2YXIgaTt0cnl7aT1KU09OLnBhcnNlKG4uZGF0YSl9Y2F0Y2goZSl7fWkmJiJkb25lVHJpZ2dlcmluZ1BpeGVsIj09aS50eXBlJiYod2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGUpLHQmJmouaXNGbih0KSYmdCgpKX19KSk7dmFyIGk9ImxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgZGl2LmlubmVySFRNTCA9IGF0b2IoJyIrYnRvYShuKSsiJyk7IGxldCBpZnJhbWUgPSBkaXYuZmlyc3RDaGlsZDsgZnVuY3Rpb24gZG9uZSgpIHsgdG9wLnBvc3RNZXNzYWdlKHsgdHlwZTogXCJkb25lVHJpZ2dlcmluZ1BpeGVsXCIgfSwgXCIqXCIpIH07IGlmcmFtZS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZG9uZSk7IGlmcmFtZS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGRvbmUpOyB0cnkgeyBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaHRtbCcpWzBdLmluc2VydEJlZm9yZShpZnJhbWUsIG51bGwpOyB9IGNhdGNoIChlcnIpIHsgfSI7ci5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKHt0eXBlOiJldmFsIixjb2RlOml9LCIqIil9ZWxzZXt2YXIgbz1yLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQsYT1vLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2EuaW5uZXJIVE1MPW47dmFyIGM9YS5maXJzdENoaWxkO3QmJmouaXNGbih0KSYmKGMuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsdCksYy5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsdCkpLGouaW5zZXJ0RWxlbWVudChjLG8sImh0bWwiLCEwKX19KSl9ZnVuY3Rpb24gaWUoZSl7dmFyIHQ9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXSxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXToiIjtyZXR1cm4gZT8odCYmKGU9ZW5jb2RlVVJJKGUpKSxuJiYobj0nc2FuZGJveD0iJy5jb25jYXQobiwnIicpKSwiPGlmcmFtZSAiLmNvbmNhdChuLCcgaWQ9IicpLmNvbmNhdChEKCksJyJcbiAgICAgIGZyYW1lYm9yZGVyPSIwIlxuICAgICAgYWxsb3d0cmFuc3BhcmVuY3k9InRydWUiXG4gICAgICBtYXJnaW5oZWlnaHQ9IjAiIG1hcmdpbndpZHRoPSIwIlxuICAgICAgd2lkdGg9IjAiIGhzcGFjZT0iMCIgdnNwYWNlPSIwIiBoZWlnaHQ9IjAiXG4gICAgICBzdHlsZT0iaGVpZ2h0OjBweDt3aWR0aDowcHg7ZGlzcGxheTpub25lOyJcbiAgICAgIHNjcm9sbGluZz0ibm8iXG4gICAgICBzcmM9IicpLmNvbmNhdChlLCciPlxuICAgIDwvaWZyYW1lPicpKToiIn1mdW5jdGlvbiBvZShlLHQsbil7cmV0dXJuIG51bGw9PXQ/bjpKKHQpP3Q6USh0KT90LnRvU3RyaW5nKCk6dm9pZCBqLmxvZ1dhcm4oIlVuc3Vwb3J0ZWQgdHlwZSBmb3IgcGFyYW06ICIrZSsiIHJlcXVpcmVkIHR5cGU6IFN0cmluZyIpfWZ1bmN0aW9uIGFlKGUsdCxuKXtyZXR1cm4gbi5pbmRleE9mKGUpPT09dH1mdW5jdGlvbiBjZShlLHQpe3JldHVybiBlLmNvbmNhdCh0KX1mdW5jdGlvbiB1ZShlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSl9ZnVuY3Rpb24gc2UoZSx0KXtyZXR1cm4gZVt0XX1mdW5jdGlvbiBkZSgpe2lmKHdpbmRvdy5nb29nbGV0YWcmJksod2luZG93Lmdvb2dsZXRhZy5wdWJhZHMpJiZLKHdpbmRvdy5nb29nbGV0YWcucHViYWRzKCkuZ2V0U2xvdHMpKXJldHVybiEwfXZhciBmZT1nZSgidGltZVRvUmVzcG9uZCIsKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU+dH0pKSxsZT1nZSgicmVzcG9uc2VUaW1lc3RhbXAiLChmdW5jdGlvbihlLHQpe3JldHVybiBlPnR9KSkscGU9Z2UoInJlc3BvbnNlVGltZXN0YW1wIiwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZTx0fSkpO2Z1bmN0aW9uIGdlKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKG4scil7cmV0dXJuIG4uY3BtPT09ci5jcG0/dChuW2VdLHJbZV0pP3I6bjpuLmNwbTxyLmNwbT9yOm59fWZ1bmN0aW9uIGJlKGUpe3JldHVybiBvKCkoZSl9ZnVuY3Rpb24gdmUoKXtpZih3aW5kb3cubmF2aWdhdG9yLmNvb2tpZUVuYWJsZWR8fGRvY3VtZW50LmNvb2tpZS5sZW5ndGgpcmV0dXJuITB9dmFyIHllPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZ2V0QWRVbml0UGF0aCgpPT09dHx8ZS5nZXRTbG90RWxlbWVudElkKCk9PT10fTtmdW5jdGlvbiBoZShlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHllKHQsZSl9fWZ1bmN0aW9uIG1lKGUpe3JldHVybiBOdW1iZXIuaXNJbnRlZ2VyP051bWJlci5pc0ludGVnZXIoZSk6Im51bWJlciI9PXR5cGVvZiBlJiZpc0Zpbml0ZShlKSYmTWF0aC5mbG9vcihlKT09PWV9ZnVuY3Rpb24gU2UoZSl7cmV0dXJuIGU/ZS5yZXBsYWNlKC9eXD8vLCIiKS5zcGxpdCgiJiIpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXt2YXIgbj1wKHQuc3BsaXQoIj0iKSwyKSxyPW5bMF0saT1uWzFdO3JldHVybi9cW1xdJC8udGVzdChyKT8oZVtyPXIucmVwbGFjZSgiW10iLCIiKV09ZVtyXXx8W10sZVtyXS5wdXNoKGkpKTplW3JdPWl8fCIiLGV9KSx7fSk6e319ZnVuY3Rpb24gRWUoZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZVt0XSk/ZVt0XS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiIiLmNvbmNhdCh0LCJbXT0iKS5jb25jYXQoZSl9KSkuam9pbigiJiIpOiIiLmNvbmNhdCh0LCI9IikuY29uY2F0KGVbdF0pfSkpLmpvaW4oIiYiKX1mdW5jdGlvbiBBZShlLHQpe2lmKGU9PT10KXJldHVybiEwO2lmKCJvYmplY3QiPT09bShlKSYmbnVsbCE9PWUmJiJvYmplY3QiPT09bSh0KSYmbnVsbCE9PXQpe2lmKE9iamVjdC5rZXlzKGUpLmxlbmd0aCE9PU9iamVjdC5rZXlzKHQpLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIG4gaW4gZSl7aWYoIXQuaGFzT3duUHJvcGVydHkobikpcmV0dXJuITE7aWYoIUFlKGVbbl0sdFtuXSkpcmV0dXJuITF9cmV0dXJuITB9cmV0dXJuITF9fSwxOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJzdG9yYWdlIiwoZnVuY3Rpb24oKXtyZXR1cm4gSX0pKSx0LnJlZ2lzdGVyQmlkZGVyPWZ1bmN0aW9uKGUpe3ZhciB0PUFycmF5LmlzQXJyYXkoZS5zdXBwb3J0ZWRNZWRpYVR5cGVzKT97c3VwcG9ydGVkTWVkaWFUeXBlczplLnN1cHBvcnRlZE1lZGlhVHlwZXN9OnZvaWQgMDtmdW5jdGlvbiBuKGUpe3ZhciBuPXcoZSk7aS5kZWZhdWx0LnJlZ2lzdGVyQmlkQWRhcHRlcihuLGUuY29kZSx0KX1uKGUpLEFycmF5LmlzQXJyYXkoZS5hbGlhc2VzKSYmZS5hbGlhc2VzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciByLG8sYT10O09iamVjdCh5LmlzUGxhaW5PYmplY3QpKHQpJiYoYT10LmNvZGUscj10Lmd2bGlkLG89dC5za2lwUGJzQWxpYXNpbmcpLGkuZGVmYXVsdC5hbGlhc1JlZ2lzdHJ5W2FdPWUuY29kZSxuKE8oe30sZSx7Y29kZTphLGd2bGlkOnIsc2tpcFBic0FsaWFzaW5nOm99KSl9KSl9LHQubmV3QmlkZGVyPXcsbi5kKHQsInJlZ2lzdGVyU3luY0lubmVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gan0pKSx0LnByZWxvYWRCaWRkZXJNYXBwaW5nRmlsZT1fLHQuZ2V0SWFiU3ViQ2F0ZWdvcnk9ZnVuY3Rpb24oZSx0KXt2YXIgbj1pLmRlZmF1bHQuZ2V0QmlkQWRhcHRlcihlKTtpZihuLmdldFNwZWMoKS5nZXRNYXBwaW5nRmlsZUluZm8pe3ZhciByPW4uZ2V0U3BlYygpLmdldE1hcHBpbmdGaWxlSW5mbygpLG89ci5sb2NhbFN0b3JhZ2VLZXk/ci5sb2NhbFN0b3JhZ2VLZXk6bi5nZXRCaWRkZXJDb2RlKCksYT1JLmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKG8pO2lmKGEpe3RyeXthPUpTT04ucGFyc2UoYSl9Y2F0Y2godCl7T2JqZWN0KHkubG9nRXJyb3IpKCJGYWlsZWQgdG8gcGFyc2UgIi5jb25jYXQoZSwiIG1hcHBpbmcgZGF0YSBzdG9yZWQgaW4gbG9jYWwgc3RvcmFnZSIpKX1yZXR1cm4gYS5tYXBwaW5nW3RdP2EubWFwcGluZ1t0XTpudWxsfX19LHQuaXNWYWxpZD1SO3ZhciByPW4oNzcpLGk9big4KSxvPW4oMyksYT1uKDQyKSxjPW4oNTYpLHU9bigzNikscz1uKDIyKSxkPW4oNSksZj1uLm4oZCksbD1uKDkpLHA9bi5uKGwpLGc9bigxMiksYj1uLm4oZyksdj1uKDQpLHk9bigwKSxoPW4oMiksbT1uKDEwKSxTPW4oNyk7ZnVuY3Rpb24gRShlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgbj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PW4pcmV0dXJuO3ZhciByLGksbz1bXSxhPSEwLGM9ITE7dHJ5e2ZvcihuPW4uY2FsbChlKTshKGE9KHI9bi5uZXh0KCkpLmRvbmUpJiYoby5wdXNoKHIudmFsdWUpLCF0fHxvLmxlbmd0aCE9PXQpO2E9ITApO31jYXRjaChlKXtjPSEwLGk9ZX1maW5hbGx5e3RyeXthfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgaX19cmV0dXJuIG99KGUsdCl8fGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gQShlLHQpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1ufHwiU2V0Ij09PW4pcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSlyZXR1cm4gQShlLHQpfShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gQShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfWZ1bmN0aW9uIFQoZSl7cmV0dXJuKFQ9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBPKCl7cmV0dXJuKE89T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgST1PYmplY3QoUy5hKSgiYmlkZGVyRmFjdG9yeSIpLEM9WyJyZXF1ZXN0SWQiLCJjcG0iLCJ0dGwiLCJjcmVhdGl2ZUlkIiwibmV0UmV2ZW51ZSIsImN1cnJlbmN5Il07ZnVuY3Rpb24gdyhlKXtyZXR1cm4gTyhuZXcgci5hKGUuY29kZSkse2dldFNwZWM6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmZyZWV6ZShlKX0scmVnaXN0ZXJTeW5jczp0LGNhbGxCaWRzOmZ1bmN0aW9uKHIsaSxjLHUscyxkKXtpZihBcnJheS5pc0FycmF5KHIuYmlkcykpe3ZhciBsPXt9LGc9W10sYj1yLmJpZHMuZmlsdGVyKG4pO2lmKDAhPT1iLmxlbmd0aCl7dmFyIHY9e307Yi5mb3JFYWNoKChmdW5jdGlvbihlKXt2W2UuYmlkSWRdPWUsZS5hZFVuaXRDb2RlfHwoZS5hZFVuaXRDb2RlPWUucGxhY2VtZW50Q29kZSl9KSk7dmFyIGg9ZS5idWlsZFJlcXVlc3RzKGIscik7aWYoaCYmMCE9PWgubGVuZ3RoKXtBcnJheS5pc0FycmF5KGgpfHwoaD1baF0pO3ZhciBtPU9iamVjdCh5LmRlbGF5RXhlY3V0aW9uKShkKFMpLGgubGVuZ3RoKTtoLmZvckVhY2goKGZ1bmN0aW9uKHQpe3N3aXRjaCh0Lm1ldGhvZCl7Y2FzZSJHRVQiOnUoIiIuY29uY2F0KHQudXJsKS5jb25jYXQoZnVuY3Rpb24oZSl7aWYoZSlyZXR1cm4iPyIuY29uY2F0KCJvYmplY3QiPT09VChlKT9PYmplY3QoeS5wYXJzZVF1ZXJ5U3RyaW5nUGFyYW1ldGVycykoZSk6ZSk7cmV0dXJuIiJ9KHQuZGF0YSkpLHtzdWNjZXNzOmQobiksZXJyb3I6b30sdm9pZCAwLE8oe21ldGhvZDoiR0VUIix3aXRoQ3JlZGVudGlhbHM6ITB9LHQub3B0aW9ucykpO2JyZWFrO2Nhc2UiUE9TVCI6dSh0LnVybCx7c3VjY2VzczpkKG4pLGVycm9yOm99LCJzdHJpbmciPT10eXBlb2YgdC5kYXRhP3QuZGF0YTpKU09OLnN0cmluZ2lmeSh0LmRhdGEpLE8oe21ldGhvZDoiUE9TVCIsY29udGVudFR5cGU6InRleHQvcGxhaW4iLHdpdGhDcmVkZW50aWFsczohMH0sdC5vcHRpb25zKSk7YnJlYWs7ZGVmYXVsdDpPYmplY3QoeS5sb2dXYXJuKSgiU2tpcHBpbmcgaW52YWxpZCByZXF1ZXN0IGZyb20gIi5jb25jYXQoZS5jb2RlLCIuIFJlcXVlc3QgdHlwZSAiKS5jb25jYXQodC50eXBlLCIgbXVzdCBiZSBHRVQgb3IgUE9TVCIpKSxtKCl9ZnVuY3Rpb24gbihuLG8pe3MoZS5jb2RlKTt0cnl7bj1KU09OLnBhcnNlKG4pfWNhdGNoKGUpe312YXIgYztuPXtib2R5Om4saGVhZGVyczp7Z2V0Om8uZ2V0UmVzcG9uc2VIZWFkZXIuYmluZChvKX19LGcucHVzaChuKTt0cnl7Yz1lLmludGVycHJldFJlc3BvbnNlKG4sdCl9Y2F0Y2godCl7cmV0dXJuIE9iamVjdCh5LmxvZ0Vycm9yKSgiQmlkZGVyICIuY29uY2F0KGUuY29kZSwiIGZhaWxlZCB0byBpbnRlcnByZXQgdGhlIHNlcnZlcidzIHJlc3BvbnNlLiBDb250aW51aW5nIHdpdGhvdXQgYmlkcyIpLG51bGwsdCksdm9pZCBtKCl9ZnVuY3Rpb24gdSh0KXt2YXIgbj12W3QucmVxdWVzdElkXTtpZihuKXt0Lm9yaWdpbmFsQ3BtPXQuY3BtLHQub3JpZ2luYWxDdXJyZW5jeT10LmN1cnJlbmN5LHQubWV0YT10Lm1ldGF8fE8oe30sdFtuLmJpZGRlcl0pO3ZhciBvPU8oT2JqZWN0KGEuYSkoZi5hLlNUQVRVUy5HT09ELG4pLHQpOyFmdW5jdGlvbihlLHQpe2xbZV09ITAsUihlLHQsW3JdKSYmaShlLHQpfShuLmFkVW5pdENvZGUsbyl9ZWxzZSBPYmplY3QoeS5sb2dXYXJuKSgiQmlkZGVyICIuY29uY2F0KGUuY29kZSwiIG1hZGUgYmlkIGZvciB1bmtub3duIHJlcXVlc3QgSUQ6ICIpLmNvbmNhdCh0LnJlcXVlc3RJZCwiLiBJZ25vcmluZy4iKSl9YyYmKE9iamVjdCh5LmlzQXJyYXkpKGMpP2MuZm9yRWFjaCh1KTp1KGMpKSxtKGMpfWZ1bmN0aW9uIG8odCl7cyhlLmNvZGUpLE9iamVjdCh5LmxvZ0Vycm9yKSgiU2VydmVyIGNhbGwgZm9yICIuY29uY2F0KGUuY29kZSwiIGZhaWxlZDogIikuY29uY2F0KHQsIi4gQ29udGludWluZyB3aXRob3V0IGJpZHMuIikpLG0oKX19KSl9ZWxzZSBTKCl9ZWxzZSBTKCl9ZnVuY3Rpb24gUygpe2MoKSxvLmIucnVuV2l0aEJpZGRlcihlLmNvZGUsKGZ1bmN0aW9uKCl7cC5hLmVtaXQoZi5hLkVWRU5UUy5CSURERVJfRE9ORSxyKSx0KGcsci5nZHByQ29uc2VudCxyLnVzcENvbnNlbnQpfSkpfX19KTtmdW5jdGlvbiB0KHQsbixyKXtqKGUsdCxuLHIpfWZ1bmN0aW9uIG4odCl7cmV0dXJuISFlLmlzQmlkUmVxdWVzdFZhbGlkKHQpfHwoT2JqZWN0KHkubG9nV2FybikoIkludmFsaWQgYmlkIHNlbnQgdG8gYmlkZGVyICIuY29uY2F0KGUuY29kZSwiOiAiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkodCkpKSwhMSl9fXZhciBqPU9iamVjdChtLmIpKCJhc3luYyIsKGZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBhPW8uYi5nZXRDb25maWcoInVzZXJTeW5jLmFsaWFzU3luY0VuYWJsZWQiKTtpZihlLmdldFVzZXJTeW5jcyYmKGF8fCFpLmRlZmF1bHQuYWxpYXNSZWdpc3RyeVtlLmNvZGVdKSl7dmFyIHU9by5iLmdldENvbmZpZygidXNlclN5bmMuZmlsdGVyU2V0dGluZ3MiKSxzPWUuZ2V0VXNlclN5bmNzKHtpZnJhbWVFbmFibGVkOiEoIXV8fCF1LmlmcmFtZSYmIXUuYWxsKSxwaXhlbEVuYWJsZWQ6ISghdXx8IXUuaW1hZ2UmJiF1LmFsbCl9LHQsbixyKTtzJiYoQXJyYXkuaXNBcnJheShzKXx8KHM9W3NdKSxzLmZvckVhY2goKGZ1bmN0aW9uKHQpe2MuYS5yZWdpc3RlclN5bmModC50eXBlLGUuY29kZSx0LnVybCl9KSkpfX0pLCJyZWdpc3RlclN5bmNzIik7ZnVuY3Rpb24gXyhlLHQpe2lmKCFvLmIuZ2V0Q29uZmlnKCJhZHBvZC5icmFuZENhdGVnb3J5RXhjbHVzaW9uIikpcmV0dXJuIGUuY2FsbCh0aGlzLHQpO3QuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KHkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iik9PT1oLmF9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyfSkpfSkpLnJlZHVjZSh5LmZsYXR0ZW4sW10pLmZpbHRlcih5LnVuaXF1ZXMpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWkuZGVmYXVsdC5nZXRCaWRBZGFwdGVyKGUpO2lmKHQuZ2V0U3BlYygpLmdldE1hcHBpbmdGaWxlSW5mbyl7dmFyIG49dC5nZXRTcGVjKCkuZ2V0TWFwcGluZ0ZpbGVJbmZvKCkscj1uLnJlZnJlc2hJbkRheXM/bi5yZWZyZXNoSW5EYXlzOjEsbz1uLmxvY2FsU3RvcmFnZUtleT9uLmxvY2FsU3RvcmFnZUtleTp0LmdldFNwZWMoKS5jb2RlLGE9SS5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZShvKTt0cnl7KCEoYT1hP0pTT04ucGFyc2UoYSk6dm9pZCAwKXx8T2JqZWN0KHkudGltZXN0YW1wKSgpPmEubGFzdFVwZGF0ZWQrMjQqcio2MCo2MCoxZTMpJiZPYmplY3Qodi5hKShuLnVybCx7c3VjY2VzczpmdW5jdGlvbih0KXt0cnl7dD1KU09OLnBhcnNlKHQpO3ZhciBuPXtsYXN0VXBkYXRlZDpPYmplY3QoeS50aW1lc3RhbXApKCksbWFwcGluZzp0Lm1hcHBpbmd9O0kuc2V0RGF0YUluTG9jYWxTdG9yYWdlKG8sSlNPTi5zdHJpbmdpZnkobikpfWNhdGNoKHQpe09iamVjdCh5LmxvZ0Vycm9yKSgiRmFpbGVkIHRvIHBhcnNlICIuY29uY2F0KGUsIiBiaWRkZXIgdHJhbnNsYXRpb24gbWFwcGluZyBmaWxlIikpfX0sZXJyb3I6ZnVuY3Rpb24oKXtPYmplY3QoeS5sb2dFcnJvcikoIkZhaWxlZCB0byBsb2FkICIuY29uY2F0KGUsIiBiaWRkZXIgdHJhbnNsYXRpb24gZmlsZSIpKX19KX1jYXRjaCh0KXtPYmplY3QoeS5sb2dFcnJvcikoIkZhaWxlZCB0byBwYXJzZSAiLmNvbmNhdChlLCIgYmlkZGVyIHRyYW5zbGF0aW9uIG1hcHBpbmcgZmlsZSIpKX19fSkpLGUuY2FsbCh0aGlzLHQpfWZ1bmN0aW9uIFIoZSx0LG4pe2Z1bmN0aW9uIHIoZSl7cmV0dXJuIkludmFsaWQgYmlkIGZyb20gIi5jb25jYXQodC5iaWRkZXJDb2RlLCIuIElnbm9yaW5nIGJpZDogIikuY29uY2F0KGUpfXJldHVybiBlP3Q/KGk9T2JqZWN0LmtleXModCksQy5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIGIoKShpLGUpJiYhYigpKFt2b2lkIDAsbnVsbF0sdFtlXSl9KSk/Im5hdGl2ZSIhPT10Lm1lZGlhVHlwZXx8T2JqZWN0KHUuZykodCxuKT8idmlkZW8iIT09dC5tZWRpYVR5cGV8fE9iamVjdChzLmQpKHQsbik/ISgiYmFubmVyIj09PXQubWVkaWFUeXBlJiYhZnVuY3Rpb24oZSx0LG4pe2lmKCh0LndpZHRofHwwPT09cGFyc2VJbnQodC53aWR0aCwxMCkpJiYodC5oZWlnaHR8fDA9PT1wYXJzZUludCh0LmhlaWdodCwxMCkpKXJldHVybiB0LndpZHRoPXBhcnNlSW50KHQud2lkdGgsMTApLHQuaGVpZ2h0PXBhcnNlSW50KHQuaGVpZ2h0LDEwKSwhMDt2YXIgcj1PYmplY3QoeS5nZXRCaWRkZXJSZXF1ZXN0KShuLHQuYmlkZGVyQ29kZSxlKSxpPXImJnIuYmlkcyYmci5iaWRzWzBdJiZyLmJpZHNbMF0uc2l6ZXMsbz1PYmplY3QoeS5wYXJzZVNpemVzSW5wdXQpKGkpO2lmKDE9PT1vLmxlbmd0aCl7dmFyIGE9RShvWzBdLnNwbGl0KCJ4IiksMiksYz1hWzBdLHU9YVsxXTtyZXR1cm4gdC53aWR0aD1wYXJzZUludChjLDEwKSx0LmhlaWdodD1wYXJzZUludCh1LDEwKSwhMH1yZXR1cm4hMX0oZSx0LG4pKXx8KE9iamVjdCh5LmxvZ0Vycm9yKShyKCJCYW5uZXIgYmlkcyByZXF1aXJlIGEgd2lkdGggYW5kIGhlaWdodCIpKSwhMSk6KE9iamVjdCh5LmxvZ0Vycm9yKShyKCJWaWRlbyBiaWQgZG9lcyBub3QgaGF2ZSByZXF1aXJlZCB2YXN0VXJsIG9yIHJlbmRlcmVyIHByb3BlcnR5IikpLCExKTooT2JqZWN0KHkubG9nRXJyb3IpKHIoIk5hdGl2ZSBiaWQgbWlzc2luZyBzb21lIHJlcXVpcmVkIHByb3BlcnRpZXMuIikpLCExKTooT2JqZWN0KHkubG9nRXJyb3IpKHIoIkJpZGRlciAiLmNvbmNhdCh0LmJpZGRlckNvZGUsIiBpcyBtaXNzaW5nIHJlcXVpcmVkIHBhcmFtcy4gQ2hlY2sgaHR0cDovL3ByZWJpZC5vcmcvZGV2LWRvY3MvYmlkZGVyLWFkYXB0ZXItMS5odG1sIGZvciBsaXN0IG9mIHBhcmFtcy4iKSkpLCExKSk6KE9iamVjdCh5LmxvZ1dhcm4pKCJTb21lIGFkYXB0ZXIgdHJpZWQgdG8gYWRkIGFuIHVuZGVmaW5lZCBiaWQgZm9yICIuY29uY2F0KGUsIi4iKSksITEpOihPYmplY3QoeS5sb2dXYXJuKSgiTm8gYWRVbml0Q29kZSB3YXMgc3VwcGxpZWQgdG8gYWRkQmlkUmVzcG9uc2UuIiksITEpO3ZhciBpfU9iamVjdChtLmEpKCJjaGVja0FkVW5pdFNldHVwIikuYmVmb3JlKF8pfSwxMDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSksdC5kPWZ1bmN0aW9uKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjE1LHI9ZS5nZXRIb29rcyh7aG9vazp0fSk7MD09PXIubGVuZ3RoJiZlLmJlZm9yZSh0LG4pfSx0LmM9ZnVuY3Rpb24oZSx0KXthKCJhc3luYyIsKGZ1bmN0aW9uKGUpe2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuYXBwbHkodm9pZCAwLGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIG8oZSl9KG49ZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0obil8fGZ1bmN0aW9uKGUsdCl7aWYoZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBvKGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVybiJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKSwiTWFwIj09PW58fCJTZXQiPT09bj9BcnJheS5mcm9tKGUpOiJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/byhlLHQpOnZvaWQgMH19KG4pfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpKTt2YXIgbn0pKX0pLGUpKFtdKX0sdC5lPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KHQ+MT90LTE6MCkscj0xO3I8dDtyKyspbltyLTFdPWFyZ3VtZW50c1tyXTtjKGUpLmJlZm9yZSgoZnVuY3Rpb24oZSx0KXt0LnB1c2gobiksZSh0KX0pKX07dmFyIHI9bigxNjkpLGk9bi5uKHIpO2Z1bmN0aW9uIG8oZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn12YXIgYT1pKCkoe3JlYWR5OmkuYS5TWU5DfGkuYS5BU1lOQ3xpLmEuUVVFVUV9KSxjPWEuZ2V0fSwxMDE6ZnVuY3Rpb24oZSx0LG4pe24oMTAyKTt2YXIgcj1uKDUyKTtlLmV4cG9ydHM9cigiQXJyYXkiLCJmaW5kIil9LDEwMjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9big1OSkuZmluZCxvPW4oNTEpLGE9ImZpbmQiLGM9ITA7YSBpbltdJiZBcnJheSgxKS5maW5kKChmdW5jdGlvbigpe2M9ITF9KSkscih7dGFyZ2V0OiJBcnJheSIscHJvdG86ITAsZm9yY2VkOmN9LHtmaW5kOmZ1bmN0aW9uKGUpe3JldHVybiBpKHRoaXMsZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSksbyhhKX0sMTAzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMzKSxpPW4oMTA0KSxvPW4oNDQpLGE9big0NSksYz1uKDU4KSx1PW4oMzEpLHM9big3OSksZD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO3QuZj1yP2Q6ZnVuY3Rpb24oZSx0KXtpZihlPWEoZSksdD1jKHQsITApLHMpdHJ5e3JldHVybiBkKGUsdCl9Y2F0Y2goZSl7fWlmKHUoZSx0KSlyZXR1cm4gbyghaS5mLmNhbGwoZSx0KSxlW3RdKX19LDEwNDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLGk9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixvPWkmJiFyLmNhbGwoezE6Mn0sMSk7dC5mPW8/ZnVuY3Rpb24oZSl7dmFyIHQ9aSh0aGlzLGUpO3JldHVybiEhdCYmdC5lbnVtZXJhYmxlfTpyfSwxMDU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjkpLGk9LyN8XC5wcm90b3R5cGVcLi8sbz1mdW5jdGlvbihlLHQpe3ZhciBuPWNbYShlKV07cmV0dXJuIG49PXN8fG4hPXUmJigiZnVuY3Rpb24iPT10eXBlb2YgdD9yKHQpOiEhdCl9LGE9by5ub3JtYWxpemU9ZnVuY3Rpb24oZSl7cmV0dXJuIFN0cmluZyhlKS5yZXBsYWNlKGksIi4iKS50b0xvd2VyQ2FzZSgpfSxjPW8uZGF0YT17fSx1PW8uTkFUSVZFPSJOIixzPW8uUE9MWUZJTEw9IlAiO2UuZXhwb3J0cz1vfSwxMDY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzApLGk9bigxMDcpLG89bigyNCkoInNwZWNpZXMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgbjtyZXR1cm4gaShlKSYmKCJmdW5jdGlvbiIhPXR5cGVvZihuPWUuY29uc3RydWN0b3IpfHxuIT09QXJyYXkmJiFpKG4ucHJvdG90eXBlKT9yKG4pJiZudWxsPT09KG49bltvXSkmJihuPXZvaWQgMCk6bj12b2lkIDApLG5ldyh2b2lkIDA9PT1uP0FycmF5Om4pKDA9PT10PzA6dCl9fSwxMDc6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNDYpO2UuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4iQXJyYXkiPT1yKGUpfX0sMTA4OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI1KSxpPW4oMzIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3RyeXtpKHIsZSx0KX1jYXRjaChuKXtyW2VdPXR9cmV0dXJuIHR9fSwxMDk6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz1uKDI1KSxhPW4oMTEwKSxjPW8ucHJvY2Vzcyx1PWMmJmMudmVyc2lvbnMscz11JiZ1LnY4O3M/aT0ocj1zLnNwbGl0KCIuIikpWzBdPDQ/MTpyWzBdK3JbMV06YSYmKCEocj1hLm1hdGNoKC9FZGdlXC8oXGQrKS8pKXx8clsxXT49NzQpJiYocj1hLm1hdGNoKC9DaHJvbWVcLyhcZCspLykpJiYoaT1yWzFdKSxlLmV4cG9ydHM9aSYmK2l9LDExOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDEwMSk7ZS5leHBvcnRzPXJ9LDExMDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyNyk7ZS5leHBvcnRzPXIoIm5hdmlnYXRvciIsInVzZXJBZ2VudCIpfHwiIn0sMTExOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDgyKTtlLmV4cG9ydHM9ciYmIVN5bWJvbC5zaGFtJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcn0sMTEyOmZ1bmN0aW9uKGUsdCxuKXtuKDExMyk7dmFyIHI9big1Mik7ZS5leHBvcnRzPXIoIkFycmF5IiwiaW5jbHVkZXMiKX0sMTEzOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDgzKS5pbmNsdWRlcyxvPW4oNTEpO3Ioe3RhcmdldDoiQXJyYXkiLHByb3RvOiEwfSx7aW5jbHVkZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KSxvKCJpbmNsdWRlcyIpfSwxMTQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNjApLGk9TWF0aC5tYXgsbz1NYXRoLm1pbjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgbj1yKGUpO3JldHVybiBuPDA/aShuK3QsMCk6byhuLHQpfX0sMTE1OmZ1bmN0aW9uKGUsdCxuKXtuKDExNiksbigxMzMpLG4oOTQpLG4oMTM1KTt2YXIgcj1uKDQ5KTtlLmV4cG9ydHM9ci5TZXR9LDExNjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTE3KSxpPW4oMTIyKTtlLmV4cG9ydHM9cigiU2V0IiwoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcyxhcmd1bWVudHMubGVuZ3RoP2FyZ3VtZW50c1swXTp2b2lkIDApfX0pLGkpfSwxMTc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMjUpLG89big4NSksYT1uKDI5KSxjPW4oMzIpLHU9bigxOSkscz1uKDg4KSxkPW4oMzApLGY9big2NiksbD1uKDM0KS5mLHA9big1OSkuZm9yRWFjaCxnPW4oMzMpLGI9big1NCksdj1iLnNldCx5PWIuZ2V0dGVyRm9yO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7dmFyIGIsaD0tMSE9PWUuaW5kZXhPZigiTWFwIiksbT0tMSE9PWUuaW5kZXhPZigiV2VhayIpLFM9aD8ic2V0IjoiYWRkIixFPWlbZV0sQT1FJiZFLnByb3RvdHlwZSxUPXt9O2lmKGcmJiJmdW5jdGlvbiI9PXR5cGVvZiBFJiYobXx8QS5mb3JFYWNoJiYhYSgoZnVuY3Rpb24oKXsobmV3IEUpLmVudHJpZXMoKS5uZXh0KCl9KSkpKXtiPXQoKGZ1bmN0aW9uKHQsbil7dihzKHQsYixlKSx7dHlwZTplLGNvbGxlY3Rpb246bmV3IEV9KSxudWxsIT1uJiZ1KG4sdFtTXSx7dGhhdDp0LEFTX0VOVFJJRVM6aH0pfSkpO3ZhciBPPXkoZSk7cChbImFkZCIsImNsZWFyIiwiZGVsZXRlIiwiZm9yRWFjaCIsImdldCIsImhhcyIsInNldCIsImtleXMiLCJ2YWx1ZXMiLCJlbnRyaWVzIl0sKGZ1bmN0aW9uKGUpe3ZhciB0PSJhZGQiPT1lfHwic2V0Ij09ZTshKGUgaW4gQSl8fG0mJiJjbGVhciI9PWV8fGMoYi5wcm90b3R5cGUsZSwoZnVuY3Rpb24obixyKXt2YXIgaT1PKHRoaXMpLmNvbGxlY3Rpb247aWYoIXQmJm0mJiFkKG4pKXJldHVybiJnZXQiPT1lJiZ2b2lkIDA7dmFyIG89aVtlXSgwPT09bj8wOm4scik7cmV0dXJuIHQ/dGhpczpvfSkpfSkpLG18fGwoYi5wcm90b3R5cGUsInNpemUiLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE8odGhpcykuY29sbGVjdGlvbi5zaXplfX0pfWVsc2UgYj1uLmdldENvbnN0cnVjdG9yKHQsZSxoLFMpLG8uUkVRVUlSRUQ9ITA7cmV0dXJuIGYoYixlLCExLCEwKSxUW2VdPWIscih7Z2xvYmFsOiEwLGZvcmNlZDohMH0sVCksbXx8bi5zZXRTdHJvbmcoYixlLGgpLGJ9fSwxMTg6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjkpO2UuZXhwb3J0cz0hcigoZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmlzRXh0ZW5zaWJsZShPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pKX0pKX0sMTE5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9big2NSksaT1uKDY0KTtlLmV4cG9ydHM9cj97fS50b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiJbb2JqZWN0ICIraSh0aGlzKSsiXSJ9fSwxMjpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxMTIpO2UuZXhwb3J0cz1yfSwxMjA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjUpLGk9bigxMjEpLG89ci5XZWFrTWFwO2UuZXhwb3J0cz0iZnVuY3Rpb24iPT10eXBlb2YgbyYmL25hdGl2ZSBjb2RlLy50ZXN0KGkobykpfSwxMjE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNjEpLGk9RnVuY3Rpb24udG9TdHJpbmc7ImZ1bmN0aW9uIiE9dHlwZW9mIHIuaW5zcGVjdFNvdXJjZSYmKHIuaW5zcGVjdFNvdXJjZT1mdW5jdGlvbihlKXtyZXR1cm4gaS5jYWxsKGUpfSksZS5leHBvcnRzPXIuaW5zcGVjdFNvdXJjZX0sMTIyOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigzNCkuZixpPW4oODkpLG89bigxMjcpLGE9bigyNiksYz1uKDg4KSx1PW4oMTkpLHM9big2OCksZD1uKDEzMiksZj1uKDMzKSxsPW4oODUpLmZhc3RLZXkscD1uKDU0KSxnPXAuc2V0LGI9cC5nZXR0ZXJGb3I7ZS5leHBvcnRzPXtnZXRDb25zdHJ1Y3RvcjpmdW5jdGlvbihlLHQsbixzKXt2YXIgZD1lKChmdW5jdGlvbihlLHIpe2MoZSxkLHQpLGcoZSx7dHlwZTp0LGluZGV4OmkobnVsbCksZmlyc3Q6dm9pZCAwLGxhc3Q6dm9pZCAwLHNpemU6MH0pLGZ8fChlLnNpemU9MCksbnVsbCE9ciYmdShyLGVbc10se3RoYXQ6ZSxBU19FTlRSSUVTOm59KX0pKSxwPWIodCksdj1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXAoZSksYT15KGUsdCk7cmV0dXJuIGE/YS52YWx1ZT1uOihvLmxhc3Q9YT17aW5kZXg6aT1sKHQsITApLGtleTp0LHZhbHVlOm4scHJldmlvdXM6cj1vLmxhc3QsbmV4dDp2b2lkIDAscmVtb3ZlZDohMX0sby5maXJzdHx8KG8uZmlyc3Q9YSksciYmKHIubmV4dD1hKSxmP28uc2l6ZSsrOmUuc2l6ZSsrLCJGIiE9PWkmJihvLmluZGV4W2ldPWEpKSxlfSx5PWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1wKGUpLGk9bCh0KTtpZigiRiIhPT1pKXJldHVybiByLmluZGV4W2ldO2ZvcihuPXIuZmlyc3Q7bjtuPW4ubmV4dClpZihuLmtleT09dClyZXR1cm4gbn07cmV0dXJuIG8oZC5wcm90b3R5cGUse2NsZWFyOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPXAodGhpcyksdD1lLmluZGV4LG49ZS5maXJzdDtuOyluLnJlbW92ZWQ9ITAsbi5wcmV2aW91cyYmKG4ucHJldmlvdXM9bi5wcmV2aW91cy5uZXh0PXZvaWQgMCksZGVsZXRlIHRbbi5pbmRleF0sbj1uLm5leHQ7ZS5maXJzdD1lLmxhc3Q9dm9pZCAwLGY/ZS5zaXplPTA6dGhpcy5zaXplPTB9LGRlbGV0ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG49cCh0KSxyPXkodCxlKTtpZihyKXt2YXIgaT1yLm5leHQsbz1yLnByZXZpb3VzO2RlbGV0ZSBuLmluZGV4W3IuaW5kZXhdLHIucmVtb3ZlZD0hMCxvJiYoby5uZXh0PWkpLGkmJihpLnByZXZpb3VzPW8pLG4uZmlyc3Q9PXImJihuLmZpcnN0PWkpLG4ubGFzdD09ciYmKG4ubGFzdD1vKSxmP24uc2l6ZS0tOnQuc2l6ZS0tfXJldHVybiEhcn0sZm9yRWFjaDpmdW5jdGlvbihlKXtmb3IodmFyIHQsbj1wKHRoaXMpLHI9YShlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLDMpO3Q9dD90Lm5leHQ6bi5maXJzdDspZm9yKHIodC52YWx1ZSx0LmtleSx0aGlzKTt0JiZ0LnJlbW92ZWQ7KXQ9dC5wcmV2aW91c30saGFzOmZ1bmN0aW9uKGUpe3JldHVybiEheSh0aGlzLGUpfX0pLG8oZC5wcm90b3R5cGUsbj97Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXkodGhpcyxlKTtyZXR1cm4gdCYmdC52YWx1ZX0sc2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHYodGhpcywwPT09ZT8wOmUsdCl9fTp7YWRkOmZ1bmN0aW9uKGUpe3JldHVybiB2KHRoaXMsZT0wPT09ZT8wOmUsZSl9fSksZiYmcihkLnByb3RvdHlwZSwic2l6ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiBwKHRoaXMpLnNpemV9fSksZH0sc2V0U3Ryb25nOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10KyIgSXRlcmF0b3IiLGk9Yih0KSxvPWIocik7cyhlLHQsKGZ1bmN0aW9uKGUsdCl7Zyh0aGlzLHt0eXBlOnIsdGFyZ2V0OmUsc3RhdGU6aShlKSxraW5kOnQsbGFzdDp2b2lkIDB9KX0pLChmdW5jdGlvbigpe2Zvcih2YXIgZT1vKHRoaXMpLHQ9ZS5raW5kLG49ZS5sYXN0O24mJm4ucmVtb3ZlZDspbj1uLnByZXZpb3VzO3JldHVybiBlLnRhcmdldCYmKGUubGFzdD1uPW4/bi5uZXh0OmUuc3RhdGUuZmlyc3QpPyJrZXlzIj09dD97dmFsdWU6bi5rZXksZG9uZTohMX06InZhbHVlcyI9PXQ/e3ZhbHVlOm4udmFsdWUsZG9uZTohMX06e3ZhbHVlOltuLmtleSxuLnZhbHVlXSxkb25lOiExfTooZS50YXJnZXQ9dm9pZCAwLHt2YWx1ZTp2b2lkIDAsZG9uZTohMH0pfSksbj8iZW50cmllcyI6InZhbHVlcyIsIW4sITApLGQodCl9fX0sMTIzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMzKSxpPW4oMzQpLG89bigxNiksYT1uKDEyNCk7ZS5leHBvcnRzPXI/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24oZSx0KXtvKGUpO2Zvcih2YXIgbixyPWEodCksYz1yLmxlbmd0aCx1PTA7Yz51OylpLmYoZSxuPXJbdSsrXSx0W25dKTtyZXR1cm4gZX19LDEyNDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxMjUpLGk9big5MCk7ZS5leHBvcnRzPU9iamVjdC5rZXlzfHxmdW5jdGlvbihlKXtyZXR1cm4gcihlLGkpfX0sMTI1OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMxKSxpPW4oNDUpLG89big4MykuaW5kZXhPZixhPW4oNTMpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciBuLGM9aShlKSx1PTAscz1bXTtmb3IobiBpbiBjKSFyKGEsbikmJnIoYyxuKSYmcy5wdXNoKG4pO2Zvcig7dC5sZW5ndGg+dTspcihjLG49dFt1KytdKSYmKH5vKHMsbil8fHMucHVzaChuKSk7cmV0dXJuIHN9fSwxMjY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjcpO2UuZXhwb3J0cz1yKCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIpfSwxMjc6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oOTEpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciBpIGluIHQpbiYmbi51bnNhZmUmJmVbaV0/ZVtpXT10W2ldOnIoZSxpLHRbaV0sbik7cmV0dXJuIGV9fSwxMjg6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDkyKS5JdGVyYXRvclByb3RvdHlwZSxpPW4oODkpLG89big0NCksYT1uKDY2KSxjPW4oNDApLHU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcz10KyIgSXRlcmF0b3IiO3JldHVybiBlLnByb3RvdHlwZT1pKHIse25leHQ6bygxLG4pfSksYShlLHMsITEsITApLGNbc109dSxlfX0sMTI5OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI5KTtlLmV4cG9ydHM9IXIoKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5wcm90b3R5cGUuY29uc3RydWN0b3I9bnVsbCxPYmplY3QuZ2V0UHJvdG90eXBlT2YobmV3IGUpIT09ZS5wcm90b3R5cGV9KSl9LDEzOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPXUsdC5jPWZ1bmN0aW9uKGUpe3JldHVybiEoIWV8fCFlLnVybCl9LHQuYj1mdW5jdGlvbihlLHQpe2UucmVuZGVyKHQpfTt2YXIgcj1uKDM3KSxpPW4oMCksbz1uKDExKSxhPW4ubihvKSxjPSJvdXRzdHJlYW0iO2Z1bmN0aW9uIHUoZSl7dmFyIHQ9dGhpcyxuPWUudXJsLG89ZS5jb25maWcsYT1lLmlkLHU9ZS5jYWxsYmFjayxkPWUubG9hZGVkLGY9ZS5hZFVuaXRDb2RlO3RoaXMudXJsPW4sdGhpcy5jb25maWc9byx0aGlzLmhhbmRsZXJzPXt9LHRoaXMuaWQ9YSx0aGlzLmxvYWRlZD1kLHRoaXMuY21kPVtdLHRoaXMucHVzaD1mdW5jdGlvbihlKXsiZnVuY3Rpb24iPT10eXBlb2YgZT90LmxvYWRlZD9lLmNhbGwoKTp0LmNtZC5wdXNoKGUpOmkubG9nRXJyb3IoIkNvbW1hbmRzIGdpdmVuIHRvIFJlbmRlcmVyLnB1c2ggbXVzdCBiZSB3cmFwcGVkIGluIGEgZnVuY3Rpb24iKX0sdGhpcy5jYWxsYmFjaz11fHxmdW5jdGlvbigpe3QubG9hZGVkPSEwLHQucHJvY2VzcygpfSx0aGlzLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1hcmd1bWVudHMsbz1mdW5jdGlvbigpe2UuX3JlbmRlcj9lLl9yZW5kZXIuYXBwbHkoZSx0KTppLmxvZ1dhcm4oIk5vIHJlbmRlciBmdW5jdGlvbiB3YXMgcHJvdmlkZWQsIHBsZWFzZSB1c2UgLnNldFJlbmRlciBvbiB0aGUgcmVuZGVyZXIiKX07cyhmKT8oaS5sb2dXYXJuKCJFeHRlcm5hbCBKcyBub3QgbG9hZGVkIGJ5IFJlbmRlcmVyIHNpbmNlIHJlbmRlcmVyIHVybCBhbmQgY2FsbGJhY2sgaXMgYWxyZWFkeSBkZWZpbmVkIG9uIGFkVW5pdCAiLmNvbmNhdChmKSksbygpKToodGhpcy5jbWQudW5zaGlmdChvKSxPYmplY3Qoci5hKShuLGMsdGhpcy5jYWxsYmFjaykpfS5iaW5kKHRoaXMpfWZ1bmN0aW9uIHMoZSl7dmFyIHQ9dXBianMuYWRVbml0cyxuPWEoKSh0LChmdW5jdGlvbih0KXtyZXR1cm4gdC5jb2RlPT09ZX0pKTtpZighbilyZXR1cm4hMTt2YXIgcj1pLmRlZXBBY2Nlc3MobiwicmVuZGVyZXIiKSxvPSEhKHImJnIudXJsJiZyLnJlbmRlciksYz1pLmRlZXBBY2Nlc3MobiwibWVkaWFUeXBlcy52aWRlby5yZW5kZXJlciIpLHU9ISEoYyYmYy51cmwmJmMucmVuZGVyKTtyZXR1cm4hIShvJiYhMCE9PXIuYmFja3VwT25seXx8dSYmITAhPT1jLmJhY2t1cE9ubHkpfXUuaW5zdGFsbD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHUoe3VybDplLnVybCxjb25maWc6ZS5jb25maWcsaWQ6ZS5pZCxjYWxsYmFjazplLmNhbGxiYWNrLGxvYWRlZDplLmxvYWRlZCxhZFVuaXRDb2RlOmUuYWRVbml0Q29kZX0pfSx1LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25maWd9LHUucHJvdG90eXBlLnNldFJlbmRlcj1mdW5jdGlvbihlKXt0aGlzLl9yZW5kZXI9ZX0sdS5wcm90b3R5cGUuc2V0RXZlbnRIYW5kbGVycz1mdW5jdGlvbihlKXt0aGlzLmhhbmRsZXJzPWV9LHUucHJvdG90eXBlLmhhbmRsZVZpZGVvRXZlbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pZCxuPWUuZXZlbnROYW1lOyJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLmhhbmRsZXJzW25dJiZ0aGlzLmhhbmRsZXJzW25dKCksaS5sb2dNZXNzYWdlKCJQcmViaWQgUmVuZGVyZXIgZXZlbnQgZm9yIGlkICIuY29uY2F0KHQsIiB0eXBlICIpLmNvbmNhdChuKSl9LHUucHJvdG90eXBlLnByb2Nlc3M9ZnVuY3Rpb24oKXtmb3IoO3RoaXMuY21kLmxlbmd0aD4wOyl0cnl7dGhpcy5jbWQuc2hpZnQoKS5jYWxsKCl9Y2F0Y2goZSl7aS5sb2dFcnJvcigiRXJyb3IgcHJvY2Vzc2luZyBSZW5kZXJlciBjb21tYW5kOiAiLGUpfX19LDEzMDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxNiksaT1uKDEzMSk7ZS5leHBvcnRzPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbigpe3ZhciBlLHQ9ITEsbj17fTt0cnl7KGU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKS5zZXQpLmNhbGwobixbXSksdD1uIGluc3RhbmNlb2YgQXJyYXl9Y2F0Y2goZSl7fXJldHVybiBmdW5jdGlvbihuLG8pe3JldHVybiByKG4pLGkobyksdD9lLmNhbGwobixvKTpuLl9fcHJvdG9fXz1vLG59fSgpOnZvaWQgMCl9LDEzMTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFyKGUpJiZudWxsIT09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IHNldCAiK1N0cmluZyhlKSsiIGFzIGEgcHJvdG90eXBlIik7cmV0dXJuIGV9fSwxMzI6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDI3KSxpPW4oMzQpLG89bigyNCksYT1uKDMzKSxjPW8oInNwZWNpZXMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9cihlKSxuPWkuZjthJiZ0JiYhdFtjXSYmbih0LGMse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX19LDEzMzpmdW5jdGlvbihlLHQpe30sMTM0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDYwKSxpPW4oNDcpLG89ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7dmFyIG8sYSxjPVN0cmluZyhpKHQpKSx1PXIobikscz1jLmxlbmd0aDtyZXR1cm4gdTwwfHx1Pj1zP2U/IiI6dm9pZCAwOihvPWMuY2hhckNvZGVBdCh1KSk8NTUyOTZ8fG8+NTYzMTl8fHUrMT09PXN8fChhPWMuY2hhckNvZGVBdCh1KzEpKTw1NjMyMHx8YT41NzM0Mz9lP2MuY2hhckF0KHUpOm86ZT9jLnNsaWNlKHUsdSsyKTphLTU2MzIwKyhvLTU1Mjk2PDwxMCkrNjU1MzZ9fTtlLmV4cG9ydHM9e2NvZGVBdDpvKCExKSxjaGFyQXQ6byghMCl9fSwxMzU6ZnVuY3Rpb24oZSx0LG4pe24oMTM2KTt2YXIgcj1uKDEzNyksaT1uKDI1KSxvPW4oNjQpLGE9bigzMiksYz1uKDQwKSx1PW4oMjQpKCJ0b1N0cmluZ1RhZyIpO2Zvcih2YXIgcyBpbiByKXt2YXIgZD1pW3NdLGY9ZCYmZC5wcm90b3R5cGU7ZiYmbyhmKSE9PXUmJmEoZix1LHMpLGNbc109Yy5BcnJheX19LDEzNjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oNDUpLGk9big1MSksbz1uKDQwKSxhPW4oNTQpLGM9big2OCksdT0iQXJyYXkgSXRlcmF0b3IiLHM9YS5zZXQsZD1hLmdldHRlckZvcih1KTtlLmV4cG9ydHM9YyhBcnJheSwiQXJyYXkiLChmdW5jdGlvbihlLHQpe3ModGhpcyx7dHlwZTp1LHRhcmdldDpyKGUpLGluZGV4OjAsa2luZDp0fSl9KSwoZnVuY3Rpb24oKXt2YXIgZT1kKHRoaXMpLHQ9ZS50YXJnZXQsbj1lLmtpbmQscj1lLmluZGV4Kys7cmV0dXJuIXR8fHI+PXQubGVuZ3RoPyhlLnRhcmdldD12b2lkIDAse3ZhbHVlOnZvaWQgMCxkb25lOiEwfSk6ImtleXMiPT1uP3t2YWx1ZTpyLGRvbmU6ITF9OiJ2YWx1ZXMiPT1uP3t2YWx1ZTp0W3JdLGRvbmU6ITF9Ont2YWx1ZTpbcix0W3JdXSxkb25lOiExfX0pLCJ2YWx1ZXMiKSxvLkFyZ3VtZW50cz1vLkFycmF5LGkoImtleXMiKSxpKCJ2YWx1ZXMiKSxpKCJlbnRyaWVzIil9LDEzNzpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz17Q1NTUnVsZUxpc3Q6MCxDU1NTdHlsZURlY2xhcmF0aW9uOjAsQ1NTVmFsdWVMaXN0OjAsQ2xpZW50UmVjdExpc3Q6MCxET01SZWN0TGlzdDowLERPTVN0cmluZ0xpc3Q6MCxET01Ub2tlbkxpc3Q6MSxEYXRhVHJhbnNmZXJJdGVtTGlzdDowLEZpbGVMaXN0OjAsSFRNTEFsbENvbGxlY3Rpb246MCxIVE1MQ29sbGVjdGlvbjowLEhUTUxGb3JtRWxlbWVudDowLEhUTUxTZWxlY3RFbGVtZW50OjAsTWVkaWFMaXN0OjAsTWltZVR5cGVBcnJheTowLE5hbWVkTm9kZU1hcDowLE5vZGVMaXN0OjEsUGFpbnRSZXF1ZXN0TGlzdDowLFBsdWdpbjowLFBsdWdpbkFycmF5OjAsU1ZHTGVuZ3RoTGlzdDowLFNWR051bWJlckxpc3Q6MCxTVkdQYXRoU2VnTGlzdDowLFNWR1BvaW50TGlzdDowLFNWR1N0cmluZ0xpc3Q6MCxTVkdUcmFuc2Zvcm1MaXN0OjAsU291cmNlQnVmZmVyTGlzdDowLFN0eWxlU2hlZXRMaXN0OjAsVGV4dFRyYWNrQ3VlTGlzdDowLFRleHRUcmFja0xpc3Q6MCxUb3VjaExpc3Q6MH19LDEzODpmdW5jdGlvbihlLHQsbil7bigxNSkoe3RhcmdldDoiU2V0IixzdGF0OiEwfSx7ZnJvbTpuKDEzOSl9KX0sMTM5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigyMSksaT1uKDI2KSxvPW4oMTkpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxuLGEsYyx1PWFyZ3VtZW50cy5sZW5ndGgscz11PjE/YXJndW1lbnRzWzFdOnZvaWQgMDtyZXR1cm4gcih0aGlzKSwodD12b2lkIDAhPT1zKSYmcihzKSxudWxsPT1lP25ldyB0aGlzOihuPVtdLHQ/KGE9MCxjPWkocyx1PjI/YXJndW1lbnRzWzJdOnZvaWQgMCwyKSxvKGUsKGZ1bmN0aW9uKGUpe24ucHVzaChjKGUsYSsrKSl9KSkpOm8oZSxuLnB1c2gse3RoYXQ6bn0pLG5ldyB0aGlzKG4pKX19LDE0OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy51cGJqc30sd2luZG93LnVwYmpzPXdpbmRvdy51cGJqc3x8e30sd2luZG93LnVwYmpzLmNtZD13aW5kb3cudXBianMuY21kfHxbXSx3aW5kb3cudXBianMucXVlPXdpbmRvdy51cGJqcy5xdWV8fFtdLHdpbmRvdy5fcGJqc0dsb2JhbHM9d2luZG93Ll9wYmpzR2xvYmFsc3x8W10sd2luZG93Ll9wYmpzR2xvYmFscy5wdXNoKCJ1cGJqcyIpfSwxNDA6ZnVuY3Rpb24oZSx0LG4pe24oMTUpKHt0YXJnZXQ6IlNldCIsc3RhdDohMH0se29mOm4oMTQxKX0pfSwxNDE6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKTtlLS07KXRbZV09YXJndW1lbnRzW2VdO3JldHVybiBuZXcgdGhpcyh0KX19LDE0MjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxNyksbz1uKDE0Myk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHthZGRBbGw6ZnVuY3Rpb24oKXtyZXR1cm4gby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSl9LDE0MzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTYpLGk9bigyMSk7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXIodGhpcyksdD1pKGUuYWRkKSxuPTAsbz1hcmd1bWVudHMubGVuZ3RoO248bztuKyspdC5jYWxsKGUsYXJndW1lbnRzW25dKTtyZXR1cm4gZX19LDE0NDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxNyksbz1uKDE0NSk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtkZWxldGVBbGw6ZnVuY3Rpb24oKXtyZXR1cm4gby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSl9LDE0NTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTYpLGk9bigyMSk7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQ9cih0aGlzKSxuPWkodC5kZWxldGUpLG89ITAsYT0wLGM9YXJndW1lbnRzLmxlbmd0aDthPGM7YSsrKWU9bi5jYWxsKHQsYXJndW1lbnRzW2FdKSxvPW8mJmU7cmV0dXJuISFvfX0sMTQ2OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE3KSxvPW4oMTYpLGE9bigyNiksYz1uKDM1KSx1PW4oMTkpO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7ZXZlcnk6ZnVuY3Rpb24oZSl7dmFyIHQ9byh0aGlzKSxuPWModCkscj1hKGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsMyk7cmV0dXJuIXUobiwoZnVuY3Rpb24oZSxuKXtpZighcihlLGUsdCkpcmV0dXJuIG4oKX0pLHtJU19JVEVSQVRPUjohMCxJTlRFUlJVUFRFRDohMH0pLnN0b3BwZWR9fSl9LDE0NzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxNyksbz1uKDI3KSxhPW4oMTYpLGM9bigyMSksdT1uKDQxKSxzPW4oMTkpO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7ZGlmZmVyZW5jZTpmdW5jdGlvbihlKXt2YXIgdD1hKHRoaXMpLG49bmV3KHUodCxvKCJTZXQiKSkpKHQpLHI9YyhuLmRlbGV0ZSk7cmV0dXJuIHMoZSwoZnVuY3Rpb24oZSl7ci5jYWxsKG4sZSl9KSksbn19KX0sMTQ4OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE3KSxvPW4oMjcpLGE9bigxNiksYz1uKDIxKSx1PW4oMjYpLHM9big0MSksZD1uKDM1KSxmPW4oMTkpO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7ZmlsdGVyOmZ1bmN0aW9uKGUpe3ZhciB0PWEodGhpcyksbj1kKHQpLHI9dShlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLDMpLGk9bmV3KHModCxvKCJTZXQiKSkpLGw9YyhpLmFkZCk7cmV0dXJuIGYobiwoZnVuY3Rpb24oZSl7cihlLGUsdCkmJmwuY2FsbChpLGUpfSkse0lTX0lURVJBVE9SOiEwfSksaX19KX0sMTQ5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE3KSxvPW4oMTYpLGE9bigyNiksYz1uKDM1KSx1PW4oMTkpO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7ZmluZDpmdW5jdGlvbihlKXt2YXIgdD1vKHRoaXMpLG49Yyh0KSxyPWEoZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCwzKTtyZXR1cm4gdShuLChmdW5jdGlvbihlLG4pe2lmKHIoZSxlLHQpKXJldHVybiBuKGUpfSkse0lTX0lURVJBVE9SOiEwLElOVEVSUlVQVEVEOiEwfSkucmVzdWx0fX0pfSwxNTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMjUpLGk9bigxMDMpLmYsbz1uKDEwNSksYT1uKDQ5KSxjPW4oMjYpLHU9bigzMikscz1uKDMxKSxkPWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQsbixyKXtpZih0aGlzIGluc3RhbmNlb2YgZSl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IGU7Y2FzZSAxOnJldHVybiBuZXcgZSh0KTtjYXNlIDI6cmV0dXJuIG5ldyBlKHQsbil9cmV0dXJuIG5ldyBlKHQsbixyKX1yZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiB0LnByb3RvdHlwZT1lLnByb3RvdHlwZSx0fTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgbixmLGwscCxnLGIsdix5LGg9ZS50YXJnZXQsbT1lLmdsb2JhbCxTPWUuc3RhdCxFPWUucHJvdG8sQT1tP3I6Uz9yW2hdOihyW2hdfHx7fSkucHJvdG90eXBlLFQ9bT9hOmFbaF18fChhW2hdPXt9KSxPPVQucHJvdG90eXBlO2ZvcihsIGluIHQpbj0hbyhtP2w6aCsoUz8iLiI6IiMiKStsLGUuZm9yY2VkKSYmQSYmcyhBLGwpLGc9VFtsXSxuJiYoYj1lLm5vVGFyZ2V0R2V0Pyh5PWkoQSxsKSkmJnkudmFsdWU6QVtsXSkscD1uJiZiP2I6dFtsXSxuJiZ0eXBlb2YgZz09dHlwZW9mIHB8fCh2PWUuYmluZCYmbj9jKHAscik6ZS53cmFwJiZuP2QocCk6RSYmImZ1bmN0aW9uIj09dHlwZW9mIHA/YyhGdW5jdGlvbi5jYWxsLHApOnAsKGUuc2hhbXx8cCYmcC5zaGFtfHxnJiZnLnNoYW0pJiZ1KHYsInNoYW0iLCEwKSxUW2xdPXYsRSYmKHMoYSxmPWgrIlByb3RvdHlwZSIpfHx1KGEsZix7fSksYVtmXVtsXT1wLGUucmVhbCYmTyYmIU9bbF0mJnUoTyxsLHApKSl9fSwxNTA6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTcpLG89bigyNyksYT1uKDE2KSxjPW4oMjEpLHU9big0MSkscz1uKDE5KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se2ludGVyc2VjdGlvbjpmdW5jdGlvbihlKXt2YXIgdD1hKHRoaXMpLG49bmV3KHUodCxvKCJTZXQiKSkpLHI9Yyh0LmhhcyksaT1jKG4uYWRkKTtyZXR1cm4gcyhlLChmdW5jdGlvbihlKXtyLmNhbGwodCxlKSYmaS5jYWxsKG4sZSl9KSksbn19KX0sMTUxOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE3KSxvPW4oMTYpLGE9bigyMSksYz1uKDE5KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se2lzRGlzam9pbnRGcm9tOmZ1bmN0aW9uKGUpe3ZhciB0PW8odGhpcyksbj1hKHQuaGFzKTtyZXR1cm4hYyhlLChmdW5jdGlvbihlLHIpe2lmKCEwPT09bi5jYWxsKHQsZSkpcmV0dXJuIHIoKX0pLHtJTlRFUlJVUFRFRDohMH0pLnN0b3BwZWR9fSl9LDE1MjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxNyksbz1uKDI3KSxhPW4oMTYpLGM9bigyMSksdT1uKDk1KSxzPW4oMTkpO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7aXNTdWJzZXRPZjpmdW5jdGlvbihlKXt2YXIgdD11KHRoaXMpLG49YShlKSxyPW4uaGFzO3JldHVybiJmdW5jdGlvbiIhPXR5cGVvZiByJiYobj1uZXcobygiU2V0IikpKGUpLHI9YyhuLmhhcykpLCFzKHQsKGZ1bmN0aW9uKGUsdCl7aWYoITE9PT1yLmNhbGwobixlKSlyZXR1cm4gdCgpfSkse0lTX0lURVJBVE9SOiEwLElOVEVSUlVQVEVEOiEwfSkuc3RvcHBlZH19KX0sMTUzOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE3KSxvPW4oMTYpLGE9bigyMSksYz1uKDE5KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se2lzU3VwZXJzZXRPZjpmdW5jdGlvbihlKXt2YXIgdD1vKHRoaXMpLG49YSh0Lmhhcyk7cmV0dXJuIWMoZSwoZnVuY3Rpb24oZSxyKXtpZighMT09PW4uY2FsbCh0LGUpKXJldHVybiByKCl9KSx7SU5URVJSVVBURUQ6ITB9KS5zdG9wcGVkfX0pfSwxNTQ6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTcpLG89bigxNiksYT1uKDM1KSxjPW4oMTkpO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7am9pbjpmdW5jdGlvbihlKXt2YXIgdD1vKHRoaXMpLG49YSh0KSxyPXZvaWQgMD09PWU/IiwiOlN0cmluZyhlKSxpPVtdO3JldHVybiBjKG4saS5wdXNoLHt0aGF0OmksSVNfSVRFUkFUT1I6ITB9KSxpLmpvaW4ocil9fSl9LDE1NTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxNyksbz1uKDI3KSxhPW4oMTYpLGM9bigyMSksdT1uKDI2KSxzPW4oNDEpLGQ9bigzNSksZj1uKDE5KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se21hcDpmdW5jdGlvbihlKXt2YXIgdD1hKHRoaXMpLG49ZCh0KSxyPXUoZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCwzKSxpPW5ldyhzKHQsbygiU2V0IikpKSxsPWMoaS5hZGQpO3JldHVybiBmKG4sKGZ1bmN0aW9uKGUpe2wuY2FsbChpLHIoZSxlLHQpKX0pLHtJU19JVEVSQVRPUjohMH0pLGl9fSl9LDE1NjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxNyksbz1uKDE2KSxhPW4oMjEpLGM9bigzNSksdT1uKDE5KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se3JlZHVjZTpmdW5jdGlvbihlKXt2YXIgdD1vKHRoaXMpLG49Yyh0KSxyPWFyZ3VtZW50cy5sZW5ndGg8MixpPXI/dm9pZCAwOmFyZ3VtZW50c1sxXTtpZihhKGUpLHUobiwoZnVuY3Rpb24obil7cj8ocj0hMSxpPW4pOmk9ZShpLG4sbix0KX0pLHtJU19JVEVSQVRPUjohMH0pLHIpdGhyb3cgVHlwZUVycm9yKCJSZWR1Y2Ugb2YgZW1wdHkgc2V0IHdpdGggbm8gaW5pdGlhbCB2YWx1ZSIpO3JldHVybiBpfX0pfSwxNTc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTcpLG89bigxNiksYT1uKDI2KSxjPW4oMzUpLHU9bigxOSk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtzb21lOmZ1bmN0aW9uKGUpe3ZhciB0PW8odGhpcyksbj1jKHQpLHI9YShlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLDMpO3JldHVybiB1KG4sKGZ1bmN0aW9uKGUsbil7aWYocihlLGUsdCkpcmV0dXJuIG4oKX0pLHtJU19JVEVSQVRPUjohMCxJTlRFUlJVUFRFRDohMH0pLnN0b3BwZWR9fSl9LDE1ODpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxNyksbz1uKDI3KSxhPW4oMTYpLGM9bigyMSksdT1uKDQxKSxzPW4oMTkpO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7c3ltbWV0cmljRGlmZmVyZW5jZTpmdW5jdGlvbihlKXt2YXIgdD1hKHRoaXMpLG49bmV3KHUodCxvKCJTZXQiKSkpKHQpLHI9YyhuLmRlbGV0ZSksaT1jKG4uYWRkKTtyZXR1cm4gcyhlLChmdW5jdGlvbihlKXtyLmNhbGwobixlKXx8aS5jYWxsKG4sZSl9KSksbn19KX0sMTU5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE3KSxvPW4oMjcpLGE9bigxNiksYz1uKDIxKSx1PW4oNDEpLHM9bigxOSk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHt1bmlvbjpmdW5jdGlvbihlKXt2YXIgdD1hKHRoaXMpLG49bmV3KHUodCxvKCJTZXQiKSkpKHQpO3JldHVybiBzKGUsYyhuLmFkZCkse3RoYXQ6bn0pLG59fSl9LDE2OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMwKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIXIoZSkpdGhyb3cgVHlwZUVycm9yKFN0cmluZyhlKSsiIGlzIG5vdCBhbiBvYmplY3QiKTtyZXR1cm4gZX19LDE2MDpmdW5jdGlvbihlLHQsbil7big5NCksbigxNjEpO3ZhciByPW4oNDkpO2UuZXhwb3J0cz1yLkFycmF5LmZyb219LDE2MTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxNSksaT1uKDE2Mik7cih7dGFyZ2V0OiJBcnJheSIsc3RhdDohMCxmb3JjZWQ6IW4oMTY1KSgoZnVuY3Rpb24oZSl7QXJyYXkuZnJvbShlKX0pKX0se2Zyb206aX0pfSwxNjI6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDI2KSxpPW4oNDgpLG89bigxNjMpLGE9big4NiksYz1uKDUwKSx1PW4oMTY0KSxzPW4oNjMpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxuLGQsZixsLHAsZz1pKGUpLGI9ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXM/dGhpczpBcnJheSx2PWFyZ3VtZW50cy5sZW5ndGgseT12PjE/YXJndW1lbnRzWzFdOnZvaWQgMCxoPXZvaWQgMCE9PXksbT1zKGcpLFM9MDtpZihoJiYoeT1yKHksdj4yP2FyZ3VtZW50c1syXTp2b2lkIDAsMikpLG51bGw9PW18fGI9PUFycmF5JiZhKG0pKWZvcihuPW5ldyBiKHQ9YyhnLmxlbmd0aCkpO3Q+UztTKyspcD1oP3koZ1tTXSxTKTpnW1NdLHUobixTLHApO2Vsc2UgZm9yKGw9KGY9bS5jYWxsKGcpKS5uZXh0LG49bmV3IGI7IShkPWwuY2FsbChmKSkuZG9uZTtTKyspcD1oP28oZix5LFtkLnZhbHVlLFNdLCEwKTpkLnZhbHVlLHUobixTLHApO3JldHVybiBuLmxlbmd0aD1TLG59fSwxNjM6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTYpLGk9big4Nyk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuLG8pe3RyeXtyZXR1cm4gbz90KHIobilbMF0sblsxXSk6dChuKX1jYXRjaCh0KXt0aHJvdyBpKGUpLHR9fX0sMTY0OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9big1OCksaT1uKDM0KSxvPW4oNDQpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7dmFyIGE9cih0KTthIGluIGU/aS5mKGUsYSxvKDAsbikpOmVbYV09bn19LDE2NTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyNCkoIml0ZXJhdG9yIiksaT0hMTt0cnl7dmFyIG89MCxhPXtuZXh0OmZ1bmN0aW9uKCl7cmV0dXJue2RvbmU6ISFvKyt9fSxyZXR1cm46ZnVuY3Rpb24oKXtpPSEwfX07YVtyXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxBcnJheS5mcm9tKGEsKGZ1bmN0aW9uKCl7dGhyb3cgMn0pKX1jYXRjaChlKXt9ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJiFpKXJldHVybiExO3ZhciBuPSExO3RyeXt2YXIgbz17fTtvW3JdPWZ1bmN0aW9uKCl7cmV0dXJue25leHQ6ZnVuY3Rpb24oKXtyZXR1cm57ZG9uZTpuPSEwfX19fSxlKG8pfWNhdGNoKGUpe31yZXR1cm4gbn19LDE2NjpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbiBlKHQpe3ZhciBuPUFycmF5LmlzQXJyYXkodCk/W106e307Zm9yKHZhciByIGluIHQpe3ZhciBpPXRbcl07bltyXT1pJiYib2JqZWN0Ij09dHlwZW9mIGk/ZShpKTppfXJldHVybiBufX0sMTY3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKGUsdCxuLHIsaSl7Zm9yKHQ9dC5zcGxpdD90LnNwbGl0KCIuIik6dCxyPTA7cjx0Lmxlbmd0aDtyKyspZT1lP2VbdFtyXV06aTtyZXR1cm4gZT09PWk/bjplfX0sMTY4OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKGUsdCxuKXt0LnNwbGl0JiYodD10LnNwbGl0KCIuIikpO2Zvcih2YXIgcixpPTAsbz10Lmxlbmd0aCxhPWU7aTxvOysraSlyPWFbdFtpXV0sYT1hW3RbaV1dPWk9PT1vLTE/bjpudWxsIT1yP3I6IX50W2krMV0uaW5kZXhPZigiLiIpJiYrdFtpKzFdPi0xP1tdOnt9fX0sMTY5OmZ1bmN0aW9uKGUsdCl7Ci8qCiogQGxpY2Vuc2UgTUlUCiogRnVuIEhvb2tzIHYwLjkuMTAKKiAoYykgQHNuYXB3aWNoCiovCmMuU1lOQz0xLGMuQVNZTkM9MixjLlFVRVVFPTQ7dmFyIG49T2JqZWN0LmZyZWV6ZSh7dXNlUHJveHk6ITAscmVhZHk6MH0pLHI9bmV3IFdlYWtNYXAsaT0iMiwxLDAiPT09WzFdLnJlZHVjZSgoZnVuY3Rpb24oZSx0LG4pe3JldHVybltlLHQsbl19KSwyKS50b1N0cmluZygpP0FycmF5LnByb3RvdHlwZS5yZWR1Y2U6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPU9iamVjdCh0aGlzKSxpPXIubGVuZ3RoPj4+MCxvPTA7aWYodCluPXQ7ZWxzZXtmb3IoO288aSYmIShvIGluIHIpOylvKys7bj1yW28rK119Zm9yKDtvPGk7KW8gaW4gciYmKG49ZShuLHJbb10sbyxyKSksbysrO3JldHVybiBufTtmdW5jdGlvbiBvKGUsdCl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUsdCl9dmFyIGE9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7cmV0dXJuIGkuY2FsbChvKGFyZ3VtZW50cywxKSwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCYmT2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24obil7ZVtuXT10W25dfSkpLGV9KSxlKX07ZnVuY3Rpb24gYyhlKXt2YXIgdCx1PXt9LHM9W107ZnVuY3Rpb24gZChlLHQpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlP2cuY2FsbChudWxsLCJzeW5jIixlLHQpOiJzdHJpbmciPT10eXBlb2YgZSYmImZ1bmN0aW9uIj09dHlwZW9mIHQ/Zy5hcHBseShudWxsLGFyZ3VtZW50cyk6Im9iamVjdCI9PXR5cGVvZiBlP2YuYXBwbHkobnVsbCxhcmd1bWVudHMpOnZvaWQgMH1mdW5jdGlvbiBmKGUsdCxuKXt2YXIgcj0hMDt2b2lkIDA9PT10JiYodD1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKSxyPSExKTt2YXIgaT17fSxvPVsiY29uc3RydWN0b3IiXTtkb3sodD10LmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuISgiZnVuY3Rpb24iIT10eXBlb2YgZVt0XXx8LTEhPT1vLmluZGV4T2YodCl8fHQubWF0Y2goL15fLykpfSkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcj10LnNwbGl0KCI6Iiksbz1yWzBdLGE9clsxXXx8InN5bmMiO2lmKCFpW29dKXt2YXIgYz1lW29dO2lbb109ZVtvXT1nKGEsYyxuP1tuLG9dOnZvaWQgMCl9fSkpLGU9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpfXdoaWxlKHImJmUpO3JldHVybiBpfWZ1bmN0aW9uIGwoZSl7dmFyIG49QXJyYXkuaXNBcnJheShlKT9lOmUuc3BsaXQoIi4iKTtyZXR1cm4gaS5jYWxsKG4sKGZ1bmN0aW9uKHIsaSxvKXt2YXIgYT1yW2ldLGM9ITE7cmV0dXJuIGF8fChvPT09bi5sZW5ndGgtMT8odHx8cy5wdXNoKChmdW5jdGlvbigpe2N8fGNvbnNvbGUud2FybigiZnVuLWhvb2tzOiByZWZlcmVuY2VkICciK2UrIicgYnV0IGl0IHdhcyBuZXZlciBjcmVhdGVkIil9KSkscltpXT1wKChmdW5jdGlvbihlKXtyW2ldPWUsYz0hMH0pKSk6cltpXT17fSl9KSx1KX1mdW5jdGlvbiBwKGUpe3ZhciB0PVtdLG49W10saT1mdW5jdGlvbigpe30sbz17YmVmb3JlOmZ1bmN0aW9uKGUsbil7cmV0dXJuIHUuY2FsbCh0aGlzLHQsImJlZm9yZSIsZSxuKX0sYWZ0ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdS5jYWxsKHRoaXMsbiwiYWZ0ZXIiLGUsdCl9LGdldEhvb2tzOmZ1bmN0aW9uKGUpe3ZhciByPXQuY29uY2F0KG4pOyJvYmplY3QiPT10eXBlb2YgZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qua2V5cyhlKS5ldmVyeSgoZnVuY3Rpb24obil7cmV0dXJuIHRbbl09PT1lW25dfSkpfSkpKTt0cnl7YShyLHtyZW1vdmU6ZnVuY3Rpb24oKXtyZXR1cm4gci5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnJlbW92ZSgpfSkpLHRoaXN9fSl9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcigiZXJyb3IgYWRkaW5nIGByZW1vdmVgIHRvIGFycmF5LCBkaWQgeW91IG1vZGlmeSBBcnJheS5wcm90b3R5cGU/Iil9cmV0dXJuIHJ9LHJlbW92ZUFsbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEhvb2tzKCkucmVtb3ZlKCl9fSxjPXtpbnN0YWxsOmZ1bmN0aW9uKHIsbyxhKXt0aGlzLnR5cGU9cixpPWEsYSh0LG4pLGUmJmUobyl9fTtyZXR1cm4gci5zZXQoby5hZnRlcixjKSxvO2Z1bmN0aW9uIHUoZSxyLG8sYSl7dmFyIGM9e2hvb2s6byx0eXBlOnIscHJpb3JpdHk6YXx8MTAscmVtb3ZlOmZ1bmN0aW9uKCl7dmFyIHI9ZS5pbmRleE9mKGMpOy0xIT09ciYmKGUuc3BsaWNlKHIsMSksaSh0LG4pKX19O3JldHVybiBlLnB1c2goYyksZS5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiB0LnByaW9yaXR5LWUucHJpb3JpdHl9KSksaSh0LG4pLHRoaXN9fWZ1bmN0aW9uIGcobixpLHUpe3ZhciBkPWkuYWZ0ZXImJnIuZ2V0KGkuYWZ0ZXIpO2lmKGQpe2lmKGQudHlwZSE9PW4pdGhyb3ciZnVuLWhvb2tzOiByZWNyZWF0ZWQgaG9va2FibGUgd2l0aCBkaWZmZXJlbnQgdHlwZSI7cmV0dXJuIGl9dmFyIGYsZyxiPXU/bCh1KTpwKCksdj17Z2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGJbdF18fFJlZmxlY3QuZ2V0LmFwcGx5KFJlZmxlY3QsYXJndW1lbnRzKX19O3JldHVybiB0fHxzLnB1c2goeSksZS51c2VQcm94eSYmImZ1bmN0aW9uIj09dHlwZW9mIFByb3h5JiZQcm94eS5yZXZvY2FibGU/Zz1uZXcgUHJveHkoaSx2KTphKGc9ZnVuY3Rpb24oKXtyZXR1cm4gdi5hcHBseT92LmFwcGx5KGksdGhpcyxvKGFyZ3VtZW50cykpOmkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxiKSxyLmdldChnLmFmdGVyKS5pbnN0YWxsKG4sZywoZnVuY3Rpb24oZSx0KXt2YXIgcixpPVtdO2UubGVuZ3RofHx0Lmxlbmd0aD8oZS5mb3JFYWNoKGEpLHI9aS5wdXNoKHZvaWQgMCktMSx0LmZvckVhY2goYSksZj1mdW5jdGlvbihlLHQsYSl7dmFyIGMsdT0wLHM9ImFzeW5jIj09PW4mJiJmdW5jdGlvbiI9PXR5cGVvZiBhW2EubGVuZ3RoLTFdJiZhLnBvcCgpO2Z1bmN0aW9uIGQoZSl7InN5bmMiPT09bj9jPWU6cyYmcy5hcHBseShudWxsLGFyZ3VtZW50cyl9ZnVuY3Rpb24gZihlKXtpZihpW3VdKXt2YXIgcj1vKGFyZ3VtZW50cyk7cmV0dXJuIGYuYmFpbD1kLHIudW5zaGlmdChmKSxpW3UrK10uYXBwbHkodCxyKX0ic3luYyI9PT1uP2M9ZTpzJiZzLmFwcGx5KG51bGwsYXJndW1lbnRzKX1yZXR1cm4gaVtyXT1mdW5jdGlvbigpe3ZhciByPW8oYXJndW1lbnRzLDEpOyJhc3luYyI9PT1uJiZzJiYoZGVsZXRlIGYuYmFpbCxyLnB1c2goZikpO3ZhciBpPWUuYXBwbHkodCxyKTsic3luYyI9PT1uJiZmKGkpfSxmLmFwcGx5KG51bGwsYSksY30pOmY9dm9pZCAwO2Z1bmN0aW9uIGEoZSl7aS5wdXNoKGUuaG9vayl9eSgpfSkpLGc7ZnVuY3Rpb24geSgpeyF0JiYoInN5bmMiIT09bnx8ZS5yZWFkeSZjLlNZTkMpJiYoImFzeW5jIiE9PW58fGUucmVhZHkmYy5BU1lOQyk/InN5bmMiIT09biYmZS5yZWFkeSZjLlFVRVVFP3YuYXBwbHk9ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHM7cy5wdXNoKChmdW5jdGlvbigpe2cuYXBwbHkoZVsxXSxlWzJdKX0pKX06di5hcHBseT1mdW5jdGlvbigpe3Rocm93ImZ1bi1ob29rczogaG9va2VkIGZ1bmN0aW9uIG5vdCByZWFkeSJ9OnYuYXBwbHk9Zn19cmV0dXJuKGU9YSh7fSxuLGUpKS5yZWFkeT9kLnJlYWR5PWZ1bmN0aW9uKCl7dD0hMCxmdW5jdGlvbihlKXtmb3IodmFyIHQ7dD1lLnNoaWZ0KCk7KXQoKX0ocyl9OnQ9ITAsZC5nZXQ9bCxkfWUuZXhwb3J0cz1jfSwxNzpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz0hMH0sMTk6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTYpLGk9big4Niksbz1uKDUwKSxhPW4oMjYpLGM9big2MyksdT1uKDg3KSxzPWZ1bmN0aW9uKGUsdCl7dGhpcy5zdG9wcGVkPWUsdGhpcy5yZXN1bHQ9dH07ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgZCxmLGwscCxnLGIsdix5PW4mJm4udGhhdCxoPSEoIW58fCFuLkFTX0VOVFJJRVMpLG09ISghbnx8IW4uSVNfSVRFUkFUT1IpLFM9ISghbnx8IW4uSU5URVJSVVBURUQpLEU9YSh0LHksMStoK1MpLEE9ZnVuY3Rpb24oZSl7cmV0dXJuIGQmJnUoZCksbmV3IHMoITAsZSl9LFQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGg/KHIoZSksUz9FKGVbMF0sZVsxXSxBKTpFKGVbMF0sZVsxXSkpOlM/RShlLEEpOkUoZSl9O2lmKG0pZD1lO2Vsc2V7aWYoImZ1bmN0aW9uIiE9dHlwZW9mKGY9YyhlKSkpdGhyb3cgVHlwZUVycm9yKCJUYXJnZXQgaXMgbm90IGl0ZXJhYmxlIik7aWYoaShmKSl7Zm9yKGw9MCxwPW8oZS5sZW5ndGgpO3A+bDtsKyspaWYoKGc9VChlW2xdKSkmJmcgaW5zdGFuY2VvZiBzKXJldHVybiBnO3JldHVybiBuZXcgcyghMSl9ZD1mLmNhbGwoZSl9Zm9yKGI9ZC5uZXh0OyEodj1iLmNhbGwoZCkpLmRvbmU7KXt0cnl7Zz1UKHYudmFsdWUpfWNhdGNoKGUpe3Rocm93IHUoZCksZX1pZigib2JqZWN0Ij09dHlwZW9mIGcmJmcmJmcgaW5zdGFuY2VvZiBzKXJldHVybiBnfXJldHVybiBuZXcgcyghMSl9fSwyOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImMiLChmdW5jdGlvbigpe3JldHVybiByfSkpLG4uZCh0LCJkIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKSxuLmQodCwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSksbi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBhfSkpO3ZhciByPSJuYXRpdmUiLGk9InZpZGVvIixvPSJiYW5uZXIiLGE9ImFkcG9kIn0sMjA6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSk7dmFyIHI9bigzKSxpPW4oMCk7dmFyIG89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt2YXIgdD1yLmIuZ2V0Q29uZmlnKCJwYWdlVXJsIik7aWYodClyZXR1cm4gdDt0cnl7dmFyIG49ZS5xdWVyeVNlbGVjdG9yKCJsaW5rW3JlbD0nY2Fub25pY2FsJ10iKTtpZihudWxsIT09bilyZXR1cm4gbi5ocmVmfWNhdGNoKGUpe31yZXR1cm4gbnVsbH1yZXR1cm4gZnVuY3Rpb24oKXt2YXIgbixvLGEsYz1bXSx1PWZ1bmN0aW9uKGUpe3RyeXtpZighZS5sb2NhdGlvbi5hbmNlc3Rvck9yaWdpbnMpcmV0dXJuO3JldHVybiBlLmxvY2F0aW9uLmFuY2VzdG9yT3JpZ2luc31jYXRjaChlKXt9fShlKSxzPXIuYi5nZXRDb25maWcoIm1heE5lc3RlZElmcmFtZXMiKSxkPSExLGY9MCxsPSExLHA9ITE7ZG97dmFyIGc9bixiPXAsdj12b2lkIDAseT0hMSxoPW51bGw7cD0hMSxuPW4/bi5wYXJlbnQ6ZTt0cnl7dj1uLmxvY2F0aW9uLmhyZWZ8fG51bGx9Y2F0Y2goZSl7eT0hMH1pZih5KWlmKGIpe3ZhciBtPWcuY29udGV4dDt0cnl7bz1oPW0uc291cmNlVXJsLGw9ITAsbj09PWUudG9wJiYoZD0hMCksbS5jYW5vbmljYWxVcmwmJihhPW0uY2Fub25pY2FsVXJsKX1jYXRjaChlKXt9fWVsc2V7T2JqZWN0KGkubG9nV2FybikoIlRyeWluZyB0byBhY2Nlc3MgY3Jvc3MgZG9tYWluIGlmcmFtZS4gQ29udGludWluZyB3aXRob3V0IHJlZmVycmVyIGFuZCBsb2NhdGlvbiIpO3RyeXt2YXIgUz1nLmRvY3VtZW50LnJlZmVycmVyO1MmJihoPVMsbj09PWUudG9wJiYoZD0hMCkpfWNhdGNoKGUpe30haCYmdSYmdVtmLTFdJiYoaD11W2YtMV0pLGgmJiFsJiYobz1oKX1lbHNle2lmKHYmJihvPWg9dixsPSExLG49PT1lLnRvcCkpe2Q9ITA7dmFyIEU9dChuLmRvY3VtZW50KTtFJiYoYT1FKX1uLmNvbnRleHQmJm4uY29udGV4dC5zb3VyY2VVcmwmJihwPSEwKX1jLnB1c2goaCksZisrfXdoaWxlKG4hPT1lLnRvcCYmZjxzKTtyZXR1cm4gYy5yZXZlcnNlKCkse3JlZmVyZXI6b3x8bnVsbCxyZWFjaGVkVG9wOmQsaXNBbXA6bCxudW1JZnJhbWVzOmYtMSxzdGFjazpjLGNhbm9uaWNhbFVybDphfHxudWxsfX19KHdpbmRvdyl9LDIxOmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihTdHJpbmcoZSkrIiBpcyBub3QgYSBmdW5jdGlvbiIpO3JldHVybiBlfX0sMjEzOmZ1bmN0aW9uKGUsdCxuKXtuKDIxNCk7dmFyIHI9big1Mik7ZS5leHBvcnRzPXIoIkFycmF5IiwiZmluZEluZGV4Iil9LDIxNDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9big1OSkuZmluZEluZGV4LG89big1MSksYT0iZmluZEluZGV4IixjPSEwO2EgaW5bXSYmQXJyYXkoMSkuZmluZEluZGV4KChmdW5jdGlvbigpe2M9ITF9KSkscih7dGFyZ2V0OiJBcnJheSIscHJvdG86ITAsZm9yY2VkOmN9LHtmaW5kSW5kZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KSxvKGEpfSwyMTk6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaCwhMSl9O3ZhciByPW4oOSksaT1uLm4ociksbz1uKDM2KSxhPW4oNSksYz1uLm4oYSksdT1uKDApLHM9bigyMyksZD1uKDExKSxmPW4ubihkKSxsPW4oMTMpLHA9bigxMiksZz1uLm4ocCksYj1uKDMpLHY9Yy5hLkVWRU5UUy5CSURfV09OLHk9Yy5hLkVWRU5UUy5TVEFMRV9SRU5ERVI7ZnVuY3Rpb24gaChlKXt2YXIgdD1lLm1lc3NhZ2U/Im1lc3NhZ2UiOiJkYXRhIixuPXt9O3RyeXtuPUpTT04ucGFyc2UoZVt0XSl9Y2F0Y2goZSl7cmV0dXJufWlmKG4mJm4uYWRJZCl7dmFyIHI9ZigpKHMuYS5nZXRCaWRzUmVjZWl2ZWQoKSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRJZD09PW4uYWRJZH0pKTtpZihyJiYiUHJlYmlkIFJlcXVlc3QiPT09bi5tZXNzYWdlKXtpZihyLnN0YXR1cz09PWMuYS5CSURfU1RBVFVTLlJFTkRFUkVEJiYoT2JqZWN0KHUubG9nV2FybikoIkFkIGlkICIuY29uY2F0KHIuYWRJZCwiIGhhcyBiZWVuIHJlbmRlcmVkIGJlZm9yZSIpKSxpLmEuZW1pdCh5LHIpLE9iamVjdCh1LmRlZXBBY2Nlc3MpKGIuYi5nZXRDb25maWcoImF1Y3Rpb25PcHRpb25zIiksInN1cHByZXNzU3RhbGVSZW5kZXIiKSkpcmV0dXJuOyFmdW5jdGlvbihlLHQpe3ZhciBuPWUuYWRJZCxyPWUuYWQsaT1lLmFkVXJsLG89ZS53aWR0aCxhPWUuaGVpZ2h0LGM9ZS5yZW5kZXJlcixzPWUuY3BtO09iamVjdChsLmMpKGMpP09iamVjdChsLmIpKGMsZSk6biYmKG0oZSksdC5zb3VyY2UucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoe21lc3NhZ2U6IlJlbmRlciBTZWN1cmUgQ3JlYXRpdmUiLGFkOk9iamVjdCh1LnJlcGxhY2VBdWN0aW9uUHJpY2UpKHIscyksYWRVcmw6T2JqZWN0KHUucmVwbGFjZUF1Y3Rpb25QcmljZSkoaSxzKSxhZElkOm4sd2lkdGg6byxoZWlnaHQ6YX0pLHQub3JpZ2luKSl9KHIsZSkscy5hLmFkZFdpbm5pbmdCaWQociksaS5hLmVtaXQodixyKX1pZihyJiYiUHJlYmlkIE5hdGl2ZSI9PT1uLm1lc3NhZ2Upe2lmKCJhc3NldFJlcXVlc3QiPT09bi5hY3Rpb24pe3ZhciBhPU9iamVjdChvLmQpKG4scik7cmV0dXJuIHZvaWQgZS5zb3VyY2UucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoYSksZS5vcmlnaW4pfWlmKCJhbGxBc3NldFJlcXVlc3QiPT09bi5hY3Rpb24pe3ZhciBkPU9iamVjdChvLmMpKG4scik7ZS5zb3VyY2UucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoZCksZS5vcmlnaW4pfWVsc2UicmVzaXplTmF0aXZlSGVpZ2h0Ij09PW4uYWN0aW9uJiYoci5oZWlnaHQ9bi5oZWlnaHQsci53aWR0aD1uLndpZHRoLG0ocikpO2lmKCJjbGljayI9PT1PYmplY3Qoby5iKShuLHIpKXJldHVybjtzLmEuYWRkV2lubmluZ0JpZChyKSxpLmEuZW1pdCh2LHIpfX19ZnVuY3Rpb24gbShlKXt2YXIgdD1lLmFkSWQsbj1lLmFkVW5pdENvZGUscj1lLndpZHRoLGk9ZS5oZWlnaHQ7WyJkaXYiLCJpZnJhbWUiXS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbz1mdW5jdGlvbihlKXt2YXIgcj1mdW5jdGlvbihlLHQpe3ZhciBuO09iamVjdCh1LmlzR3B0UHViYWRzRGVmaW5lZCkoKSYmKG49ZnVuY3Rpb24oZSl7dmFyIHQ9ZigpKHdpbmRvdy5nb29nbGV0YWcucHViYWRzKCkuZ2V0U2xvdHMoKSwoZnVuY3Rpb24odCl7cmV0dXJuIGYoKSh0LmdldFRhcmdldGluZ0tleXMoKSwoZnVuY3Rpb24obil7cmV0dXJuIGcoKSh0LmdldFRhcmdldGluZyhuKSxlKX0pKX0pKTtyZXR1cm4gdCYmdC5nZXRTbG90RWxlbWVudElkKCl9KGUpKTshbiYmT2JqZWN0KHUuaXNBcG5HZXRUYWdEZWZpbmVkKSgpJiYobj1mdW5jdGlvbihlKXt2YXIgdD13aW5kb3cuYXBudGFnLmdldFRhZyhlKTtyZXR1cm4gdCYmdC50YXJnZXRJZH0odCkpO258fChuPXQpO3JldHVybiBufSh0LG4pLGk9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocik7cmV0dXJuIGkmJmkucXVlcnlTZWxlY3RvcihlKX0oZSsnOm5vdChbc3R5bGUqPSJkaXNwbGF5OiBub25lIl0pJyk7aWYobyl7dmFyIGE9by5zdHlsZTthLndpZHRoPXIrInB4IixhLmhlaWdodD1pKyJweCJ9ZWxzZSBPYmplY3QodS5sb2dXYXJuKSgiVW5hYmxlIHRvIGxvY2F0ZSBtYXRjaGluZyBwYWdlIGVsZW1lbnQgZm9yIGFkVW5pdENvZGUgIi5jb25jYXQobiwiLiAgQ2FuJ3QgcmVzaXplIGl0IHRvIGFkJ3MgZGltZW5zaW9ucy4gIFBsZWFzZSByZXZpZXcgc2V0dXAuIikpfSkpfX0sMjI6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSksbi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiB1fSkpLHQuZD1mdW5jdGlvbihlLHQpe3ZhciBuPU9iamVjdChyLmdldEJpZFJlcXVlc3QpKGUucmVxdWVzdElkLHQpLGk9biYmT2JqZWN0KHIuZGVlcEFjY2VzcykobiwibWVkaWFUeXBlcy52aWRlbyIpLG89aSYmT2JqZWN0KHIuZGVlcEFjY2VzcykoaSwiY29udGV4dCIpO3JldHVybiBzKGUsbixpLG8pfSxuLmQodCwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSk7big4KTt2YXIgcj1uKDApLGk9bigzKSxvPW4oMTIpLGE9KG4ubihvKSxuKDEwKSksYz0ib3V0c3RyZWFtIix1PSJpbnN0cmVhbSI7dmFyIHM9T2JqZWN0KGEuYikoInN5bmMiLChmdW5jdGlvbihlLHQsbixvKXtyZXR1cm4hdHx8biYmbyE9PWM/aS5iLmdldENvbmZpZygiY2FjaGUudXJsIil8fCFlLnZhc3RYbWx8fGUudmFzdFVybD8hKCFlLnZhc3RVcmwmJiFlLnZhc3RYbWwpOihPYmplY3Qoci5sb2dFcnJvcikoJ1xuICAgICAgICBUaGlzIGJpZCBjb250YWlucyBvbmx5IHZhc3RYbWwgYW5kIHdpbGwgbm90IHdvcmsgd2hlbiBhIHByZWJpZCBjYWNoZSB1cmwgaXMgbm90IHNwZWNpZmllZC5cbiAgICAgICAgVHJ5IGVuYWJsaW5nIHByZWJpZCBjYWNoZSB3aXRoIHVwYmpzLnNldENvbmZpZyh7IGNhY2hlOiB7dXJsOiAiLi4uIn0gfSk7XG4gICAgICAnKSwhMSk6byE9PWN8fCEhKGUucmVuZGVyZXJ8fHQucmVuZGVyZXJ8fG4ucmVuZGVyZXIpfSksImNoZWNrVmlkZW9CaWRTZXR1cCIpfSwyMjA6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSl7dmFyIHQ7dHJ5e2U9ZXx8d2luZG93LnNlc3Npb25TdG9yYWdlLHQ9SlNPTi5wYXJzZShlLmdldEl0ZW0odSkpfWNhdGNoKGUpe310JiZwKHQsITApfTt2YXIgcixpLG89bigzKSxhPW4oMCksYz1uKDI4KSx1PSJ1cGJqczpkZWJ1Z2dpbmciO2Z1bmN0aW9uIHMoZSl7T2JqZWN0KGEubG9nTWVzc2FnZSkoIkRFQlVHOiAiK2UpfWZ1bmN0aW9uIGQoZSl7T2JqZWN0KGEubG9nV2FybikoIkRFQlVHOiAiK2UpfWZ1bmN0aW9uIGYoZSl7cj15LmJpbmQoZSksYy5jLmJlZm9yZShyLDUpLGk9aC5iaW5kKGUpLGMuZS5iZWZvcmUoaSw1KX1mdW5jdGlvbiBsKCl7Yy5jLmdldEhvb2tzKHtob29rOnJ9KS5yZW1vdmUoKSxjLmUuZ2V0SG9va3Moe2hvb2s6aX0pLnJlbW92ZSgpfWZ1bmN0aW9uIHAoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTtvLmIuc2V0Q29uZmlnKHtkZWJ1ZzohMH0pLGwoKSxmKGUpLHMoImJpZGRlciBvdmVycmlkZXMgZW5hYmxlZCIuY29uY2F0KHQ/IiBmcm9tIHNlc3Npb24iOiIiKSl9ZnVuY3Rpb24gZyhlLHQsbil7cmV0dXJuISghZS5iaWRkZXJ8fGUuYmlkZGVyPT09dCl8fCEoIWUuYWRVbml0Q29kZXx8ZS5hZFVuaXRDb2RlPT09bil9ZnVuY3Rpb24gYihlLHQpe3JldHVybiBBcnJheS5pc0FycmF5KGUpJiYtMT09PWUuaW5kZXhPZih0KX1mdW5jdGlvbiB2KGUsdCxuKXtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4tMT09PVsiYWRVbml0Q29kZSIsImJpZGRlciJdLmluZGV4T2YoZSl9KSkucmVkdWNlKChmdW5jdGlvbih0LHIpe3JldHVybiBzKCJiaWRkZXIgb3ZlcnJpZGVzIGNoYW5nZWQgJyIuY29uY2F0KHQuYWRVbml0Q29kZSwiLyIpLmNvbmNhdCh0LmJpZGRlckNvZGUsIicgIikuY29uY2F0KG4sIi4iKS5jb25jYXQociwiIGZyb20gJyIpLmNvbmNhdCh0W3JdLCIuanMnIHRvICciKS5jb25jYXQoZVtyXSwiJyIpKSx0W3JdPWVbcl0sdH0pLHQpfWZ1bmN0aW9uIHkoZSx0LG4pe3ZhciByPXRoaXM7YihyLmJpZGRlcnMsbi5iaWRkZXJDb2RlKT9kKCJiaWRkZXIgJyIuY29uY2F0KG4uYmlkZGVyQ29kZSwiJyBleGNsdWRlZCBmcm9tIGF1Y3Rpb24gYnkgYmlkZGVyIG92ZXJyaWRlcyIpKTooQXJyYXkuaXNBcnJheShyLmJpZHMpJiZyLmJpZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZyhlLG4uYmlkZGVyQ29kZSx0KXx8dihlLG4sImJpZGRlciIpfSkpLGUodCxuKSl9ZnVuY3Rpb24gaChlLHQpe3ZhciBuPXRoaXMscj10LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIWIobi5iaWRkZXJzLGUuYmlkZGVyQ29kZSl8fChkKCJiaWRSZXF1ZXN0ICciLmNvbmNhdChlLmJpZGRlckNvZGUsIicgZXhjbHVkZWQgZnJvbSBhdWN0aW9uIGJ5IGJpZGRlciBvdmVycmlkZXMiKSksITEpfSkpO0FycmF5LmlzQXJyYXkobi5iaWRSZXF1ZXN0cykmJnIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bi5iaWRSZXF1ZXN0cy5mb3JFYWNoKChmdW5jdGlvbih0KXtlLmJpZHMuZm9yRWFjaCgoZnVuY3Rpb24obil7Zyh0LGUuYmlkZGVyQ29kZSxuLmFkVW5pdENvZGUpfHx2KHQsbiwiYmlkUmVxdWVzdCIpfSkpfSkpfSkpLGUocil9ZnVuY3Rpb24gbShlKXtpZihlLmVuYWJsZWQpe3RyeXt3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSh1LEpTT04uc3RyaW5naWZ5KGUpKX1jYXRjaChlKXt9cChlKX1lbHNle2woKSxzKCJiaWRkZXIgb3ZlcnJpZGVzIGRpc2FibGVkIik7dHJ5e3dpbmRvdy5zZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKHUpfWNhdGNoKGUpe319fW8uYi5nZXRDb25maWcoImRlYnVnZ2luZyIsKGZ1bmN0aW9uKGUpe3JldHVybiBtKGUuZGVidWdnaW5nKX0pKX0sMjM6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSk7dmFyIHI9bigwKSxpPW4oMjgpLG89bigxMSksYT1uLm4obyksYz1uKDUpO3ZhciB1PWZ1bmN0aW9uKCl7dmFyIGU9W10sdD17fTtyZXR1cm4gdC5hZGRXaW5uaW5nQmlkPWZ1bmN0aW9uKHQpe3ZhciBuPWEoKShlLChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBdWN0aW9uSWQoKT09PXQuYXVjdGlvbklkfSkpO24/KHQuc3RhdHVzPWMuQklEX1NUQVRVUy5SRU5ERVJFRCxuLmFkZFdpbm5pbmdCaWQodCkpOk9iamVjdChyLmxvZ1dhcm4pKCJBdWN0aW9uIG5vdCBmb3VuZCB3aGVuIGFkZGluZyB3aW5uaW5nIGJpZCIpfSx0LmdldEFsbFdpbm5pbmdCaWRzPWZ1bmN0aW9uKCl7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRXaW5uaW5nQmlkcygpfSkpLnJlZHVjZShyLmZsYXR0ZW4sW10pfSx0LmdldEJpZHNSZXF1ZXN0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEJpZFJlcXVlc3RzKCl9KSkucmVkdWNlKHIuZmxhdHRlbixbXSl9LHQuZ2V0Tm9CaWRzPWZ1bmN0aW9uKCl7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXROb0JpZHMoKX0pKS5yZWR1Y2Uoci5mbGF0dGVuLFtdKX0sdC5nZXRCaWRzUmVjZWl2ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe2lmKGUuZ2V0QXVjdGlvblN0YXR1cygpPT09aS5hKXJldHVybiBlLmdldEJpZHNSZWNlaXZlZCgpfSkpLnJlZHVjZShyLmZsYXR0ZW4sW10pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSl9LHQuZ2V0QWxsQmlkc0ZvckFkVW5pdENvZGU9ZnVuY3Rpb24odCl7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRCaWRzUmVjZWl2ZWQoKX0pKS5yZWR1Y2Uoci5mbGF0dGVuLFtdKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmFkVW5pdENvZGU9PT10fSkpfSx0LmdldEFkVW5pdHM9ZnVuY3Rpb24oKXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEFkVW5pdHMoKX0pKS5yZWR1Y2Uoci5mbGF0dGVuLFtdKX0sdC5nZXRBZFVuaXRDb2Rlcz1mdW5jdGlvbigpe3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0QWRVbml0Q29kZXMoKX0pKS5yZWR1Y2Uoci5mbGF0dGVuLFtdKS5maWx0ZXIoci51bmlxdWVzKX0sdC5jcmVhdGVBdWN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBuPXQuYWRVbml0cyxyPXQuYWRVbml0Q29kZXMsbz10LmNhbGxiYWNrLGE9dC5jYlRpbWVvdXQsYz10LmxhYmVscyx1PXQuYXVjdGlvbklkLHM9T2JqZWN0KGkuaykoe2FkVW5pdHM6bixhZFVuaXRDb2RlczpyLGNhbGxiYWNrOm8sY2JUaW1lb3V0OmEsbGFiZWxzOmMsYXVjdGlvbklkOnV9KTtyZXR1cm4gZnVuY3Rpb24odCl7ZS5wdXNoKHQpfShzKSxzfSx0LmZpbmRCaWRCeUFkSWQ9ZnVuY3Rpb24odCl7cmV0dXJuIGEoKShlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0Qmlkc1JlY2VpdmVkKCl9KSkucmVkdWNlKHIuZmxhdHRlbixbXSksKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkSWQ9PT10fSkpfSx0LmdldFN0YW5kYXJkQmlkZGVyQWRTZXJ2ZXJUYXJnZXRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGkuaikoKVtjLkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkddfSx0LnNldFN0YXR1c0ZvckJpZHM9ZnVuY3Rpb24obixyKXt2YXIgaT10LmZpbmRCaWRCeUFkSWQobik7aWYoaSYmKGkuc3RhdHVzPXIpLGkmJnI9PT1jLkJJRF9TVEFUVVMuQklEX1RBUkdFVElOR19TRVQpe3ZhciBvPWEoKShlLChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBdWN0aW9uSWQoKT09PWkuYXVjdGlvbklkfSkpO28mJm8uc2V0QmlkVGFyZ2V0aW5nKGkpfX0sdC5nZXRMYXN0QXVjdGlvbklkPWZ1bmN0aW9uKCl7cmV0dXJuIGUubGVuZ3RoJiZlW2UubGVuZ3RoLTFdLmdldEF1Y3Rpb25JZCgpfSx0LmNsZWFyQWxsQXVjdGlvbnM9ZnVuY3Rpb24oKXtlLmxlbmd0aD0wfSx0fSgpfSwyNDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyNSksaT1uKDgxKSxvPW4oMzEpLGE9big2MiksYz1uKDgyKSx1PW4oMTExKSxzPWkoIndrcyIpLGQ9ci5TeW1ib2wsZj11P2Q6ZCYmZC53aXRob3V0U2V0dGVyfHxhO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbyhzLGUpJiYoY3x8InN0cmluZyI9PXR5cGVvZiBzW2VdKXx8KGMmJm8oZCxlKT9zW2VdPWRbZV06c1tlXT1mKCJTeW1ib2wuIitlKSksc1tlXX19LDI1OmZ1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24odCl7dmFyIG49ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuTWF0aD09TWF0aCYmZX07ZS5leHBvcnRzPW4oIm9iamVjdCI9PXR5cGVvZiBnbG9iYWxUaGlzJiZnbG9iYWxUaGlzKXx8bigib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmd2luZG93KXx8bigib2JqZWN0Ij09dHlwZW9mIHNlbGYmJnNlbGYpfHxuKCJvYmplY3QiPT10eXBlb2YgdCYmdCl8fGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCl8fEZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCl9KS5jYWxsKHQsbigzOSkpfSwyNjpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyMSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXtpZihyKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKG4pe2Nhc2UgMDpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5jYWxsKHQpfTtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBlLmNhbGwodCxuKX07Y2FzZSAyOnJldHVybiBmdW5jdGlvbihuLHIpe3JldHVybiBlLmNhbGwodCxuLHIpfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKG4scixpKXtyZXR1cm4gZS5jYWxsKHQsbixyLGkpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0LGFyZ3VtZW50cyl9fX0sMjc6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNDkpLGk9bigyNSksbz1mdW5jdGlvbihlKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZT9lOnZvaWQgMH07ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8Mj9vKHJbZV0pfHxvKGlbZV0pOnJbZV0mJnJbZV1bdF18fGlbZV0mJmlbZV1bdF19fSwyODpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gT30pKSxuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEl9KSksdC5rPWZ1bmN0aW9uKGUpe3ZhciB0LG4sbyxhLHM9ZS5hZFVuaXRzLGQ9ZS5hZFVuaXRDb2RlcyxmPWUuY2FsbGJhY2sscD1lLmNiVGltZW91dCx2PWUubGFiZWxzLFU9ZS5hdWN0aW9uSWQsaz1zLFA9dixNPWQscT1bXSxXPVtdLEw9W10sRj1VfHxTLmdlbmVyYXRlVVVJRCgpLHo9ZixWPXAsSD1bXSxLPW5ldyBTZXQ7ZnVuY3Rpb24gSigpe3JldHVybnthdWN0aW9uSWQ6Rix0aW1lc3RhbXA6dCxhdWN0aW9uRW5kOm4sYXVjdGlvblN0YXR1czpvLGFkVW5pdHM6ayxhZFVuaXRDb2RlczpNLGxhYmVsczpQLGJpZGRlclJlcXVlc3RzOnEsbm9CaWRzOkwsYmlkc1JlY2VpdmVkOlcsd2lubmluZ0JpZHM6SCx0aW1lb3V0OlZ9fWZ1bmN0aW9uIFkoZSx0KXtpZih0JiZjbGVhclRpbWVvdXQoYSksdm9pZCAwPT09bil7dmFyIGk9W107ZSYmKFMubG9nTWVzc2FnZSgiQXVjdGlvbiAiLmNvbmNhdChGLCIgdGltZWRPdXQiKSksYz1LLChpPXEubWFwKChmdW5jdGlvbihlKXtyZXR1cm4oZS5iaWRzfHxbXSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hYy5oYXMoZS5iaWRkZXIpfSkpfSkpLnJlZHVjZShyLmZsYXR0ZW4sW10pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue2JpZElkOmUuYmlkSWQsYmlkZGVyOmUuYmlkZGVyLGFkVW5pdENvZGU6ZS5hZFVuaXRDb2RlLGF1Y3Rpb25JZDplLmF1Y3Rpb25JZH19KSkpLmxlbmd0aCYmQS5lbWl0KFQuRVZFTlRTLkJJRF9USU1FT1VULGkpKSxvPUksbj1EYXRlLm5vdygpLEEuZW1pdChULkVWRU5UUy5BVUNUSU9OX0VORCxKKCkpLEIoaywoZnVuY3Rpb24oKXt0cnl7aWYobnVsbCE9eil7dmFyIHQ9TSxuPVcuZmlsdGVyKFMuYmluZC5jYWxsKHIuYWRVbml0c0ZpbHRlcix0aGlzLHQpKS5yZWR1Y2UoRyx7fSk7ei5hcHBseSh1cGJqcyxbbixlLEZdKSx6PW51bGx9fWNhdGNoKGUpe1MubG9nRXJyb3IoIkVycm9yIGV4ZWN1dGluZyBiaWRzQmFja0hhbmRsZXIiLG51bGwsZSl9ZmluYWxseXtpLmxlbmd0aCYmRS5jYWxsVGltZWRPdXRCaWRkZXJzKHMsaSxWKTt2YXIgbz11LmIuZ2V0Q29uZmlnKCJ1c2VyU3luYyIpfHx7fTtvLmVuYWJsZU92ZXJyaWRlfHxtKG8uc3luY0RlbGF5KX19KSl9dmFyIGN9ZnVuY3Rpb24gUSgpe3UuYi5yZXNldEJpZGRlcigpLFMubG9nSW5mbygiQmlkcyBSZWNlaXZlZCBmb3IgQXVjdGlvbiB3aXRoIGlkOiAiLmNvbmNhdChGKSxXKSxvPUksWSghMSwhMCl9ZnVuY3Rpb24gJChlKXtLLmFkZChlKX1mdW5jdGlvbiBYKGUpe3ZhciB0PXRoaXM7ZS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdDt0PWUscT1xLmNvbmNhdCh0KX0pKTt2YXIgbj17fSxzPXtiaWRSZXF1ZXN0czplLHJ1bjpmdW5jdGlvbigpe3ZhciBzLHA7cz1ZLmJpbmQobnVsbCwhMCkscD1zZXRUaW1lb3V0KHMsViksYT1wLG89TyxBLmVtaXQoVC5FVkVOVFMuQVVDVElPTl9JTklULEooKSk7dmFyIHY9ZnVuY3Rpb24oZSx0KXt2YXIgbj0wLG89ITEsYT1uZXcgU2V0LHM9e307ZnVuY3Rpb24gZCgpe24tLSxvJiYwPT09biYmZSgpfWZ1bmN0aW9uIGYoZSxvKXt2YXIgYT10aGlzO3Nbby5yZXF1ZXN0SWRdPSEwLG4rKzt2YXIgZj1mdW5jdGlvbihlKXt2YXIgdD1lLmFkVW5pdENvZGUsbj1lLmJpZCxvPWUuYmlkZGVyUmVxdWVzdCxhPWUuYXVjdGlvbklkLHM9by5zdGFydCxkPWgoe30sbix7YXVjdGlvbklkOmEscmVzcG9uc2VUaW1lc3RhbXA6T2JqZWN0KHIudGltZXN0YW1wKSgpLHJlcXVlc3RUaW1lc3RhbXA6cyxjcG06cGFyc2VGbG9hdChuLmNwbSl8fDAsYmlkZGVyOm4uYmlkZGVyQ29kZSxhZFVuaXRDb2RlOnR9KTtkLnRpbWVUb1Jlc3BvbmQ9ZC5yZXNwb25zZVRpbWVzdGFtcC1kLnJlcXVlc3RUaW1lc3RhbXAsQS5lbWl0KFQuRVZFTlRTLkJJRF9BREpVU1RNRU5ULGQpO3ZhciBmPW8uYmlkcyYmbCgpKG8uYmlkcywoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRVbml0Q29kZT09dCYmZS5iaWRJZD09ZC5yZXF1ZXN0SWR9KSkscD1mJiZmLnJlbmRlcmVyLGc9ZC5tZWRpYVR5cGUsYj1mJiZmLm1lZGlhVHlwZXMmJmYubWVkaWFUeXBlc1tnXSx2PWImJmIucmVuZGVyZXIsbT1udWxsO3YmJnYudXJsJiZ2LnJlbmRlciYmKCEwIT09di5iYWNrdXBPbmx5fHwhbi5yZW5kZXJlcik/bT12OnAmJnAudXJsJiZwLnJlbmRlciYmKCEwIT09cC5iYWNrdXBPbmx5fHwhbi5yZW5kZXJlcikmJihtPXApO20mJihkLnJlbmRlcmVyPWMuYS5pbnN0YWxsKHt1cmw6bS51cmx9KSxkLnJlbmRlcmVyLnNldFJlbmRlcihtLnJlbmRlcikpO3ZhciBTPU4obi5tZWRpYVR5cGUsZix1LmIuZ2V0Q29uZmlnKCJtZWRpYVR5cGVQcmljZUdyYW51bGFyaXR5IikpLEU9T2JqZWN0KGkuYSkoZC5jcG0sIm9iamVjdCI9PT15KFMpP1M6dS5iLmdldENvbmZpZygiY3VzdG9tUHJpY2VCdWNrZXQiKSx1LmIuZ2V0Q29uZmlnKCJjdXJyZW5jeS5ncmFudWxhcml0eU11bHRpcGxpZXIiKSk7cmV0dXJuIGQucGJMZz1FLmxvdyxkLnBiTWc9RS5tZWQsZC5wYkhnPUUuaGlnaCxkLnBiQWc9RS5hdXRvLGQucGJEZz1FLmRlbnNlLGQucGJDZz1FLmN1c3RvbSxkfSh7YWRVbml0Q29kZTplLGJpZDpvLGJpZGRlclJlcXVlc3Q6YSxhdWN0aW9uSWQ6dC5nZXRBdWN0aW9uSWQoKX0pOyJ2aWRlbyI9PT1mLm1lZGlhVHlwZT9mdW5jdGlvbihlLHQsbixpKXt2YXIgbz0hMCxhPU9iamVjdChyLmdldEJpZFJlcXVlc3QpKHQub3JpZ2luYWxSZXF1ZXN0SWR8fHQucmVxdWVzdElkLFtuXSksYz1hJiZPYmplY3Qoci5kZWVwQWNjZXNzKShhLCJtZWRpYVR5cGVzLnZpZGVvIikscz1jJiZPYmplY3Qoci5kZWVwQWNjZXNzKShjLCJjb250ZXh0Iik7dS5iLmdldENvbmZpZygiY2FjaGUudXJsIikmJnMhPT1iLmImJighdC52aWRlb0NhY2hlS2V5fHx1LmIuZ2V0Q29uZmlnKCJjYWNoZS5pZ25vcmVCaWRkZXJDYWNoZUtleSIpPyhvPSExLEQoZSx0LGksYSkpOnQudmFzdFVybHx8KFMubG9nRXJyb3IoInZpZGVvQ2FjaGVLZXkgc3BlY2lmaWVkIGJ1dCBub3QgcmVxdWlyZWQgdmFzdFVybCBmb3IgdmlkZW8gYmlkIiksbz0hMSkpO28mJih4KGUsdCksaSgpKX0odCxmLGEsZCk6KHgodCxmKSxkKCkpfWZ1bmN0aW9uIHAoKXt2YXIgcj10aGlzLGk9dC5nZXRCaWRSZXF1ZXN0cygpLGM9dS5iLmdldENvbmZpZygiYXVjdGlvbk9wdGlvbnMiKTtpZihhLmFkZChyKSxjJiYhUy5pc0VtcHR5KGMpKXt2YXIgZD1jLnNlY29uZGFyeUJpZGRlcnM7ZCYmIWkuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBnKCkoZCxlLmJpZGRlckNvZGUpfSkpJiYoaT1pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIWcoKShkLGUuYmlkZGVyQ29kZSl9KSkpfW89aS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIGEuaGFzKGUpfSkpLHIuYmlkcy5mb3JFYWNoKChmdW5jdGlvbihlKXtzW2UuYmlkSWRdfHwodC5hZGROb0JpZChlKSxBLmVtaXQoVC5FVkVOVFMuTk9fQklELGUpKX0pKSxvJiYwPT09biYmZSgpfXJldHVybnthZGRCaWRSZXNwb25zZTpmLGFkYXB0ZXJEb25lOnB9fShRLHQpO0UuY2FsbEJpZHMoayxlLChmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO18uYXBwbHkoe2Rpc3BhdGNoOnYuYWRkQmlkUmVzcG9uc2UsYmlkZGVyUmVxdWVzdDp0aGlzfSx0KX0pLHYuYWRhcHRlckRvbmUse3JlcXVlc3Q6ZnVuY3Rpb24oZSx0KXtmKEMsdCksZihuLGUpLHdbZV18fCh3W2VdPXtTUkE6ITAsb3JpZ2luOnR9KSxuW2VdPjEmJih3W2VdLlNSQT0hMSl9LGRvbmU6ZnVuY3Rpb24oZSl7Q1tlXS0tLGpbMF0mJmQoalswXSkmJmouc2hpZnQoKX19LFYsJCl9fTtmdW5jdGlvbiBkKGUpe3ZhciB0PSEwLG49dS5iLmdldENvbmZpZygibWF4UmVxdWVzdHNQZXJPcmlnaW4iKXx8NDtyZXR1cm4gZS5iaWRSZXF1ZXN0cy5zb21lKChmdW5jdGlvbihlKXt2YXIgcj0xLGk9dm9pZCAwIT09ZS5zcmMmJmUuc3JjPT09VC5TMlMuU1JDPyJzMnMiOmUuYmlkZGVyQ29kZTtyZXR1cm4gd1tpXSYmKCExPT09d1tpXS5TUkEmJihyPU1hdGgubWluKGUuYmlkcy5sZW5ndGgsbikpLENbd1tpXS5vcmlnaW5dK3I+biYmKHQ9ITEpKSwhdH0pKSx0JiZlLnJ1bigpLHR9ZnVuY3Rpb24gZihlLHQpe3ZvaWQgMD09PWVbdF0/ZVt0XT0xOmVbdF0rK31kKHMpfHwoUy5sb2dXYXJuKCJxdWV1ZWluZyBhdWN0aW9uIGR1ZSB0byBsaW1pdGVkIGVuZHBvaW50IGNhcGFjaXR5Iiksai5wdXNoKHMpKX1yZXR1cm57YWRkQmlkUmVjZWl2ZWQ6ZnVuY3Rpb24oZSl7Vz1XLmNvbmNhdChlKX0sYWRkTm9CaWQ6ZnVuY3Rpb24oZSl7TD1MLmNvbmNhdChlKX0sZXhlY3V0ZUNhbGxiYWNrOlksY2FsbEJpZHM6ZnVuY3Rpb24oKXtvPSJzdGFydGVkIix0PURhdGUubm93KCk7dmFyIGU9RS5tYWtlQmlkUmVxdWVzdHMoayx0LEYsVixQKTtTLmxvZ0luZm8oIkJpZHMgUmVxdWVzdGVkIGZvciBBdWN0aW9uIHdpdGggaWQ6ICIuY29uY2F0KEYpLGUpLGUubGVuZ3RoPDE/KFMubG9nV2FybigiTm8gdmFsaWQgYmlkIHJlcXVlc3RzIHJldHVybmVkIGZvciBhdWN0aW9uIiksUSgpKTpSLmNhbGwoe2Rpc3BhdGNoOlgsY29udGV4dDp0aGlzfSxlKX0sYWRkV2lubmluZ0JpZDpmdW5jdGlvbihlKXtIPUguY29uY2F0KGUpLEUuY2FsbEJpZFdvbkJpZGRlcihlLmJpZGRlcixlLHMpfSxzZXRCaWRUYXJnZXRpbmc6ZnVuY3Rpb24oZSl7RS5jYWxsU2V0VGFyZ2V0aW5nQmlkZGVyKGUuYmlkZGVyLGUpfSxnZXRXaW5uaW5nQmlkczpmdW5jdGlvbigpe3JldHVybiBIfSxnZXRUaW1lb3V0OmZ1bmN0aW9uKCl7cmV0dXJuIFZ9LGdldEF1Y3Rpb25JZDpmdW5jdGlvbigpe3JldHVybiBGfSxnZXRBdWN0aW9uU3RhdHVzOmZ1bmN0aW9uKCl7cmV0dXJuIG99LGdldEFkVW5pdHM6ZnVuY3Rpb24oKXtyZXR1cm4ga30sZ2V0QWRVbml0Q29kZXM6ZnVuY3Rpb24oKXtyZXR1cm4gTX0sZ2V0QmlkUmVxdWVzdHM6ZnVuY3Rpb24oKXtyZXR1cm4gcX0sZ2V0Qmlkc1JlY2VpdmVkOmZ1bmN0aW9uKCl7cmV0dXJuIFd9LGdldE5vQmlkczpmdW5jdGlvbigpe3JldHVybiBMfX19LG4uZCh0LCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gX30pKSxuLmQodCwiZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIFJ9KSksdC5nPVUsdC5kPXgsbi5kKHQsImYiLChmdW5jdGlvbigpe3JldHVybiBEfSkpLG4uZCh0LCJpIiwoZnVuY3Rpb24oKXtyZXR1cm4ga30pKSxuLmQodCwiaCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFB9KSksdC5qPU07dmFyIHI9bigwKSxpPW4oNDMpLG89bigzNiksYT1uKDk4KSxjPW4oMTMpLHU9bigzKSxzPW4oNTYpLGQ9bigxMCksZj1uKDExKSxsPW4ubihmKSxwPW4oMTIpLGc9bi5uKHApLGI9bigyMiksdj1uKDIpO2Z1bmN0aW9uIHkoZSl7cmV0dXJuKHk9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBoKCl7cmV0dXJuKGg9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgbT1zLmEuc3luY1VzZXJzLFM9bigwKSxFPW4oOCkuZGVmYXVsdCxBPW4oOSksVD1uKDUpLE89ImluUHJvZ3Jlc3MiLEk9ImNvbXBsZXRlZCI7QS5vbihULkVWRU5UUy5CSURfQURKVVNUTUVOVCwoZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUpe3ZhciB0LG49ZS5iaWRkZXJDb2RlLHI9ZS5jcG07aWYodXBianMuYmlkZGVyU2V0dGluZ3MmJihuJiZ1cGJqcy5iaWRkZXJTZXR0aW5nc1tuXSYmImZ1bmN0aW9uIj09dHlwZW9mIHVwYmpzLmJpZGRlclNldHRpbmdzW25dLmJpZENwbUFkanVzdG1lbnQ/dD11cGJqcy5iaWRkZXJTZXR0aW5nc1tuXS5iaWRDcG1BZGp1c3RtZW50OnVwYmpzLmJpZGRlclNldHRpbmdzW1QuSlNPTl9NQVBQSU5HLkJEX1NFVFRJTkdfU1RBTkRBUkRdJiYiZnVuY3Rpb24iPT10eXBlb2YgdXBianMuYmlkZGVyU2V0dGluZ3NbVC5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF0uYmlkQ3BtQWRqdXN0bWVudCYmKHQ9dXBianMuYmlkZGVyU2V0dGluZ3NbVC5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF0uYmlkQ3BtQWRqdXN0bWVudCksdCkpdHJ5e3I9dChlLmNwbSxoKHt9LGUpKX1jYXRjaChlKXtTLmxvZ0Vycm9yKCJFcnJvciBkdXJpbmcgYmlkIGFkanVzdG1lbnQiLCJiaWRtYW5hZ2VyLmpzIixlKX1yPj0wJiYoZS5jcG09cil9KGUpfSkpO3ZhciBDPXt9LHc9e30saj1bXTt2YXIgXz1PYmplY3QoZC5iKSgiYXN5bmMiLChmdW5jdGlvbihlLHQpe3RoaXMuZGlzcGF0Y2guY2FsbCh0aGlzLmJpZGRlclJlcXVlc3QsZSx0KX0pLCJhZGRCaWRSZXNwb25zZSIpLFI9T2JqZWN0KGQuYikoInN5bmMiLChmdW5jdGlvbihlKXt0aGlzLmRpc3BhdGNoLmNhbGwodGhpcy5jb250ZXh0LGUpfSksImFkZEJpZGRlclJlcXVlc3RzIiksQj1PYmplY3QoZC5iKSgiYXN5bmMiLChmdW5jdGlvbihlLHQpe3QmJnQoKX0pLCJiaWRzQmFja0NhbGxiYWNrIik7ZnVuY3Rpb24gVShlLHQpe3QudGltZVRvUmVzcG9uZD5lLmdldFRpbWVvdXQoKSt1LmIuZ2V0Q29uZmlnKCJ0aW1lb3V0QnVmZmVyIikmJmUuZXhlY3V0ZUNhbGxiYWNrKCEwKX1mdW5jdGlvbiB4KGUsdCl7dmFyIG49ZS5nZXRCaWRSZXF1ZXN0cygpLHI9bCgpKG4sKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlckNvZGU9PT10LmJpZGRlckNvZGV9KSk7IWZ1bmN0aW9uKGUsdCl7dmFyIG47aWYoZS5iaWRkZXJDb2RlJiYoZS5jcG0+MHx8ZS5kZWFsSWQpKXt2YXIgcj1sKCkodC5iaWRzLChmdW5jdGlvbih0KXtyZXR1cm4gdC5hZFVuaXRDb2RlPT09ZS5hZFVuaXRDb2RlfSkpO249ZnVuY3Rpb24oZSx0LG4pe2lmKCF0KXJldHVybnt9O3ZhciByPXt9LGk9dXBianMuYmlkZGVyU2V0dGluZ3M7aWYoaSl7cShyLE0odC5tZWRpYVR5cGUsZSxuKSx0KSxlJiZpW2VdJiZpW2VdW1QuSlNPTl9NQVBQSU5HLkFEU0VSVkVSX1RBUkdFVElOR10mJihxKHIsaVtlXSx0KSx0LnNlbmRTdGFuZGFyZFRhcmdldGluZz1pW2VdLnNlbmRTdGFuZGFyZFRhcmdldGluZyl9dC5uYXRpdmUmJihyPWgoe30scixPYmplY3Qoby5lKSh0LG4pKSk7cmV0dXJuIHJ9KGUuYmlkZGVyQ29kZSxlLHIpfWUuYWRzZXJ2ZXJUYXJnZXRpbmc9aChlLmFkc2VydmVyVGFyZ2V0aW5nfHx7fSxuKX0odCxyKSxBLmVtaXQoVC5FVkVOVFMuQklEX1JFU1BPTlNFLHQpLGUuYWRkQmlkUmVjZWl2ZWQodCksVShlLHQpfXZhciBEPU9iamVjdChkLmIpKCJhc3luYyIsKGZ1bmN0aW9uKGUsdCxuLHIpe09iamVjdChhLmIpKFt0XSwoZnVuY3Rpb24ocixpKXtyPyhTLmxvZ1dhcm4oIkZhaWxlZCB0byBzYXZlIHRvIHRoZSB2aWRlbyBjYWNoZTogIi5jb25jYXQociwiLiBWaWRlbyBiaWQgbXVzdCBiZSBkaXNjYXJkZWQuIikpLFUoZSx0KSk6IiI9PT1pWzBdLnV1aWQ/KFMubG9nV2FybigiU3VwcGxpZWQgdmlkZW8gY2FjaGUga2V5IHdhcyBhbHJlYWR5IGluIHVzZSBieSBQcmViaWQgQ2FjaGU7IGNhY2hpbmcgYXR0ZW1wdCB3YXMgcmVqZWN0ZWQuIFZpZGVvIGJpZCBtdXN0IGJlIGRpc2NhcmRlZC4iKSxVKGUsdCkpOih0LnZpZGVvQ2FjaGVLZXk9aVswXS51dWlkLHQudmFzdFVybHx8KHQudmFzdFVybD1PYmplY3QoYS5hKSh0LnZpZGVvQ2FjaGVLZXkpKSx4KGUsdCksbigpKX0pLHIpfSksImNhbGxQcmViaWRDYWNoZSIpO2Z1bmN0aW9uIE4oZSx0LG4pe2lmKGUmJm4pe2lmKGU9PT12LmQpe3ZhciBpPU9iamVjdChyLmRlZXBBY2Nlc3MpKHQsIm1lZGlhVHlwZXMuIi5jb25jYXQodi5kLCIuY29udGV4dCIpLCJpbnN0cmVhbSIpO2lmKG5bIiIuY29uY2F0KHYuZCwiLSIpLmNvbmNhdChpKV0pcmV0dXJuIG5bIiIuY29uY2F0KHYuZCwiLSIpLmNvbmNhdChpKV19cmV0dXJuIG5bZV19fXZhciBrPWZ1bmN0aW9uKGUsdCl7dmFyIG49TihlLHQsdS5iLmdldENvbmZpZygibWVkaWFUeXBlUHJpY2VHcmFudWxhcml0eSIpKTtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGUmJm4/InN0cmluZyI9PXR5cGVvZiBuP246ImN1c3RvbSI6dS5iLmdldENvbmZpZygicHJpY2VHcmFudWxhcml0eSIpfSxQPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZT09PVQuR1JBTlVMQVJJVFlfT1BUSU9OUy5BVVRPP3QucGJBZzplPT09VC5HUkFOVUxBUklUWV9PUFRJT05TLkRFTlNFP3QucGJEZzplPT09VC5HUkFOVUxBUklUWV9PUFRJT05TLkxPVz90LnBiTGc6ZT09PVQuR1JBTlVMQVJJVFlfT1BUSU9OUy5NRURJVU0/dC5wYk1nOmU9PT1ULkdSQU5VTEFSSVRZX09QVElPTlMuSElHSD90LnBiSGc6ZT09PVQuR1JBTlVMQVJJVFlfT1BUSU9OUy5DVVNUT00/dC5wYkNnOnZvaWQgMH19O2Z1bmN0aW9uIE0oZSx0LG4pe2Z1bmN0aW9uIGkoZSx0KXtyZXR1cm57a2V5OmUsdmFsOiJmdW5jdGlvbiI9PXR5cGVvZiB0P2Z1bmN0aW9uKGUpe3JldHVybiB0KGUpfTpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KHIuZ2V0VmFsdWUpKGUsdCl9fX12YXIgbz1ULlRBUkdFVElOR19LRVlTLGE9ayhlLG4pLGM9dXBianMuYmlkZGVyU2V0dGluZ3M7aWYoY1tULkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXXx8KGNbVC5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF09e30pLGNbVC5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF1bVC5KU09OX01BUFBJTkcuQURTRVJWRVJfVEFSR0VUSU5HXXx8KGNbVC5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF1bVC5KU09OX01BUFBJTkcuQURTRVJWRVJfVEFSR0VUSU5HXT1baShvLkJJRERFUiwiYmlkZGVyQ29kZSIpLGkoby5BRF9JRCwiYWRJZCIpLGkoby5QUklDRV9CVUNLRVQsUChhKSksaShvLlNJWkUsInNpemUiKSxpKG8uREVBTCwiZGVhbElkIiksaShvLlNPVVJDRSwic291cmNlIiksaShvLkZPUk1BVCwibWVkaWFUeXBlIiksaShvLkFET01BSU4sKGZ1bmN0aW9uKGUpe3JldHVybiBlLm1ldGEmJmUubWV0YS5hZHZlcnRpc2VyRG9tYWlucyYmZS5tZXRhLmFkdmVydGlzZXJEb21haW5zLmxlbmd0aD4wP2UubWV0YS5hZHZlcnRpc2VyRG9tYWluc1swXToiIn0pKV0pLCJ2aWRlbyI9PT1lKXt2YXIgcz1jW1QuSlNPTl9NQVBQSU5HLkJEX1NFVFRJTkdfU1RBTkRBUkRdW1QuSlNPTl9NQVBQSU5HLkFEU0VSVkVSX1RBUkdFVElOR107aWYoW28uVVVJRCxvLkNBQ0hFX0lEXS5mb3JFYWNoKChmdW5jdGlvbihlKXt2b2lkIDA9PT1sKCkocywoZnVuY3Rpb24odCl7cmV0dXJuIHQua2V5PT09ZX0pKSYmcy5wdXNoKGkoZSwidmlkZW9DYWNoZUtleSIpKX0pKSx1LmIuZ2V0Q29uZmlnKCJjYWNoZS51cmwiKSYmKCF0fHwhMSE9PVMuZGVlcEFjY2VzcyhjLCIiLmNvbmNhdCh0LCIuc2VuZFN0YW5kYXJkVGFyZ2V0aW5nIikpKSl7dmFyIGQ9T2JqZWN0KHIucGFyc2VVcmwpKHUuYi5nZXRDb25maWcoImNhY2hlLnVybCIpKTt2b2lkIDA9PT1sKCkocywoZnVuY3Rpb24oZSl7cmV0dXJuIGUua2V5PT09by5DQUNIRV9IT1NUfSkpJiZzLnB1c2goaShvLkNBQ0hFX0hPU1QsKGZ1bmN0aW9uKGUpe3JldHVybiBTLmRlZXBBY2Nlc3MoZSwiYWRzZXJ2ZXJUYXJnZXRpbmcuIi5jb25jYXQoby5DQUNIRV9IT1NUKSk/ZS5hZHNlcnZlclRhcmdldGluZ1tvLkNBQ0hFX0hPU1RdOmQuaG9zdG5hbWV9KSkpfX1yZXR1cm4gY1tULkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXX1mdW5jdGlvbiBxKGUsdCxuKXt2YXIgcj10W1QuSlNPTl9NQVBQSU5HLkFEU0VSVkVSX1RBUkdFVElOR107cmV0dXJuIG4uc2l6ZT1uLmdldFNpemUoKSxTLl9lYWNoKHIsKGZ1bmN0aW9uKHIpe3ZhciBpPXIua2V5LG89ci52YWw7aWYoZVtpXSYmUy5sb2dXYXJuKCJUaGUga2V5OiAiK2krIiBpcyBnZXR0aW5nIG92ZXdyaXR0ZW4iKSxTLmlzRm4obykpdHJ5e289byhuKX1jYXRjaChlKXtTLmxvZ0Vycm9yKCJiaWRtYW5hZ2VyIiwiRVJST1IiLGUpfSh2b2lkIDA9PT10LnN1cHByZXNzRW1wdHlLZXlzfHwhMCE9PXQuc3VwcHJlc3NFbXB0eUtleXMpJiZpIT09VC5UQVJHRVRJTkdfS0VZUy5ERUFMfHwhUy5pc0VtcHR5U3RyKG8pJiZudWxsIT1vP2VbaV09bzpTLmxvZ0luZm8oInN1cHByZXNzaW5nIGVtcHR5IGtleSAnIitpKyInIGZyb20gYWRzZXJ2ZXIgdGFyZ2V0aW5nIil9KSksZX1mdW5jdGlvbiBHKGUsdCl7cmV0dXJuIGVbdC5hZFVuaXRDb2RlXXx8KGVbdC5hZFVuaXRDb2RlXT17YmlkczpbXX0pLGVbdC5hZFVuaXRDb2RlXS5iaWRzLnB1c2godCksZX19LDI5OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaChlKXtyZXR1cm4hMH19fSwzOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBFfSkpLG4uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gSX0pKTt2YXIgcj1uKDQzKSxpPW4oMTEpLG89bi5uKGkpLGE9bigxMiksYz1uLm4oYSksdT1uKDg0KSxzPW4ubih1KSxkPW4oMCksZj1bImZwZCJdO2Z1bmN0aW9uIGwoZSx0KXtpZihudWxsPT1lKXJldHVybnt9O3ZhciBuLHIsaT1mdW5jdGlvbihlLHQpe2lmKG51bGw9PWUpcmV0dXJue307dmFyIG4scixpPXt9LG89T2JqZWN0LmtleXMoZSk7Zm9yKHI9MDtyPG8ubGVuZ3RoO3IrKyluPW9bcl0sdC5pbmRleE9mKG4pPj0wfHwoaVtuXT1lW25dKTtyZXR1cm4gaX0oZSx0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO2ZvcihyPTA7cjxvLmxlbmd0aDtyKyspbj1vW3JdLHQuaW5kZXhPZihuKT49MHx8T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsbikmJihpW25dPWVbbl0pfXJldHVybiBpfWZ1bmN0aW9uIHAoZSx0LG4pe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfWZ1bmN0aW9uIGcoZSl7cmV0dXJuKGc9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBiKCl7cmV0dXJuKGI9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgdj1uKDk2KSx5PW4oMCksaD1uKDUpLG09IlRSVUUiPT09eS5nZXRQYXJhbWV0ZXJCeU5hbWUoaC5ERUJVR19NT0RFKS50b1VwcGVyQ2FzZSgpLFM9d2luZG93LmxvY2F0aW9uLm9yaWdpbixFPSJyYW5kb20iLEE9e307QVtFXT0hMCxBLmZpeGVkPSEwO3ZhciBUPUUsTz17TE9XOiJsb3ciLE1FRElVTToibWVkaXVtIixISUdIOiJoaWdoIixBVVRPOiJhdXRvIixERU5TRToiZGVuc2UiLENVU1RPTToiY3VzdG9tIn07dmFyIEk9ZnVuY3Rpb24oKXt2YXIgZSx0LG4saT1bXSxhPW51bGw7ZnVuY3Rpb24gdSgpe2U9e307dmFyIGk9e19kZWJ1ZzptLGdldCBkZWJ1Zygpe3JldHVybiB0aGlzLl9kZWJ1Z30sc2V0IGRlYnVnKGUpe3RoaXMuX2RlYnVnPWV9LF9iaWRkZXJUaW1lb3V0OjNlMyxnZXQgYmlkZGVyVGltZW91dCgpe3JldHVybiB0aGlzLl9iaWRkZXJUaW1lb3V0fSxzZXQgYmlkZGVyVGltZW91dChlKXt0aGlzLl9iaWRkZXJUaW1lb3V0PWV9LF9wdWJsaXNoZXJEb21haW46UyxnZXQgcHVibGlzaGVyRG9tYWluKCl7cmV0dXJuIHRoaXMuX3B1Ymxpc2hlckRvbWFpbn0sc2V0IHB1Ymxpc2hlckRvbWFpbihlKXt0aGlzLl9wdWJsaXNoZXJEb21haW49ZX0sX3ByaWNlR3JhbnVsYXJpdHk6Ty5NRURJVU0sc2V0IHByaWNlR3JhbnVsYXJpdHkoZSl7YyhlKSYmKCJzdHJpbmciPT10eXBlb2YgZT90aGlzLl9wcmljZUdyYW51bGFyaXR5PWEoZSk/ZTpPLk1FRElVTTp5LmlzUGxhaW5PYmplY3QoZSkmJih0aGlzLl9jdXN0b21QcmljZUJ1Y2tldD1lLHRoaXMuX3ByaWNlR3JhbnVsYXJpdHk9Ty5DVVNUT00seS5sb2dNZXNzYWdlKCJVc2luZyBjdXN0b20gcHJpY2UgZ3JhbnVsYXJpdHkiKSkpfSxnZXQgcHJpY2VHcmFudWxhcml0eSgpe3JldHVybiB0aGlzLl9wcmljZUdyYW51bGFyaXR5fSxfY3VzdG9tUHJpY2VCdWNrZXQ6e30sZ2V0IGN1c3RvbVByaWNlQnVja2V0KCl7cmV0dXJuIHRoaXMuX2N1c3RvbVByaWNlQnVja2V0fSxfbWVkaWFUeXBlUHJpY2VHcmFudWxhcml0eTp7fSxnZXQgbWVkaWFUeXBlUHJpY2VHcmFudWxhcml0eSgpe3JldHVybiB0aGlzLl9tZWRpYVR5cGVQcmljZUdyYW51bGFyaXR5fSxzZXQgbWVkaWFUeXBlUHJpY2VHcmFudWxhcml0eShlKXt2YXIgdD10aGlzO3RoaXMuX21lZGlhVHlwZVByaWNlR3JhbnVsYXJpdHk9T2JqZWN0LmtleXMoZSkucmVkdWNlKChmdW5jdGlvbihuLHIpe3JldHVybiBjKGVbcl0pPyJzdHJpbmciPT10eXBlb2YgZT9uW3JdPWEoZVtyXSk/ZVtyXTp0Ll9wcmljZUdyYW51bGFyaXR5OnkuaXNQbGFpbk9iamVjdChlKSYmKG5bcl09ZVtyXSx5LmxvZ01lc3NhZ2UoIlVzaW5nIGN1c3RvbSBwcmljZSBncmFudWxhcml0eSBmb3IgIi5jb25jYXQocikpKTp5LmxvZ1dhcm4oIkludmFsaWQgcHJpY2UgZ3JhbnVsYXJpdHkgZm9yIG1lZGlhIHR5cGU6ICIuY29uY2F0KHIpKSxufSkse30pfSxfc2VuZEFsbEJpZHM6dHJ1ZSxnZXQgZW5hYmxlU2VuZEFsbEJpZHMoKXtyZXR1cm4gdGhpcy5fc2VuZEFsbEJpZHN9LHNldCBlbmFibGVTZW5kQWxsQmlkcyhlKXt0aGlzLl9zZW5kQWxsQmlkcz1lfSxfdXNlQmlkQ2FjaGU6ZmFsc2UsZ2V0IHVzZUJpZENhY2hlKCl7cmV0dXJuIHRoaXMuX3VzZUJpZENhY2hlfSxzZXQgdXNlQmlkQ2FjaGUoZSl7dGhpcy5fdXNlQmlkQ2FjaGU9ZX0sX2RldmljZUFjY2Vzczp0cnVlLGdldCBkZXZpY2VBY2Nlc3MoKXtyZXR1cm4gdGhpcy5fZGV2aWNlQWNjZXNzfSxzZXQgZGV2aWNlQWNjZXNzKGUpe3RoaXMuX2RldmljZUFjY2Vzcz1lfSxfYmlkZGVyU2VxdWVuY2U6VCxnZXQgYmlkZGVyU2VxdWVuY2UoKXtyZXR1cm4gdGhpcy5fYmlkZGVyU2VxdWVuY2V9LHNldCBiaWRkZXJTZXF1ZW5jZShlKXtBW2VdP3RoaXMuX2JpZGRlclNlcXVlbmNlPWU6eS5sb2dXYXJuKCJJbnZhbGlkIG9yZGVyOiAiLmNvbmNhdChlLCIuIEJpZGRlciBTZXF1ZW5jZSB3YXMgbm90IHNldC4iKSl9LF90aW1lb3V0QnVmZmVyOjQwMCxnZXQgdGltZW91dEJ1ZmZlcigpe3JldHVybiB0aGlzLl90aW1lb3V0QnVmZmVyfSxzZXQgdGltZW91dEJ1ZmZlcihlKXt0aGlzLl90aW1lb3V0QnVmZmVyPWV9LF9kaXNhYmxlQWpheFRpbWVvdXQ6ZmFsc2UsZ2V0IGRpc2FibGVBamF4VGltZW91dCgpe3JldHVybiB0aGlzLl9kaXNhYmxlQWpheFRpbWVvdXR9LHNldCBkaXNhYmxlQWpheFRpbWVvdXQoZSl7dGhpcy5fZGlzYWJsZUFqYXhUaW1lb3V0PWV9LF9tYXhOZXN0ZWRJZnJhbWVzOjEwLGdldCBtYXhOZXN0ZWRJZnJhbWVzKCl7cmV0dXJuIHRoaXMuX21heE5lc3RlZElmcmFtZXN9LHNldCBtYXhOZXN0ZWRJZnJhbWVzKGUpe3RoaXMuX21heE5lc3RlZElmcmFtZXM9ZX0sX2F1Y3Rpb25PcHRpb25zOnt9LGdldCBhdWN0aW9uT3B0aW9ucygpe3JldHVybiB0aGlzLl9hdWN0aW9uT3B0aW9uc30sc2V0IGF1Y3Rpb25PcHRpb25zKGUpeyhmdW5jdGlvbihlKXtpZigheS5pc1BsYWluT2JqZWN0KGUpKXJldHVybiB5LmxvZ1dhcm4oIkF1Y3Rpb24gT3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCIpLCExO2Zvcih2YXIgdD0wLG49T2JqZWN0LmtleXMoZSk7dDxuLmxlbmd0aDt0Kyspe3ZhciByPW5bdF07aWYoInNlY29uZGFyeUJpZGRlcnMiIT09ciYmInN1cHByZXNzU3RhbGVSZW5kZXIiIT09cilyZXR1cm4geS5sb2dXYXJuKCJBdWN0aW9uIE9wdGlvbnMgZ2l2ZW4gYW4gaW5jb3JyZWN0IHBhcmFtOiAiLmNvbmNhdChyKSksITE7aWYoInNlY29uZGFyeUJpZGRlcnMiPT09cil7aWYoIXkuaXNBcnJheShlW3JdKSlyZXR1cm4geS5sb2dXYXJuKCJBdWN0aW9uIE9wdGlvbnMgIi5jb25jYXQociwiIG11c3QgYmUgb2YgdHlwZSBBcnJheSIpKSwhMTtpZighZVtyXS5ldmVyeSh5LmlzU3RyKSlyZXR1cm4geS5sb2dXYXJuKCJBdWN0aW9uIE9wdGlvbnMgIi5jb25jYXQociwiIG11c3QgYmUgb25seSBzdHJpbmciKSksITF9ZWxzZSBpZigic3VwcHJlc3NTdGFsZVJlbmRlciI9PT1yJiYheS5pc0Jvb2xlYW4oZVtyXSkpcmV0dXJuIHkubG9nV2FybigiQXVjdGlvbiBPcHRpb25zICIuY29uY2F0KHIsIiBtdXN0IGJlIG9mIHR5cGUgYm9vbGVhbiIpKSwhMX1yZXR1cm4hMH0pKGUpJiYodGhpcy5fYXVjdGlvbk9wdGlvbnM9ZSl9fTtmdW5jdGlvbiBhKGUpe3JldHVybiBvKCkoT2JqZWN0LmtleXMoTyksKGZ1bmN0aW9uKHQpe3JldHVybiBlPT09T1t0XX0pKX1mdW5jdGlvbiBjKGUpe2lmKCFlKXJldHVybiB5LmxvZ0Vycm9yKCJQcmViaWQgRXJyb3I6IG5vIHZhbHVlIHBhc3NlZCB0byBgc2V0UHJpY2VHcmFudWxhcml0eSgpYCIpLCExO2lmKCJzdHJpbmciPT10eXBlb2YgZSlhKGUpfHx5LmxvZ1dhcm4oIlByZWJpZCBXYXJuaW5nOiBzZXRQcmljZUdyYW51bGFyaXR5IHdhcyBjYWxsZWQgd2l0aCBpbnZhbGlkIHNldHRpbmcsIHVzaW5nIGBtZWRpdW1gIGFzIGRlZmF1bHQuIik7ZWxzZSBpZih5LmlzUGxhaW5PYmplY3QoZSkmJiFPYmplY3Qoci5iKShlKSlyZXR1cm4geS5sb2dFcnJvcigiSW52YWxpZCBjdXN0b20gcHJpY2UgdmFsdWUgcGFzc2VkIHRvIGBzZXRQcmljZUdyYW51bGFyaXR5KClgIiksITE7cmV0dXJuITB9dCYmdyhPYmplY3Qua2V5cyh0KS5yZWR1Y2UoKGZ1bmN0aW9uKGUsbil7cmV0dXJuIHRbbl0hPT1pW25dJiYoZVtuXT1pW25dfHx7fSksZX0pLHt9KSksdD1pLG49e319ZnVuY3Rpb24gaCgpe2lmKGEmJm4mJnkuaXNQbGFpbk9iamVjdChuW2FdKSl7dmFyIGU9blthXSxyPW5ldyBzLmEoT2JqZWN0LmtleXModCkuY29uY2F0KE9iamVjdC5rZXlzKGUpKSk7cmV0dXJuIHYocikucmVkdWNlKChmdW5jdGlvbihuLHIpe3JldHVybiB2b2lkIDA9PT1lW3JdP25bcl09dFtyXTp2b2lkIDA9PT10W3JdP25bcl09ZVtyXTp5LmlzUGxhaW5PYmplY3QoZVtyXSk/bltyXT1PYmplY3QoZC5tZXJnZURlZXApKHt9LHRbcl0sZVtyXSk6bltyXT1lW3JdLG59KSx7fSl9cmV0dXJuIGIoe30sdCl9ZnVuY3Rpb24gRShlKXt2YXIgdD17fTtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24obil7dmFyIHI9ImNvbnRleHQiPT09bj8ic2l0ZSI6bjt0W3JdPSJzaXRlIj09PXJ8fCJ1c2VyIj09PXI/T2JqZWN0LmtleXMoZVtuXSkucmVkdWNlKChmdW5jdGlvbih0LHIpe3JldHVybiJkYXRhIj09PXI/eS5tZXJnZURlZXAodCx7ZXh0OntkYXRhOmVbbl1bcl19fSk6eS5tZXJnZURlZXAodCxwKHt9LHIsZVtuXVtyXSkpLHR9KSx7fSk6ZVtuXX0pKSx0fWZ1bmN0aW9uIEkoZSl7dmFyIHQ9e307cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuImNvbnRleHQiPT09ZX0pKS5mb3JFYWNoKChmdW5jdGlvbihuKXtPYmplY3Qua2V5cyhlW25dKS5mb3JFYWNoKChmdW5jdGlvbihyKXsiZGF0YSI9PT1yP3kubWVyZ2VEZWVwKHQse2V4dDp7ZGF0YTplW25dW3JdfX0pOiJvYmplY3QiIT09ZyhlW25dW3JdKXx8QXJyYXkuaXNBcnJheShlW25dW3JdKT95Lm1lcmdlRGVlcCh0LHtleHQ6e2RhdGE6cCh7fSxyLnRvTG93ZXJDYXNlKCksZVtuXVtyXSl9fSk6T2JqZWN0LmtleXMoZVtuXVtyXSkuZm9yRWFjaCgoZnVuY3Rpb24oaSl7eS5tZXJnZURlZXAodCx7ZXh0OntkYXRhOnAoe30sci50b0xvd2VyQ2FzZSgpLHAoe30saS50b0xvd2VyQ2FzZSgpLGVbbl1bcl1baV0pKX19KX0pKX0pKX0pKSx0fWZ1bmN0aW9uIEMoZSx0KXt2YXIgbj10O2lmKCJzdHJpbmciIT10eXBlb2YgZSYmKG49ZSxlPSIqIiksImZ1bmN0aW9uIj09dHlwZW9mIG4pe3ZhciByPXt0b3BpYzplLGNhbGxiYWNrOm59O3JldHVybiBpLnB1c2gociksZnVuY3Rpb24oKXtpLnNwbGljZShpLmluZGV4T2YociksMSl9fXkubG9nRXJyb3IoImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIHcoZSl7dmFyIHQ9T2JqZWN0LmtleXMoZSk7aS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBjKCkodCxlLnRvcGljKX0pKS5mb3JFYWNoKChmdW5jdGlvbih0KXt0LmNhbGxiYWNrKHAoe30sdC50b3BpYyxlW3QudG9waWNdKSl9KSksaS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiIqIj09PWUudG9waWN9KSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuY2FsbGJhY2soZSl9KSl9ZnVuY3Rpb24gaihlLHQpe2E9ZTt0cnl7cmV0dXJuIHQoKX1maW5hbGx5e18oKX19ZnVuY3Rpb24gXygpe2E9bnVsbH1yZXR1cm4gdSgpLHtnZXRDdXJyZW50QmlkZGVyOmZ1bmN0aW9uKCl7cmV0dXJuIGF9LHJlc2V0QmlkZGVyOl8sZ2V0Q29uZmlnOmZ1bmN0aW9uKCl7aWYoYXJndW1lbnRzLmxlbmd0aDw9MSYmImZ1bmN0aW9uIiE9dHlwZW9mKGFyZ3VtZW50cy5sZW5ndGg8PTA/dm9pZCAwOmFyZ3VtZW50c1swXSkpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg8PTA/dm9pZCAwOmFyZ3VtZW50c1swXTtyZXR1cm4gZT95LmRlZXBBY2Nlc3MoaCgpLGUpOmgoKX1yZXR1cm4gQy5hcHBseSh2b2lkIDAsYXJndW1lbnRzKX0sc2V0Q29uZmlnOmZ1bmN0aW9uKG4pe2lmKHkuaXNQbGFpbk9iamVjdChuKSl7dmFyIHI9T2JqZWN0LmtleXMobiksaT17fTtyLmZvckVhY2goKGZ1bmN0aW9uKHIpe3ZhciBvPSJmcGQiPT09cj8ib3J0YjIiOnIsYT0iZnBkIj09PXI/RShuW3JdKTpuW3JdO3kuaXNQbGFpbk9iamVjdChlW29dKSYmeS5pc1BsYWluT2JqZWN0KGEpJiYoYT1iKHt9LGVbb10sYSkpLGlbb109dFtvXT1hfSkpLHcoaSl9ZWxzZSB5LmxvZ0Vycm9yKCJzZXRDb25maWcgb3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCIpfSxzZXREZWZhdWx0czpmdW5jdGlvbihuKXt5LmlzUGxhaW5PYmplY3QoZSk/KGIoZSxuKSxiKHQsbikpOnkubG9nRXJyb3IoImRlZmF1bHRzIG11c3QgYmUgYW4gb2JqZWN0Iil9LHJlc2V0Q29uZmlnOnUscnVuV2l0aEJpZGRlcjpqLGNhbGxiYWNrV2l0aEJpZGRlcjpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQpe2Zvcih2YXIgbixyPWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkociksbz0wO288cjtvKyspaVtvXT1hcmd1bWVudHNbb107cmV0dXJuIGooZSwobj15LmJpbmQpLmNhbGwuYXBwbHkobixbdCx0aGlzXS5jb25jYXQoaSkpKX15LmxvZ1dhcm4oImNvbmZpZy5jYWxsYmFja1dpdGhCaWRkZXIgY2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb24iKX19fSxzZXRCaWRkZXJDb25maWc6ZnVuY3Rpb24oZSl7dHJ5eyFmdW5jdGlvbihlKXtpZigheS5pc1BsYWluT2JqZWN0KGUpKXRocm93InNldEJpZGRlckNvbmZpZyBiaWRkZXIgb3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCI7aWYoIUFycmF5LmlzQXJyYXkoZS5iaWRkZXJzKXx8IWUuYmlkZGVycy5sZW5ndGgpdGhyb3cic2V0QmlkZGVyQ29uZmlnIGJpZGRlciBvcHRpb25zIG11c3QgY29udGFpbiBhIGJpZGRlcnMgbGlzdCB3aXRoIGF0IGxlYXN0IDEgYmlkZGVyIjtpZigheS5pc1BsYWluT2JqZWN0KGUuY29uZmlnKSl0aHJvdyJzZXRCaWRkZXJDb25maWcgYmlkZGVyIG9wdGlvbnMgbXVzdCBjb250YWluIGEgY29uZmlnIG9iamVjdCJ9KGUpLGUuYmlkZGVycy5mb3JFYWNoKChmdW5jdGlvbih0KXtuW3RdfHwoblt0XT17fSksT2JqZWN0LmtleXMoZS5jb25maWcpLmZvckVhY2goKGZ1bmN0aW9uKHIpe3ZhciBpPSJmcGQiPT09cj8ib3J0YjIiOnIsbz0iZnBkIj09PXI/RShlLmNvbmZpZ1tyXSk6ZS5jb25maWdbcl07eS5pc1BsYWluT2JqZWN0KG8pP25bdF1baV09Yih7fSxuW3RdW2ldfHx7fSxvKTpuW3RdW2ldPW99KSl9KSl9Y2F0Y2goZSl7eS5sb2dFcnJvcihlKX19LGdldEJpZGRlckNvbmZpZzpmdW5jdGlvbigpe3JldHVybiBufSxjb252ZXJ0QWRVbml0RnBkOmZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuZnBkPyhlLm9ydGIySW1wP3kubWVyZ2VEZWVwKGUub3J0YjJJbXAsSShlLmZwZCkpOmUub3J0YjJJbXA9SShlLmZwZCksdC5wdXNoKGZ1bmN0aW9uKGUpe2UuZnBkO3JldHVybiBsKGUsZil9KGUpKSk6dC5wdXNoKGUpfSkpLHR9LGdldExlZ2FjeUZwZDpmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09PWcoZSkpe3ZhciB0PXt9O3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgcj0ic2l0ZSI9PT1uPyJjb250ZXh0IjpuO3Rbcl09ImNvbnRleHQiPT09cnx8InVzZXIiPT09cj9PYmplY3Qua2V5cyhlW25dKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiJkYXRhIiE9PWV9KSkucmVkdWNlKChmdW5jdGlvbih0LHIpe3JldHVybiJleHQiPT09cj95Lm1lcmdlRGVlcCh0LGVbbl1bcl0pOnkubWVyZ2VEZWVwKHQscCh7fSxyLGVbbl1bcl0pKSx0fSkse30pOmVbbl19KSksdH19LGdldExlZ2FjeUltcEZwZDpmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09PWcoZSkpe3ZhciB0PXt9O3JldHVybiB5LmRlZXBBY2Nlc3MoZSwiZXh0LmRhdGEiKSYmT2JqZWN0LmtleXMoZS5leHQuZGF0YSkuZm9yRWFjaCgoZnVuY3Rpb24obil7InBiYWRzbG90Ij09PW4/eS5tZXJnZURlZXAodCx7Y29udGV4dDp7cGJBZFNsb3Q6ZS5leHQuZGF0YVtuXX19KToiYWRzZXJ2ZXIiPT09bj95Lm1lcmdlRGVlcCh0LHtjb250ZXh0OnthZFNlcnZlcjplLmV4dC5kYXRhW25dfX0pOnkubWVyZ2VEZWVwKHQse2NvbnRleHQ6e2RhdGE6cCh7fSxuLGUuZXh0LmRhdGFbbl0pfX0pfSkpLHR9fX19KCl9LDMwOmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LDMxOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDQ4KSxpPXt9Lmhhc093blByb3BlcnR5O2UuZXhwb3J0cz1PYmplY3QuaGFzT3dufHxmdW5jdGlvbihlLHQpe3JldHVybiBpLmNhbGwocihlKSx0KX19LDMyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMzKSxpPW4oMzQpLG89big0NCk7ZS5leHBvcnRzPXI/ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBpLmYoZSx0LG8oMSxuKSl9OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZVt0XT1uLGV9fSwzMzpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyOSk7ZS5leHBvcnRzPSFyKChmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sMSx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSlbMV19KSl9LDM0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMzKSxpPW4oNzkpLG89bigxNiksYT1uKDU4KSxjPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt0LmY9cj9jOmZ1bmN0aW9uKGUsdCxuKXtpZihvKGUpLHQ9YSh0LCEwKSxvKG4pLGkpdHJ5e3JldHVybiBjKGUsdCxuKX1jYXRjaChlKXt9aWYoImdldCJpbiBufHwic2V0ImluIG4pdGhyb3cgVHlwZUVycm9yKCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCIpO3JldHVybiJ2YWx1ZSJpbiBuJiYoZVt0XT1uLnZhbHVlKSxlfX0sMzQ3OmZ1bmN0aW9uKGUsdCxuKXtuKDM0OCk7dmFyIHI9big1Mik7ZS5leHBvcnRzPXIoIlN0cmluZyIsImluY2x1ZGVzIil9LDM0ODpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigzNDkpLG89big0Nyk7cih7dGFyZ2V0OiJTdHJpbmciLHByb3RvOiEwLGZvcmNlZDohbigzNTEpKCJpbmNsdWRlcyIpfSx7aW5jbHVkZXM6ZnVuY3Rpb24oZSl7cmV0dXJuISF+U3RyaW5nKG8odGhpcykpLmluZGV4T2YoaShlKSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSl9LDM0OTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzNTApO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZihyKGUpKXRocm93IFR5cGVFcnJvcigiVGhlIG1ldGhvZCBkb2Vzbid0IGFjY2VwdCByZWd1bGFyIGV4cHJlc3Npb25zIik7cmV0dXJuIGV9fSwzNTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxNyksaT1uKDk1KTtlLmV4cG9ydHM9cj9pOmZ1bmN0aW9uKGUpe3JldHVybiBTZXQucHJvdG90eXBlLnZhbHVlcy5jYWxsKGUpfX0sMzUwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMwKSxpPW4oNDYpLG89bigyNCkoIm1hdGNoIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiByKGUpJiYodm9pZCAwIT09KHQ9ZVtvXSk/ISF0OiJSZWdFeHAiPT1pKGUpKX19LDM1MTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyNCkoIm1hdGNoIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PS8uLzt0cnl7Ii8uLyJbZV0odCl9Y2F0Y2gobil7dHJ5e3JldHVybiB0W3JdPSExLCIvLi8iW2VdKHQpfWNhdGNoKGUpe319cmV0dXJuITF9fSwzNjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJmIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKSxuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSksdC5oPWZ1bmN0aW9uKGUpe2lmKGUmJmUudHlwZSYmZnVuY3Rpb24oZSl7aWYoIWV8fCFvKCkoT2JqZWN0LmtleXMocCksZSkpcmV0dXJuIE9iamVjdChyLmxvZ0Vycm9yKSgiIi5jb25jYXQoZSwiIG5hdGl2ZVBhcmFtIGlzIG5vdCBzdXBwb3J0ZWQiKSksITE7cmV0dXJuITB9KGUudHlwZSkpcmV0dXJuIHBbZS50eXBlXTtyZXR1cm4gZX0sdC5nPWZ1bmN0aW9uKGUsdCl7dmFyIG49T2JqZWN0KHIuZ2V0QmlkUmVxdWVzdCkoZS5yZXF1ZXN0SWQsdCk7aWYoIW4pcmV0dXJuITE7aWYoIU9iamVjdChyLmRlZXBBY2Nlc3MpKGUsIm5hdGl2ZS5jbGlja1VybCIpKXJldHVybiExO3ZhciBpPW4ubmF0aXZlUGFyYW1zO2lmKCFpKXJldHVybiEwO3ZhciBhPU9iamVjdC5rZXlzKGkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV0ucmVxdWlyZWR9KSksYz1PYmplY3Qua2V5cyhlLm5hdGl2ZSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gZS5uYXRpdmVbdF19KSk7cmV0dXJuIGEuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBvKCkoYyxlKX0pKX0sdC5iPWZ1bmN0aW9uKGUsdCl7dmFyIG47ImNsaWNrIj09PWUuYWN0aW9uP249dC5uYXRpdmUmJnQubmF0aXZlLmNsaWNrVHJhY2tlcnM6KG49dC5uYXRpdmUmJnQubmF0aXZlLmltcHJlc3Npb25UcmFja2Vycyx0Lm5hdGl2ZSYmdC5uYXRpdmUuamF2YXNjcmlwdFRyYWNrZXJzJiZPYmplY3Qoci5pbnNlcnRIdG1sSW50b0lmcmFtZSkodC5uYXRpdmUuamF2YXNjcmlwdFRyYWNrZXJzKSk7cmV0dXJuKG58fFtdKS5mb3JFYWNoKHIudHJpZ2dlclBpeGVsKSxlLmFjdGlvbn0sdC5lPWZ1bmN0aW9uKGUsdCl7dmFyIG49e307T2JqZWN0KHIuZGVlcEFjY2VzcykodCwibmF0aXZlUGFyYW1zLnJlbmRlcmVyVXJsIik/ZS5uYXRpdmUucmVuZGVyZXJVcmw9Zyh0Lm5hdGl2ZVBhcmFtcy5yZW5kZXJlclVybCk6T2JqZWN0KHIuZGVlcEFjY2VzcykodCwibmF0aXZlUGFyYW1zLmFkVGVtcGxhdGUiKSYmKGUubmF0aXZlLmFkVGVtcGxhdGU9Zyh0Lm5hdGl2ZVBhcmFtcy5hZFRlbXBsYXRlKSk7dmFyIGk9ITEhPT1PYmplY3Qoci5kZWVwQWNjZXNzKSh0LCJuYXRpdmVQYXJhbXMuc2VuZFRhcmdldGluZ0tleXMiKSxvPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O09iamVjdChyLmRlZXBBY2Nlc3MpKGUsIm5hdGl2ZVBhcmFtcy5leHQiKSYmT2JqZWN0LmtleXMoZS5uYXRpdmVQYXJhbXMuZXh0KS5mb3JFYWNoKChmdW5jdGlvbihlKXt0W2VdPSJoYl9uYXRpdmVfIi5jb25jYXQoZSl9KSk7cmV0dXJuIHUodSh7fSxkLk5BVElWRV9LRVlTKSx0KX0odCksYT11KHUoe30sZS5uYXRpdmUpLGUubmF0aXZlLmV4dCk7cmV0dXJuIGRlbGV0ZSBhLmV4dCxPYmplY3Qua2V5cyhhKS5mb3JFYWNoKChmdW5jdGlvbihhKXt2YXIgYz1vW2FdLHU9ZyhlLm5hdGl2ZVthXSl8fGcoT2JqZWN0KHIuZGVlcEFjY2VzcykoZSwibmF0aXZlLmV4dC4iLmNvbmNhdChhKSkpO2lmKCJhZFRlbXBsYXRlIiE9PWEmJmMmJnUpe3ZhciBzPU9iamVjdChyLmRlZXBBY2Nlc3MpKHQsIm5hdGl2ZVBhcmFtcy4iLmNvbmNhdChhLCIuc2VuZElkIikpO2lmKCJib29sZWFuIiE9dHlwZW9mIHMmJihzPU9iamVjdChyLmRlZXBBY2Nlc3MpKHQsIm5hdGl2ZVBhcmFtcy5leHQuIi5jb25jYXQoYSwiLnNlbmRJZCIpKSkscyl1PSIiLmNvbmNhdChjLCI6IikuY29uY2F0KGUuYWRJZCk7dmFyIGQ9T2JqZWN0KHIuZGVlcEFjY2VzcykodCwibmF0aXZlUGFyYW1zLiIuY29uY2F0KGEsIi5zZW5kVGFyZ2V0aW5nS2V5cyIpKTsiYm9vbGVhbiIhPXR5cGVvZiBkJiYoZD1PYmplY3Qoci5kZWVwQWNjZXNzKSh0LCJuYXRpdmVQYXJhbXMuZXh0LiIuY29uY2F0KGEsIi5zZW5kVGFyZ2V0aW5nS2V5cyIpKSksKCJib29sZWFuIj09dHlwZW9mIGQ/ZDppKSYmKG5bY109dSl9fSkpLG59LHQuZD1mdW5jdGlvbihlLHQpe3ZhciBuPXttZXNzYWdlOiJhc3NldFJlc3BvbnNlIixhZElkOmUuYWRJZCxhc3NldHM6W119O3QubmF0aXZlLmhhc093blByb3BlcnR5KCJhZFRlbXBsYXRlIikmJihuLmFkVGVtcGxhdGU9Zyh0Lm5hdGl2ZS5hZFRlbXBsYXRlKSk7dC5uYXRpdmUuaGFzT3duUHJvcGVydHkoInJlbmRlcmVyVXJsIikmJihuLnJlbmRlcmVyVXJsPWcodC5uYXRpdmUucmVuZGVyZXJVcmwpKTtyZXR1cm4gZS5hc3NldHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIGk9T2JqZWN0KHIuZ2V0S2V5QnlWYWx1ZSkoZC5OQVRJVkVfS0VZUyxlKSxvPWcodC5uYXRpdmVbaV0pO24uYXNzZXRzLnB1c2goe2tleTppLHZhbHVlOm99KX0pKSxufSx0LmM9ZnVuY3Rpb24oZSx0KXt2YXIgbj17bWVzc2FnZToiYXNzZXRSZXNwb25zZSIsYWRJZDplLmFkSWQsYXNzZXRzOltdfTtyZXR1cm4gT2JqZWN0LmtleXModC5uYXRpdmUpLmZvckVhY2goKGZ1bmN0aW9uKGUscil7aWYoImFkVGVtcGxhdGUiPT09ZSYmdC5uYXRpdmVbZV0pbi5hZFRlbXBsYXRlPWcodC5uYXRpdmVbZV0pO2Vsc2UgaWYoInJlbmRlcmVyVXJsIj09PWUmJnQubmF0aXZlW2VdKW4ucmVuZGVyZXJVcmw9Zyh0Lm5hdGl2ZVtlXSk7ZWxzZSBpZigiZXh0Ij09PWUpT2JqZWN0LmtleXModC5uYXRpdmVbZV0pLmZvckVhY2goKGZ1bmN0aW9uKHIpe2lmKHQubmF0aXZlW2VdW3JdKXt2YXIgaT1nKHQubmF0aXZlW2VdW3JdKTtuLmFzc2V0cy5wdXNoKHtrZXk6cix2YWx1ZTppfSl9fSkpO2Vsc2UgaWYodC5uYXRpdmVbZV0mJmQuTkFUSVZFX0tFWVMuaGFzT3duUHJvcGVydHkoZSkpe3ZhciBpPWcodC5uYXRpdmVbZV0pO24uYXNzZXRzLnB1c2goe2tleTplLHZhbHVlOml9KX19KSksbn07dmFyIHI9bigwKSxpPW4oMTIpLG89bi5uKGkpO2Z1bmN0aW9uIGEoZSl7cmV0dXJuKGE9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBjKGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiB1KGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2MoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtzKGUsdCxuW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpjKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIHMoZSx0LG4pe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfXZhciBkPW4oNSksZj1bXSxsPU9iamVjdC5rZXlzKGQuTkFUSVZFX0tFWVMpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGQuTkFUSVZFX0tFWVNbZV19KSkscD17aW1hZ2U6e2ltYWdlOntyZXF1aXJlZDohMH0sdGl0bGU6e3JlcXVpcmVkOiEwfSxzcG9uc29yZWRCeTp7cmVxdWlyZWQ6ITB9LGNsaWNrVXJsOntyZXF1aXJlZDohMH0sYm9keTp7cmVxdWlyZWQ6ITF9LGljb246e3JlcXVpcmVkOiExfX19O2Z1bmN0aW9uIGcoZSl7cmV0dXJuIm9iamVjdCI9PT1hKGUpJiZlLnVybD9lLnVybDplfX0sMzc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSx0LG4pe2lmKCF0fHwhZSlyZXR1cm4gdm9pZCBvLmxvZ0Vycm9yKCJjYW5ub3QgbG9hZCBleHRlcm5hbCBzY3JpcHQgd2l0aG91dCB1cmwgYW5kIG1vZHVsZUNvZGUiKTtpZihlPWEuYyhlKSwhaSgpKHUsdCkpcmV0dXJuIHZvaWQgby5sb2dFcnJvcigiIi5jb25jYXQodCwiIG5vdCB3aGl0ZWxpc3RlZCBmb3IgbG9hZGluZyBleHRlcm5hbCBKYXZhU2NyaXB0IikpO2lmKGNbZV0pcmV0dXJuIG4mJiJmdW5jdGlvbiI9PXR5cGVvZiBuJiYoY1tlXS5sb2FkZWQ/bigpOmNbZV0uY2FsbGJhY2tzLnB1c2gobikpLGNbZV0udGFnO2NbZV09e2xvYWRlZDohMSx0YWc6bnVsbCxjYWxsYmFja3M6W119LG4mJiJmdW5jdGlvbiI9PXR5cGVvZiBuJiZjW2VdLmNhbGxiYWNrcy5wdXNoKG4pO3JldHVybiBvLmxvZ1dhcm4oIm1vZHVsZSAiLmNvbmNhdCh0LCIgaXMgbG9hZGluZyBleHRlcm5hbCBKYXZhU2NyaXB0IikpLGZ1bmN0aW9uKHQsbil7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7ci50eXBlPSJ0ZXh0L2phdmFzY3JpcHQiLHIuYXN5bmM9ITAsY1tlXS50YWc9cixyLnJlYWR5U3RhdGU/ci5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXsibG9hZGVkIiE9PXIucmVhZHlTdGF0ZSYmImNvbXBsZXRlIiE9PXIucmVhZHlTdGF0ZXx8KHIub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsbigpKX06ci5vbmxvYWQ9ZnVuY3Rpb24oKXtuKCl9O3JldHVybiByLnNyYz10LG8uaW5zZXJ0RWxlbWVudChyKSxyfShlLChmdW5jdGlvbigpe2NbZV0ubG9hZGVkPSEwO3RyeXtmb3IodmFyIHQ9MDt0PGNbZV0uY2FsbGJhY2tzLmxlbmd0aDt0KyspY1tlXS5jYWxsYmFja3NbdF0oKX1jYXRjaChlKXtvLmxvZ0Vycm9yKCJFcnJvciBleGVjdXRpbmcgY2FsbGJhY2siLCJhZGxvYWRlci5qczpsb2FkRXh0ZXJuYWxTY3JpcHQiLGUpfX0pKX07dmFyIHI9bigxMiksaT1uLm4ociksbz1uKDApLGE9big1NSksYz17fSx1PVsiYWRsb294IiwiY3JpdGVvIiwib3V0c3RyZWFtIiwiYWRhZ2lvIiwiYnJvd3NpIl19LDM4OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBBfSkpLG4uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gVH0pKSx0LmM9TyxuLmQodCwiZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEl9KSk7dmFyIHI9bigwKSxpPW4oMyksbz1uKDM2KSxhPW4oMjMpLGM9big5NyksdT1uKDIpLHM9bigxMCksZD1uKDEyKSxmPW4ubihkKSxsPW4oMTEpLHA9bi5uKGwpO2Z1bmN0aW9uIGcoKXtyZXR1cm4oZz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGIoZSx0LG4pe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfWZ1bmN0aW9uIHYoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIHkoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHkoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09bnx8IlNldCI9PT1uKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpcmV0dXJuIHkoZSx0KX0oZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24geShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfXZhciBoPW4oMCksbT1uKDUpLFM9W10sRT1PYmplY3Qua2V5cyhtLlRBUkdFVElOR19LRVlTKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBtLlRBUkdFVElOR19LRVlTW2VdfSkpLEE9e2lzQmlkTm90RXhwaXJlZDpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXNwb25zZVRpbWVzdGFtcCsxZTMqZS50dGwtMWUzPk9iamVjdChyLnRpbWVzdGFtcCkoKX0saXNVbnVzZWRCaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJihlLnN0YXR1cyYmIWYoKShbbS5CSURfU1RBVFVTLlJFTkRFUkVEXSxlLnN0YXR1cyl8fCFlLnN0YXR1cyl9fSxUPU9iamVjdChzLmIpKCJzeW5jIiwoZnVuY3Rpb24oZSx0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MCxvPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdJiZhcmd1bWVudHNbM107aWYoIW8pe3ZhciBhPVtdLGM9aS5iLmdldENvbmZpZygic2VuZEJpZHNDb250cm9sLmRlYWxQcmlvcml0aXphdGlvbiIpLHU9T2JqZWN0KHIuZ3JvdXBCeSkoZSwiYWRVbml0Q29kZSIpO3JldHVybiBPYmplY3Qua2V5cyh1KS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgaT1bXSxvPU9iamVjdChyLmdyb3VwQnkpKHVbZV0sImJpZGRlckNvZGUiKTtPYmplY3Qua2V5cyhvKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gaS5wdXNoKG9bZV0ucmVkdWNlKHQpKX0pKSxuPjA/KGk9Yz9pLnNvcnQoTyghMCkpOmkuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5jcG0tZS5jcG19KSksYS5wdXNoLmFwcGx5KGEsdihpLnNsaWNlKDAsbikpKSk6YS5wdXNoLmFwcGx5KGEsdihpKSl9KSksYX1yZXR1cm4gZX0pKTtmdW5jdGlvbiBPKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXTtyZXR1cm4gZnVuY3Rpb24odCxuKXtyZXR1cm4gdm9pZCAwIT09dC5hZHNlcnZlclRhcmdldGluZy5oYl9kZWFsJiZ2b2lkIDA9PT1uLmFkc2VydmVyVGFyZ2V0aW5nLmhiX2RlYWw/LTE6dm9pZCAwPT09dC5hZHNlcnZlclRhcmdldGluZy5oYl9kZWFsJiZ2b2lkIDAhPT1uLmFkc2VydmVyVGFyZ2V0aW5nLmhiX2RlYWw/MTplP24uY3BtLXQuY3BtOm4uYWRzZXJ2ZXJUYXJnZXRpbmcuaGJfcGItdC5hZHNlcnZlclRhcmdldGluZy5oYl9wYn19dmFyIEk9ZnVuY3Rpb24oZSl7dmFyIHQ9e30sbj17fTtmdW5jdGlvbiBhKGUsdCl7cmV0dXJuIGUuYWRzZXJ2ZXJUYXJnZXRpbmcmJnQmJihoLmlzQXJyYXkodCkmJmYoKSh0LGUuYWRVbml0Q29kZSl8fCJzdHJpbmciPT10eXBlb2YgdCYmZS5hZFVuaXRDb2RlPT09dCl9ZnVuY3Rpb24gcyhlLHQpe2lmKCEwPT09aS5iLmdldENvbmZpZygidGFyZ2V0aW5nQ29udHJvbHMuYWx3YXlzSW5jbHVkZURlYWxzIikpe3ZhciBuPUUuY29uY2F0KG8uYSk7cmV0dXJuIFQodCxyLmdldEhpZ2hlc3RDcG0pLm1hcCgoZnVuY3Rpb24odCl7aWYodC5kZWFsSWQmJmEodCxlKSlyZXR1cm4gYih7fSx0LmFkVW5pdENvZGUsRCh0LG4uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09dC5hZHNlcnZlclRhcmdldGluZ1tlXX0pKSkpfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSl9cmV0dXJuW119ZnVuY3Rpb24gZChlLHQpe3ZhciBuPWcoe30sbS5UQVJHRVRJTkdfS0VZUyxtLk5BVElWRV9LRVlTKSxpPU9iamVjdC5rZXlzKG4pLG89e307T2JqZWN0KHIubG9nSW5mbykoImFsbG93VGFyZ2V0aW5nS2V5cyAtIGFsbG93ZWQga2V5cyBbICIuY29uY2F0KHQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gbltlXX0pKS5qb2luKCIsICIpLCIgXSIpKSxlLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHI9T2JqZWN0LmtleXMoZSlbMF0sYT1lW3JdLmZpbHRlcigoZnVuY3Rpb24oZSl7dmFyIHI9T2JqZWN0LmtleXMoZSlbMF0sYT0wPT09aS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiAwPT09ci5pbmRleE9mKG5bZV0pfSkpLmxlbmd0aHx8cCgpKHQsKGZ1bmN0aW9uKGUpe3ZhciB0PW5bZV07cmV0dXJuIDA9PT1yLmluZGV4T2YodCl9KSk7cmV0dXJuIG9bcl09IWEsYX0pKTtlW3JdPWF9KSk7dmFyIGE9T2JqZWN0LmtleXMobykuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gb1tlXX0pKTtyZXR1cm4gT2JqZWN0KHIubG9nSW5mbykoImFsbG93VGFyZ2V0aW5nS2V5cyAtIHJlbW92ZWQga2V5cyBbICIuY29uY2F0KGEuam9pbigiLCAiKSwiIF0iKSksZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlW09iamVjdC5rZXlzKGUpWzBdXS5sZW5ndGg+MH0pKX1mdW5jdGlvbiBsKGUsdCl7dmFyIG49T2JqZWN0KHIuZGVlcENsb25lKShlKTtyZXR1cm4gT2JqZWN0LmtleXMobikubWFwKChmdW5jdGlvbihlKXtyZXR1cm57YWRVbml0Q29kZTplLGFkc2VydmVyVGFyZ2V0aW5nOm5bZV19fSkpLnNvcnQoTygpKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsaSxvLGEpe3ZhciBjLHU9KGM9aS5hZHNlcnZlclRhcmdldGluZyxPYmplY3Qua2V5cyhjKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrIiIuY29uY2F0KHQsIiUzZCIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoY1t0XSksIiUyNiIpfSksIiIpKTtvKzE9PT1hLmxlbmd0aCYmKHU9dS5zbGljZSgwLC0zKSk7dmFyIHM9aS5hZFVuaXRDb2RlLGQ9dS5sZW5ndGg7cmV0dXJuIGQ8PXQ/KHQtPWQsT2JqZWN0KHIubG9nSW5mbykoIkFkVW5pdCAnIi5jb25jYXQocywiJyBhdWN0aW9uIGtleXMgY29tcHJpc2VkIG9mICIpLmNvbmNhdChkLCIgY2hhcmFjdGVycy4gIERlZHVjdGVkIGZyb20gcnVubmluZyB0aHJlc2hvbGQ7IG5ldyBsaW1pdCBpcyAiKS5jb25jYXQodCksbltzXSksZVtzXT1uW3NdKTpPYmplY3Qoci5sb2dXYXJuKSgiVGhlIGZvbGxvd2luZyBrZXlzIGZvciBhZFVuaXRDb2RlICciLmNvbmNhdChzLCInIGV4Y2VlZGVkIHRoZSBjdXJyZW50IGxpbWl0IG9mIHRoZSAnYXVjdGlvbktleU1heENoYXJzJyBzZXR0aW5nLlxuVGhlIGtleS1zZXQgc2l6ZSB3YXMgIikuY29uY2F0KGQsIiwgdGhlIGN1cnJlbnQgYWxsb3R0ZWQgYW1vdW50IHdhcyAiKS5jb25jYXQodCwiLlxuIiksbltzXSksbysxPT09YS5sZW5ndGgmJjA9PT1PYmplY3Qua2V5cyhlKS5sZW5ndGgmJk9iamVjdChyLmxvZ0Vycm9yKSgiTm8gYXVjdGlvbiB0YXJnZXRpbmcga2V5cyB3ZXJlIHBlcm1pdHRlZCBkdWUgdG8gdGhlIHNldHRpbmcgaW4gc2V0Q29uZmlnKHRhcmdldGluZ0NvbnRyb2xzLmF1Y3Rpb25LZXlNYXhDaGFycykuICBQbGVhc2UgcmV2aWV3IHNldHVwIGFuZCBjb25zaWRlciBhZGp1c3RpbmcuIiksZX0pLHt9KX1mdW5jdGlvbiB5KGUpe3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGIoe30sT2JqZWN0LmtleXMoZSlbMF0sZVtPYmplY3Qua2V5cyhlKVswXV0ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gYih7fSxPYmplY3Qua2V5cyhlKVswXSxlW09iamVjdC5rZXlzKGUpWzBdXS5qb2luKCIsICIpKX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGcodCxlKX0pLHt9KSl9KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciBuPU9iamVjdC5rZXlzKHQpWzBdO3JldHVybiBlW25dPWcoe30sZVtuXSx0W25dKSxlfSkse30pfWZ1bmN0aW9uIEkodCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P1t0XTpoLmlzQXJyYXkodCk/dDplLmdldEFkVW5pdENvZGVzKCl8fFtdfWZ1bmN0aW9uIEMoKXt2YXIgdD1lLmdldEJpZHNSZWNlaXZlZCgpO3JldHVybiBpLmIuZ2V0Q29uZmlnKCJ1c2VCaWRDYWNoZSIpfHwodD10LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIG5bZS5hZFVuaXRDb2RlXT09PWUuYXVjdGlvbklkfSkpKSx0PXQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KHIuZGVlcEFjY2VzcykoZSwidmlkZW8uY29udGV4dCIpIT09dS5hfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuImJhbm5lciIhPT1lLm1lZGlhVHlwZXx8T2JqZWN0KGMuYykoW2Uud2lkdGgsZS5oZWlnaHRdKX0pKS5maWx0ZXIoQS5pc1VudXNlZEJpZCkuZmlsdGVyKEEuaXNCaWROb3RFeHBpcmVkKSxUKHQsci5nZXRPbGRlc3RIaWdoZXN0Q3BtQmlkKX1mdW5jdGlvbiB3KGUsbil7dmFyIHI9dC5nZXRXaW5uaW5nQmlkcyhlLG4pLGk9aigpO3JldHVybiByPXIubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gYih7fSxlLmFkVW5pdENvZGUsT2JqZWN0LmtleXMoZS5hZHNlcnZlclRhcmdldGluZykuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09ZS5zZW5kU3RhbmRhcmRUYXJnZXRpbmd8fGUuc2VuZFN0YW5kYXJkVGFyZ2V0aW5nfHwtMT09PWkuaW5kZXhPZih0KX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsbil7dmFyIHI9W2UuYWRzZXJ2ZXJUYXJnZXRpbmdbbl1dLGk9Yih7fSxuLnN1YnN0cmluZygwLDIwKSxyKTtpZihuPT09bS5UQVJHRVRJTkdfS0VZUy5ERUFMKXt2YXIgbz1iKHt9LCIiLmNvbmNhdChuLCJfIikuY29uY2F0KGUuYmlkZGVyQ29kZSkuc3Vic3RyaW5nKDAsMjApLHIpO3JldHVybltdLmNvbmNhdCh2KHQpLFtpLG9dKX1yZXR1cm5bXS5jb25jYXQodih0KSxbaV0pfSksW10pKX0pKX1mdW5jdGlvbiBqKCl7cmV0dXJuIGUuZ2V0U3RhbmRhcmRCaWRkZXJBZFNlcnZlclRhcmdldGluZygpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUua2V5fSkpLmNvbmNhdChFKS5maWx0ZXIoci51bmlxdWVzKX1mdW5jdGlvbiBfKGUsdCxuLGkpe3JldHVybiBPYmplY3Qua2V5cyh0LmFkc2VydmVyVGFyZ2V0aW5nKS5maWx0ZXIoUigpKS5mb3JFYWNoKChmdW5jdGlvbihuKXtlLmxlbmd0aCYmZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBuLmFkVW5pdENvZGU9PT10LmFkVW5pdENvZGUmJm4uYWRzZXJ2ZXJUYXJnZXRpbmdbZV19fShuKSkuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24obil7aC5pc0FycmF5KG4uYWRzZXJ2ZXJUYXJnZXRpbmdbZV0pfHwobi5hZHNlcnZlclRhcmdldGluZ1tlXT1bbi5hZHNlcnZlclRhcmdldGluZ1tlXV0pLG4uYWRzZXJ2ZXJUYXJnZXRpbmdbZV09bi5hZHNlcnZlclRhcmdldGluZ1tlXS5jb25jYXQodC5hZHNlcnZlclRhcmdldGluZ1tlXSkuZmlsdGVyKHIudW5pcXVlcyksZGVsZXRlIHQuYWRzZXJ2ZXJUYXJnZXRpbmdbZV19fShuKSl9KSksZS5wdXNoKHQpLGV9ZnVuY3Rpb24gUigpe3ZhciBlPWooKS5jb25jYXQoby5hKTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuLTE9PT1lLmluZGV4T2YodCl9fWZ1bmN0aW9uIEIoZSl7cmV0dXJuIGIoe30sZS5hZFVuaXRDb2RlLE9iamVjdC5rZXlzKGUuYWRzZXJ2ZXJUYXJnZXRpbmcpLmZpbHRlcihSKCkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGIoe30sdC5zdWJzdHJpbmcoMCwyMCksW2UuYWRzZXJ2ZXJUYXJnZXRpbmdbdF1dKX0pKSl9ZnVuY3Rpb24gVShlLHQpe3JldHVybiB0LmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIGYoKShlLHQuYWRVbml0Q29kZSl9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZyh7fSxlKX0pKS5yZWR1Y2UoXyxbXSkubWFwKEIpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSl9ZnVuY3Rpb24geChlLHQpe3ZhciBuPUUuY29uY2F0KG8uYSksYz1pLmIuZ2V0Q29uZmlnKCJzZW5kQmlkc0NvbnRyb2wuYmlkTGltaXQiKSx1PVQodCxyLmdldEhpZ2hlc3RDcG0sYykscz1pLmIuZ2V0Q29uZmlnKCJ0YXJnZXRpbmdDb250cm9scy5hbGxvd1NlbmRBbGxCaWRzVGFyZ2V0aW5nS2V5cyIpLGQ9cz9zLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIG0uVEFSR0VUSU5HX0tFWVNbZV19KSk6bjtyZXR1cm4gdS5tYXAoKGZ1bmN0aW9uKHQpe2lmKGEodCxlKSlyZXR1cm4gYih7fSx0LmFkVW5pdENvZGUsRCh0LG4uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09dC5hZHNlcnZlclRhcmdldGluZ1tlXSYmLTEhPT1kLmluZGV4T2YoZSl9KSkpKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpfWZ1bmN0aW9uIEQoZSx0KXtyZXR1cm4gdC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBiKHt9LCIiLmNvbmNhdCh0LCJfIikuY29uY2F0KGUuYmlkZGVyQ29kZSkuc3Vic3RyaW5nKDAsMjApLFtlLmFkc2VydmVyVGFyZ2V0aW5nW3RdXSl9KSl9ZnVuY3Rpb24gTih0KXtmdW5jdGlvbiBuKGUpe3JldHVybiBPYmplY3Qoci5kZWVwQWNjZXNzKShlLG0uSlNPTl9NQVBQSU5HLkFEU0VSVkVSX1RBUkdFVElORyl9cmV0dXJuIGUuZ2V0QWRVbml0cygpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGYoKSh0LGUuY29kZSkmJm4oZSl9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gYih7fSxlLmNvZGUsZnVuY3Rpb24oZSl7dmFyIHQ9bihlKTtyZXR1cm4gT2JqZWN0LmtleXModCkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gaC5pc1N0cih0W2VdKSYmKHRbZV09dFtlXS5zcGxpdCgiLCIpKSxoLmlzQXJyYXkodFtlXSl8fCh0W2VdPVt0W2VdXSksYih7fSxlLHRbZV0pfSkpfShlKSl9KSl9cmV0dXJuIHQuc2V0TGF0ZXN0QXVjdGlvbkZvckFkVW5pdD1mdW5jdGlvbihlLHQpe25bZV09dH0sdC5yZXNldFByZXNldFRhcmdldGluZz1mdW5jdGlvbih0LG4pe2lmKE9iamVjdChyLmlzR3B0UHViYWRzRGVmaW5lZCkoKSl7dmFyIGk9SSh0KSxvPWUuZ2V0QWRVbml0cygpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGYoKShpLGUuY29kZSl9KSk7d2luZG93Lmdvb2dsZXRhZy5wdWJhZHMoKS5nZXRTbG90cygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWguaXNGbihuKSYmbihlKTtTLmZvckVhY2goKGZ1bmN0aW9uKG4pe28uZm9yRWFjaCgoZnVuY3Rpb24ocil7KHIuY29kZT09PWUuZ2V0QWRVbml0UGF0aCgpfHxyLmNvZGU9PT1lLmdldFNsb3RFbGVtZW50SWQoKXx8aC5pc0ZuKHQpJiZ0KHIuY29kZSkpJiZlLnNldFRhcmdldGluZyhuLG51bGwpfSkpfSkpfSkpfX0sdC5yZXNldFByZXNldFRhcmdldGluZ0FTVD1mdW5jdGlvbihlKXtJKGUpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PXdpbmRvdy5hcG50YWcuZ2V0VGFnKGUpO2lmKHQmJnQua2V5d29yZHMpe3ZhciBuPU9iamVjdC5rZXlzKHQua2V5d29yZHMpLHI9e307bi5mb3JFYWNoKChmdW5jdGlvbihlKXtmKCkoUyxlLnRvTG93ZXJDYXNlKCkpfHwocltlXT10LmtleXdvcmRzW2VdKX0pKSx3aW5kb3cuYXBudGFnLm1vZGlmeVRhZyhlLHtrZXl3b3JkczpyfSl9fSkpfSx0LmdldEFsbFRhcmdldGluZz1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06QygpLG49SShlKSxvPXcobix0KS5jb25jYXQoVShuLHQpKS5jb25jYXQoaS5iLmdldENvbmZpZygiZW5hYmxlU2VuZEFsbEJpZHMiKT94KG4sdCk6cyhuLHQpKS5jb25jYXQoTihuKSk7by5tYXAoKGZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGUpLm1hcCgoZnVuY3Rpb24odCl7ZVt0XS5tYXAoKGZ1bmN0aW9uKGUpey0xPT09Uy5pbmRleE9mKE9iamVjdC5rZXlzKGUpWzBdKSYmKFM9T2JqZWN0LmtleXMoZSkuY29uY2F0KFMpKX0pKX0pKX0pKTt2YXIgYT1PYmplY3Qua2V5cyhnKHt9LG0uREVGQVVMVF9UQVJHRVRJTkdfS0VZUyxtLk5BVElWRV9LRVlTKSksYz1pLmIuZ2V0Q29uZmlnKCJ0YXJnZXRpbmdDb250cm9scy5hbGxvd1RhcmdldGluZ0tleXMiKXx8YTtBcnJheS5pc0FycmF5KGMpJiZjLmxlbmd0aD4wJiYobz1kKG8sYykpLG89eShvKTt2YXIgdT1pLmIuZ2V0Q29uZmlnKCJ0YXJnZXRpbmdDb250cm9scy5hdWN0aW9uS2V5TWF4Q2hhcnMiKTtyZXR1cm4gdSYmKE9iamVjdChyLmxvZ0luZm8pKCJEZXRlY3RlZCAndGFyZ2V0aW5nQ29udHJvbHMuYXVjdGlvbktleU1heENoYXJzJyB3YXMgYWN0aXZlIGZvciB0aGlzIGF1Y3Rpb247IHNldCB3aXRoIGEgbGltaXQgb2YgIi5jb25jYXQodSwiIGNoYXJhY3RlcnMuICBSdW5uaW5nIGNoZWNrcyBvbiBhdWN0aW9uIGtleXMuLi4iKSksbz1sKG8sdSkpLG4uZm9yRWFjaCgoZnVuY3Rpb24oZSl7b1tlXXx8KG9bZV09e30pfSkpLG99LHQuc2V0VGFyZ2V0aW5nRm9yR1BUPWZ1bmN0aW9uKGUsdCl7d2luZG93Lmdvb2dsZXRhZy5wdWJhZHMoKS5nZXRTbG90cygpLmZvckVhY2goKGZ1bmN0aW9uKG4pe09iamVjdC5rZXlzKGUpLmZpbHRlcih0P3Qobik6T2JqZWN0KHIuaXNBZFVuaXRDb2RlTWF0Y2hpbmdTbG90KShuKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5rZXlzKGVbdF0pLmZvckVhY2goKGZ1bmN0aW9uKHIpe3ZhciBpPWVbdF1bcl07InN0cmluZyI9PXR5cGVvZiBpJiYoaT1pLnNwbGl0KCIsIikpLChpPWkubGVuZ3RoPjE/W2ldOmkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGgubG9nTWVzc2FnZSgiQXR0ZW1wdGluZyB0byBzZXQga2V5IHZhbHVlIGZvciBzbG90OiAiLmNvbmNhdChuLmdldFNsb3RFbGVtZW50SWQoKSwiIGtleTogIikuY29uY2F0KHIsIiB2YWx1ZTogIikuY29uY2F0KGUpKSxlfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe24uc2V0VGFyZ2V0aW5nKHIsZSl9KSl9KSl9KSl9KSl9LHQuZ2V0V2lubmluZ0JpZHM9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOkMoKSxuPUkoZSk7cmV0dXJuIHQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZigpKG4sZS5hZFVuaXRDb2RlKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNwbT4wfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRVbml0Q29kZX0pKS5maWx0ZXIoci51bmlxdWVzKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRVbml0Q29kZT09PWU/dDpudWxsfSkpLnJlZHVjZShyLmdldEhpZ2hlc3RDcG0pfSkpfSx0LnNldFRhcmdldGluZ0ZvckFzdD1mdW5jdGlvbihlKXt2YXIgbj10LmdldEFsbFRhcmdldGluZyhlKTt0cnl7dC5yZXNldFByZXNldFRhcmdldGluZ0FTVChlKX1jYXRjaChlKXtoLmxvZ0Vycm9yKCJ1bmFibGUgdG8gcmVzZXQgdGFyZ2V0aW5nIGZvciBBU1QiK2UpfU9iamVjdC5rZXlzKG4pLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qua2V5cyhuW2VdKS5mb3JFYWNoKChmdW5jdGlvbih0KXtpZihoLmxvZ01lc3NhZ2UoIkF0dGVtcHRpbmcgdG8gc2V0IHRhcmdldGluZyBmb3IgdGFyZ2V0SWQ6ICIuY29uY2F0KGUsIiBrZXk6ICIpLmNvbmNhdCh0LCIgdmFsdWU6ICIpLmNvbmNhdChuW2VdW3RdKSksaC5pc1N0cihuW2VdW3RdKXx8aC5pc0FycmF5KG5bZV1bdF0pKXt2YXIgcj17fTt0LnNlYXJjaCgvcHRbMC05XS8pPDA/clt0LnRvVXBwZXJDYXNlKCldPW5bZV1bdF06clt0XT1uW2VdW3RdLHdpbmRvdy5hcG50YWcuc2V0S2V5d29yZHMoZSxyLHtvdmVycmlkZUtleVZhbHVlOiEwfSl9fSkpfSkpfSx0LmlzQXBudGFnRGVmaW5lZD1mdW5jdGlvbigpe2lmKHdpbmRvdy5hcG50YWcmJmguaXNGbih3aW5kb3cuYXBudGFnLnNldEtleXdvcmRzKSlyZXR1cm4hMH0sdH0oYS5hKX0sMzk6ZnVuY3Rpb24oZSx0KXt2YXIgbjtuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCk7dHJ5e249bnx8RnVuY3Rpb24oInJldHVybiB0aGlzIikoKXx8KDAsZXZhbCkoInRoaXMiKX1jYXRjaChlKXsib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmKG49d2luZG93KX1lLmV4cG9ydHM9bn0sNDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKSx0LmI9czt2YXIgcj1uKDMpLGk9big1NSk7ZnVuY3Rpb24gbygpe3JldHVybihvPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gYShlKXtyZXR1cm4oYT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfXZhciBjPW4oMCksdT1zKCk7ZnVuY3Rpb24gcygpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTozZTMsdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj10LnJlcXVlc3QsdT10LmRvbmU7cmV0dXJuIGZ1bmN0aW9uKHQscyxkKXt2YXIgZj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106e307dHJ5e3ZhciBsLHA9Zi5tZXRob2R8fChkPyJQT1NUIjoiR0VUIiksZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7dD1pLmModCksZy5ocmVmPXQ7dmFyIGI9Im9iamVjdCI9PT1hKHMpJiZudWxsIT09cz9zOntzdWNjZXNzOmZ1bmN0aW9uKCl7Yy5sb2dNZXNzYWdlKCJ4aHIgc3VjY2VzcyIpfSxlcnJvcjpmdW5jdGlvbihlKXtjLmxvZ0Vycm9yKCJ4aHIgZXJyb3IiLG51bGwsZSl9fTtpZigiZnVuY3Rpb24iPT10eXBlb2YgcyYmKGIuc3VjY2Vzcz1zKSwobD1uZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0KS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZig0PT09bC5yZWFkeVN0YXRlKXsiZnVuY3Rpb24iPT10eXBlb2YgdSYmdShnLm9yaWdpbik7dmFyIGU9bC5zdGF0dXM7ZT49MjAwJiZlPDMwMHx8MzA0PT09ZT9iLnN1Y2Nlc3MobC5yZXNwb25zZVRleHQsbCk6Yi5lcnJvcihsLnN0YXR1c1RleHQsbCl9fSxyLmIuZ2V0Q29uZmlnKCJkaXNhYmxlQWpheFRpbWVvdXQiKXx8KGwub250aW1lb3V0PWZ1bmN0aW9uKCl7Yy5sb2dFcnJvcigiICB4aHIgdGltZW91dCBhZnRlciAiLGwudGltZW91dCwibXMiKX0pLCJHRVQiPT09cCYmZCl7dmFyIHY9Yy5wYXJzZVVybCh0LGYpO28odi5zZWFyY2gsZCksdD1jLmJ1aWxkVXJsKHYpfWwub3BlbihwLHQsITApLHIuYi5nZXRDb25maWcoImRpc2FibGVBamF4VGltZW91dCIpfHwobC50aW1lb3V0PWUpLGYud2l0aENyZWRlbnRpYWxzJiYobC53aXRoQ3JlZGVudGlhbHM9ITApLGMuX2VhY2goZi5jdXN0b21IZWFkZXJzLChmdW5jdGlvbihlLHQpe2wuc2V0UmVxdWVzdEhlYWRlcih0LGUpfSkpLGYucHJlZmxpZ2h0JiZsLnNldFJlcXVlc3RIZWFkZXIoIlgtUmVxdWVzdGVkLVdpdGgiLCJYTUxIdHRwUmVxdWVzdCIpLGwuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIixmLmNvbnRlbnRUeXBlfHwidGV4dC9wbGFpbiIpLCJmdW5jdGlvbiI9PXR5cGVvZiBuJiZuKGcub3JpZ2luKSwiUE9TVCI9PT1wJiZkP2wuc2VuZChkKTpsLnNlbmQoKX1jYXRjaChlKXtjLmxvZ0Vycm9yKCJ4aHIgY29uc3RydWN0aW9uIixlKSwib2JqZWN0Ij09PWEocykmJm51bGwhPT1zJiZzLmVycm9yKGUpfX19fSw0MDpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz17fX0sNDE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTYpLGk9bigyMSksbz1uKDI0KSgic3BlY2llcyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciBuLGE9cihlKS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09YXx8bnVsbD09KG49cihhKVtvXSk/dDppKG4pfX0sNDI6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IGkoZSx0KX07dmFyIHI9bigwKTtmdW5jdGlvbiBpKGUsdCl7dmFyIG49dCYmdC5zcmN8fCJjbGllbnQiLGk9ZXx8MDt0aGlzLmJpZGRlckNvZGU9dCYmdC5iaWRkZXJ8fCIiLHRoaXMud2lkdGg9MCx0aGlzLmhlaWdodD0wLHRoaXMuc3RhdHVzTWVzc2FnZT1mdW5jdGlvbigpe3N3aXRjaChpKXtjYXNlIDA6cmV0dXJuIlBlbmRpbmciO2Nhc2UgMTpyZXR1cm4iQmlkIGF2YWlsYWJsZSI7Y2FzZSAyOnJldHVybiJCaWQgcmV0dXJuZWQgZW1wdHkgb3IgZXJyb3IgcmVzcG9uc2UiO2Nhc2UgMzpyZXR1cm4iQmlkIHRpbWVkIG91dCJ9fSgpLHRoaXMuYWRJZD1yLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIoKSx0aGlzLnJlcXVlc3RJZD10JiZ0LmJpZElkLHRoaXMubWVkaWFUeXBlPSJiYW5uZXIiLHRoaXMuc291cmNlPW4sdGhpcy5nZXRTdGF0dXNDb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIGl9LHRoaXMuZ2V0U2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLndpZHRoKyJ4Iit0aGlzLmhlaWdodH19fSw0MzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKSxuLmQodCwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSk7dmFyIHI9bigxMSksaT1uLm4ociksbz1uKDApLGE9e2J1Y2tldHM6W3ttYXg6NSxpbmNyZW1lbnQ6LjV9XX0sYz17YnVja2V0czpbe21heDoyMCxpbmNyZW1lbnQ6LjF9XX0sdT17YnVja2V0czpbe21heDoyMCxpbmNyZW1lbnQ6LjAxfV19LHM9e2J1Y2tldHM6W3ttYXg6MyxpbmNyZW1lbnQ6LjAxfSx7bWF4OjgsaW5jcmVtZW50Oi4wNX0se21heDoyMCxpbmNyZW1lbnQ6LjV9XX0sZD17YnVja2V0czpbe21heDo1LGluY3JlbWVudDouMDV9LHttYXg6MTAsaW5jcmVtZW50Oi4xfSx7bWF4OjIwLGluY3JlbWVudDouNX1dfTtmdW5jdGlvbiBmKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjEscj1wYXJzZUZsb2F0KGUpO3JldHVybiBpc05hTihyKSYmKHI9IiIpLHtsb3c6IiI9PT1yPyIiOmwoZSxhLG4pLG1lZDoiIj09PXI/IiI6bChlLGMsbiksaGlnaDoiIj09PXI/IiI6bChlLHUsbiksYXV0bzoiIj09PXI/IiI6bChlLGQsbiksZGVuc2U6IiI9PT1yPyIiOmwoZSxzLG4pLGN1c3RvbToiIj09PXI/IiI6bChlLHQsbil9fWZ1bmN0aW9uIGwoZSx0LG4pe3ZhciByPSIiO2lmKCFwKHQpKXJldHVybiByO3ZhciBvPXQuYnVja2V0cy5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubWF4PnQubWF4P2U6dH0pLHttYXg6MH0pLGE9MCxjPWkoKSh0LmJ1Y2tldHMsKGZ1bmN0aW9uKHQpe2lmKGU+by5tYXgqbil7dmFyIGk9dC5wcmVjaXNpb247dm9pZCAwPT09aSYmKGk9Mikscj0odC5tYXgqbikudG9GaXhlZChpKX1lbHNle2lmKGU8PXQubWF4Km4mJmU+PWEqbilyZXR1cm4gdC5taW49YSx0O2E9dC5tYXh9fSkpO3JldHVybiBjJiYocj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dm9pZCAwIT09dC5wcmVjaXNpb24/dC5wcmVjaXNpb246MixpPXQuaW5jcmVtZW50Km4sbz10Lm1pbipuLGE9TWF0aC5wb3coMTAscisyKSxjPShlKmEtbyphKS8oaSphKSx1PU1hdGguZmxvb3IoYykqaStvO3JldHVybih1PU51bWJlcih1LnRvRml4ZWQoMTApKSkudG9GaXhlZChyKX0oZSxjLG4pKSxyfWZ1bmN0aW9uIHAoZSl7aWYoby5pc0VtcHR5KGUpfHwhZS5idWNrZXRzfHwhQXJyYXkuaXNBcnJheShlLmJ1Y2tldHMpKXJldHVybiExO3ZhciB0PSEwO3JldHVybiBlLmJ1Y2tldHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5tYXgmJmUuaW5jcmVtZW50fHwodD0hMSl9KSksdH19LDQ0OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0sNDU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNzgpLGk9big0Nyk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiByKGkoZSkpfX0sNDY6ZnVuY3Rpb24oZSx0KXt2YXIgbj17fS50b1N0cmluZztlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uY2FsbChlKS5zbGljZSg4LC0xKX19LDQ3OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKG51bGw9PWUpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAiK2UpO3JldHVybiBlfX0sNDg6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNDcpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KHIoZSkpfX0sNDk6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9e319LDU6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9e0pTT05fTUFQUElORzp7UExfQ09ERToiY29kZSIsUExfU0laRToic2l6ZXMiLFBMX0JJRFM6ImJpZHMiLEJEX0JJRERFUjoiYmlkZGVyIixCRF9JRDoicGFyYW1zZCIsQkRfUExfSUQ6InBsYWNlbWVudElkIixBRFNFUlZFUl9UQVJHRVRJTkc6ImFkc2VydmVyVGFyZ2V0aW5nIixCRF9TRVRUSU5HX1NUQU5EQVJEOiJzdGFuZGFyZCJ9LERFQlVHX01PREU6InBianNfZGVidWciLFNUQVRVUzp7R09PRDoxLE5PX0JJRDoyfSxDQjp7VFlQRTp7QUxMX0JJRFNfQkFDSzoiYWxsUmVxdWVzdGVkQmlkc0JhY2siLEFEX1VOSVRfQklEU19CQUNLOiJhZFVuaXRCaWRzQmFjayIsQklEX1dPTjoiYmlkV29uIixSRVFVRVNUX0JJRFM6InJlcXVlc3RCaWRzIn19LEVWRU5UUzp7QVVDVElPTl9JTklUOiJhdWN0aW9uSW5pdCIsQVVDVElPTl9FTkQ6ImF1Y3Rpb25FbmQiLEJJRF9BREpVU1RNRU5UOiJiaWRBZGp1c3RtZW50IixCSURfVElNRU9VVDoiYmlkVGltZW91dCIsQklEX1JFUVVFU1RFRDoiYmlkUmVxdWVzdGVkIixCSURfUkVTUE9OU0U6ImJpZFJlc3BvbnNlIixOT19CSUQ6Im5vQmlkIixCSURfV09OOiJiaWRXb24iLEJJRERFUl9ET05FOiJiaWRkZXJEb25lIixTRVRfVEFSR0VUSU5HOiJzZXRUYXJnZXRpbmciLEJFRk9SRV9SRVFVRVNUX0JJRFM6ImJlZm9yZVJlcXVlc3RCaWRzIixSRVFVRVNUX0JJRFM6InJlcXVlc3RCaWRzIixBRERfQURfVU5JVFM6ImFkZEFkVW5pdHMiLEFEX1JFTkRFUl9GQUlMRUQ6ImFkUmVuZGVyRmFpbGVkIixBRF9SRU5ERVJfU1VDQ0VFREVEOiJhZFJlbmRlclN1Y2NlZWRlZCIsVENGMl9FTkZPUkNFTUVOVDoidGNmMkVuZm9yY2VtZW50IixBVUNUSU9OX0RFQlVHOiJhdWN0aW9uRGVidWciLEJJRF9WSUVXQUJMRToiYmlkVmlld2FibGUiLFNUQUxFX1JFTkRFUjoic3RhbGVSZW5kZXIifSxBRF9SRU5ERVJfRkFJTEVEX1JFQVNPTjp7UFJFVkVOVF9XUklUSU5HX09OX01BSU5fRE9DVU1FTlQ6InByZXZlbnRXcml0aW5nT25NYWluRG9jdW1lbnQiLE5PX0FEOiJub0FkIixFWENFUFRJT046ImV4Y2VwdGlvbiIsQ0FOTk9UX0ZJTkRfQUQ6ImNhbm5vdEZpbmRBZCIsTUlTU0lOR19ET0NfT1JfQURJRDoibWlzc2luZ0RvY09yQWRpZCJ9LEVWRU5UX0lEX1BBVEhTOntiaWRXb246ImFkVW5pdENvZGUifSxHUkFOVUxBUklUWV9PUFRJT05TOntMT1c6ImxvdyIsTUVESVVNOiJtZWRpdW0iLEhJR0g6ImhpZ2giLEFVVE86ImF1dG8iLERFTlNFOiJkZW5zZSIsQ1VTVE9NOiJjdXN0b20ifSxUQVJHRVRJTkdfS0VZUzp7QklEREVSOiJoYl9iaWRkZXIiLEFEX0lEOiJoYl9hZGlkIixQUklDRV9CVUNLRVQ6ImhiX3BiIixTSVpFOiJoYl9zaXplIixERUFMOiJoYl9kZWFsIixTT1VSQ0U6ImhiX3NvdXJjZSIsRk9STUFUOiJoYl9mb3JtYXQiLFVVSUQ6ImhiX3V1aWQiLENBQ0hFX0lEOiJoYl9jYWNoZV9pZCIsQ0FDSEVfSE9TVDoiaGJfY2FjaGVfaG9zdCIsQURPTUFJTjoiaGJfYWRvbWFpbiJ9LERFRkFVTFRfVEFSR0VUSU5HX0tFWVM6e0JJRERFUjoiaGJfYmlkZGVyIixBRF9JRDoiaGJfYWRpZCIsUFJJQ0VfQlVDS0VUOiJoYl9wYiIsU0laRToiaGJfc2l6ZSIsREVBTDoiaGJfZGVhbCIsRk9STUFUOiJoYl9mb3JtYXQiLFVVSUQ6ImhiX3V1aWQiLENBQ0hFX0hPU1Q6ImhiX2NhY2hlX2hvc3QifSxOQVRJVkVfS0VZUzp7dGl0bGU6ImhiX25hdGl2ZV90aXRsZSIsYm9keToiaGJfbmF0aXZlX2JvZHkiLGJvZHkyOiJoYl9uYXRpdmVfYm9keTIiLHByaXZhY3lMaW5rOiJoYl9uYXRpdmVfcHJpdmFjeSIscHJpdmFjeUljb246ImhiX25hdGl2ZV9wcml2aWNvbiIsc3BvbnNvcmVkQnk6ImhiX25hdGl2ZV9icmFuZCIsaW1hZ2U6ImhiX25hdGl2ZV9pbWFnZSIsaWNvbjoiaGJfbmF0aXZlX2ljb24iLGNsaWNrVXJsOiJoYl9uYXRpdmVfbGlua3VybCIsZGlzcGxheVVybDoiaGJfbmF0aXZlX2Rpc3BsYXl1cmwiLGN0YToiaGJfbmF0aXZlX2N0YSIscmF0aW5nOiJoYl9uYXRpdmVfcmF0aW5nIixhZGRyZXNzOiJoYl9uYXRpdmVfYWRkcmVzcyIsZG93bmxvYWRzOiJoYl9uYXRpdmVfZG93bmxvYWRzIixsaWtlczoiaGJfbmF0aXZlX2xpa2VzIixwaG9uZToiaGJfbmF0aXZlX3Bob25lIixwcmljZToiaGJfbmF0aXZlX3ByaWNlIixzYWxlUHJpY2U6ImhiX25hdGl2ZV9zYWxlcHJpY2UiLHJlbmRlcmVyVXJsOiJoYl9yZW5kZXJlcl91cmwiLGFkVGVtcGxhdGU6ImhiX2FkVGVtcGxhdGUifSxTMlM6e1NSQzoiczJzIixERUZBVUxUX0VORFBPSU5UOiJodHRwczovL3ByZWJpZC5hZG54cy5jb20vcGJzL3YxL29wZW5ydGIyL2F1Y3Rpb24iLFNZTkNFRF9CSURERVJTX0tFWToicGJqc1N5bmNzIn0sQklEX1NUQVRVUzp7QklEX1RBUkdFVElOR19TRVQ6InRhcmdldGluZ1NldCIsUkVOREVSRUQ6InJlbmRlcmVkIixCSURfUkVKRUNURUQ6ImJpZFJlamVjdGVkIn19fSw1MDpmdW5jdGlvbihlLHQsbil7dmFyIHI9big2MCksaT1NYXRoLm1pbjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9pKHIoZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LDUxOmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7fX0sNTI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjcpO2UuZXhwb3J0cz1yfSw1MzpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz17fX0sNTQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxhPW4oMTIwKSxjPW4oMjUpLHU9bigzMCkscz1uKDMyKSxkPW4oMzEpLGY9big2MSksbD1uKDY3KSxwPW4oNTMpLGc9Ik9iamVjdCBhbHJlYWR5IGluaXRpYWxpemVkIixiPWMuV2Vha01hcDtpZihhfHxmLnN0YXRlKXt2YXIgdj1mLnN0YXRlfHwoZi5zdGF0ZT1uZXcgYikseT12LmdldCxoPXYuaGFzLG09di5zZXQ7cj1mdW5jdGlvbihlLHQpe2lmKGguY2FsbCh2LGUpKXRocm93IG5ldyBUeXBlRXJyb3IoZyk7cmV0dXJuIHQuZmFjYWRlPWUsbS5jYWxsKHYsZSx0KSx0fSxpPWZ1bmN0aW9uKGUpe3JldHVybiB5LmNhbGwodixlKXx8e319LG89ZnVuY3Rpb24oZSl7cmV0dXJuIGguY2FsbCh2LGUpfX1lbHNle3ZhciBTPWwoInN0YXRlIik7cFtTXT0hMCxyPWZ1bmN0aW9uKGUsdCl7aWYoZChlLFMpKXRocm93IG5ldyBUeXBlRXJyb3IoZyk7cmV0dXJuIHQuZmFjYWRlPWUscyhlLFMsdCksdH0saT1mdW5jdGlvbihlKXtyZXR1cm4gZChlLFMpP2VbU106e319LG89ZnVuY3Rpb24oZSl7cmV0dXJuIGQoZSxTKX19ZS5leHBvcnRzPXtzZXQ6cixnZXQ6aSxoYXM6byxlbmZvcmNlOmZ1bmN0aW9uKGUpe3JldHVybiBvKGUpP2koZSk6cihlLHt9KX0sZ2V0dGVyRm9yOmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgbjtpZighdSh0KXx8KG49aSh0KSkudHlwZSE9PWUpdGhyb3cgVHlwZUVycm9yKCJJbmNvbXBhdGlibGUgcmVjZWl2ZXIsICIrZSsiIHJlcXVpcmVkIik7cmV0dXJuIG59fX19LDU1OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5iPWZ1bmN0aW9uKGUpe2kucHVzaChlKX0sdC5jPWZ1bmN0aW9uKGUpe3RyeXt2YXIgdD1lO3JldHVybiBpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3Q9ZSh0KX0pKSx0fWNhdGNoKHQpe3JldHVybiBlfX0sdC5hPWZ1bmN0aW9uKCl7cmV0dXJuIG99LHQuZD1mdW5jdGlvbihlKXtyKGUpfTt2YXIgcixpPVtdO3ZhciBvPW5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtyPWV9KSl9LDU2OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBwfSkpO3ZhciByPW4oMCksaT1uKDMpLG89bigxMiksYT1uLm4obyksYz1uKDcpO2Z1bmN0aW9uIHUoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIG49bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT1uKXJldHVybjt2YXIgcixpLG89W10sYT0hMCxjPSExO3RyeXtmb3Iobj1uLmNhbGwoZSk7IShhPShyPW4ubmV4dCgpKS5kb25lKSYmKG8ucHVzaChyLnZhbHVlKSwhdHx8by5sZW5ndGghPT10KTthPSEwKTt9Y2F0Y2goZSl7Yz0hMCxpPWV9ZmluYWxseXt0cnl7YXx8bnVsbD09bi5yZXR1cm58fG4ucmV0dXJuKCl9ZmluYWxseXtpZihjKXRocm93IGl9fXJldHVybiBvfShlLHQpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHMoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09bnx8IlNldCI9PT1uKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpcmV0dXJuIHMoZSx0KX0oZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIHMoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn1mdW5jdGlvbiBkKCl7cmV0dXJuKGQ9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1pLmIuc2V0RGVmYXVsdHMoe3VzZXJTeW5jOnIuZGVlcENsb25lKHtzeW5jRW5hYmxlZDohMCxmaWx0ZXJTZXR0aW5nczp7aW1hZ2U6e2JpZGRlcnM6IioiLGZpbHRlcjoiaW5jbHVkZSJ9fSxzeW5jc1BlckJpZGRlcjo1LHN5bmNEZWxheTozZTMsYXVjdGlvbkRlbGF5OjB9KX0pO3ZhciBmPU9iamVjdChjLmEpKCJ1c2Vyc3luYyIpO3ZhciBsPSFyLmlzU2FmYXJpQnJvd3NlcigpJiZmLmNvb2tpZXNBcmVFbmFibGVkKCkscD1mdW5jdGlvbihlKXt2YXIgdD17fSxuPXtpbWFnZTpbXSxpZnJhbWU6W119LG89bmV3IFNldCxjPXt9LHM9e2ltYWdlOiEwLGlmcmFtZTohMX0sZj1lLmNvbmZpZztmdW5jdGlvbiBsKCl7aWYoZi5zeW5jRW5hYmxlZCYmZS5icm93c2VyU3VwcG9ydHNDb29raWVzKXt0cnl7IWZ1bmN0aW9uKCl7aWYoIXMuaW1hZ2UpcmV0dXJuO3Aobi5pbWFnZSwoZnVuY3Rpb24oZSl7dmFyIHQ9dShlLDIpLG49dFswXSxpPXRbMV07ci5sb2dNZXNzYWdlKCJJbnZva2luZyBpbWFnZSBwaXhlbCB1c2VyIHN5bmMgZm9yIGJpZGRlcjogIi5jb25jYXQobikpLHIudHJpZ2dlclBpeGVsKGkpfSkpfSgpLGZ1bmN0aW9uKCl7aWYoIXMuaWZyYW1lKXJldHVybjtwKG4uaWZyYW1lLChmdW5jdGlvbihlKXt2YXIgdD11KGUsMiksbj10WzBdLGk9dFsxXTtyLmxvZ01lc3NhZ2UoIkludm9raW5nIGlmcmFtZSB1c2VyIHN5bmMgZm9yIGJpZGRlcjogIi5jb25jYXQobikpLHIuaW5zZXJ0VXNlclN5bmNJZnJhbWUoaSl9KSl9KCl9Y2F0Y2goZSl7cmV0dXJuIHIubG9nRXJyb3IoIkVycm9yIGZpcmluZyB1c2VyIHN5bmNzIixlKX1uPXtpbWFnZTpbXSxpZnJhbWU6W119fX1mdW5jdGlvbiBwKGUsdCl7ci5zaHVmZmxlKGUpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QoZSksby5hZGQoZVswXSl9KSl9ZnVuY3Rpb24gZyhlLHQpe3ZhciBuPWYuZmlsdGVyU2V0dGluZ3M7aWYoZnVuY3Rpb24oZSx0KXtpZihlLmFsbCYmZVt0XSlyZXR1cm4gci5sb2dXYXJuKCdEZXRlY3RlZCBwcmVzZW5jZSBvZiB0aGUgImZpbHRlclNldHRpbmdzLmFsbCIgYW5kICJmaWx0ZXJTZXR0aW5ncy4nLmNvbmNhdCh0LCciIGluIHVzZXJTeW5jIGNvbmZpZy4gIFlvdSBjYW5ub3QgbWl4ICJhbGwiIHdpdGggImlmcmFtZS9pbWFnZSIgY29uZmlnczsgdGhleSBhcmUgbXV0dWFsbHkgZXhjbHVzaXZlLicpKSwhMTt2YXIgbj1lLmFsbD9lLmFsbDplW3RdLGk9ZS5hbGw/ImFsbCI6dDtpZighbilyZXR1cm4hMTt2YXIgbz1uLmZpbHRlcixhPW4uYmlkZGVycztpZihvJiYiaW5jbHVkZSIhPT1vJiYiZXhjbHVkZSIhPT1vKXJldHVybiByLmxvZ1dhcm4oJ1VzZXJTeW5jICJmaWx0ZXJTZXR0aW5ncy4nLmNvbmNhdChpLCIuZmlsdGVyXCIgc2V0dGluZyAnIikuY29uY2F0KG8sIicgaXMgbm90IGEgdmFsaWQgb3B0aW9uOyB1c2UgZWl0aGVyICdpbmNsdWRlJyBvciAnZXhjbHVkZScuIikpLCExO2lmKCIqIiE9PWEmJiEoQXJyYXkuaXNBcnJheShhKSYmYS5sZW5ndGg+MCYmYS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIHIuaXNTdHIoZSkmJiIqIiE9PWV9KSkpKXJldHVybiByLmxvZ1dhcm4oJ0RldGVjdGVkIGFuIGludmFsaWQgc2V0dXAgaW4gdXNlclN5bmMgImZpbHRlclNldHRpbmdzLicuY29uY2F0KGksIi5iaWRkZXJzXCI7IHVzZSBlaXRoZXIgJyonICh0byByZXByZXNlbnQgYWxsIGJpZGRlcnMpIG9yIGFuIGFycmF5IG9mIGJpZGRlcnMuIikpLCExO3JldHVybiEwfShuLGUpKXtzW2VdPSEwO3ZhciBpPW4uYWxsP24uYWxsOm5bZV0sbz0iKiI9PT1pLmJpZGRlcnM/W3RdOmkuYmlkZGVycztyZXR1cm57aW5jbHVkZTpmdW5jdGlvbihlLHQpe3JldHVybiFhKCkoZSx0KX0sZXhjbHVkZTpmdW5jdGlvbihlLHQpe3JldHVybiBhKCkoZSx0KX19W2kuZmlsdGVyfHwiaW5jbHVkZSJdKG8sdCl9cmV0dXJuIXNbZV19cmV0dXJuIGkuYi5nZXRDb25maWcoInVzZXJTeW5jIiwoZnVuY3Rpb24oZSl7aWYoZS51c2VyU3luYyl7dmFyIHQ9ZS51c2VyU3luYy5maWx0ZXJTZXR0aW5ncztyLmlzUGxhaW5PYmplY3QodCkmJih0LmltYWdlfHx0LmFsbHx8KGUudXNlclN5bmMuZmlsdGVyU2V0dGluZ3MuaW1hZ2U9e2JpZGRlcnM6IioiLGZpbHRlcjoiaW5jbHVkZSJ9KSl9Zj1kKGYsZS51c2VyU3luYyl9KSksdC5yZWdpc3RlclN5bmM9ZnVuY3Rpb24oZSxpLGEpe3JldHVybiBvLmhhcyhpKT9yLmxvZ01lc3NhZ2UoJ2FscmVhZHkgZmlyZWQgc3luY3MgZm9yICInLmNvbmNhdChpLCciLCBpZ25vcmluZyByZWdpc3RlclN5bmMgY2FsbCcpKTpmLnN5bmNFbmFibGVkJiZyLmlzQXJyYXkobltlXSk/aT8wIT09Zi5zeW5jc1BlckJpZGRlciYmTnVtYmVyKGNbaV0pPj1mLnN5bmNzUGVyQmlkZGVyP3IubG9nV2FybignTnVtYmVyIG9mIHVzZXIgc3luY3MgZXhjZWVkZWQgZm9yICInLmNvbmNhdChpLCciJykpOnQuY2FuQmlkZGVyUmVnaXN0ZXJTeW5jKGUsaSk/KG5bZV0ucHVzaChbaSxhXSksdm9pZChjPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbdF0/ZVt0XSs9MTplW3RdPTEsZX0oYyxpKSkpOnIubG9nV2FybignQmlkZGVyICInLmNvbmNhdChpLCciIG5vdCBwZXJtaXR0ZWQgdG8gcmVnaXN0ZXIgdGhlaXIgIicpLmNvbmNhdChlLCciIHVzZXJTeW5jIHBpeGVscy4nKSk6ci5sb2dXYXJuKCJCaWRkZXIgaXMgcmVxdWlyZWQgZm9yIHJlZ2lzdGVyaW5nIHN5bmMiKTpyLmxvZ1dhcm4oJ1VzZXIgc3luYyB0eXBlICInLmNvbmNhdChlLCciIG5vdCBzdXBwb3J0ZWQnKSl9LHQuc3luY1VzZXJzPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjA7aWYoZSlyZXR1cm4gc2V0VGltZW91dChsLE51bWJlcihlKSk7bCgpfSx0LnRyaWdnZXJVc2VyU3luY3M9ZnVuY3Rpb24oKXtmLmVuYWJsZU92ZXJyaWRlJiZ0LnN5bmNVc2VycygpfSx0LmNhbkJpZGRlclJlZ2lzdGVyU3luYz1mdW5jdGlvbihlLHQpe3JldHVybiFmLmZpbHRlclNldHRpbmdzfHwhZyhlLHQpfSx0fSh7Y29uZmlnOmkuYi5nZXRDb25maWcoInVzZXJTeW5jIiksYnJvd3NlclN1cHBvcnRzQ29va2llczpsfSl9LDU3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKGUsdCl7by5hZFNlcnZlcnM9by5hZFNlcnZlcnN8fHt9LG8uYWRTZXJ2ZXJzW2VdPW8uYWRTZXJ2ZXJzW2VdfHx7fSxPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihuKXtvLmFkU2VydmVyc1tlXVtuXT9PYmplY3QoaS5sb2dXYXJuKSgiQXR0ZW1wdGluZyB0byBhZGQgYW4gYWxyZWFkeSByZWdpc3RlcmVkIGZ1bmN0aW9uIHByb3BlcnR5ICIuY29uY2F0KG4sIiBmb3IgQWRTZXJ2ZXIgIikuY29uY2F0KGUsIi4iKSk6by5hZFNlcnZlcnNbZV1bbl09dFtuXX0pKX07dmFyIHI9bigxNCksaT1uKDApLG89T2JqZWN0KHIuYSkoKX0sNTg6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzApO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCFyKGUpKXJldHVybiBlO3ZhciBuLGk7aWYodCYmImZ1bmN0aW9uIj09dHlwZW9mKG49ZS50b1N0cmluZykmJiFyKGk9bi5jYWxsKGUpKSlyZXR1cm4gaTtpZigiZnVuY3Rpb24iPT10eXBlb2Yobj1lLnZhbHVlT2YpJiYhcihpPW4uY2FsbChlKSkpcmV0dXJuIGk7aWYoIXQmJiJmdW5jdGlvbiI9PXR5cGVvZihuPWUudG9TdHJpbmcpJiYhcihpPW4uY2FsbChlKSkpcmV0dXJuIGk7dGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUiKX19LDU5OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI2KSxpPW4oNzgpLG89big0OCksYT1uKDUwKSxjPW4oMTA2KSx1PVtdLnB1c2gscz1mdW5jdGlvbihlKXt2YXIgdD0xPT1lLG49Mj09ZSxzPTM9PWUsZD00PT1lLGY9Nj09ZSxsPTc9PWUscD01PT1lfHxmO3JldHVybiBmdW5jdGlvbihnLGIsdix5KXtmb3IodmFyIGgsbSxTPW8oZyksRT1pKFMpLEE9cihiLHYsMyksVD1hKEUubGVuZ3RoKSxPPTAsST15fHxjLEM9dD9JKGcsVCk6bnx8bD9JKGcsMCk6dm9pZCAwO1Q+TztPKyspaWYoKHB8fE8gaW4gRSkmJihtPUEoaD1FW09dLE8sUyksZSkpaWYodClDW09dPW07ZWxzZSBpZihtKXN3aXRjaChlKXtjYXNlIDM6cmV0dXJuITA7Y2FzZSA1OnJldHVybiBoO2Nhc2UgNjpyZXR1cm4gTztjYXNlIDI6dS5jYWxsKEMsaCl9ZWxzZSBzd2l0Y2goZSl7Y2FzZSA0OnJldHVybiExO2Nhc2UgNzp1LmNhbGwoQyxoKX1yZXR1cm4gZj8tMTpzfHxkP2Q6Q319O2UuZXhwb3J0cz17Zm9yRWFjaDpzKDApLG1hcDpzKDEpLGZpbHRlcjpzKDIpLHNvbWU6cygzKSxldmVyeTpzKDQpLGZpbmQ6cyg1KSxmaW5kSW5kZXg6cyg2KSxmaWx0ZXJPdXQ6cyg3KX19LDYwOmZ1bmN0aW9uKGUsdCl7dmFyIG49TWF0aC5jZWlsLHI9TWF0aC5mbG9vcjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9yOm4pKGUpfX0sNjE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjUpLGk9bigxMDgpLG89Il9fY29yZS1qc19zaGFyZWRfXyIsYT1yW29dfHxpKG8se30pO2UuZXhwb3J0cz1hfSw2MjpmdW5jdGlvbihlLHQpe3ZhciBuPTAscj1NYXRoLnJhbmRvbSgpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4iU3ltYm9sKCIrU3RyaW5nKHZvaWQgMD09PWU/IiI6ZSkrIilfIisoKytuK3IpLnRvU3RyaW5nKDM2KX19LDYzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDY0KSxpPW4oNDApLG89bigyNCkoIml0ZXJhdG9yIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKG51bGwhPWUpcmV0dXJuIGVbb118fGVbIkBAaXRlcmF0b3IiXXx8aVtyKGUpXX19LDY0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDY1KSxpPW4oNDYpLG89bigyNCkoInRvU3RyaW5nVGFnIiksYT0iQXJndW1lbnRzIj09aShmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpO2UuZXhwb3J0cz1yP2k6ZnVuY3Rpb24oZSl7dmFyIHQsbixyO3JldHVybiB2b2lkIDA9PT1lPyJVbmRlZmluZWQiOm51bGw9PT1lPyJOdWxsIjoic3RyaW5nIj09dHlwZW9mKG49ZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIGVbdF19Y2F0Y2goZSl7fX0odD1PYmplY3QoZSksbykpP246YT9pKHQpOiJPYmplY3QiPT0ocj1pKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnJ9fSw2NTpmdW5jdGlvbihlLHQsbil7dmFyIHI9e307cltuKDI0KSgidG9TdHJpbmdUYWciKV09InoiLGUuZXhwb3J0cz0iW29iamVjdCB6XSI9PT1TdHJpbmcocil9LDY2OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDY1KSxpPW4oMzQpLmYsbz1uKDMyKSxhPW4oMzEpLGM9bigxMTkpLHU9bigyNCkoInRvU3RyaW5nVGFnIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuLHMpe2lmKGUpe3ZhciBkPW4/ZTplLnByb3RvdHlwZTthKGQsdSl8fGkoZCx1LHtjb25maWd1cmFibGU6ITAsdmFsdWU6dH0pLHMmJiFyJiZvKGQsInRvU3RyaW5nIixjKX19fSw2NzpmdW5jdGlvbihlLHQsbil7dmFyIHI9big4MSksaT1uKDYyKSxvPXIoImtleXMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG9bZV18fChvW2VdPWkoZSkpfX0sNjg6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTI4KSxvPW4oOTMpLGE9bigxMzApLGM9big2NiksdT1uKDMyKSxzPW4oOTEpLGQ9bigyNCksZj1uKDE3KSxsPW4oNDApLHA9big5MiksZz1wLkl0ZXJhdG9yUHJvdG90eXBlLGI9cC5CVUdHWV9TQUZBUklfSVRFUkFUT1JTLHY9ZCgiaXRlcmF0b3IiKSx5PSJrZXlzIixoPSJ2YWx1ZXMiLG09ImVudHJpZXMiLFM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuLGQscCxFLEEpe2kobix0LGQpO3ZhciBULE8sSSxDPWZ1bmN0aW9uKGUpe2lmKGU9PT1wJiZCKXJldHVybiBCO2lmKCFiJiZlIGluIF8pcmV0dXJuIF9bZV07c3dpdGNoKGUpe2Nhc2UgeTpjYXNlIGg6Y2FzZSBtOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzLGUpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4odGhpcyl9fSx3PXQrIiBJdGVyYXRvciIsaj0hMSxfPWUucHJvdG90eXBlLFI9X1t2XXx8X1siQEBpdGVyYXRvciJdfHxwJiZfW3BdLEI9IWImJlJ8fEMocCksVT0iQXJyYXkiPT10JiZfLmVudHJpZXN8fFI7aWYoVSYmKFQ9byhVLmNhbGwobmV3IGUpKSxnIT09T2JqZWN0LnByb3RvdHlwZSYmVC5uZXh0JiYoZnx8byhUKT09PWd8fChhP2EoVCxnKToiZnVuY3Rpb24iIT10eXBlb2YgVFt2XSYmdShULHYsUykpLGMoVCx3LCEwLCEwKSxmJiYobFt3XT1TKSkpLHA9PWgmJlImJlIubmFtZSE9PWgmJihqPSEwLEI9ZnVuY3Rpb24oKXtyZXR1cm4gUi5jYWxsKHRoaXMpfSksZiYmIUF8fF9bdl09PT1CfHx1KF8sdixCKSxsW3RdPUIscClpZihPPXt2YWx1ZXM6QyhoKSxrZXlzOkU/QjpDKHkpLGVudHJpZXM6QyhtKX0sQSlmb3IoSSBpbiBPKShifHxqfHwhKEkgaW4gXykpJiZzKF8sSSxPW0ldKTtlbHNlIHIoe3RhcmdldDp0LHByb3RvOiEwLGZvcmNlZDpifHxqfSxPKTtyZXR1cm4gT319LDY5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBhfSkpO3ZhciByPW4oMCksaT17fTtmdW5jdGlvbiBvKGUsdCxuKXt2YXIgcj1mdW5jdGlvbihlLHQpe3ZhciBuPWlbZV09aVtlXXx8e2JpZGRlcnM6e319O3JldHVybiB0P24uYmlkZGVyc1t0XT1uLmJpZGRlcnNbdF18fHt9Om59KGUsbik7cmV0dXJuIHJbdF09KHJbdF18fDApKzEsclt0XX12YXIgYT17aW5jcmVtZW50UmVxdWVzdHNDb3VudGVyOmZ1bmN0aW9uKGUpe3JldHVybiBvKGUsInJlcXVlc3RzQ291bnRlciIpfSxpbmNyZW1lbnRCaWRkZXJSZXF1ZXN0c0NvdW50ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbyhlLCJyZXF1ZXN0c0NvdW50ZXIiLHQpfSxpbmNyZW1lbnRCaWRkZXJXaW5zQ291bnRlcjpmdW5jdGlvbihlLHQpe3JldHVybiBvKGUsIndpbnNDb3VudGVyIix0KX0sZ2V0UmVxdWVzdHNDb3VudGVyOmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qoci5kZWVwQWNjZXNzKShpLCIiLmNvbmNhdChlLCIucmVxdWVzdHNDb3VudGVyIikpfHwwfSxnZXRCaWRkZXJSZXF1ZXN0c0NvdW50ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0KHIuZGVlcEFjY2VzcykoaSwiIi5jb25jYXQoZSwiLmJpZGRlcnMuIikuY29uY2F0KHQsIi5yZXF1ZXN0c0NvdW50ZXIiKSl8fDB9LGdldEJpZGRlcldpbnNDb3VudGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdChyLmRlZXBBY2Nlc3MpKGksIiIuY29uY2F0KGUsIi5iaWRkZXJzLiIpLmNvbmNhdCh0LCIud2luc0NvdW50ZXIiKSl8fDB9fX0sNzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKSxuLmQodCwiZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSksdC5hPWZ1bmN0aW9uKGUpe3JldHVybiBzKHttb2R1bGVOYW1lOmUsbW9kdWxlVHlwZToiY29yZSJ9KX0sdC5iPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHMoe2d2bGlkOmUsbW9kdWxlTmFtZTp0fSl9O3ZhciByPW4oMTApLGk9bigwKSxvPW4oMTIpLGE9bi5uKG8pLGM9WyJjb3JlIiwicHJlYmlkLW1vZHVsZSJdLHU9W107ZnVuY3Rpb24gcygpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWUuZ3ZsaWQsbj1lLm1vZHVsZU5hbWUscj1lLm1vZHVsZVR5cGU7ZnVuY3Rpb24gbyhlKXtpZihhKCkoYyxyKSl7cmV0dXJuIGUoe3ZhbGlkOiEwfSl9dmFyIG87cmV0dXJuIGQodCxuLHtoYXNFbmZvcmNlbWVudEhvb2s6ITF9LChmdW5jdGlvbih0KXtpZih0JiZ0Lmhhc0VuZm9yY2VtZW50SG9vaylvPWUodCk7ZWxzZXt2YXIgbj17aGFzRW5mb3JjZW1lbnRIb29rOiExLHZhbGlkOmkuaGFzRGV2aWNlQWNjZXNzKCl9O289ZShuKX19KSksb312YXIgcz1mdW5jdGlvbihlLHQsbixyLGksYSl7dmFyIGM9ZnVuY3Rpb24obyl7aWYobyYmby52YWxpZCl7dmFyIGE9aSYmIiIhPT1pPyIgO2RvbWFpbj0iLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoaSkpOiIiLGM9biYmIiIhPT1uPyIgO2V4cGlyZXM9Ii5jb25jYXQobik6IiIsdT1udWxsIT1yJiYibm9uZSI9PXIudG9Mb3dlckNhc2UoKT8iOyBTZWN1cmUiOiIiO2RvY3VtZW50LmNvb2tpZT0iIi5jb25jYXQoZSwiPSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQodCkpLmNvbmNhdChjLCI7IHBhdGg9LyIpLmNvbmNhdChhKS5jb25jYXQocj8iOyBTYW1lU2l0ZT0iLmNvbmNhdChyKToiIikuY29uY2F0KHUpfX07aWYoIWF8fCJmdW5jdGlvbiIhPXR5cGVvZiBhKXJldHVybiBvKGMpO3UucHVzaCgoZnVuY3Rpb24oKXt2YXIgZT1vKGMpO2EoZSl9KSl9LGY9ZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbih0KXtpZih0JiZ0LnZhbGlkKXt2YXIgbj13aW5kb3cuZG9jdW1lbnQuY29va2llLm1hdGNoKCIoXnw7KVxccyoiK2UrIlxccyo9XFxzKihbXjtdKilcXHMqKDt8JCkiKTtyZXR1cm4gbj9kZWNvZGVVUklDb21wb25lbnQoblsyXSk6bnVsbH1yZXR1cm4gbnVsbH07aWYoIXR8fCJmdW5jdGlvbiIhPXR5cGVvZiB0KXJldHVybiBvKG4pO3UucHVzaCgoZnVuY3Rpb24oKXt2YXIgZT1vKG4pO3QoZSl9KSl9LGw9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7aWYoZSYmZS52YWxpZCl0cnl7cmV0dXJuIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJwcmViaWQuY29va2llVGVzdCIsIjEiKSwiMSI9PT1sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgicHJlYmlkLmNvb2tpZVRlc3QiKX1jYXRjaChlKXt9ZmluYWxseXt0cnl7bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInByZWJpZC5jb29raWVUZXN0Iil9Y2F0Y2goZSl7fX1yZXR1cm4hMX07aWYoIWV8fCJmdW5jdGlvbiIhPXR5cGVvZiBlKXJldHVybiBvKHQpO3UucHVzaCgoZnVuY3Rpb24oKXt2YXIgbj1vKHQpO2Uobil9KSl9LHA9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7cmV0dXJuISghZXx8IWUudmFsaWQpJiYoISFpLmNoZWNrQ29va2llU3VwcG9ydCgpfHwod2luZG93LmRvY3VtZW50LmNvb2tpZT0icHJlYmlkLmNvb2tpZVRlc3QiLC0xIT09d2luZG93LmRvY3VtZW50LmNvb2tpZS5pbmRleE9mKCJwcmViaWQuY29va2llVGVzdCIpKSl9O2lmKCFlfHwiZnVuY3Rpb24iIT10eXBlb2YgZSlyZXR1cm4gbyh0KTt1LnB1c2goKGZ1bmN0aW9uKCl7dmFyIG49byh0KTtlKG4pfSkpfSxnPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1mdW5jdGlvbihuKXtuJiZuLnZhbGlkJiZ5KCkmJndpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShlLHQpfTtpZighbnx8ImZ1bmN0aW9uIiE9dHlwZW9mIG4pcmV0dXJuIG8ocik7dS5wdXNoKChmdW5jdGlvbigpe3ZhciBlPW8ocik7bihlKX0pKX0sYj1mdW5jdGlvbihlLHQpe3ZhciBuPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0LnZhbGlkJiZ5KCk/d2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGUpOm51bGx9O2lmKCF0fHwiZnVuY3Rpb24iIT10eXBlb2YgdClyZXR1cm4gbyhuKTt1LnB1c2goKGZ1bmN0aW9uKCl7dmFyIGU9byhuKTt0KGUpfSkpfSx2PWZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24odCl7dCYmdC52YWxpZCYmeSgpJiZ3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oZSl9O2lmKCF0fHwiZnVuY3Rpb24iIT10eXBlb2YgdClyZXR1cm4gbyhuKTt1LnB1c2goKGZ1bmN0aW9uKCl7dmFyIGU9byhuKTt0KGUpfSkpfSx5PWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUpe2lmKGUmJmUudmFsaWQpdHJ5e3JldHVybiEhd2luZG93LmxvY2FsU3RvcmFnZX1jYXRjaChlKXtpLmxvZ0Vycm9yKCJMb2NhbCBzdG9yYWdlIGFwaSBkaXNhYmxlZCIpfXJldHVybiExfTtpZighZXx8ImZ1bmN0aW9uIiE9dHlwZW9mIGUpcmV0dXJuIG8odCk7dS5wdXNoKChmdW5jdGlvbigpe3ZhciBuPW8odCk7ZShuKX0pKX0saD1mdW5jdGlvbihlLHQpe3ZhciBuPWZ1bmN0aW9uKHQpe2lmKHQmJnQudmFsaWQpe3ZhciBuPVtdO2lmKGkuaGFzRGV2aWNlQWNjZXNzKCkpZm9yKHZhciByPWRvY3VtZW50LmNvb2tpZS5zcGxpdCgiOyIpO3IubGVuZ3RoOyl7dmFyIG89ci5wb3AoKSxhPW8uaW5kZXhPZigiPSIpO2E9YTwwP28ubGVuZ3RoOmEsZGVjb2RlVVJJQ29tcG9uZW50KG8uc2xpY2UoMCxhKS5yZXBsYWNlKC9eXHMrLywiIikpLmluZGV4T2YoZSk+PTAmJm4ucHVzaChkZWNvZGVVUklDb21wb25lbnQoby5zbGljZShhKzEpKSl9cmV0dXJuIG59fTtpZighdHx8ImZ1bmN0aW9uIiE9dHlwZW9mIHQpcmV0dXJuIG8obik7dS5wdXNoKChmdW5jdGlvbigpe3ZhciBlPW8obik7dChlKX0pKX07cmV0dXJue3NldENvb2tpZTpzLGdldENvb2tpZTpmLGxvY2FsU3RvcmFnZUlzRW5hYmxlZDpsLGNvb2tpZXNBcmVFbmFibGVkOnAsc2V0RGF0YUluTG9jYWxTdG9yYWdlOmcsZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2U6YixyZW1vdmVEYXRhRnJvbUxvY2FsU3RvcmFnZTp2LGhhc0xvY2FsU3RvcmFnZTp5LGZpbmRTaW1pbGFyQ29va2llczpofX12YXIgZD1PYmplY3Qoci5iKSgiYXN5bmMiLChmdW5jdGlvbihlLHQsbixyKXtyKG4pfSksInZhbGlkYXRlU3RvcmFnZUVuZm9yY2VtZW50Iil9LDc0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDIxMyk7ZS5leHBvcnRzPXJ9LDc1OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJhZFVuaXRTZXR1cENoZWNrcyIsKGZ1bmN0aW9uKCl7cmV0dXJuIFl9KSksbi5kKHQsImNoZWNrQWRVbml0U2V0dXAiLChmdW5jdGlvbigpe3JldHVybiBRfSkpLHQuZXhlY3V0ZUNhbGxiYWNrcz1lZTt2YXIgcj1uKDE0KSxpPW4oMCksbz1uKDIxOSksYT1uKDU2KSxjPW4oMyksdT1uKDIzKSxzPW4oMzgpLGQ9bigxMCksZj1uKDIyMCksbD1uKDEyKSxwPW4ubihsKSxnPW4oNjkpLGI9bigxMyksdj1uKDQyKSx5PW4oNyksaD1uKDU1KTtmdW5jdGlvbiBtKGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBTKGUpfShlKXx8ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPWVbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9ZVsiQEBpdGVyYXRvciJdKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBTKGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PW58fCJTZXQiPT09bilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKXJldHVybiBTKGUsdCl9KGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIFMoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn1mdW5jdGlvbiBFKCl7cmV0dXJuKEU9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgQT1PYmplY3Qoci5hKSgpLFQ9big1KSxPPW4oMCksST1uKDgpLmRlZmF1bHQsQz1uKDkpLHc9YS5hLnRyaWdnZXJVc2VyU3luY3Msaj1ULkVWRU5UUyxfPWouQUREX0FEX1VOSVRTLFI9ai5CSURfV09OLEI9ai5SRVFVRVNUX0JJRFMsVT1qLlNFVF9UQVJHRVRJTkcseD1qLkFEX1JFTkRFUl9GQUlMRUQsRD1qLkFEX1JFTkRFUl9TVUNDRUVERUQsTj1qLlNUQUxFX1JFTkRFUixrPVQuQURfUkVOREVSX0ZBSUxFRF9SRUFTT04sUD1rLlBSRVZFTlRfV1JJVElOR19PTl9NQUlOX0RPQ1VNRU5ULE09ay5OT19BRCxxPWsuRVhDRVBUSU9OLEc9ay5DQU5OT1RfRklORF9BRCxXPWsuTUlTU0lOR19ET0NfT1JfQURJRCxMPXtiaWRXb246ZnVuY3Rpb24oZSl7dmFyIHQ9dS5hLmdldEJpZHNSZXF1ZXN0ZWQoKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZHMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5hZFVuaXRDb2RlfSkpfSkpLnJlZHVjZShpLmZsYXR0ZW4pLmZpbHRlcihpLnVuaXF1ZXMpO2lmKCFPLmNvbnRhaW5zKHQsZSkpcmV0dXJuIHZvaWQgTy5sb2dFcnJvcignVGhlICInK2UrJyIgcGxhY2VtZW50IGlzIG5vdCBkZWZpbmVkLicpO3JldHVybiEwfX07ZnVuY3Rpb24gRihlLHQsbil7ZS5kZWZhdWx0VmlldyYmZS5kZWZhdWx0Vmlldy5mcmFtZUVsZW1lbnQmJihlLmRlZmF1bHRWaWV3LmZyYW1lRWxlbWVudC53aWR0aD10LGUuZGVmYXVsdFZpZXcuZnJhbWVFbGVtZW50LmhlaWdodD1uKX1mdW5jdGlvbiB6KGUsdCl7dmFyIG49W107cmV0dXJuIE8uaXNBcnJheShlKSYmKHQ/ZS5sZW5ndGg9PT10OmUubGVuZ3RoPjApJiYoZS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChpLmlzQXJyYXlPZk51bXMpKGUsMil9KSk/bj1lOk9iamVjdChpLmlzQXJyYXlPZk51bXMpKGUsMikmJm4ucHVzaChlKSksbn1mdW5jdGlvbiBWKGUpe3ZhciB0PU8uZGVlcENsb25lKGUpLG49dC5tZWRpYVR5cGVzLmJhbm5lcixyPXoobi5zaXplcyk7cmV0dXJuIHIubGVuZ3RoPjA/KG4uc2l6ZXM9cix0LnNpemVzPXIpOihPLmxvZ0Vycm9yKCJEZXRlY3RlZCBhIG1lZGlhVHlwZXMuYmFubmVyIG9iamVjdCB3aXRob3V0IGEgcHJvcGVyIHNpemVzIGZpZWxkLiAgUGxlYXNlIGVuc3VyZSB0aGUgc2l6ZXMgYXJlIGxpc3RlZCBsaWtlOiBbWzMwMCwgMjUwXSwgLi4uXS4gIFJlbW92aW5nIGludmFsaWQgbWVkaWFUeXBlcy5iYW5uZXIgb2JqZWN0IGZyb20gcmVxdWVzdC4iKSxkZWxldGUgdC5tZWRpYVR5cGVzLmJhbm5lciksdH1mdW5jdGlvbiBIKGUpe3ZhciB0PU8uZGVlcENsb25lKGUpLG49dC5tZWRpYVR5cGVzLnZpZGVvO2lmKG4ucGxheWVyU2l6ZSl7dmFyIHI9Im51bWJlciI9PXR5cGVvZiBuLnBsYXllclNpemVbMF0/MjoxLGk9eihuLnBsYXllclNpemUscik7aS5sZW5ndGg+MD8oMj09PXImJk8ubG9nSW5mbygiVHJhbnNmb3JtaW5nIHZpZGVvLnBsYXllclNpemUgZnJvbSBbNjQwLDQ4MF0gdG8gW1s2NDAsNDgwXV0gc28gaXQncyBpbiB0aGUgcHJvcGVyIGZvcm1hdC4iKSxuLnBsYXllclNpemU9aSx0LnNpemVzPWkpOihPLmxvZ0Vycm9yKCJEZXRlY3RlZCBpbmNvcnJlY3QgY29uZmlndXJhdGlvbiBvZiBtZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUuICBQbGVhc2Ugc3BlY2lmeSBvbmx5IG9uZSBzZXQgb2YgZGltZW5zaW9ucyBpbiBhIGZvcm1hdCBsaWtlOiBbWzY0MCwgNDgwXV0uIFJlbW92aW5nIGludmFsaWQgbWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplIHByb3BlcnR5IGZyb20gcmVxdWVzdC4iKSxkZWxldGUgdC5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUpfXJldHVybiB0fWZ1bmN0aW9uIEsoZSl7dmFyIHQ9Ty5kZWVwQ2xvbmUoZSksbj10Lm1lZGlhVHlwZXMubmF0aXZlO3JldHVybiBuLmltYWdlJiZuLmltYWdlLnNpemVzJiYhQXJyYXkuaXNBcnJheShuLmltYWdlLnNpemVzKSYmKE8ubG9nRXJyb3IoIlBsZWFzZSB1c2UgYW4gYXJyYXkgb2Ygc2l6ZXMgZm9yIG5hdGl2ZS5pbWFnZS5zaXplcyBmaWVsZC4gIFJlbW92aW5nIGludmFsaWQgbWVkaWFUeXBlcy5uYXRpdmUuaW1hZ2Uuc2l6ZXMgcHJvcGVydHkgZnJvbSByZXF1ZXN0LiIpLGRlbGV0ZSB0Lm1lZGlhVHlwZXMubmF0aXZlLmltYWdlLnNpemVzKSxuLmltYWdlJiZuLmltYWdlLmFzcGVjdF9yYXRpb3MmJiFBcnJheS5pc0FycmF5KG4uaW1hZ2UuYXNwZWN0X3JhdGlvcykmJihPLmxvZ0Vycm9yKCJQbGVhc2UgdXNlIGFuIGFycmF5IG9mIHNpemVzIGZvciBuYXRpdmUuaW1hZ2UuYXNwZWN0X3JhdGlvcyBmaWVsZC4gIFJlbW92aW5nIGludmFsaWQgbWVkaWFUeXBlcy5uYXRpdmUuaW1hZ2UuYXNwZWN0X3JhdGlvcyBwcm9wZXJ0eSBmcm9tIHJlcXVlc3QuIiksZGVsZXRlIHQubWVkaWFUeXBlcy5uYXRpdmUuaW1hZ2UuYXNwZWN0X3JhdGlvcyksbi5pY29uJiZuLmljb24uc2l6ZXMmJiFBcnJheS5pc0FycmF5KG4uaWNvbi5zaXplcykmJihPLmxvZ0Vycm9yKCJQbGVhc2UgdXNlIGFuIGFycmF5IG9mIHNpemVzIGZvciBuYXRpdmUuaWNvbi5zaXplcyBmaWVsZC4gIFJlbW92aW5nIGludmFsaWQgbWVkaWFUeXBlcy5uYXRpdmUuaWNvbi5zaXplcyBwcm9wZXJ0eSBmcm9tIHJlcXVlc3QuIiksZGVsZXRlIHQubWVkaWFUeXBlcy5uYXRpdmUuaWNvbi5zaXplcyksdH1mdW5jdGlvbiBKKGUsdCl7dmFyIG49Ty5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuIi5jb25jYXQodCwiLnBvcyIpKTtpZighbnx8IU8uaXNOdW1iZXIobil8fCFpc0Zpbml0ZShuKSl7dmFyIHI9IlZhbHVlIG9mIHByb3BlcnR5ICdwb3MnIG9uIGFkIHVuaXQgIi5jb25jYXQoZS5jb2RlLCIgc2hvdWxkIGJlIG9mIHR5cGU6IE51bWJlciIpO08ubG9nV2FybihyKSxDLmVtaXQoVC5FVkVOVFMuQVVDVElPTl9ERUJVRyx7dHlwZToiV0FSTklORyIsYXJndW1lbnRzOnJ9KSxkZWxldGUgZS5tZWRpYVR5cGVzW3RdLnBvc31yZXR1cm4gZX1PYmplY3QoZi5hKSgpLEEuYmlkZGVyU2V0dGluZ3M9QS5iaWRkZXJTZXR0aW5nc3x8e30sQS5saWJMb2FkZWQ9ITAsQS52ZXJzaW9uPSJ2NS4xMS4wIixPLmxvZ0luZm8oIlByZWJpZC5qcyB2NS4xMS4wIGxvYWRlZCIpLEEuaW5zdGFsbGVkTW9kdWxlcz1bImNvbnNlbnRNYW5hZ2VtZW50IiwiY29uc2VudE1hbmFnZW1lbnRVc3AiLCIzM2Fjcm9zc0JpZEFkYXB0ZXIiLCJhbWF6b25CaWRBZGFwdGVyIiwiYWRmQmlkQWRhcHRlciIsImFvbEJpZEFkYXB0ZXIiLCJhZHlvdWxpa2VCaWRBZGFwdGVyIiwiYXBwbmV4dXNCaWRBZGFwdGVyIiwiY29udmVyc2FudEJpZEFkYXB0ZXIiLCJjcml0ZW9CaWRBZGFwdGVyIiwiZ3VtZ3VtQmlkQWRhcHRlciIsImVteF9kaWdpdGFsQmlkQWRhcHRlciIsImltcHJvdmVkaWdpdGFsQmlkQWRhcHRlciIsIml4QmlkQWRhcHRlciIsInNtYXJ0YWRzZXJ2ZXJCaWRBZGFwdGVyIiwib3BlbnhCaWRBZGFwdGVyIiwibWVkaWFuZXRCaWRBZGFwdGVyIiwiY29uc3VtYWJsZUJpZEFkYXB0ZXIiLCJ0cmlwbGVsaWZ0QmlkQWRhcHRlciIsInVuZGVyZG9nbWVkaWFCaWRBZGFwdGVyIiwicHVibWF0aWNCaWRBZGFwdGVyIiwicHVsc2Vwb2ludEJpZEFkYXB0ZXIiLCJydWJpY29uQmlkQWRhcHRlciIsInNvbm9iaUJpZEFkYXB0ZXIiLCJzb3ZybkJpZEFkYXB0ZXIiLCJzaGFyZXRocm91Z2hCaWRBZGFwdGVyIiwiZGlzdHJpY3RtRE1YQmlkQWRhcHRlciIsImxvY2tlcmRvbWVCaWRBZGFwdGVyIiwicmh5dGhtb25lQmlkQWRhcHRlciIsImN1cnJlbmN5Iiwic2NoYWluIiwidXNlcklkIiwicHViUHJvdmlkZWRJZFN5c3RlbSIsInlpZWxkbGFiQmlkQWRhcHRlciIsInB1YnN0YWNrQW5hbHl0aWNzQWRhcHRlciJdLEEuYWRVbml0cz1BLmFkVW5pdHN8fFtdLEEuc2V0Q29va2llRnJhbWU9ZnVuY3Rpb24oZSl7Ty5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5zZXRDb29raWVGcmFtZSIsYXJndW1lbnRzKSxoLmQoZSl9LEEub25CZWZvcmVSZXF1ZXN0PWZ1bmN0aW9uKGUpe08ubG9nSW5mbygiSW52b2tpbmcgdXBianMub25CZWZvcmVSZXF1ZXN0Iixhcmd1bWVudHMpLGguYihlKX0sQS50cmlnZ2VyVXNlclN5bmNzPXc7dmFyIFk9e3ZhbGlkYXRlQmFubmVyTWVkaWFUeXBlOlYsdmFsaWRhdGVWaWRlb01lZGlhVHlwZTpILHZhbGlkYXRlTmF0aXZlTWVkaWFUeXBlOkssdmFsaWRhdGVTaXplczp6fSxRPU9iamVjdChkLmIpKCJzeW5jIiwoZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG4scixpLG89ZS5tZWRpYVR5cGVzLGE9ZS5iaWRzO2lmKGEmJk8uaXNBcnJheShhKSlpZihvJiYwIT09T2JqZWN0LmtleXMobykubGVuZ3RoKXtvLmJhbm5lciYmKG49VihlKSxvLmJhbm5lci5oYXNPd25Qcm9wZXJ0eSgicG9zIikmJihuPUoobiwiYmFubmVyIikpKSxvLnZpZGVvJiYocj1IKG58fGUpLG8udmlkZW8uaGFzT3duUHJvcGVydHkoInBvcyIpJiYocj1KKHIsInZpZGVvIikpKSxvLm5hdGl2ZSYmKGk9SyhyfHwobnx8ZSkpKTt2YXIgYz1FKHt9LG4scixpKTt0LnB1c2goYyl9ZWxzZSBPLmxvZ0Vycm9yKCJEZXRlY3RlZCBhZFVuaXQuY29kZSAnIi5jb25jYXQoZS5jb2RlLCInIGRpZCBub3QgaGF2ZSBhICdtZWRpYVR5cGVzJyBvYmplY3QgZGVmaW5lZC4gIFRoaXMgaXMgYSByZXF1aXJlZCBmaWVsZCBmb3IgdGhlIGF1Y3Rpb24sIHNvIHRoaXMgYWRVbml0IGhhcyBiZWVuIHJlbW92ZWQuIikpO2Vsc2UgTy5sb2dFcnJvcigiRGV0ZWN0ZWQgYWRVbml0LmNvZGUgJyIuY29uY2F0KGUuY29kZSwiJyBkaWQgbm90IGhhdmUgJ2FkVW5pdC5iaWRzJyBkZWZpbmVkIG9yICdhZFVuaXQuYmlkcycgaXMgbm90IGFuIGFycmF5LiBSZW1vdmluZyBhZFVuaXQgZnJvbSBhdWN0aW9uLiIpKX0pKSx0fSksImNoZWNrQWRVbml0U2V0dXAiKTtmdW5jdGlvbiAkKGUpe3ZhciB0PXUuYVtlXSgpLmZpbHRlcihPLmJpbmQuY2FsbChpLmFkVW5pdHNGaWx0ZXIsdGhpcyx1LmEuZ2V0QWRVbml0Q29kZXMoKSkpLG49dS5hLmdldExhc3RBdWN0aW9uSWQoKTtyZXR1cm4gdC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkVW5pdENvZGV9KSkuZmlsdGVyKGkudW5pcXVlcykubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdC5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmF1Y3Rpb25JZD09PW4mJnQuYWRVbml0Q29kZT09PWV9KSl9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZSYmZVswXSYmZVswXS5hZFVuaXRDb2RlfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQ9e30sbj1lWzBdLmFkVW5pdENvZGUscj17YmlkczplfSxuIGluIHQ/T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbix7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOnRbbl09cix0O3ZhciB0LG4scn0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIEUoZSx0KX0pLHt9KX1mdW5jdGlvbiBYKGUpe3ZhciB0PWUucmVhc29uLG49ZS5tZXNzYWdlLHI9ZS5iaWQsaT1lLmlkLG89e3JlYXNvbjp0LG1lc3NhZ2U6bn07ciYmKG8uYmlkPXIpLGkmJihvLmFkSWQ9aSksTy5sb2dFcnJvcihuKSxDLmVtaXQoeCxvKX1mdW5jdGlvbiBaKGUpe3ZhciB0PWUuZG9jLG49ZS5iaWQscj1lLmlkLGk9e2RvYzp0fTtuJiYoaS5iaWQ9biksciYmKGkuYWRJZD1yKSxDLmVtaXQoRCxpKX1mdW5jdGlvbiBlZShlLHQpe2Z1bmN0aW9uIG4oZSl7Zm9yKHZhciB0O3Q9ZS5zaGlmdCgpOyl0KCl9bih5LmMpLG4odGUpLGUuY2FsbCh0aGlzLHQpfUEuZ2V0QWRzZXJ2ZXJUYXJnZXRpbmdGb3JBZFVuaXRDb2RlU3RyPWZ1bmN0aW9uKGUpe2lmKE8ubG9nSW5mbygiSW52b2tpbmcgdXBianMuZ2V0QWRzZXJ2ZXJUYXJnZXRpbmdGb3JBZFVuaXRDb2RlU3RyIixhcmd1bWVudHMpLGUpe3ZhciB0PUEuZ2V0QWRzZXJ2ZXJUYXJnZXRpbmdGb3JBZFVuaXRDb2RlKGUpO3JldHVybiBPLnRyYW5zZm9ybUFkU2VydmVyVGFyZ2V0aW5nT2JqKHQpfU8ubG9nTWVzc2FnZSgiTmVlZCB0byBjYWxsIGdldEFkc2VydmVyVGFyZ2V0aW5nRm9yQWRVbml0Q29kZVN0ciB3aXRoIGFkdW5pdENvZGUiKX0sQS5nZXRIaWdoZXN0VW51c2VkQmlkUmVzcG9uc2VGb3JBZFVuaXRDb2RlPWZ1bmN0aW9uKGUpe2lmKGUpe3ZhciB0PXUuYS5nZXRBbGxCaWRzRm9yQWRVbml0Q29kZShlKS5maWx0ZXIocy5hLmlzVW51c2VkQmlkKS5maWx0ZXIocy5hLmlzQmlkTm90RXhwaXJlZCk7cmV0dXJuIHQubGVuZ3RoP3QucmVkdWNlKGkuZ2V0SGlnaGVzdENwbSk6e319Ty5sb2dNZXNzYWdlKCJOZWVkIHRvIGNhbGwgZ2V0SGlnaGVzdFVudXNlZEJpZFJlc3BvbnNlRm9yQWRVbml0Q29kZSB3aXRoIGFkdW5pdENvZGUiKX0sQS5nZXRBZHNlcnZlclRhcmdldGluZ0ZvckFkVW5pdENvZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIEEuZ2V0QWRzZXJ2ZXJUYXJnZXRpbmcoZSlbZV19LEEuZ2V0QWRzZXJ2ZXJUYXJnZXRpbmc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTy5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5nZXRBZHNlcnZlclRhcmdldGluZyIsYXJndW1lbnRzKSxzLmQuZ2V0QWxsVGFyZ2V0aW5nKGUsdCl9LEEuZ2V0Tm9CaWRzPWZ1bmN0aW9uKCl7cmV0dXJuIE8ubG9nSW5mbygiSW52b2tpbmcgdXBianMuZ2V0Tm9CaWRzIixhcmd1bWVudHMpLCQoImdldE5vQmlkcyIpfSxBLmdldE5vQmlkc0ZvckFkVW5pdENvZGU9ZnVuY3Rpb24oZSl7cmV0dXJue2JpZHM6dS5hLmdldE5vQmlkcygpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRVbml0Q29kZT09PWV9KSl9fSxBLmdldEJpZFJlc3BvbnNlcz1mdW5jdGlvbigpe3JldHVybiBPLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLmdldEJpZFJlc3BvbnNlcyIsYXJndW1lbnRzKSwkKCJnZXRCaWRzUmVjZWl2ZWQiKX0sQS5nZXRCaWRSZXNwb25zZXNGb3JBZFVuaXRDb2RlPWZ1bmN0aW9uKGUpe3JldHVybntiaWRzOnUuYS5nZXRCaWRzUmVjZWl2ZWQoKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFkVW5pdENvZGU9PT1lfSkpfX0sQS5zZXRUYXJnZXRpbmdGb3JHUFRBc3luYz1mdW5jdGlvbihlLHQpe2lmKE8ubG9nSW5mbygiSW52b2tpbmcgdXBianMuc2V0VGFyZ2V0aW5nRm9yR1BUQXN5bmMiLGFyZ3VtZW50cyksT2JqZWN0KGkuaXNHcHRQdWJhZHNEZWZpbmVkKSgpKXt2YXIgbj1zLmQuZ2V0QWxsVGFyZ2V0aW5nKGUpO3MuZC5yZXNldFByZXNldFRhcmdldGluZyhlLHQpLHMuZC5zZXRUYXJnZXRpbmdGb3JHUFQobix0KSxPYmplY3Qua2V5cyhuKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3Qua2V5cyhuW2VdKS5mb3JFYWNoKChmdW5jdGlvbih0KXsiaGJfYWRpZCI9PT10JiZ1LmEuc2V0U3RhdHVzRm9yQmlkcyhuW2VdW3RdLFQuQklEX1NUQVRVUy5CSURfVEFSR0VUSU5HX1NFVCl9KSl9KSksQy5lbWl0KFUsbil9ZWxzZSBPLmxvZ0Vycm9yKCJ3aW5kb3cuZ29vZ2xldGFnIGlzIG5vdCBkZWZpbmVkIG9uIHRoZSBwYWdlIil9LEEuc2V0VGFyZ2V0aW5nRm9yQXN0PWZ1bmN0aW9uKGUpe08ubG9nSW5mbygiSW52b2tpbmcgdXBianMuc2V0VGFyZ2V0aW5nRm9yQW4iLGFyZ3VtZW50cykscy5kLmlzQXBudGFnRGVmaW5lZCgpPyhzLmQuc2V0VGFyZ2V0aW5nRm9yQXN0KGUpLEMuZW1pdChVLHMuZC5nZXRBbGxUYXJnZXRpbmcoKSkpOk8ubG9nRXJyb3IoIndpbmRvdy5hcG50YWcgaXMgbm90IGRlZmluZWQgb24gdGhlIHBhZ2UiKX0sQS5yZW5kZXJBZD1PYmplY3QoZC5iKSgiYXN5bmMiLChmdW5jdGlvbihlLHQsbil7aWYoTy5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5yZW5kZXJBZCIsYXJndW1lbnRzKSxPLmxvZ01lc3NhZ2UoIkNhbGxpbmcgcmVuZGVyQWQgd2l0aCBhZElkIDoiK3QpLGUmJnQpdHJ5e3ZhciByPXUuYS5maW5kQmlkQnlBZElkKHQpO2lmKHIpe3ZhciBpPSEwO2lmKHImJnIuc3RhdHVzPT09VC5CSURfU1RBVFVTLlJFTkRFUkVEJiYoTy5sb2dXYXJuKCJBZCBpZCAiLmNvbmNhdChyLmFkSWQsIiBoYXMgYmVlbiByZW5kZXJlZCBiZWZvcmUiKSksQy5lbWl0KE4sciksTy5kZWVwQWNjZXNzKGMuYi5nZXRDb25maWcoImF1Y3Rpb25PcHRpb25zIiksInN1cHByZXNzU3RhbGVSZW5kZXIiKSYmKGk9ITEpKSxpKXtpZihyLmFkPU8ucmVwbGFjZUF1Y3Rpb25QcmljZShyLmFkLHIuY3BtKSxyLmFkVXJsPU8ucmVwbGFjZUF1Y3Rpb25QcmljZShyLmFkVXJsLHIuY3BtKSxuJiZuLmNsaWNrVGhyb3VnaCl7dmFyIG89bi5jbGlja1Rocm91Z2g7ci5hZD1PLnJlcGxhY2VDbGlja1Rocm91Z2goci5hZCxvKSxyLmFkVXJsPU8ucmVwbGFjZUNsaWNrVGhyb3VnaChyLmFkVXJsLG8pfXUuYS5hZGRXaW5uaW5nQmlkKHIpLEMuZW1pdChSLHIpO3ZhciBhPXIuaGVpZ2h0LHM9ci53aWR0aCxkPXIuYWQsZj1yLm1lZGlhVHlwZSxsPXIuYWRVcmwscD1yLnJlbmRlcmVyLGc9ZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgiQ3JlYXRpdmUgIi5jb25jYXQoci5jcmVhdGl2ZUlkLCIgc2VydmVkIGJ5ICIpLmNvbmNhdChyLmJpZGRlciwiIFByZWJpZC5qcyBIZWFkZXIgQmlkZGluZyIpKTtpZihPYmplY3QoYi5jKShwKSlPYmplY3QoYi5iKShwLHIpLE8uaW5zZXJ0RWxlbWVudChnLGUsImh0bWwiKSxaKHtkb2M6ZSxiaWQ6cixpZDp0fSk7ZWxzZSBpZihlPT09ZG9jdW1lbnQmJiFPLmluSWZyYW1lKCl8fCJ2aWRlbyI9PT1mKXt2YXIgdj0iRXJyb3IgdHJ5aW5nIHRvIHdyaXRlIGFkLiBBZCByZW5kZXIgY2FsbCBhZCBpZCAiLmNvbmNhdCh0LCIgd2FzIHByZXZlbnRlZCBmcm9tIHdyaXRpbmcgdG8gdGhlIG1haW4gZG9jdW1lbnQuIik7WCh7cmVhc29uOlAsbWVzc2FnZTp2LGJpZDpyLGlkOnR9KX1lbHNlIGlmKGQpe2lmKG5hdmlnYXRvci51c2VyQWdlbnQmJm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCJmaXJlZm94LyIpPi0xKXt2YXIgeT0vZmlyZWZveFwvKFtcZFwuXSspLyxoPW5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCh5KVsxXTtoJiZwYXJzZUludChoLDEwKTw2NyYmZS5vcGVuKCJ0ZXh0L2h0bWwiLCJyZXBsYWNlIil9ZS53cml0ZShkKSxlLmNsb3NlKCksRihlLHMsYSksTy5pbnNlcnRFbGVtZW50KGcsZSwiaHRtbCIpLE8uY2FsbEJ1cmwociksWih7ZG9jOmUsYmlkOnIsaWQ6dH0pfWVsc2UgaWYobCl7dmFyIG09Ty5jcmVhdGVJbnZpc2libGVJZnJhbWUoKTttLmhlaWdodD1hLG0ud2lkdGg9cyxtLnN0eWxlLmRpc3BsYXk9ImlubGluZSIsbS5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIixtLnNyYz1sLE8uaW5zZXJ0RWxlbWVudChtLGUsImJvZHkiKSxGKGUscyxhKSxPLmluc2VydEVsZW1lbnQoZyxlLCJodG1sIiksTy5jYWxsQnVybChyKSxaKHtkb2M6ZSxiaWQ6cixpZDp0fSl9ZWxzZXt2YXIgUz0iRXJyb3IgdHJ5aW5nIHRvIHdyaXRlIGFkLiBObyBhZCBmb3IgYmlkIHJlc3BvbnNlIGlkOiAiLmNvbmNhdCh0KTtYKHtyZWFzb246TSxtZXNzYWdlOlMsYmlkOnIsaWQ6dH0pfX19ZWxzZXt2YXIgRT0iRXJyb3IgdHJ5aW5nIHRvIHdyaXRlIGFkLiBDYW5ub3QgZmluZCBhZCBieSBnaXZlbiBpZCA6ICIuY29uY2F0KHQpO1goe3JlYXNvbjpHLG1lc3NhZ2U6RSxpZDp0fSl9fWNhdGNoKGUpe3ZhciBBPSJFcnJvciB0cnlpbmcgdG8gd3JpdGUgYWQgSWQgOiIuY29uY2F0KHQsIiB0byB0aGUgcGFnZToiKS5jb25jYXQoZS5tZXNzYWdlKTtYKHtyZWFzb246cSxtZXNzYWdlOkEsaWQ6dH0pfWVsc2V7dmFyIEk9IkVycm9yIHRyeWluZyB0byB3cml0ZSBhZCBJZCA6Ii5jb25jYXQodCwiIHRvIHRoZSBwYWdlLiBNaXNzaW5nIGRvY3VtZW50IG9yIGFkSWQiKTtYKHtyZWFzb246VyxtZXNzYWdlOkksaWQ6dH0pfX0pKSxBLnJlbW92ZUFkVW5pdD1mdW5jdGlvbihlKXsoTy5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5yZW1vdmVBZFVuaXQiLGFyZ3VtZW50cyksZSk/KE8uaXNBcnJheShlKT9lOltlXSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PUEuYWRVbml0cy5sZW5ndGgtMTt0Pj0wO3QtLSlBLmFkVW5pdHNbdF0uY29kZT09PWUmJkEuYWRVbml0cy5zcGxpY2UodCwxKX0pKTpBLmFkVW5pdHM9W119LEEucmVxdWVzdEJpZHM9T2JqZWN0KGQuYikoImFzeW5jIiwoZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1lLmJpZHNCYWNrSGFuZGxlcixuPWUudGltZW91dCxyPWUuYWRVbml0cyxpPWUuYWRVbml0Q29kZXMsbz1lLmxhYmVscyxhPWUuYXVjdGlvbklkO0MuZW1pdChCKTt2YXIgZD1ufHxjLmIuZ2V0Q29uZmlnKCJiaWRkZXJUaW1lb3V0Iik7cj1yJiZjLmIuY29udmVydEFkVW5pdEZwZChPLmlzQXJyYXkocik/cjpbcl0pfHxBLmFkVW5pdHMsTy5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5yZXF1ZXN0QmlkcyIsYXJndW1lbnRzKTt2YXIgZj1bXSxsPVtdO2lmKGMuYi5nZXRDb25maWcoInMyc0NvbmZpZyIsKGZ1bmN0aW9uKGUpe2UmJmUuczJzQ29uZmlnJiYoZj1BcnJheS5pc0FycmF5KGUuczJzQ29uZmlnKT9lLnMyc0NvbmZpZzpbZS5zMnNDb25maWddKX0pKSxmLmZvckVhY2goKGZ1bmN0aW9uKGUpe2wucHVzaC5hcHBseShsLG0oZS5iaWRkZXJzKSl9KSkscj1RKHIpLGkmJmkubGVuZ3RoP3I9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBwKCkoaSxlLmNvZGUpfSkpOmk9ciYmci5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNvZGV9KSksci5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1PYmplY3Qua2V5cyhlLm1lZGlhVHlwZXN8fHtiYW5uZXI6ImJhbm5lciJ9KSxuPWUuYmlkcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcn0pKSxyPUkuYmlkZGVyUmVnaXN0cnksaT1sP24uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hcCgpKGwsZSl9KSk6bjtlLnRyYW5zYWN0aW9uSWQ9Ty5nZW5lcmF0ZVVVSUQoKSxpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciBpPXJbbl0sbz1pJiZpLmdldFNwZWMmJmkuZ2V0U3BlYygpLGE9byYmby5zdXBwb3J0ZWRNZWRpYVR5cGVzfHxbImJhbm5lciJdO3Quc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIHAoKShhLGUpfSkpP2cuYS5pbmNyZW1lbnRCaWRkZXJSZXF1ZXN0c0NvdW50ZXIoZS5jb2RlLG4pOihPLmxvZ1dhcm4oTy51bnN1cHBvcnRlZEJpZGRlck1lc3NhZ2UoZSxuKSksZS5iaWRzPWUuYmlkcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlciE9PW59KSkpfSkpLGcuYS5pbmNyZW1lbnRSZXF1ZXN0c0NvdW50ZXIoZS5jb2RlKX0pKSxyJiYwIT09ci5sZW5ndGgpe3ZhciBiPXUuYS5jcmVhdGVBdWN0aW9uKHthZFVuaXRzOnIsYWRVbml0Q29kZXM6aSxjYWxsYmFjazp0LGNiVGltZW91dDpkLGxhYmVsczpvLGF1Y3Rpb25JZDphfSksdj1yLmxlbmd0aDt2PjE1JiZPLmxvZ0luZm8oIkN1cnJlbnQgYXVjdGlvbiAiLmNvbmNhdChiLmdldEF1Y3Rpb25JZCgpLCIgY29udGFpbnMgIikuY29uY2F0KHYsIiBhZFVuaXRzLiIpLHIpLGkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIHMuZC5zZXRMYXRlc3RBdWN0aW9uRm9yQWRVbml0KGUsYi5nZXRBdWN0aW9uSWQoKSl9KSksYi5jYWxsQmlkcygpfWVsc2UgaWYoTy5sb2dNZXNzYWdlKCJObyBhZFVuaXRzIGNvbmZpZ3VyZWQuIE5vIGJpZHMgcmVxdWVzdGVkLiIpLCJmdW5jdGlvbiI9PXR5cGVvZiB0KXRyeXt0KCl9Y2F0Y2goZSl7Ty5sb2dFcnJvcigiRXJyb3IgZXhlY3V0aW5nIGJpZHNCYWNrSGFuZGxlciIsbnVsbCxlKX19KSksQS5yZXF1ZXN0Qmlkcy5iZWZvcmUoZWUsNDkpLEEuYWRkQWRVbml0cz1mdW5jdGlvbihlKXtPLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLmFkZEFkVW5pdHMiLGFyZ3VtZW50cyksQS5hZFVuaXRzLnB1c2guYXBwbHkoQS5hZFVuaXRzLGMuYi5jb252ZXJ0QWRVbml0RnBkKE8uaXNBcnJheShlKT9lOltlXSkpLEMuZW1pdChfKX0sQS5vbkV2ZW50PWZ1bmN0aW9uKGUsdCxuKXtPLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLm9uRXZlbnQiLGFyZ3VtZW50cyksTy5pc0ZuKHQpPyFufHxMW2VdLmNhbGwobnVsbCxuKT9DLm9uKGUsdCxuKTpPLmxvZ0Vycm9yKCdUaGUgaWQgcHJvdmlkZWQgaXMgbm90IHZhbGlkIGZvciBldmVudCAiJytlKyciIGFuZCBubyBoYW5kbGVyIHdhcyBzZXQuJyk6Ty5sb2dFcnJvcignVGhlIGV2ZW50IGhhbmRsZXIgcHJvdmlkZWQgaXMgbm90IGEgZnVuY3Rpb24gYW5kIHdhcyBub3Qgc2V0IG9uIGV2ZW50ICInK2UrJyIuJyl9LEEub2ZmRXZlbnQ9ZnVuY3Rpb24oZSx0LG4pe08ubG9nSW5mbygiSW52b2tpbmcgdXBianMub2ZmRXZlbnQiLGFyZ3VtZW50cyksbiYmIUxbZV0uY2FsbChudWxsLG4pfHxDLm9mZihlLHQsbil9LEEuZ2V0RXZlbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIE8ubG9nSW5mbygiSW52b2tpbmcgdXBianMuZ2V0RXZlbnRzIiksQy5nZXRFdmVudHMoKX0sQS5yZWdpc3RlckJpZEFkYXB0ZXI9ZnVuY3Rpb24oZSx0KXtPLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLnJlZ2lzdGVyQmlkQWRhcHRlciIsYXJndW1lbnRzKTt0cnl7SS5yZWdpc3RlckJpZEFkYXB0ZXIoZSgpLHQpfWNhdGNoKGUpe08ubG9nRXJyb3IoIkVycm9yIHJlZ2lzdGVyaW5nIGJpZGRlciBhZGFwdGVyIDogIitlLm1lc3NhZ2UpfX0sQS5yZWdpc3RlckFuYWx5dGljc0FkYXB0ZXI9ZnVuY3Rpb24oZSl7Ty5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5yZWdpc3RlckFuYWx5dGljc0FkYXB0ZXIiLGFyZ3VtZW50cyk7dHJ5e0kucmVnaXN0ZXJBbmFseXRpY3NBZGFwdGVyKGUpfWNhdGNoKGUpe08ubG9nRXJyb3IoIkVycm9yIHJlZ2lzdGVyaW5nIGFuYWx5dGljcyBhZGFwdGVyIDogIitlLm1lc3NhZ2UpfX0sQS5jcmVhdGVCaWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIE8ubG9nSW5mbygiSW52b2tpbmcgdXBianMuY3JlYXRlQmlkIixhcmd1bWVudHMpLE9iamVjdCh2LmEpKGUpfTt2YXIgdGU9W10sbmU9T2JqZWN0KGQuYikoImFzeW5jIiwoZnVuY3Rpb24oZSl7ZSYmIU8uaXNFbXB0eShlKT8oTy5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5lbmFibGVBbmFseXRpY3MgZm9yOiAiLGUpLEkuZW5hYmxlQW5hbHl0aWNzKGUpKTpPLmxvZ0Vycm9yKCJ1cGJqcy5lbmFibGVBbmFseXRpY3Mgc2hvdWxkIGJlIGNhbGxlZCB3aXRoIG9wdGlvbiB7fSIpfSksImVuYWJsZUFuYWx5dGljc0NiIik7ZnVuY3Rpb24gcmUoZSl7ZS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lLmNhbGxlZCl0cnl7ZS5jYWxsKCksZS5jYWxsZWQ9ITB9Y2F0Y2goZSl7Ty5sb2dFcnJvcigiRXJyb3IgcHJvY2Vzc2luZyBjb21tYW5kIDoiLCJwcmViaWQuanMiLGUpfX0pKX1BLmVuYWJsZUFuYWx5dGljcz1mdW5jdGlvbihlKXt0ZS5wdXNoKG5lLmJpbmQodGhpcyxlKSl9LEEuYWxpYXNCaWRkZXI9ZnVuY3Rpb24oZSx0LG4pe08ubG9nSW5mbygiSW52b2tpbmcgdXBianMuYWxpYXNCaWRkZXIiLGFyZ3VtZW50cyksZSYmdD9JLmFsaWFzQmlkQWRhcHRlcihlLHQsbik6Ty5sb2dFcnJvcigiYmlkZGVyQ29kZSBhbmQgYWxpYXMgbXVzdCBiZSBwYXNzZWQgYXMgYXJndW1lbnRzIiwidXBianMuYWxpYXNCaWRkZXIiKX0sQS5nZXRBbGxXaW5uaW5nQmlkcz1mdW5jdGlvbigpe3JldHVybiB1LmEuZ2V0QWxsV2lubmluZ0JpZHMoKX0sQS5nZXRBbGxQcmViaWRXaW5uaW5nQmlkcz1mdW5jdGlvbigpe3JldHVybiB1LmEuZ2V0Qmlkc1JlY2VpdmVkKCkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zdGF0dXM9PT1ULkJJRF9TVEFUVVMuQklEX1RBUkdFVElOR19TRVR9KSl9LEEuZ2V0SGlnaGVzdENwbUJpZHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHMuZC5nZXRXaW5uaW5nQmlkcyhlKX0sQS5tYXJrV2lubmluZ0JpZEFzVXNlZD1mdW5jdGlvbihlKXt2YXIgdD1bXTtlLmFkVW5pdENvZGUmJmUuYWRJZD90PXUuYS5nZXRCaWRzUmVjZWl2ZWQoKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFkSWQ9PT1lLmFkSWQmJnQuYWRVbml0Q29kZT09PWUuYWRVbml0Q29kZX0pKTplLmFkVW5pdENvZGU/dD1zLmQuZ2V0V2lubmluZ0JpZHMoZS5hZFVuaXRDb2RlKTplLmFkSWQ/dD11LmEuZ2V0Qmlkc1JlY2VpdmVkKCkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5hZElkPT09ZS5hZElkfSkpOk8ubG9nV2FybigiSW1wcm9wZXIgdXNlIG9mIG1hcmtXaW5uaW5nQmlkQXNVc2VkLiBJdCBuZWVkcyBhbiBhZFVuaXRDb2RlIG9yIGFuIGFkSWQgdG8gZnVuY3Rpb24uIiksdC5sZW5ndGg+MCYmKHRbMF0uc3RhdHVzPVQuQklEX1NUQVRVUy5SRU5ERVJFRCl9LEEuZ2V0Q29uZmlnPWMuYi5nZXRDb25maWcsQS5zZXRDb25maWc9Yy5iLnNldENvbmZpZyxBLnNldEJpZGRlckNvbmZpZz1jLmIuc2V0QmlkZGVyQ29uZmlnLEEucXVlLnB1c2goKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChvLmEpKCl9KSksQS5jbWQucHVzaD1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgZSl0cnl7ZS5jYWxsKCl9Y2F0Y2goZSl7Ty5sb2dFcnJvcigiRXJyb3IgcHJvY2Vzc2luZyBjb21tYW5kIDoiLGUubWVzc2FnZSxlLnN0YWNrKX1lbHNlIE8ubG9nRXJyb3IoIkNvbW1hbmRzIHdyaXR0ZW4gaW50byB1cGJqcy5jbWQucHVzaCBtdXN0IGJlIHdyYXBwZWQgaW4gYSBmdW5jdGlvbiIpfSxBLnF1ZS5wdXNoPUEuY21kLnB1c2gsQS5wcm9jZXNzUXVldWU9ZnVuY3Rpb24oKXtkLmIucmVhZHkoKSxyZShBLnF1ZSkscmUoQS5jbWQpfSx0LmRlZmF1bHQ9QX0sNzY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzQ3KTtlLmV4cG9ydHM9cn0sNzc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSl7dmFyIHQ9ZTtyZXR1cm57Y2FsbEJpZHM6ZnVuY3Rpb24oKXt9LHNldEJpZGRlckNvZGU6ZnVuY3Rpb24oZSl7dD1lfSxnZXRCaWRkZXJDb2RlOmZ1bmN0aW9uKCl7cmV0dXJuIHR9fX19LDc4OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI5KSxpPW4oNDYpLG89IiIuc3BsaXQ7ZS5leHBvcnRzPXIoKGZ1bmN0aW9uKCl7cmV0dXJuIU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApfSkpP2Z1bmN0aW9uKGUpe3JldHVybiJTdHJpbmciPT1pKGUpP28uY2FsbChlLCIiKTpPYmplY3QoZSl9Ok9iamVjdH0sNzk6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzMpLGk9bigyOSksbz1uKDgwKTtlLmV4cG9ydHM9IXImJiFpKChmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkobygiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSkpfSw4OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJnZHByRGF0YUhhbmRsZXIiLChmdW5jdGlvbigpe3JldHVybiBCfSkpLG4uZCh0LCJ1c3BEYXRhSGFuZGxlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIFV9KSksbi5kKHQsImNvcHBhRGF0YUhhbmRsZXIiLChmdW5jdGlvbigpe3JldHVybiB4fSkpLG4uZCh0LCJjbGllbnRUZXN0QWRhcHRlcnMiLChmdW5jdGlvbigpe3JldHVybiBEfSkpLG4uZCh0LCJhbGxTMlNCaWRkZXJzIiwoZnVuY3Rpb24oKXtyZXR1cm4gTn0pKSx0LmdldEFsbFMyU0JpZGRlcnM9ayx0LnNldFMyU1Rlc3RpbmdNb2R1bGU9ZnVuY3Rpb24oZSl7RT1lfTt2YXIgcj1uKDApLGk9big5Nyksbz1uKDM2KSxhPW4oMSksYz1uKDQpLHU9bigzKSxzPW4oMTApLGQ9bigxMiksZj1uLm4oZCksbD1uKDExKSxwPW4ubihsKSxnPW4oNjkpLGI9bigyMCk7ZnVuY3Rpb24gdihlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgbj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PW4pcmV0dXJuO3ZhciByLGksbz1bXSxhPSEwLGM9ITE7dHJ5e2ZvcihuPW4uY2FsbChlKTshKGE9KHI9bi5uZXh0KCkpLmRvbmUpJiYoby5wdXNoKHIudmFsdWUpLCF0fHxvLmxlbmd0aCE9PXQpO2E9ITApO31jYXRjaChlKXtjPSEwLGk9ZX1maW5hbGx5e3RyeXthfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgaX19cmV0dXJuIG99KGUsdCl8fGgoZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIHkoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIG0oZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxoKGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGgoZSx0KXtpZihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIG0oZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuIk9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpLCJNYXAiPT09bnx8IlNldCI9PT1uP0FycmF5LmZyb20oZSk6IkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9tKGUsdCk6dm9pZCAwfX1mdW5jdGlvbiBtKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gUygpe3JldHVybihTPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIEUsQT1uKDApLFQ9big1KSxPPW4oOSksST17fSxDPUkuYmlkZGVyUmVnaXN0cnk9e30sdz1JLmFsaWFzUmVnaXN0cnk9e30saj1bXTt1LmIuZ2V0Q29uZmlnKCJzMnNDb25maWciLChmdW5jdGlvbihlKXtlJiZlLnMyc0NvbmZpZyYmKGo9QXJyYXkuaXNBcnJheShlLnMyc0NvbmZpZyk/ZS5zMnNDb25maWc6W2UuczJzQ29uZmlnXSl9KSk7dmFyIF89e307dmFyIFI9T2JqZWN0KHMuYikoInN5bmMiLChmdW5jdGlvbihlKXt2YXIgdD1lLmJpZGRlckNvZGUsbj1lLmF1Y3Rpb25JZCxhPWUuYmlkZGVyUmVxdWVzdElkLGM9ZS5hZFVuaXRzLHU9ZS5sYWJlbHMscz1lLnNyYztyZXR1cm4gYy5yZWR1Y2UoKGZ1bmN0aW9uKGUsYyl7dmFyIGQ9T2JqZWN0KGkuYikoT2JqZWN0KGkuYSkoYyx1KSxjLm1lZGlhVHlwZXMsYy5zaXplcyksZj1kLmFjdGl2ZSxsPWQubWVkaWFUeXBlcyxwPWQuZmlsdGVyUmVzdWx0cztyZXR1cm4gZj9wJiZBLmxvZ0luZm8oJ1NpemUgbWFwcGluZyBmaWx0ZXJlZCBhZFVuaXQgIicuY29uY2F0KGMuY29kZSwnIiBiYW5uZXIgc2l6ZXMgZnJvbSAnKSxwLmJlZm9yZSwidG8gIixwLmFmdGVyKTpBLmxvZ0luZm8oJ1NpemUgbWFwcGluZyBkaXNhYmxlZCBhZFVuaXQgIicuY29uY2F0KGMuY29kZSwnIicpKSxmJiZlLnB1c2goYy5iaWRzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyPT09dH0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIGQ9Yy5uYXRpdmVQYXJhbXN8fEEuZGVlcEFjY2VzcyhjLCJtZWRpYVR5cGVzLm5hdGl2ZSIpO2QmJih0PVMoe30sdCx7bmF0aXZlUGFyYW1zOk9iamVjdChvLmgpKGQpfSkpLHQ9Uyh7fSx0LE9iamVjdChyLmdldERlZmluZWRQYXJhbXMpKGMsWyJvcnRiMkltcCIsIm1lZGlhVHlwZSIsInJlbmRlcmVyIiwic3RvcmVkQXVjdGlvblJlc3BvbnNlIl0pKTt2YXIgZj1PYmplY3QoaS5iKShPYmplY3QoaS5hKSh0LHUpLGwpLHA9Zi5hY3RpdmUsYj1mLm1lZGlhVHlwZXMsdj1mLmZpbHRlclJlc3VsdHM7cmV0dXJuIHA/diYmQS5sb2dJbmZvKCdTaXplIG1hcHBpbmcgZmlsdGVyZWQgYWRVbml0ICInLmNvbmNhdChjLmNvZGUsJyIgYmlkZGVyICInKS5jb25jYXQodC5iaWRkZXIsJyIgYmFubmVyIHNpemVzIGZyb20gJyksdi5iZWZvcmUsInRvICIsdi5hZnRlcik6QS5sb2dJbmZvKCdTaXplIG1hcHBpbmcgZGVhY3RpdmF0ZWQgYWRVbml0ICInLmNvbmNhdChjLmNvZGUsJyIgYmlkZGVyICInKS5jb25jYXQodC5iaWRkZXIsJyInKSksQS5pc1ZhbGlkTWVkaWFUeXBlcyhiKT90PVMoe30sdCx7bWVkaWFUeXBlczpifSk6QS5sb2dFcnJvcigibWVkaWFUeXBlcyBpcyBub3QgY29ycmVjdGx5IGNvbmZpZ3VyZWQgZm9yIGFkdW5pdCAiLmNvbmNhdChjLmNvZGUpKSxwJiZlLnB1c2goUyh7fSx0LHthZFVuaXRDb2RlOmMuY29kZSx0cmFuc2FjdGlvbklkOmMudHJhbnNhY3Rpb25JZCxzaXplczpBLmRlZXBBY2Nlc3MoYiwiYmFubmVyLnNpemVzIil8fEEuZGVlcEFjY2VzcyhiLCJ2aWRlby5wbGF5ZXJTaXplIil8fFtdLGJpZElkOnQuYmlkX2lkfHxBLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIoKSxiaWRkZXJSZXF1ZXN0SWQ6YSxhdWN0aW9uSWQ6bixzcmM6cyxiaWRSZXF1ZXN0c0NvdW50OmcuYS5nZXRSZXF1ZXN0c0NvdW50ZXIoYy5jb2RlKSxiaWRkZXJSZXF1ZXN0c0NvdW50OmcuYS5nZXRCaWRkZXJSZXF1ZXN0c0NvdW50ZXIoYy5jb2RlLHQuYmlkZGVyKSxiaWRkZXJXaW5zQ291bnQ6Zy5hLmdldEJpZGRlcldpbnNDb3VudGVyKGMuY29kZSx0LmJpZGRlcil9KSksZX0pLFtdKSksZX0pLFtdKS5yZWR1Y2Uoci5mbGF0dGVuLFtdKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiIiIT09ZX0pKX0pLCJnZXRCaWRzIik7dmFyIEI9e2NvbnNlbnREYXRhOm51bGwsc2V0Q29uc2VudERhdGE6ZnVuY3Rpb24oZSl7Qi5jb25zZW50RGF0YT1lfSxnZXRDb25zZW50RGF0YTpmdW5jdGlvbigpe3JldHVybiBCLmNvbnNlbnREYXRhfX0sVT17Y29uc2VudERhdGE6bnVsbCxzZXRDb25zZW50RGF0YTpmdW5jdGlvbihlKXtVLmNvbnNlbnREYXRhPWV9LGdldENvbnNlbnREYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIFUuY29uc2VudERhdGF9fSx4PXtnZXRDb3BwYTpmdW5jdGlvbigpe3JldHVybiEhdS5iLmdldENvbmZpZygiY29wcGEiKX19LEQ9W10sTj1bXTtmdW5jdGlvbiBrKCl7SS5zMlNUZXN0aW5nRW5hYmxlZD0hMSxqLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UmJmUuZW5hYmxlZCYmZS5iaWRkZXJzJiZlLmJpZGRlcnMubGVuZ3RoJiZOLnB1c2guYXBwbHkoTix5KGUuYmlkZGVycykpfSkpfWZ1bmN0aW9uIFAoZSl7cmV0dXJuIGUmJmUuZW5hYmxlZCYmZS50ZXN0aW5nJiZFfWZ1bmN0aW9uIE0oZSx0LG4pe3RyeXt2YXIgaT1DW2VdLmdldFNwZWMoKTtpJiZpW3RdJiYiZnVuY3Rpb24iPT10eXBlb2YgaVt0XSYmKEEubG9nSW5mbygiSW52b2tpbmcgIi5jb25jYXQoZSwiLiIpLmNvbmNhdCh0KSksdS5iLnJ1bldpdGhCaWRkZXIoZSxyLmJpbmQuY2FsbChpW3RdLGksbikpKX1jYXRjaChuKXtBLmxvZ1dhcm4oIkVycm9yIGNhbGxpbmcgIi5jb25jYXQodCwiIG9mICIpLmNvbmNhdChlKSl9fUkubWFrZUJpZFJlcXVlc3RzPU9iamVjdChzLmIpKCJzeW5jIiwoZnVuY3Rpb24oZSx0LG4saSxvKXtPLmVtaXQoVC5FVkVOVFMuQkVGT1JFX1JFUVVFU1RfQklEUyxlKTt2YXIgYT1PYmplY3Qoci5nZXRCaWRkZXJDb2RlcykoZSk7dS5iLmdldENvbmZpZygiYmlkZGVyU2VxdWVuY2UiKT09PXUuYSYmKGE9T2JqZWN0KHIuc2h1ZmZsZSkoYSkpO3ZhciBjPU9iamVjdChiLmEpKCkscz1hLGQ9W107MD09PU4ubGVuZ3RoJiZrKCksai5mb3JFYWNoKChmdW5jdGlvbih0KXt0JiZ0LmVuYWJsZWQmJihQKHQpJiYoRS5jYWxjdWxhdGVCaWRTb3VyY2VzKHQpLEUuZ2V0U291cmNlQmlkZGVyTWFwKGUsTilbRS5DTElFTlRdLmZvckVhY2goKGZ1bmN0aW9uKGUpe2YoKShELGUpfHxELnB1c2goZSl9KSkpKX0pKSxzPWEuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hZigpKE4sZSl8fGYoKShELGUpfSkpO3ZhciBsPU47ai5mb3JFYWNoKChmdW5jdGlvbihyKXtpZihyJiZyLmVuYWJsZWQpeyhmdW5jdGlvbihlKXtyZXR1cm4gQm9vbGVhbihQKGUpJiZlLnRlc3RTZXJ2ZXJPbmx5KX0pKHIpJiZmdW5jdGlvbihlLHQpe3JldHVybiBCb29sZWFuKHAoKShlLChmdW5jdGlvbihlKXtyZXR1cm4gcCgpKGUuYmlkcywoZnVuY3Rpb24oZSl7cmV0dXJuKGUuYmlkU291cmNlfHx0LmJpZGRlckNvbnRyb2wmJnQuYmlkZGVyQ29udHJvbFtlLmJpZGRlcl0pJiZlLmZpbmFsU291cmNlPT09RS5TRVJWRVJ9KSl9KSkpfShlLHIpJiYoQS5sb2dXYXJuKCJ0ZXN0U2VydmVyT25seTogVHJ1ZS4gIEFsbCBjbGllbnQgcmVxdWVzdHMgd2lsbCBiZSBzdXBwcmVzc2VkLiIpLHMubGVuZ3RoPTApO3ZhciBpPWZ1bmN0aW9uKGUsdCl7dmFyIG49dC5iaWRkZXJzLHI9QS5kZWVwQ2xvbmUoZSk7cmV0dXJuIHIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5iaWRzPWUuYmlkcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBmKCkobixlLmJpZGRlcikmJighUCh0KXx8ZS5maW5hbFNvdXJjZSE9PUUuQ0xJRU5UKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZF9pZD1BLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIoKSxlfSkpfSkpLHIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gMCE9PWUuYmlkcy5sZW5ndGh9KSl9KGUsciksYT1BLmdlbmVyYXRlVVVJRCgpO2wuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHU9QS5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKCkscz17YmlkZGVyQ29kZTplLGF1Y3Rpb25JZDpuLGJpZGRlclJlcXVlc3RJZDp1LHRpZDphLGJpZHM6Uih7YmlkZGVyQ29kZTplLGF1Y3Rpb25JZDpuLGJpZGRlclJlcXVlc3RJZDp1LGFkVW5pdHM6QS5kZWVwQ2xvbmUoaSksbGFiZWxzOm8sc3JjOlQuUzJTLlNSQ30pLGF1Y3Rpb25TdGFydDp0LHRpbWVvdXQ6ci50aW1lb3V0LHNyYzpULlMyUy5TUkMscmVmZXJlckluZm86Y307MCE9PXMuYmlkcy5sZW5ndGgmJmQucHVzaChzKX0pKSxpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWUuYmlkcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBwKCkoZCwoZnVuY3Rpb24odCl7cmV0dXJuIHAoKSh0LmJpZHMsKGZ1bmN0aW9uKHQpe3JldHVybiB0LmJpZElkPT09ZS5iaWRfaWR9KSl9KSl9KSk7ZS5iaWRzPXR9KSksZC5mb3JFYWNoKChmdW5jdGlvbihlKXt2b2lkIDA9PT1lLmFkVW5pdHNTMlNDb3B5JiYoZS5hZFVuaXRzUzJTQ29weT1pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkcy5sZW5ndGg+MH0pKSl9KSl9fSkpO3ZhciBnPWZ1bmN0aW9uKGUpe3ZhciB0PUEuZGVlcENsb25lKGUpO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuYmlkcz1lLmJpZHMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hRC5sZW5ndGh8fGUuZmluYWxTb3VyY2UhPT1FLlNFUlZFUn0pKX0pKSx0LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIDAhPT1lLmJpZHMubGVuZ3RofSkpfShlKTtyZXR1cm4gcy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj1BLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIoKSxhPXtiaWRkZXJDb2RlOmUsYXVjdGlvbklkOm4sYmlkZGVyUmVxdWVzdElkOnIsYmlkczpSKHtiaWRkZXJDb2RlOmUsYXVjdGlvbklkOm4sYmlkZGVyUmVxdWVzdElkOnIsYWRVbml0czpBLmRlZXBDbG9uZShnKSxsYWJlbHM6byxzcmM6ImNsaWVudCJ9KSxhdWN0aW9uU3RhcnQ6dCx0aW1lb3V0OmkscmVmZXJlckluZm86Y30sdT1DW2VdO3V8fEEubG9nRXJyb3IoIlRyeWluZyB0byBtYWtlIGEgcmVxdWVzdCBmb3IgYmlkZGVyIHRoYXQgZG9lcyBub3QgZXhpc3Q6ICIuY29uY2F0KGUpKSx1JiZhLmJpZHMmJjAhPT1hLmJpZHMubGVuZ3RoJiZkLnB1c2goYSl9KSksQi5nZXRDb25zZW50RGF0YSgpJiZkLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuZ2RwckNvbnNlbnQ9Qi5nZXRDb25zZW50RGF0YSgpfSkpLFUuZ2V0Q29uc2VudERhdGEoKSYmZC5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnVzcENvbnNlbnQ9VS5nZXRDb25zZW50RGF0YSgpfSkpLGR9KSwibWFrZUJpZFJlcXVlc3RzIiksSS5jYWxsQmlkcz1mdW5jdGlvbihlLHQsbixpLG8sYSxzKXtpZih0Lmxlbmd0aCl7dmFyIGQ9dih0LnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVtOdW1iZXIodm9pZCAwIT09dC5zcmMmJnQuc3JjPT09VC5TMlMuU1JDKV0ucHVzaCh0KSxlfSksW1tdLFtdXSksMiksbD1kWzBdLHA9ZFsxXSxnPVtdO3AuZm9yRWFjaCgoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PS0xLG49MDtuPGcubGVuZ3RoOysrbilpZihlLnRpZD09PWdbbl0udGlkKXt0PW47YnJlYWt9dDw9LTEmJmcucHVzaChlKX0pKTt2YXIgYj0wO2ouZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoZSYmZ1tiXSYmZigpKGUuYmlkZGVycyxnW2JdLmJpZGRlckNvZGUpKXt2YXIgdD1PYmplY3QoYy5iKShhLG8/e3JlcXVlc3Q6by5yZXF1ZXN0LmJpbmQobnVsbCwiczJzIiksZG9uZTpvLmRvbmV9OnZvaWQgMCksdT1lLmJpZGRlcnMscz1DW2UuYWRhcHRlcl0sZD1nW2JdLnRpZCxsPWdbYl0uYWRVbml0c1MyU0NvcHksdj1wLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUudGlkPT09ZH0pKTtpZihzKXt2YXIgeT17dGlkOmQsYWRfdW5pdHM6bCxzMnNDb25maWc6ZX07aWYoeS5hZF91bml0cy5sZW5ndGgpe3ZhciBoPXYubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zdGFydD1PYmplY3Qoci50aW1lc3RhbXApKCksaS5iaW5kKGUpfSkpLG09eS5hZF91bml0cy5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY29uY2F0KCh0LmJpZHN8fFtdKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY29uY2F0KHQuYmlkZGVyKX0pLFtdKSl9KSxbXSk7QS5sb2dNZXNzYWdlKCJDQUxMSU5HIFMyUyBIRUFERVIgQklEREVSUyA9PT09ICIuY29uY2F0KHUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZigpKG0sZSl9KSkuam9pbigiLCIpKSksdi5mb3JFYWNoKChmdW5jdGlvbihlKXtPLmVtaXQoVC5FVkVOVFMuQklEX1JFUVVFU1RFRCxlKX0pKSxzLmNhbGxCaWRzKHkscCwoZnVuY3Rpb24oZSx0KXt2YXIgaT1PYmplY3Qoci5nZXRCaWRkZXJSZXF1ZXN0KShwLHQuYmlkZGVyQ29kZSxlKTtpJiZuLmNhbGwoaSxlLHQpfSksKGZ1bmN0aW9uKCl7cmV0dXJuIGguZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUoKX0pKX0pLHQpfX1lbHNlIEEubG9nRXJyb3IoIm1pc3NpbmcgIitlLmFkYXB0ZXIpO2IrK319KSksbC5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnN0YXJ0PU9iamVjdChyLnRpbWVzdGFtcCkoKTt2YXIgdD1DW2UuYmlkZGVyQ29kZV07dS5iLnJ1bldpdGhCaWRkZXIoZS5iaWRkZXJDb2RlLChmdW5jdGlvbigpe0EubG9nTWVzc2FnZSgiQ0FMTElORyBCSURERVIiKSxPLmVtaXQoVC5FVkVOVFMuQklEX1JFUVVFU1RFRCxlKX0pKTt2YXIgZD1PYmplY3QoYy5iKShhLG8/e3JlcXVlc3Q6by5yZXF1ZXN0LmJpbmQobnVsbCxlLmJpZGRlckNvZGUpLGRvbmU6by5kb25lfTp2b2lkIDApLGY9aS5iaW5kKGUpO3RyeXt1LmIucnVuV2l0aEJpZGRlcihlLmJpZGRlckNvZGUsci5iaW5kLmNhbGwodC5jYWxsQmlkcyx0LGUsbi5iaW5kKGUpLGYsZCxzLHUuYi5jYWxsYmFja1dpdGhCaWRkZXIoZS5iaWRkZXJDb2RlKSkpfWNhdGNoKHQpe0EubG9nRXJyb3IoIiIuY29uY2F0KGUuYmlkZGVyQ29kZSwiIEJpZCBBZGFwdGVyIGVtaXR0ZWQgYW4gdW5jYXVnaHQgZXJyb3Igd2hlbiBwYXJzaW5nIHRoZWlyIGJpZFJlcXVlc3QiKSx7ZTp0LGJpZFJlcXVlc3Q6ZX0pLGYoKX19KSl9ZWxzZSBBLmxvZ1dhcm4oImNhbGxCaWRzIGV4ZWN1dGVkIHdpdGggbm8gYmlkUmVxdWVzdHMuICBXZXJlIHRoZXkgZmlsdGVyZWQgYnkgbGFiZWxzIG9yIHNpemluZz8iKX0sSS52aWRlb0FkYXB0ZXJzPVtdLEkucmVnaXN0ZXJCaWRBZGFwdGVyPWZ1bmN0aW9uKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LHI9bi5zdXBwb3J0ZWRNZWRpYVR5cGVzLGk9dm9pZCAwPT09cj9bXTpyO2UmJnQ/ImZ1bmN0aW9uIj09dHlwZW9mIGUuY2FsbEJpZHM/KENbdF09ZSxmKCkoaSwidmlkZW8iKSYmSS52aWRlb0FkYXB0ZXJzLnB1c2godCksZigpKGksIm5hdGl2ZSIpJiZvLmYucHVzaCh0KSk6QS5sb2dFcnJvcigiQmlkZGVyIGFkYXB0b3IgZXJyb3IgZm9yIGJpZGRlciBjb2RlOiAiK3QrImJpZGRlciBtdXN0IGltcGxlbWVudCBhIGNhbGxCaWRzKCkgZnVuY3Rpb24iKTpBLmxvZ0Vycm9yKCJiaWRBZGFwdGVyIG9yIGJpZGRlckNvZGUgbm90IHNwZWNpZmllZCIpfSxJLmFsaWFzQmlkQWRhcHRlcj1mdW5jdGlvbihlLHQsbil7aWYodm9pZCAwPT09Q1t0XSl7dmFyIHI9Q1tlXTtpZih2b2lkIDA9PT1yKXt2YXIgaT1bXTtqLmZvckVhY2goKGZ1bmN0aW9uKG4pe2lmKG4uYmlkZGVycyYmbi5iaWRkZXJzLmxlbmd0aCl7dmFyIHI9biYmbi5iaWRkZXJzO24mJmYoKShyLHQpP3dbdF09ZTppLnB1c2goZSl9fSkpLGkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7QS5sb2dFcnJvcignYmlkZGVyQ29kZSAiJytlKyciIGlzIG5vdCBhbiBleGlzdGluZyBiaWRkZXIuJywiYWRhcHRlck1hbmFnZXIuYWxpYXNCaWRBZGFwdGVyIil9KSl9ZWxzZSB0cnl7dmFyIGMsdT1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gZigpKEkudmlkZW9BZGFwdGVycyxlKSYmdC5wdXNoKCJ2aWRlbyIpLGYoKShvLmYsZSkmJnQucHVzaCgibmF0aXZlIiksdH0oZSk7aWYoci5jb25zdHJ1Y3Rvci5wcm90b3R5cGUhPU9iamVjdC5wcm90b3R5cGUpKGM9bmV3IHIuY29uc3RydWN0b3IpLnNldEJpZGRlckNvZGUodCk7ZWxzZXt2YXIgcz1yLmdldFNwZWMoKSxkPW4mJm4uZ3ZsaWQsbD1uJiZuLnNraXBQYnNBbGlhc2luZztjPU9iamVjdChhLm5ld0JpZGRlcikoUyh7fSxzLHtjb2RlOnQsZ3ZsaWQ6ZCxza2lwUGJzQWxpYXNpbmc6bH0pKSx3W3RdPWV9SS5yZWdpc3RlckJpZEFkYXB0ZXIoYyx0LHtzdXBwb3J0ZWRNZWRpYVR5cGVzOnV9KX1jYXRjaCh0KXtBLmxvZ0Vycm9yKGUrIiBiaWRkZXIgZG9lcyBub3QgY3VycmVudGx5IHN1cHBvcnQgYWxpYXNpbmcuIiwiYWRhcHRlck1hbmFnZXIuYWxpYXNCaWRBZGFwdGVyIil9fWVsc2UgQS5sb2dNZXNzYWdlKCdhbGlhcyBuYW1lICInK3QrJyIgaGFzIGJlZW4gYWxyZWFkeSBzcGVjaWZpZWQuJyl9LEkucmVnaXN0ZXJBbmFseXRpY3NBZGFwdGVyPWZ1bmN0aW9uKGUpe3ZhciB0PWUuYWRhcHRlcixuPWUuY29kZSxyPWUuZ3ZsaWQ7dCYmbj8iZnVuY3Rpb24iPT10eXBlb2YgdC5lbmFibGVBbmFseXRpY3M/KHQuY29kZT1uLF9bbl09e2FkYXB0ZXI6dCxndmxpZDpyfSk6QS5sb2dFcnJvcignUHJlYmlkIEVycm9yOiBBbmFseXRpY3MgYWRhcHRvciBlcnJvciBmb3IgYW5hbHl0aWNzICInLmNvbmNhdChuLCciXG4gICAgICAgIGFuYWx5dGljcyBhZGFwdGVyIG11c3QgaW1wbGVtZW50IGFuIGVuYWJsZUFuYWx5dGljcygpIGZ1bmN0aW9uJykpOkEubG9nRXJyb3IoIlByZWJpZCBFcnJvcjogYW5hbHl0aWNzQWRhcHRlciBvciBhbmFseXRpY3NDb2RlIG5vdCBzcGVjaWZpZWQiKX0sSS5lbmFibGVBbmFseXRpY3M9ZnVuY3Rpb24oZSl7QS5pc0FycmF5KGUpfHwoZT1bZV0pLEEuX2VhY2goZSwoZnVuY3Rpb24oZSl7dmFyIHQ9X1tlLnByb3ZpZGVyXS5hZGFwdGVyO3Q/dC5lbmFibGVBbmFseXRpY3MoZSk6QS5sb2dFcnJvcigiUHJlYmlkIEVycm9yOiBubyBhbmFseXRpY3MgYWRhcHRlciBmb3VuZCBpbiByZWdpc3RyeSBmb3JcbiAgICAgICAgIi5jb25jYXQoZS5wcm92aWRlciwiLiIpKX0pKX0sSS5nZXRCaWRBZGFwdGVyPWZ1bmN0aW9uKGUpe3JldHVybiBDW2VdfSxJLmdldEFuYWx5dGljc0FkYXB0ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIF9bZV19LEkuY2FsbFRpbWVkT3V0QmlkZGVycz1mdW5jdGlvbihlLHQsbil7dD10Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQucGFyYW1zPUEuZ2V0VXNlckNvbmZpZ3VyZWRQYXJhbXMoZSx0LmFkVW5pdENvZGUsdC5iaWRkZXIpLHQudGltZW91dD1uLHR9KSksdD1BLmdyb3VwQnkodCwiYmlkZGVyIiksT2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7TShlLCJvblRpbWVvdXQiLHRbZV0pfSkpfSxJLmNhbGxCaWRXb25CaWRkZXI9ZnVuY3Rpb24oZSx0LG4pe3QucGFyYW1zPUEuZ2V0VXNlckNvbmZpZ3VyZWRQYXJhbXMobix0LmFkVW5pdENvZGUsdC5iaWRkZXIpLGcuYS5pbmNyZW1lbnRCaWRkZXJXaW5zQ291bnRlcih0LmFkVW5pdENvZGUsdC5iaWRkZXIpLE0oZSwib25CaWRXb24iLHQpfSxJLmNhbGxTZXRUYXJnZXRpbmdCaWRkZXI9ZnVuY3Rpb24oZSx0KXtNKGUsIm9uU2V0VGFyZ2V0aW5nIix0KX0sSS5jYWxsQmlkVmlld2FibGVCaWRkZXI9ZnVuY3Rpb24oZSx0KXtNKGUsIm9uQmlkVmlld2FibGUiLHQpfSx0LmRlZmF1bHQ9SX0sODA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjUpLGk9bigzMCksbz1yLmRvY3VtZW50LGE9aShvKSYmaShvLmNyZWF0ZUVsZW1lbnQpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gYT9vLmNyZWF0ZUVsZW1lbnQoZSk6e319fSw4MTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxNyksaT1uKDYxKTsoZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGlbZV18fChpW2VdPXZvaWQgMCE9PXQ/dDp7fSl9KSgidmVyc2lvbnMiLFtdKS5wdXNoKHt2ZXJzaW9uOiIzLjE1LjEiLG1vZGU6cj8icHVyZSI6Imdsb2JhbCIsY29weXJpZ2h0OiLCqSAyMDIxIERlbmlzIFB1c2hrYXJldiAoemxvaXJvY2sucnUpIn0pfSw4MjpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxMDkpLGk9bigyOSk7ZS5leHBvcnRzPSEhT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyYmIWkoKGZ1bmN0aW9uKCl7dmFyIGU9U3ltYm9sKCk7cmV0dXJuIVN0cmluZyhlKXx8IShPYmplY3QoZSlpbnN0YW5jZW9mIFN5bWJvbCl8fCFTeW1ib2wuc2hhbSYmciYmcjw0MX0pKX0sODM6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNDUpLGk9big1MCksbz1uKDExNCksYT1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxuLGEpe3ZhciBjLHU9cih0KSxzPWkodS5sZW5ndGgpLGQ9byhhLHMpO2lmKGUmJm4hPW4pe2Zvcig7cz5kOylpZigoYz11W2QrK10pIT1jKXJldHVybiEwfWVsc2UgZm9yKDtzPmQ7ZCsrKWlmKChlfHxkIGluIHUpJiZ1W2RdPT09bilyZXR1cm4gZXx8ZHx8MDtyZXR1cm4hZSYmLTF9fTtlLmV4cG9ydHM9e2luY2x1ZGVzOmEoITApLGluZGV4T2Y6YSghMSl9fSw4NDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxMTUpO24oMTM4KSxuKDE0MCksbigxNDIpLG4oMTQ0KSxuKDE0NiksbigxNDcpLG4oMTQ4KSxuKDE0OSksbigxNTApLG4oMTUxKSxuKDE1MiksbigxNTMpLG4oMTU0KSxuKDE1NSksbigxNTYpLG4oMTU3KSxuKDE1OCksbigxNTkpLGUuZXhwb3J0cz1yfSw4NTpmdW5jdGlvbihlLHQsbil7dmFyIHI9big1MyksaT1uKDMwKSxvPW4oMzEpLGE9bigzNCkuZixjPW4oNjIpLHU9bigxMTgpLHM9YygibWV0YSIpLGQ9MCxmPU9iamVjdC5pc0V4dGVuc2libGV8fGZ1bmN0aW9uKCl7cmV0dXJuITB9LGw9ZnVuY3Rpb24oZSl7YShlLHMse3ZhbHVlOntvYmplY3RJRDoiTyIrICsrZCx3ZWFrRGF0YTp7fX19KX0scD1lLmV4cG9ydHM9e1JFUVVJUkVEOiExLGZhc3RLZXk6ZnVuY3Rpb24oZSx0KXtpZighaShlKSlyZXR1cm4ic3ltYm9sIj09dHlwZW9mIGU/ZTooInN0cmluZyI9PXR5cGVvZiBlPyJTIjoiUCIpK2U7aWYoIW8oZSxzKSl7aWYoIWYoZSkpcmV0dXJuIkYiO2lmKCF0KXJldHVybiJFIjtsKGUpfXJldHVybiBlW3NdLm9iamVjdElEfSxnZXRXZWFrRGF0YTpmdW5jdGlvbihlLHQpe2lmKCFvKGUscykpe2lmKCFmKGUpKXJldHVybiEwO2lmKCF0KXJldHVybiExO2woZSl9cmV0dXJuIGVbc10ud2Vha0RhdGF9LG9uRnJlZXplOmZ1bmN0aW9uKGUpe3JldHVybiB1JiZwLlJFUVVJUkVEJiZmKGUpJiYhbyhlLHMpJiZsKGUpLGV9fTtyW3NdPSEwfSw4NjpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyNCksaT1uKDQwKSxvPXIoIml0ZXJhdG9yIiksYT1BcnJheS5wcm90b3R5cGU7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYoaS5BcnJheT09PWV8fGFbb109PT1lKX19LDg3OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE2KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXR1cm47aWYodm9pZCAwIT09dClyZXR1cm4gcih0LmNhbGwoZSkpLnZhbHVlfX0sODc2OmZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9big3NSl9LDg4OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBUeXBlRXJyb3IoIkluY29ycmVjdCAiKyhuP24rIiAiOiIiKSsiaW52b2NhdGlvbiIpO3JldHVybiBlfX0sODk6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk9bigxNiksbz1uKDEyMyksYT1uKDkwKSxjPW4oNTMpLHU9bigxMjYpLHM9big4MCksZD1uKDY3KSxmPWQoIklFX1BST1RPIiksbD1mdW5jdGlvbigpe30scD1mdW5jdGlvbihlKXtyZXR1cm4iPHNjcmlwdD4iK2UrIjwvIisic2NyaXB0PiJ9LGc9ZnVuY3Rpb24oKXt0cnl7cj1kb2N1bWVudC5kb21haW4mJm5ldyBBY3RpdmVYT2JqZWN0KCJodG1sZmlsZSIpfWNhdGNoKGUpe312YXIgZSx0O2c9cj9mdW5jdGlvbihlKXtlLndyaXRlKHAoIiIpKSxlLmNsb3NlKCk7dmFyIHQ9ZS5wYXJlbnRXaW5kb3cuT2JqZWN0O3JldHVybiBlPW51bGwsdH0ocik6KCh0PXMoImlmcmFtZSIpKS5zdHlsZS5kaXNwbGF5PSJub25lIix1LmFwcGVuZENoaWxkKHQpLHQuc3JjPVN0cmluZygiamF2YXNjcmlwdDoiKSwoZT10LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQpLm9wZW4oKSxlLndyaXRlKHAoImRvY3VtZW50LkY9T2JqZWN0IikpLGUuY2xvc2UoKSxlLkYpO2Zvcih2YXIgbj1hLmxlbmd0aDtuLS07KWRlbGV0ZSBnLnByb3RvdHlwZVthW25dXTtyZXR1cm4gZygpfTtjW2ZdPSEwLGUuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbihlLHQpe3ZhciBuO3JldHVybiBudWxsIT09ZT8obC5wcm90b3R5cGU9aShlKSxuPW5ldyBsLGwucHJvdG90eXBlPW51bGwsbltmXT1lKTpuPWcoKSx2b2lkIDA9PT10P246byhuLHQpfX0sOTpmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gcigpe3JldHVybihyPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGk9bigwKSxvPW4oNSksYT1BcnJheS5wcm90b3R5cGUuc2xpY2UsYz1BcnJheS5wcm90b3R5cGUucHVzaCx1PWkuX21hcChvLkVWRU5UUywoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSkscz1vLkVWRU5UX0lEX1BBVEhTLGQ9W107ZS5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIGU9e30sdD17fTtmdW5jdGlvbiBuKHQsbil7aS5sb2dNZXNzYWdlKCJFbWl0dGluZyBldmVudCBmb3I6ICIrdCk7dmFyIHI9blswXXx8e30sbz1yW3NbdF1dLGE9ZVt0XXx8e3F1ZTpbXX0sdT1pLl9tYXAoYSwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdH0pKSxmPVtdO2QucHVzaCh7ZXZlbnRUeXBlOnQsYXJnczpyLGlkOm8sZWxhcHNlZFRpbWU6aS5nZXRQZXJmb3JtYW5jZU5vdygpfSksbyYmaS5jb250YWlucyh1LG8pJiZjLmFwcGx5KGYsYVtvXS5xdWUpLGMuYXBwbHkoZixhLnF1ZSksaS5fZWFjaChmLChmdW5jdGlvbihlKXtpZihlKXRyeXtlLmFwcGx5KG51bGwsbil9Y2F0Y2goZSl7aS5sb2dFcnJvcigiRXJyb3IgZXhlY3V0aW5nIGhhbmRsZXI6IiwiZXZlbnRzLmpzIixlKX19KSl9cmV0dXJuIHQub249ZnVuY3Rpb24odCxuLHIpe2lmKGZ1bmN0aW9uKGUpe3JldHVybiBpLmNvbnRhaW5zKHUsZSl9KHQpKXt2YXIgbz1lW3RdfHx7cXVlOltdfTtyPyhvW3JdPW9bcl18fHtxdWU6W119LG9bcl0ucXVlLnB1c2gobikpOm8ucXVlLnB1c2gobiksZVt0XT1vfWVsc2UgaS5sb2dFcnJvcigiV3JvbmcgZXZlbnQgbmFtZSA6ICIrdCsiIFZhbGlkIGV2ZW50IG5hbWVzIDoiK3UpfSx0LmVtaXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9YS5jYWxsKGFyZ3VtZW50cywxKTtuKGUsdCl9LHQub2ZmPWZ1bmN0aW9uKHQsbixyKXt2YXIgbz1lW3RdO2kuaXNFbXB0eShvKXx8aS5pc0VtcHR5KG8ucXVlKSYmaS5pc0VtcHR5KG9bcl0pfHxyJiYoaS5pc0VtcHR5KG9bcl0pfHxpLmlzRW1wdHkob1tyXS5xdWUpKXx8KHI/aS5fZWFjaChvW3JdLnF1ZSwoZnVuY3Rpb24oZSl7dmFyIHQ9b1tyXS5xdWU7ZT09PW4mJnQuc3BsaWNlKHQuaW5kZXhPZihlKSwxKX0pKTppLl9lYWNoKG8ucXVlLChmdW5jdGlvbihlKXt2YXIgdD1vLnF1ZTtlPT09biYmdC5zcGxpY2UodC5pbmRleE9mKGUpLDEpfSkpLGVbdF09byl9LHQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGV9LHQuZ2V0RXZlbnRzPWZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIGkuX2VhY2goZCwoZnVuY3Rpb24odCl7dmFyIG49cih7fSx0KTtlLnB1c2gobil9KSksZX0sdH0oKX0sOTA6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9WyJjb25zdHJ1Y3RvciIsImhhc093blByb3BlcnR5IiwiaXNQcm90b3R5cGVPZiIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwidG9Mb2NhbGVTdHJpbmciLCJ0b1N0cmluZyIsInZhbHVlT2YiXX0sOTE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbixpKXtpJiZpLmVudW1lcmFibGU/ZVt0XT1uOnIoZSx0LG4pfX0sOTI6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcixpLG8sYT1uKDI5KSxjPW4oOTMpLHU9bigzMikscz1uKDMxKSxkPW4oMjQpLGY9bigxNyksbD1kKCJpdGVyYXRvciIpLHA9ITE7W10ua2V5cyYmKCJuZXh0ImluKG89W10ua2V5cygpKT8oaT1jKGMobykpKSE9PU9iamVjdC5wcm90b3R5cGUmJihyPWkpOnA9ITApO3ZhciBnPW51bGw9PXJ8fGEoKGZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIHJbbF0uY2FsbChlKSE9PWV9KSk7ZyYmKHI9e30pLGYmJiFnfHxzKHIsbCl8fHUocixsLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLGUuZXhwb3J0cz17SXRlcmF0b3JQcm90b3R5cGU6cixCVUdHWV9TQUZBUklfSVRFUkFUT1JTOnB9fSw5MzpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMSksaT1uKDQ4KSxvPW4oNjcpLGE9bigxMjkpLGM9bygiSUVfUFJPVE8iKSx1PU9iamVjdC5wcm90b3R5cGU7ZS5leHBvcnRzPWE/T2JqZWN0LmdldFByb3RvdHlwZU9mOmZ1bmN0aW9uKGUpe3JldHVybiBlPWkoZSkscihlLGMpP2VbY106ImZ1bmN0aW9uIj09dHlwZW9mIGUuY29uc3RydWN0b3ImJmUgaW5zdGFuY2VvZiBlLmNvbnN0cnVjdG9yP2UuY29uc3RydWN0b3IucHJvdG90eXBlOmUgaW5zdGFuY2VvZiBPYmplY3Q/dTpudWxsfX0sOTQ6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDEzNCkuY2hhckF0LGk9big1NCksbz1uKDY4KSxhPSJTdHJpbmcgSXRlcmF0b3IiLGM9aS5zZXQsdT1pLmdldHRlckZvcihhKTtvKFN0cmluZywiU3RyaW5nIiwoZnVuY3Rpb24oZSl7Yyh0aGlzLHt0eXBlOmEsc3RyaW5nOlN0cmluZyhlKSxpbmRleDowfSl9KSwoZnVuY3Rpb24oKXt2YXIgZSx0PXUodGhpcyksbj10LnN0cmluZyxpPXQuaW5kZXg7cmV0dXJuIGk+PW4ubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9cihuLGkpLHQuaW5kZXgrPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pKX0sOTU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTYpLGk9big2Myk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PWkoZSk7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgVHlwZUVycm9yKFN0cmluZyhlKSsiIGlzIG5vdCBpdGVyYWJsZSIpO3JldHVybiByKHQuY2FsbChlKSl9fSw5NjpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxNjApO2UuZXhwb3J0cz1yfSw5NzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1mdW5jdGlvbihlLHQpe2lmKGUubGFiZWxBbGwpcmV0dXJue2xhYmVsQWxsOiEwLGxhYmVsczplLmxhYmVsQWxsLGFjdGl2ZUxhYmVsczp0fTtyZXR1cm57bGFiZWxBbGw6ITEsbGFiZWxzOmUubGFiZWxBbnksYWN0aXZlTGFiZWxzOnR9fSx0LmM9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnUsbj1zKHQpO2lmKCFuLnNob3VsZEZpbHRlcilyZXR1cm4hMDtyZXR1cm4hIW4uc2l6ZXNTdXBwb3J0ZWRbZV19LHQuYj1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWUubGFiZWxzLG49dm9pZCAwPT09dD9bXTp0LHI9ZS5sYWJlbEFsbCxvPXZvaWQgMCE9PXImJnIsYz1lLmFjdGl2ZUxhYmVscyxkPXZvaWQgMD09PWM/W106YyxmPWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLGw9YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDAscD1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106dSxnPXMocCk7Zj1PYmplY3QoaS5pc1BsYWluT2JqZWN0KShmKT9PYmplY3QoaS5kZWVwQ2xvbmUpKGYpOmw/e2Jhbm5lcjp7c2l6ZXM6bH19Ont9O3ZhciBiPU9iamVjdChpLmRlZXBBY2Nlc3MpKGYsImJhbm5lci5zaXplcyIpO2cuc2hvdWxkRmlsdGVyJiZiJiYoZi5iYW5uZXIuc2l6ZXM9Yi5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBnLnNpemVzU3VwcG9ydGVkW2VdfSkpKTt2YXIgdj1PYmplY3Qua2V5cyhmKSx5PXthY3RpdmU6di5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuImJhbm5lciIhPT1lfSkpfHx2LnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiJiYW5uZXIiPT09ZX0pKSYmT2JqZWN0KGkuZGVlcEFjY2VzcykoZiwiYmFubmVyLnNpemVzLmxlbmd0aCIpPjAmJigwPT09bi5sZW5ndGh8fCFvJiYobi5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gZy5sYWJlbHNbZV19KSl8fG4uc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGEoKShkLGUpfSkpKXx8byYmbi5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/Zy5sYWJlbHNbdF18fGEoKShkLHQpOmV9KSwhMCkpLG1lZGlhVHlwZXM6Zn07YiYmYi5sZW5ndGghPT1mLmJhbm5lci5zaXplcy5sZW5ndGgmJih5LmZpbHRlclJlc3VsdHM9e2JlZm9yZTpiLGFmdGVyOmYuYmFubmVyLnNpemVzfSk7cmV0dXJuIHl9O3ZhciByPW4oMyksaT1uKDApLG89bigxMiksYT1uLm4obyk7ZnVuY3Rpb24gYyhlKXtyZXR1cm4oYz0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfXZhciB1PVtdO2Z1bmN0aW9uIHMoZSl7cmV0dXJuIGUucmVkdWNlKChmdW5jdGlvbihlLHQpe2lmKCJvYmplY3QiPT09Yyh0KSYmInN0cmluZyI9PXR5cGVvZiB0Lm1lZGlhUXVlcnkmJnQubWVkaWFRdWVyeS5sZW5ndGg+MCl7dmFyIG49ITE7dHJ5e249T2JqZWN0KGkuZ2V0V2luZG93VG9wKSgpLm1hdGNoTWVkaWEodC5tZWRpYVF1ZXJ5KS5tYXRjaGVzfWNhdGNoKGUpe09iamVjdChpLmxvZ1dhcm4pKCJVbmZyaWVuZGx5IGlGcmFtZSBibG9ja3Mgc2l6ZUNvbmZpZyBmcm9tIGJlaW5nIGNvcnJlY3RseSBldmFsdWF0ZWQiKSxuPW1hdGNoTWVkaWEodC5tZWRpYVF1ZXJ5KS5tYXRjaGVzfW4mJihBcnJheS5pc0FycmF5KHQuc2l6ZXNTdXBwb3J0ZWQpJiYoZS5zaG91bGRGaWx0ZXI9ITApLFsibGFiZWxzIiwic2l6ZXNTdXBwb3J0ZWQiXS5mb3JFYWNoKChmdW5jdGlvbihuKXtyZXR1cm4odFtuXXx8W10pLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiBlW25dW3RdPSEwfSkpfSkpKX1lbHNlIE9iamVjdChpLmxvZ1dhcm4pKCdzaXplQ29uZmlnIHJ1bGUgbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSAibWVkaWFRdWVyeSInKTtyZXR1cm4gZX0pLHtsYWJlbHM6e30sc2l6ZXNTdXBwb3J0ZWQ6e30sc2hvdWxkRmlsdGVyOiExfSl9ci5iLmdldENvbmZpZygic2l6ZUNvbmZpZyIsKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXt1PWV9KGUuc2l6ZUNvbmZpZyl9KSl9LDk4OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5iPWZ1bmN0aW9uKGUsdCxuKXt2YXIgbz17cHV0czplLm1hcChhLG4pfTtPYmplY3Qoci5hKShpLmIuZ2V0Q29uZmlnKCJjYWNoZS51cmwiKSxmdW5jdGlvbihlKXtyZXR1cm57c3VjY2VzczpmdW5jdGlvbih0KXt2YXIgbjt0cnl7bj1KU09OLnBhcnNlKHQpLnJlc3BvbnNlc31jYXRjaCh0KXtyZXR1cm4gdm9pZCBlKHQsW10pfW4/ZShudWxsLG4pOmUobmV3IEVycm9yKCJUaGUgY2FjaGUgc2VydmVyIGRpZG4ndCByZXNwb25kIHdpdGggYSByZXNwb25zZXMgcHJvcGVydHkuIiksW10pfSxlcnJvcjpmdW5jdGlvbih0LG4pe2UobmV3IEVycm9yKCJFcnJvciBzdG9yaW5nIHZpZGVvIGFkIGluIHRoZSBjYWNoZTogIi5jb25jYXQodCwiOiAiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkobikpKSxbXSl9fX0odCksSlNPTi5zdHJpbmdpZnkobykse2NvbnRlbnRUeXBlOiJ0ZXh0L3BsYWluIix3aXRoQ3JlZGVudGlhbHM6ITB9KX0sdC5hPWZ1bmN0aW9uKGUpe3JldHVybiIiLmNvbmNhdChpLmIuZ2V0Q29uZmlnKCJjYWNoZS51cmwiKSwiP3V1aWQ9IikuY29uY2F0KGUpfTt2YXIgcj1uKDQpLGk9bigzKSxvPW4oMCk7ZnVuY3Rpb24gYShlKXt2YXIgdCxuLHIsYT17dHlwZToieG1sIix2YWx1ZTplLnZhc3RYbWw/ZS52YXN0WG1sOih0PWUudmFzdFVybCxuPWUudmFzdEltcFVybCxyPW4/IjwhW0NEQVRBWyIuY29uY2F0KG4sIl1dPiIpOiIiLCc8VkFTVCB2ZXJzaW9uPSIzLjAiPlxuICAgIDxBZD5cbiAgICAgIDxXcmFwcGVyPlxuICAgICAgICA8QWRTeXN0ZW0+cHJlYmlkLm9yZyB3cmFwcGVyPC9BZFN5c3RlbT5cbiAgICAgICAgPFZBU1RBZFRhZ1VSST48IVtDREFUQVsnLmNvbmNhdCh0LCJdXT48L1ZBU1RBZFRhZ1VSST5cbiAgICAgICAgPEltcHJlc3Npb24+IikuY29uY2F0KHIsIjwvSW1wcmVzc2lvbj5cbiAgICAgICAgPENyZWF0aXZlcz48L0NyZWF0aXZlcz5cbiAgICAgIDwvV3JhcHBlcj5cbiAgICA8L0FkPlxuICA8L1ZBU1Q+IikpLHR0bHNlY29uZHM6TnVtYmVyKGUudHRsKX07cmV0dXJuIGkuYi5nZXRDb25maWcoImNhY2hlLnZhc3R0cmFjayIpJiYoYS5iaWRkZXI9ZS5iaWRkZXIsYS5iaWRpZD1lLnJlcXVlc3RJZCxhLmFpZD1lLmF1Y3Rpb25JZCxvLmlzUGxhaW5PYmplY3QodGhpcykmJnRoaXMuaGFzT3duUHJvcGVydHkoImF1Y3Rpb25TdGFydCIpJiYoYS50aW1lc3RhbXA9dGhpcy5hdWN0aW9uU3RhcnQpKSwic3RyaW5nIj09dHlwZW9mIGUuY3VzdG9tQ2FjaGVLZXkmJiIiIT09ZS5jdXN0b21DYWNoZUtleSYmKGEua2V5PWUuY3VzdG9tQ2FjaGVLZXkpLGF9fX0pOwp1cGJqc0NodW5rKFszNDZdLHsxMDA6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBUfSkpO3ZhciBuPXIoMSksaT1yKDMpLG89cigwKSxhPXIoMik7ZnVuY3Rpb24gcygpe3JldHVybihzPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gZChlLHQpe3ZhciByPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksci5wdXNoLmFwcGx5KHIsbil9cmV0dXJuIHJ9ZnVuY3Rpb24gYyhlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9kKE9iamVjdChyKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dShlLHQsclt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyKSk6ZChPYmplY3QocikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiB1KGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX12YXIgcD0iMzNhY3Jvc3MiLGw9Imh0dHBzOi8vc3NjLjMzYWNyb3NzLmNvbS9hcGkvdjEvaGIiLGY9Imh0dHBzOi8vc3NjLWNtcy4zM2Fjcm9zcy5jb20vcHMvP209eGNoJnJ0PWh0bWwmcnU9ZGViIixtPS9eW2EtekEtWjAtOV8tXXsyMn0kLyxiPSJzaWFiIixnPSJpbnZpZXciLGg9Imluc3RyZWFtIix2PVsibWltZXMiLCJtaW5kdXJhdGlvbiIsIm1heGR1cmF0aW9uIiwicGxhY2VtZW50IiwicHJvdG9jb2xzIiwic3RhcnRkZWxheSIsInNraXAiLCJza2lwYWZ0ZXIiLCJtaW5iaXRyYXRlIiwibWF4Yml0cmF0ZSIsImRlbGl2ZXJ5IiwicGxheWJhY2ttZXRob2QiLCJhcGkiLCJsaW5lYXJpdHkiXSx5PXt1bmlxdWVTaXRlSWRzOltdfSxBPSJubSI7ZnVuY3Rpb24gdygpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLHI9YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDA7cmV0dXJuIHMoe30sZSx7ZXh0OnMoe30sZS5leHQsdSh7fSx0LHIpKX0pfWZ1bmN0aW9uIHgoZSl7cmV0dXJue3c6cGFyc2VJbnQoZVswXSwxMCksaDpwYXJzZUludChlWzFdLDEwKX19ZnVuY3Rpb24gSShlKXt2YXIgdD1lLnBhcmFtcyxyPWUubWVkaWFUeXBlcyxuPXIuYmFubmVyLGk9ci52aWRlbztyZXR1cm4gaSYmIW4mJiJpbnN0cmVhbSI9PT1pLmNvbnRleHQ/aDp0LnByb2R1Y3RJZD09PWc/dC5wcm9kdWN0SWQ6Yn1mdW5jdGlvbiBPKGUsdCxyKXt2YXIgbj1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6cixzaXplOlt0LncsdC5oXX0pO2lmKCFpc05hTihuLmZsb29yKSYmIlVTRCI9PT1uLmN1cnJlbmN5KXJldHVybiBuLmZsb29yfWZ1bmN0aW9uIFMoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LHI9dC53LG49dC5oLGk9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxvPWkud2lkdGgsYT1pLmhlaWdodCxzPWkubGVmdCxkPWkudG9wLGM9aS5yaWdodCx1PWkuYm90dG9tO3JldHVybigwPT09b3x8MD09PWEpJiZyJiZuJiYobz1yLGE9bixjPXMrcix1PWQrbikse3dpZHRoOm8saGVpZ2h0OmEsbGVmdDpzLHRvcDpkLHJpZ2h0OmMsYm90dG9tOnV9fWZ1bmN0aW9uIEMoZSl7Zm9yKHZhciB0PXtsZWZ0OmVbMF0ubGVmdCxyaWdodDplWzBdLnJpZ2h0LHRvcDplWzBdLnRvcCxib3R0b206ZVswXS5ib3R0b219LHI9MTtyPGUubGVuZ3RoOysrcil7aWYodC5sZWZ0PU1hdGgubWF4KHQubGVmdCxlW3JdLmxlZnQpLHQucmlnaHQ9TWF0aC5taW4odC5yaWdodCxlW3JdLnJpZ2h0KSx0LmxlZnQ+PXQucmlnaHQpcmV0dXJuIG51bGw7aWYodC50b3A9TWF0aC5tYXgodC50b3AsZVtyXS50b3ApLHQuYm90dG9tPU1hdGgubWluKHQuYm90dG9tLGVbcl0uYm90dG9tKSx0LnRvcD49dC5ib3R0b20pcmV0dXJuIG51bGx9cmV0dXJuIHQud2lkdGg9dC5yaWdodC10LmxlZnQsdC5oZWlnaHQ9dC5ib3R0b20tdC50b3AsdH1mdW5jdGlvbiBqKGUsdCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LG49ci53LGk9ci5oLG89UyhlLHt3Om4saDppfSksYT1DKFt7bGVmdDowLHRvcDowLHJpZ2h0OnQuaW5uZXJXaWR0aCxib3R0b206dC5pbm5lckhlaWdodH0sb10pO3JldHVybiBudWxsIT09YT9hLndpZHRoKmEuaGVpZ2h0LyhvLndpZHRoKm8uaGVpZ2h0KSoxMDA6MH12YXIgVD17Tk9OX01FQVNVUkFCTEU6QSxjb2RlOnAsc3VwcG9ydGVkTWVkaWFUeXBlczpbYS5iLGEuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKGUuYmlkZGVyIT09cHx8dm9pZCAwPT09ZS5wYXJhbXMpcmV0dXJuITE7aWYoIWZ1bmN0aW9uKGUpe2lmKG51bGw9PT0oby5kZWVwQWNjZXNzKGUsInBhcmFtcy5zaXRlSWQiLCIiKXx8IiIpLnRyaW0oKS5tYXRjaChtKSlyZXR1cm4hMTtyZXR1cm4hMH0oZSkpcmV0dXJuITE7cmV0dXJuITB9KGUpJiZmdW5jdGlvbihlKXt2YXIgdD1vLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy5iYW5uZXIiKTtpZih2b2lkIDA9PT10KXJldHVybiEwO2lmKCFBcnJheS5pc0FycmF5KHQuc2l6ZXMpKXJldHVybiExO3JldHVybiEwfShlKSYmZnVuY3Rpb24oZSl7dmFyIHQ9by5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8iKSxyPW8uZGVlcEFjY2VzcyhlLCJwYXJhbXMudmlkZW8iLHt9KTtpZih2b2lkIDA9PT10KXJldHVybiEwO2lmKCFBcnJheS5pc0FycmF5KHQucGxheWVyU2l6ZSkpcmV0dXJuITE7aWYoIXQuY29udGV4dClyZXR1cm4hMTt2YXIgbj1jKGMoe30sdCkscik7aWYoIUFycmF5LmlzQXJyYXkobi5taW1lcyl8fDA9PT1uLm1pbWVzLmxlbmd0aClyZXR1cm4hMTtpZighQXJyYXkuaXNBcnJheShuLnByb3RvY29scyl8fDA9PT1uLnByb3RvY29scy5sZW5ndGgpcmV0dXJuITE7aWYodm9pZCAwIT09bi5wbGFjZW1lbnQmJiJudW1iZXIiIT10eXBlb2Ygbi5wbGFjZW1lbnQpcmV0dXJuITE7aWYoImluc3RyZWFtIj09PXQuY29udGV4dCYmdm9pZCAwIT09bi5zdGFydGRlbGF5JiYibnVtYmVyIiE9dHlwZW9mIG4uc3RhcnRkZWxheSlyZXR1cm4hMTtyZXR1cm4hMH0oZSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXt2YXIgcj1zKHtjb25zZW50U3RyaW5nOnZvaWQgMCxnZHByQXBwbGllczohMX0sdCYmdC5nZHByQ29uc2VudCksbj10JiZ0LnVzcENvbnNlbnQsZD10JiZ0LnJlZmVyZXJJbmZvP3QucmVmZXJlckluZm8ucmVmZXJlcjp2b2lkIDA7cmV0dXJuIHkudW5pcXVlU2l0ZUlkcz1lLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyYW1zLnNpdGVJZH0pKS5maWx0ZXIoby51bmlxdWVzKSxlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUuYmlkUmVxdWVzdCxyPWUuZ2RwckNvbnNlbnQsbj12b2lkIDA9PT1yP3t9OnIsZD1lLnVzcENvbnNlbnQsdT1lLnBhZ2VVcmwscD17fSxmPXQucGFyYW1zO3AuaW1wPVt7fV0sby5kZWVwQWNjZXNzKHQsIm1lZGlhVHlwZXMuYmFubmVyIikmJihwLmltcFswXS5iYW5uZXI9Yyh7fSxmdW5jdGlvbihlKXt2YXIgdCxyPW8uZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLmJhbm5lciIse30pLG49KGQ9ZS5hZFVuaXRDb2RlLGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGQpfHxkb2N1bWVudC5nZXRFbGVtZW50QnlJZChmdW5jdGlvbihlKXtpZihvLmlzR3B0UHViYWRzRGVmaW5lZCgpKWZvcih2YXIgdD1nb29nbGV0YWcucHViYWRzKCkuZ2V0U2xvdHMoKSxyPW8uaXNTbG90TWF0Y2hpbmdBZFVuaXRDb2RlKGUpLG49MDtuPHQubGVuZ3RoO24rKylpZihyKHRbbl0pKXt2YXIgaT10W25dLmdldFNsb3RFbGVtZW50SWQoKTtyZXR1cm4gby5sb2dJbmZvKCJbMzNBY3Jvc3MgQWRhcHRlcl0gTWFwIGFkIHVuaXQgcGF0aCB0byBIVE1MIGVsZW1lbnQgaWQ6ICciLmNvbmNhdChlLCInIC0+ICIpLmNvbmNhdChpKSksaX1yZXR1cm4gby5sb2dXYXJuKCJbMzNBY3Jvc3MgQWRhcHRlcl0gVW5hYmxlIHRvIGxvY2F0ZSBlbGVtZW50IGZvciBhZCB1bml0IGNvZGU6ICciLmNvbmNhdChlLCInIikpLG51bGx9KGQpKSksaT1mdW5jdGlvbihlKXtpZihvLmlzQXJyYXkoZSkmJjI9PT1lLmxlbmd0aCYmIW8uaXNBcnJheShlWzBdKSlyZXR1cm5beChlKV07cmV0dXJuIGUubWFwKHgpfShyLnNpemVzKTt2YXIgZDt0PSJmdW5jdGlvbiI9PXR5cGVvZiBlLmdldEZsb29yP2kubWFwKChmdW5jdGlvbih0KXt2YXIgcixuPU8oZSx0LGEuYik7cmV0dXJuIG4mJihyPXtleHQ6e3R0eDp7YmlkZmxvb3JzOltuXX19fSkscyh7fSx0LHIpfSkpOmk7dmFyIGM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiB0LmgqdC53PGUuaCplLnc/dDplfSkpfShpKSx1PWZ1bmN0aW9uKGUpe3JldHVybnt0dHg6e3ZpZXdhYmlsaXR5OnthbW91bnQ6aXNOYU4oZSk/ZTpNYXRoLnJvdW5kKGUpfX19fShmdW5jdGlvbihlKXtyZXR1cm4hZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG8uZ2V0V2luZG93U2VsZigpIT09by5nZXRXaW5kb3dUb3AoKX1jYXRjaChlKXtyZXR1cm4hMH19KCkmJm51bGwhPT1lfShuKT9mdW5jdGlvbihlLHQpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxuPXIudyxpPXIuaDtyZXR1cm4idmlzaWJsZSI9PT10LmRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZT9qKGUsdCx7dzpuLGg6aX0pOjB9KG4sby5nZXRXaW5kb3dUb3AoKSxjKTpBKTtyZXR1cm57Zm9ybWF0OnQsZXh0OnV9fSh0KSkpO28uZGVlcEFjY2Vzcyh0LCJtZWRpYVR5cGVzLnZpZGVvIikmJihwLmltcFswXS52aWRlbz1mdW5jdGlvbihlKXt2YXIgdD1vLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlbyIse30pLHI9by5kZWVwQWNjZXNzKGUsInBhcmFtcy52aWRlbyIse30pLG49YyhjKHt9LHQpLHIpLGk9e30sZD14KG4ucGxheWVyU2l6ZVswXSksdT1kLncscD1kLmg7aS53PXUsaS5oPXAsdi5mb3JFYWNoKChmdW5jdGlvbihlKXtuLmhhc093blByb3BlcnR5KGUpJiYoaVtlXT1uW2VdKX0pKTt2YXIgbD1JKGUpO2kucGxhY2VtZW50PWkucGxhY2VtZW50fHwyLGw9PT1oJiYoaS5zdGFydGRlbGF5PWkuc3RhcnRkZWxheXx8MCxpLnBsYWNlbWVudD0xKTtpZigiZnVuY3Rpb24iPT10eXBlb2YgZS5nZXRGbG9vcil7dmFyIGY9TyhlLHt3OmkudyxoOmkuaH0sYS5kKTtmJiZzKGkse2V4dDp7dHR4OntiaWRmbG9vcnM6W2ZdfX19KX1yZXR1cm4gaX0odCkpO3AuaW1wWzBdLmV4dD17dHR4Ontwcm9kOkkodCl9fSxwLnNpdGU9e2lkOmYuc2l0ZUlkfSx1JiYocC5zaXRlLnBhZ2U9dSk7cC5pZD10LmJpZElkLG4uY29uc2VudFN0cmluZyYmKHAudXNlcj13KHAudXNlciwiY29uc2VudCIsbi5jb25zZW50U3RyaW5nKSk7QXJyYXkuaXNBcnJheSh0LnVzZXJJZEFzRWlkcykmJnQudXNlcklkQXNFaWRzLmxlbmd0aD4wJiYocC51c2VyPXcocC51c2VyLCJlaWRzIix0LnVzZXJJZEFzRWlkcykpO3AucmVncz13KHAucmVncywiZ2RwciIsTnVtYmVyKG4uZ2RwckFwcGxpZXMpKSxkJiYocC5yZWdzPXcocC5yZWdzLCJ1c19wcml2YWN5IixkKSk7cC5leHQ9e3R0eDp7cHJlYmlkU3RhcnRlZEF0OkRhdGUubm93KCksY2FsbGVyOlt7bmFtZToicHJlYmlkanMiLHZlcnNpb246IjUuMTEuMCJ9XX19LHQuc2NoYWluJiYocC5zb3VyY2U9dyhwLnNvdXJjZSwic2NoYWluIix0LnNjaGFpbikpOzE9PT1mLnRlc3QmJihwLnRlc3Q9MSk7dmFyIG09e2NvbnRlbnRUeXBlOiJ0ZXh0L3BsYWluIix3aXRoQ3JlZGVudGlhbHM6ITB9LGI9aS5iLmdldENvbmZpZygidHR4U2V0dGluZ3MiKTtyZXR1cm57bWV0aG9kOiJQT1NUIix1cmw6YiYmYi51cmx8fCIiLmNvbmNhdChsLCI/Z3VpZD0iKS5jb25jYXQoZi5zaXRlSWQpLGRhdGE6SlNPTi5zdHJpbmdpZnkocCksb3B0aW9uczptfX0oe2JpZFJlcXVlc3Q6ZSxnZHByQ29uc2VudDpyLHVzcENvbnNlbnQ6bixwYWdlVXJsOmR9KX0pKX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXTtyZXR1cm4gZS5ib2R5LnNlYXRiaWQubGVuZ3RoPjAmJmUuYm9keS5zZWF0YmlkWzBdLmJpZC5sZW5ndGg+MCYmci5wdXNoKGZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VhdGJpZFswXS5iaWRbMF0uYWRvbWFpbiYmZS5zZWF0YmlkWzBdLmJpZFswXS5hZG9tYWluLmxlbmd0aCxyPXtyZXF1ZXN0SWQ6ZS5pZCxiaWRkZXJDb2RlOnAsY3BtOmUuc2VhdGJpZFswXS5iaWRbMF0ucHJpY2Usd2lkdGg6ZS5zZWF0YmlkWzBdLmJpZFswXS53LGhlaWdodDplLnNlYXRiaWRbMF0uYmlkWzBdLmgsYWQ6ZS5zZWF0YmlkWzBdLmJpZFswXS5hZG0sdHRsOmUuc2VhdGJpZFswXS5iaWRbMF0udHRsfHw2MCxjcmVhdGl2ZUlkOmUuc2VhdGJpZFswXS5iaWRbMF0uY3JpZCxtZWRpYVR5cGU6by5kZWVwQWNjZXNzKGUuc2VhdGJpZFswXS5iaWRbMF0sImV4dC50dHgubWVkaWFUeXBlIixhLmIpLGN1cnJlbmN5OmUuY3VyLG5ldFJldmVudWU6ITB9O3QmJihyLm1ldGE9e2FkdmVydGlzZXJEb21haW5zOmUuc2VhdGJpZFswXS5iaWRbMF0uYWRvbWFpbn0pO2lmKHIubWVkaWFUeXBlPT09YS5kKXsieG1sIj09PW8uZGVlcEFjY2VzcyhlLnNlYXRiaWRbMF0uYmlkWzBdLCJleHQudHR4LnZhc3RUeXBlIiwieG1sIik/ci52YXN0WG1sPXIuYWQ6ci52YXN0VXJsPXIuYWR9cmV0dXJuIHJ9KGUuYm9keSkpLHJ9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQscixuKXt2YXIgbz1lLmlmcmFtZUVuYWJsZWQ/eS51bmlxdWVTaXRlSWRzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUuc2l0ZUlkLHI9dm9pZCAwPT09dD8ienp6MDAwMDAwMDAwMDAzenp6Ijp0LG49ZS5nZHByQ29uc2VudCxvPXZvaWQgMD09PW4/e306bixhPWUudXNwQ29uc2VudCxzPWkuYi5nZXRDb25maWcoInR0eFNldHRpbmdzIiksZD1zJiZzLnN5bmNVcmx8fGYsYz1vLmNvbnNlbnRTdHJpbmcsdT1vLmdkcHJBcHBsaWVzLHA9e3R5cGU6ImlmcmFtZSIsdXJsOiIiLmNvbmNhdChkLCImaWQ9IikuY29uY2F0KHIsIiZnZHByX2NvbnNlbnQ9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChjKSwiJnVzX3ByaXZhY3k9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChhKSl9OyJib29sZWFuIj09dHlwZW9mIHUmJihwLnVybCs9IiZnZHByPSIuY29uY2F0KE51bWJlcih1KSkpO3JldHVybiBwfSh7Z2RwckNvbnNlbnQ6cix1c3BDb25zZW50Om4sc2l0ZUlkOmV9KX0pKTpbXTtyZXR1cm4geS51bmlxdWVTaXRlSWRzPVtdLG99fTtPYmplY3Qobi5yZWdpc3RlckJpZGRlcikoVCl9LDk5OmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cigxMDApfX0sWzk5XSk7CnVwYmpzQ2h1bmsoWzM0MF0sezE4NjpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoMTg3KX0sMTg3OmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKTt2YXIgbj10KDEpLGk9dCgyKSxhPXQoMCksbz10KDMpLGQ9dCgxMyk7ZnVuY3Rpb24gcyhlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gYyhlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fHAoZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gdShlLHIpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSxyKXt2YXIgdD1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PXQpcmV0dXJuO3ZhciBuLGksYT1bXSxvPSEwLGQ9ITE7dHJ5e2Zvcih0PXQuY2FsbChlKTshKG89KG49dC5uZXh0KCkpLmRvbmUpJiYoYS5wdXNoKG4udmFsdWUpLCFyfHxhLmxlbmd0aCE9PXIpO289ITApO31jYXRjaChlKXtkPSEwLGk9ZX1maW5hbGx5e3RyeXtvfHxudWxsPT10LnJldHVybnx8dC5yZXR1cm4oKX1maW5hbGx5e2lmKGQpdGhyb3cgaX19cmV0dXJuIGF9KGUscil8fHAoZSxyKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIHAoZSxyKXtpZihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGMoZSxyKTt2YXIgdD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuIk9iamVjdCI9PT10JiZlLmNvbnN0cnVjdG9yJiYodD1lLmNvbnN0cnVjdG9yLm5hbWUpLCJNYXAiPT09dHx8IlNldCI9PT10P0FycmF5LmZyb20oZSk6IkFyZ3VtZW50cyI9PT10fHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KT9jKGUscik6dm9pZCAwfX1mdW5jdGlvbiBjKGUscil7KG51bGw9PXJ8fHI+ZS5sZW5ndGgpJiYocj1lLmxlbmd0aCk7Zm9yKHZhciB0PTAsbj1uZXcgQXJyYXkocik7dDxyO3QrKyluW3RdPWVbdF07cmV0dXJuIG59ZnVuY3Rpb24gbChlKXtyZXR1cm4obD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfXZhciBtPW8uYi5nZXRDb25maWcsZj17MDoidGl0bGUiLDI6Imljb24iLDM6ImltYWdlIiw1OiJzcG9uc29yZWRCeSIsNDoiYm9keSIsMToiY3RhIn0seT17dGl0bGU6e2lkOjAsbmFtZToidGl0bGUifSxpY29uOntpZDoyLHR5cGU6MSxuYW1lOiJpbWcifSxpbWFnZTp7aWQ6Myx0eXBlOjMsbmFtZToiaW1nIn0sc3BvbnNvcmVkQnk6e2lkOjUsbmFtZToiZGF0YSIsdHlwZToxfSxib2R5OntpZDo0LG5hbWU6ImRhdGEiLHR5cGU6Mn0sY3RhOntpZDoxLHR5cGU6MTIsbmFtZToiZGF0YSJ9fSx2PXtjb2RlOiJhZGYiLGFsaWFzZXM6W3tjb2RlOiJhZGZvcm1PcGVuUlRCIixndmxpZDo1MH0se2NvZGU6ImFkZm9ybSIsZ3ZsaWQ6NTB9XSxndmxpZDo1MCxzdXBwb3J0ZWRNZWRpYVR5cGVzOltpLmMsaS5iLGkuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISFlLnBhcmFtcy5taWR9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgdCxuLG89bSgib3J0YjIiKXx8e30sZD1vLnVzZXI7Im9iamVjdCI9PT1sKG0oImFwcCIpKT8odD1tKCJhcHAiKXx8e30sby5hcHAmJmEubWVyZ2VEZWVwKHQsby5hcHApKToobj1tKCJzaXRlIil8fHt9LG8uc2l0ZSYmYS5tZXJnZURlZXAobixvLnNpdGUpLG4ucGFnZXx8KG4ucGFnZT1yLnJlZmVyZXJJbmZvLnJlZmVyZXIpKTt2YXIgcz1tKCJkZXZpY2UiKXx8e307cy53PXMud3x8d2luZG93LmlubmVyV2lkdGgscy5oPXMuaHx8d2luZG93LmlubmVySGVpZ2h0LHMudWE9cy51YXx8bmF2aWdhdG9yLnVzZXJBZ2VudDt2YXIgcD1iKGUsInBhcmFtcy5hZHhEb21haW4iKXx8ImFkeC5hZGZvcm0ubmV0IixjPWIoZSwicGFyYW1zLnB0Iil8fGIoZSwicGFyYW1zLnByaWNlVHlwZSIpfHwibmV0IixmPWVbMF0udHJhbnNhY3Rpb25JZCx2PWIoZSwicGFyYW1zLnRlc3QiKSxnPW0oImN1cnJlbmN5LmFkU2VydmVyQ3VycmVuY3kiKSx3PWcmJltnXSxTPWIoZSwidXNlcklkQXNFaWRzIiksVD1iKGUsInNjaGFpbiIpLEE9ZS5tYXAoKGZ1bmN0aW9uKGUscil7ZS5uZXRSZXZlbnVlPWM7dmFyIHQ9e2lkOnIrMSx0YWdpZDplLnBhcmFtcy5taWR9LG49YS5fbWFwKGUubmF0aXZlUGFyYW1zLChmdW5jdGlvbihlLHIpe3ZhciB0PXlbcl0sbj17cmVxdWlyZWQ6MSZlLnJlcXVpcmVkfTtpZih0KXt2YXIgaSxhLG8sZDtuLmlkPXQuaWQ7dmFyIHM9ZS5hc3BlY3RfcmF0aW9zO2lmKHMmJnNbMF0mJihpPShzPXNbMF0pLm1pbl93aWR0aHx8MCxhPXMucmF0aW9faGVpZ2h0Kmkvcy5yYXRpb193aWR0aHwwKSxlLnNpemVzKXt2YXIgdT1oKGUuc2l6ZXMpO289dVswXSxkPXVbMV19cmV0dXJuIG5bdC5uYW1lXT17bGVuOmUubGVuLHR5cGU6dC50eXBlLHdtaW46aSxobWluOmEsdzpvLGg6ZH0sbn19KSkuZmlsdGVyKEJvb2xlYW4pO2lmKG4ubGVuZ3RoKXJldHVybiB0Lm5hdGl2ZT17cmVxdWVzdDp7YXNzZXRzOm59fSxlLm1lZGlhVHlwZT1pLmMsdDt2YXIgbz1hLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy5iYW5uZXIiKTtpZihvJiZvLnNpemVzKXt2YXIgZD1hLnBhcnNlU2l6ZXNJbnB1dChvLnNpemVzKS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciByPXUoZS5zcGxpdCgieCIpLDIpLHQ9clswXSxuPXJbMV07cmV0dXJue3c6cGFyc2VJbnQodCwxMCksaDpwYXJzZUludChuLDEwKX19KSk7cmV0dXJuIHQuYmFubmVyPXtmb3JtYXQ6ZH0sZS5tZWRpYVR5cGU9aS5iLHR9dmFyIHM9YS5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8iKTtyZXR1cm4gcz8odC52aWRlbz1zLGUubWVkaWFUeXBlPWkuZCx0KTp2b2lkIDB9KSksST17aWQ6ci5hdWN0aW9uSWQsc2l0ZTpuLGFwcDp0LHVzZXI6ZCxkZXZpY2U6cyxzb3VyY2U6e3RpZDpmLGZkOjF9LGV4dDp7cHQ6Y30sY3VyOncsaW1wOkF9O3JldHVybiB2JiYoSS5pc19kZWJ1Zz0hIXYsSS50ZXN0PTEpLHZvaWQgMCE9PWEuZGVlcEFjY2VzcyhyLCJnZHByQ29uc2VudC5nZHByQXBwbGllcyIpJiYoYS5kZWVwU2V0VmFsdWUoSSwidXNlci5leHQuY29uc2VudCIsci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSxhLmRlZXBTZXRWYWx1ZShJLCJyZWdzLmV4dC5nZHByIiwxJnIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMpKSxyLnVzcENvbnNlbnQmJmEuZGVlcFNldFZhbHVlKEksInJlZ3MuZXh0LnVzX3ByaXZhY3kiLHIudXNwQ29uc2VudCksUyYmYS5kZWVwU2V0VmFsdWUoSSwidXNlci5leHQuZWlkcyIsUyksVCYmYS5kZWVwU2V0VmFsdWUoSSwic291cmNlLmV4dC5zY2hhaW4iLFQpLHttZXRob2Q6IlBPU1QiLHVybDoiaHR0cHM6Ly8iK3ArIi9hZHgvb3BlbnJ0YiIsZGF0YTpKU09OLnN0cmluZ2lmeShJKSxvcHRpb25zOntjb250ZW50VHlwZToiYXBwbGljYXRpb24vanNvbiJ9LGJpZHM6ZX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIHQ9ci5iaWRzO2lmKGUuYm9keSl7dmFyIG49ZS5ib2R5LG89bi5zZWF0YmlkLHM9bi5jdXIsdT1oKG8ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWR9KSkpLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXtyZXR1cm4gZVtyLmltcGlkLTFdPXIsZX0pLFtdKTtyZXR1cm4gdC5tYXAoKGZ1bmN0aW9uKGUscil7dmFyIHQ9dVtyXTtpZih0KXt2YXIgbj17cmVxdWVzdElkOmUuYmlkSWQsY3BtOnQucHJpY2UsY3JlYXRpdmVJZDp0LmNyaWQsdHRsOjM2MCxuZXRSZXZlbnVlOiJuZXQiPT09ZS5uZXRSZXZlbnVlLGN1cnJlbmN5OnMsbWVkaWFUeXBlOmUubWVkaWFUeXBlLHdpZHRoOnQudyxoZWlnaHQ6dC5oLGRlYWxJZDp0LmRlYWxpZCxtZXRhOnttZWRpYVR5cGU6ZS5tZWRpYVR5cGUsYWR2ZXJ0aXNlckRvbWFpbnM6dC5hZG9tYWlufX07cmV0dXJuIHQubmF0aXZlP24ubmF0aXZlPWZ1bmN0aW9uKGUpe3ZhciByPWUubmF0aXZlLHQ9ci5hc3NldHMsbj1yLmxpbmssaT1yLmltcHRyYWNrZXJzLGE9ci5qc3RyYWNrZXIsbz17Y2xpY2tVcmw6bi51cmwsY2xpY2tUcmFja2VyczpuLmNsaWNrdHJhY2tlcnN8fHZvaWQgMCxpbXByZXNzaW9uVHJhY2tlcnM6aXx8dm9pZCAwLGphdmFzY3JpcHRUcmFja2VyczphP1thXTp2b2lkIDB9O3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByPWZbZS5pZF0sdD1yJiZlW3lbcl0ubmFtZV07dCYmKG9bcl09dC50ZXh0fHx0LnZhbHVlfHx7dXJsOnQudXJsLHdpZHRoOnQudyxoZWlnaHQ6dC5ofSl9KSksb30odCk6bltlLm1lZGlhVHlwZT09PWkuZD8idmFzdFhtbCI6ImFkIl09dC5hZG0sZS5yZW5kZXJlcnx8ZS5tZWRpYVR5cGUhPT1pLmR8fCJvdXRzdHJlYW0iIT09YS5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpfHwobi5yZW5kZXJlcj1kLmEuaW5zdGFsbCh7aWQ6ZS5iaWRJZCx1cmw6Imh0dHBzOi8vczIuYWRmb3JtLm5ldC9iYW5uZXJzL3NjcmlwdHMvdmlkZW8vb3V0c3RyZWFtL3JlbmRlci5qcyIsYWRVbml0Q29kZTplLmFkVW5pdENvZGV9KSxuLnJlbmRlcmVyLnNldFJlbmRlcihnKSksbn19KSkuZmlsdGVyKEJvb2xlYW4pfX19O2Z1bmN0aW9uIGIoZSxyKXtmb3IodmFyIHQsbj0wO248ZS5sZW5ndGg7bisrKWlmKHQ9YS5kZWVwQWNjZXNzKGVbbl0scikpcmV0dXJuIHR9ZnVuY3Rpb24gaChlKXt2YXIgcjtyZXR1cm4ocj1bXSkuY29uY2F0LmFwcGx5KHIscyhlKSl9ZnVuY3Rpb24gZyhlKXtlLnJlbmRlcmVyLnB1c2goKGZ1bmN0aW9uKCl7d2luZG93LkFkZm9ybS5yZW5kZXJPdXRzdHJlYW0oZSl9KSl9T2JqZWN0KG4ucmVnaXN0ZXJCaWRkZXIpKHYpfX0sWzE4Nl0pOwp1cGJqc0NodW5rKFszMTddLHsyNDc6ZnVuY3Rpb24oZSxyLHQpe2UuZXhwb3J0cz10KDI0OCl9LDI0ODpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQociwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSk7dmFyIG49dCgwKSxpPXQoMSksYT10KDMpLG89dCgxMSkscz10Lm4obyksYz10KDIpO2Z1bmN0aW9uIGQoZSl7cmV0dXJuKGQ9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBwKCl7cmV0dXJuKHA9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9YXJndW1lbnRzW3JdO2Zvcih2YXIgbiBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiYoZVtuXT10W25dKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgdT0iVVNEIixmPXtpbWFnZTp7cmVxdWlyZWQ6ITB9LHRpdGxlOntyZXF1aXJlZDohMH0sc3BvbnNvcmVkQnk6e3JlcXVpcmVkOiEwfSxjbGlja1VybDp7cmVxdWlyZWQ6ITB9LGJvZHk6e3JlcXVpcmVkOiExfSxpY29uOntyZXF1aXJlZDohMX0sY3RhOntyZXF1aXJlZDohMX19LGw9e2NvZGU6ImFkeW91bGlrZSIsc3VwcG9ydGVkTWVkaWFUeXBlczpbYy5iLGMuYyxjLmRdLGFsaWFzZXM6WyJheWwiXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXt2YXIgcj1nKHkoZSkpLHQ9ci53aWR0aD4wJiZyLmhlaWdodD4wO3JldHVybiBlLnBhcmFtcyYmZS5wYXJhbXMucGxhY2VtZW50JiYodHx8ZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMubmF0aXZlKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciB0PXtWZXJzaW9uOiIxLjAiLEJpZHM6ZS5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7dmFyIHQ9ZnVuY3Rpb24oZSl7aWYobi5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8iKSlyZXR1cm4gYy5kO2lmKG4uZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLmJhbm5lciIpKXJldHVybiBjLmI7aWYobi5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMubmF0aXZlIikpcmV0dXJuIGMuY30ociksaT15KHIpLGE9ZyhpKTtpZihlW3IuYmlkSWRdPXt9LGVbci5iaWRJZF0uUGxhY2VtZW50SUQ9ci5wYXJhbXMucGxhY2VtZW50LGVbci5iaWRJZF0uVHJhbnNhY3Rpb25JRD1yLnRyYW5zYWN0aW9uSWQsZVtyLmJpZElkXS5XaWR0aD1hLndpZHRoLGVbci5iaWRJZF0uSGVpZ2h0PWEuaGVpZ2h0LGVbci5iaWRJZF0uQXZhaWxhYmxlU2l6ZXM9aS5qb2luKCIsIiksImZ1bmN0aW9uIj09dHlwZW9mIHIuZ2V0Rmxvb3ImJihlW3IuYmlkSWRdLlByaWNpbmc9ZnVuY3Rpb24oZSxyLHQpe3ZhciBuPWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OnUsbWVkaWFUeXBlOnQsc2l6ZTpbci53aWR0aCxyLmhlaWdodF19KTtpZighaXNOYU4obi5mbG9vcikmJm4uY3VycmVuY3k9PT11KXJldHVybiBuLmZsb29yfShyLGEsdCkpLHQ9PT1jLmMpe3ZhciBvPXIubWVkaWFUeXBlcy5uYXRpdmU7ImltYWdlIj09PW8udHlwZSYmKG89cCh7fSxmLG8pKSxvLmNsaWNrVXJsPXtyZXF1aXJlZDohMH0sZVtyLmJpZElkXS5OYXRpdmU9b31pZih0PT09Yy5kKXtlW3IuYmlkSWRdLlZpZGVvPXIubWVkaWFUeXBlcy52aWRlbzt2YXIgcz1yLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZTtBcnJheS5pc0FycmF5KHMpJiYhQXJyYXkuaXNBcnJheShzWzBdKSYmKGVbci5iaWRJZF0uVmlkZW8ucGxheWVyU2l6ZT1bc10pfXJldHVybiBlfSkse30pLFBhZ2VSZWZyZXNoZWQ6bSgpfTtyJiZyLmdkcHJDb25zZW50JiYodC5nZHByQ29uc2VudD17Y29uc2VudFN0cmluZzpyLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcsY29uc2VudFJlcXVpcmVkOiJib29sZWFuIj09dHlwZW9mIHIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/ci5nZHByQ29uc2VudC5nZHByQXBwbGllczpudWxsfSksciYmci51c3BDb25zZW50JiYodC51c3BDb25zZW50PXIudXNwQ29uc2VudCk7dmFyIGk9SlNPTi5zdHJpbmdpZnkodCk7cmV0dXJue21ldGhvZDoiUE9TVCIsdXJsOnYoZSxyKSxkYXRhOmksb3B0aW9uczp7d2l0aENyZWRlbnRpYWxzOiEwfX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIHQ9W10saT17fTt0cnl7aT1KU09OLnBhcnNlKHIuZGF0YSkuQmlkc31jYXRjaChlKXt9cmV0dXJuIGUuYm9keS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj1mdW5jdGlvbihlLHIpe2lmKCFlfHwhZS5BZCYmIWUuTmF0aXZlJiYhZS5WYXN0KXJldHVybjt2YXIgdD1yJiZyW2UuQmlkSURdO3QmJihlLldpZHRoJiYiMCIhPT1lLldpZHRofHwoZS5XaWR0aD10LldpZHRoKSxlLkhlaWdodCYmIjAiIT09ZS5IZWlnaHR8fChlLkhlaWdodD10LkhlaWdodCkpO3ZhciBpPXtyZXF1ZXN0SWQ6ZS5CaWRJRCx0dGw6MzYwMCxjcmVhdGl2ZUlkOmUuQ3JlYXRpdmVJRCxjcG06ZS5QcmljZSxuZXRSZXZlbnVlOiEwLGN1cnJlbmN5OnUsbWV0YTplLk1ldGF8fHthZHZlcnRpc2VyRG9tYWluczpbXX19O2lmKHQmJnQuTmF0aXZlKWkubmF0aXZlPWZ1bmN0aW9uKGUscil7aWYoIm9iamVjdCI9PT1kKGUuTmF0aXZlKSlyZXR1cm4gZS5OYXRpdmU7dmFyIHQ9e30saT17fSxhPXt9O2lmKCJzdHJpbmciPT10eXBlb2YgZS5BZCl7aT1KU09OLnBhcnNlKGUuQWQubWF0Y2goL1wvXCpQUkVCSURcKlwvKC4qKVwvXCpQUkVCSURcKlwvLylbMV0pLGE9aS5Db250ZW50LlByZXZpZXcuVGV4dDt2YXIgbz1pLlRyYWNraW5nUHJlZml4KyIvcGl4ZWw/ZXZlbnRfa2luZD1JTVBSRVNTSU9OJmF0dGVtcHQ9IitpLkF0dGVtcHQscz1pLlRyYWNraW5nUHJlZml4KyIvcGl4ZWw/ZXZlbnRfa2luZD1JTlNFUlRJT04mYXR0ZW1wdD0iK2kuQXR0ZW1wdDtpLkNhbXBhaWduJiYobys9IiZjYW1wYWlnbj0iK2kuQ2FtcGFpZ24scys9IiZjYW1wYWlnbj0iK2kuQ2FtcGFpZ24pLHQuY2xpY2tVcmw9aS5UcmFja2luZ1ByZWZpeCsiL2FyP2V2ZW50X2tpbmQ9Q0xJQ0smYXR0ZW1wdD0iK2kuQXR0ZW1wdCsiJmNhbXBhaWduPSIraS5DYW1wYWlnbisiJnVybD0iK2VuY29kZVVSSUNvbXBvbmVudChpLkNvbnRlbnQuTGFuZGluZy5VcmwpLGkuT25FdmVudHM/KHQuY2xpY2tUcmFja2Vycz1DKGkuT25FdmVudHMuQ0xJQ0spLHQuaW1wcmVzc2lvblRyYWNrZXJzPUMoaS5PbkV2ZW50cy5JTVBSRVNTSU9OKSx0LmphdmFzY3JpcHRUcmFja2Vycz1DKGkuT25FdmVudHMuSU1QUkVTU0lPTiwhMCkpOnQuaW1wcmVzc2lvblRyYWNrZXJzPVtdLHQuaW1wcmVzc2lvblRyYWNrZXJzLnB1c2gobyxzKX1yZXR1cm4gT2JqZWN0LmtleXMocikubWFwKChmdW5jdGlvbihvLHMpe3N3aXRjaChvKXtjYXNlInRpdGxlIjp0W29dPWEuVElUTEU7YnJlYWs7Y2FzZSJib2R5Ijp0W29dPWEuREVTQ1JJUFRJT047YnJlYWs7Y2FzZSJjdGEiOnRbb109YS5DQUxMVE9BQ1RJT047YnJlYWs7Y2FzZSJzcG9uc29yZWRCeSI6dFtvXT1pLkNvbnRlbnQuUHJldmlldy5TcG9uc29yLk5hbWU7YnJlYWs7Y2FzZSJpbWFnZSI6dmFyIGM9ci5pbWFnZS5zaXplc3x8W107Yy5sZW5ndGh8fChjWzBdPWUuV2lkdGh8fDMwMCxjWzFdPWUuSGVpZ2h0fHwyNTApO3ZhciBkPUkoaSxuLmRlZXBBY2Nlc3MoaSwiQ29udGVudC5QcmV2aWV3LlRodW1ibmFpbC5JbWFnZSIpLGNbMF0sY1sxXSk7ZCYmKHRbb109e3VybDpkLHdpZHRoOmNbMF0saGVpZ2h0OmNbMV19KTticmVhaztjYXNlImljb24iOnZhciBwPXIuaWNvbi5zaXplc3x8W107cC5sZW5ndGh8fChwWzBdPTUwLHBbMV09NTApO3ZhciB1PUkoaSxuLmRlZXBBY2Nlc3MoaSwiQ29udGVudC5QcmV2aWV3LlNwb25zb3IuTG9nby5SZXNvdXJjZSIpLHBbMF0scFsxXSk7ZCYmKHRbb109e3VybDp1LHdpZHRoOnBbMF0saGVpZ2h0OnBbMV19KTticmVhaztjYXNlInByaXZhY3lJY29uIjp0W29dPUkoaSxuLmRlZXBBY2Nlc3MoaSwiQ29udGVudC5QcmV2aWV3LkNyZWRpdC5Mb2dvLlJlc291cmNlIiksMjUsMjUpO2JyZWFrO2Nhc2UicHJpdmFjeUxpbmsiOnRbb109bi5kZWVwQWNjZXNzKGksIkNvbnRlbnQuUHJldmlldy5DcmVkaXQuVXJsIil9fSkpLHR9KGUsdC5OYXRpdmUpLGkubWVkaWFUeXBlPSJuYXRpdmUiO2Vsc2UgaWYodCYmdC5WaWRlbyl7dmFyIGE9ZS5WYXN0fHxmdW5jdGlvbihlKXt2YXIgcj17fTtpZigic3RyaW5nIj09dHlwZW9mIGUuQWQpcmV0dXJuIHI9SlNPTi5wYXJzZShlLkFkLm1hdGNoKC9cL1wqUFJFQklEXCpcLyguKilcL1wqUFJFQklEXCpcLy8pWzFdKSxuLmRlZXBBY2Nlc3MociwiQ29udGVudC5NYWluVmlkZW8uVmFzdCIpfShlKTtpLnZhc3RYbWw9YT93aW5kb3cuYXRvYihhKToiIixpLm1lZGlhVHlwZT0idmlkZW8ifWVsc2UgaS53aWR0aD1lLldpZHRoLGkuaGVpZ2h0PWUuSGVpZ2h0LGkuYWQ9ZS5BZDtyZXR1cm4gaX0oZSxpKTtyJiZ0LnB1c2gocil9KSksdH19O2Z1bmN0aW9uIG0oKXt0cnl7aWYocGVyZm9ybWFuY2UmJnBlcmZvcm1hbmNlLm5hdmlnYXRpb24pcmV0dXJuIHBlcmZvcm1hbmNlLm5hdmlnYXRpb24udHlwZT09PXBlcmZvcm1hbmNlLm5hdmlnYXRpb24uVFlQRV9SRUxPQUR9Y2F0Y2goZSl7fXJldHVybiExfWZ1bmN0aW9uIHYoZSxyKXt2YXIgdD1mdW5jdGlvbihlKXt2YXIgcj1zKCkoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyYW1zLkRDfSkpO3JldHVybiByPyItIityLnBhcmFtcy5EQzoiIn0oZSk7cmV0dXJuIG4uYnVpbGRVcmwoe3Byb3RvY29sOiJodHRwcyIsaG9zdDoiIi5jb25jYXQoImhiLWFwaSIpLmNvbmNhdCh0LCIub21uaXRhZ2pzLmNvbSIpLHBhdGhuYW1lOiIvaGItYXBpL3ByZWJpZC92MSIsc2VhcmNoOmgocil9KX1mdW5jdGlvbiBoKGUpe3ZhciByPXt9O2lmKGUpe3ZhciB0PWUucmVmZXJlckluZm87dCYmKHIuUmVmZXJlclVybD1lbmNvZGVVUklDb21wb25lbnQodC5yZWZlcmVyKSx0Lm51bUlmcmFtZXM+MCYmKHIuU2FmZUZyYW1lPSEwKSl9dmFyIG49ZnVuY3Rpb24oKXt2YXIgZTtpZih3aW5kb3cuc2VsZiE9PXdpbmRvdy50b3ApdHJ5e2U9d2luZG93LnRvcC5kb2N1bWVudC5oZWFkLnF1ZXJ5U2VsZWN0b3IoJ2xpbmtbcmVsPSJjYW5vbmljYWwiXVtocmVmXScpfWNhdGNoKGUpe31lbHNlIGU9ZG9jdW1lbnQuaGVhZC5xdWVyeVNlbGVjdG9yKCdsaW5rW3JlbD0iY2Fub25pY2FsIl1baHJlZl0nKTtyZXR1cm4gZT9lLmhyZWY6IiJ9KCk7biYmKHIuQ2Fub25pY2FsVXJsPWVuY29kZVVSSUNvbXBvbmVudChuKSk7dmFyIGk9YS5iLmdldENvbmZpZygicHVibGlzaGVyRG9tYWluIik7cmV0dXJuIGkmJihyLlB1Ymxpc2hlckRvbWFpbj1lbmNvZGVVUklDb21wb25lbnQoaSkpLHJ9ZnVuY3Rpb24geShlKXt2YXIgcj1lLnNpemVzfHxbXTtyZXR1cm4gZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiYocj1lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzfHxbXSksZS5wYXJhbXMmJkFycmF5LmlzQXJyYXkoZS5wYXJhbXMuc2l6ZSkmJihyPWUucGFyYW1zLnNpemUsQXJyYXkuaXNBcnJheShyWzBdKXx8KHI9W3JdKSksbi5wYXJzZVNpemVzSW5wdXQocil9ZnVuY3Rpb24gZyhlKXt2YXIgcj17fSx0PWVbMF07aWYoInN0cmluZyIhPXR5cGVvZiB0KXJldHVybiByO3ZhciBuPXQudG9VcHBlckNhc2UoKS5zcGxpdCgiWCIpLGk9cGFyc2VJbnQoblswXSwxMCk7aSYmKHIud2lkdGg9aSk7dmFyIGE9cGFyc2VJbnQoblsxXSwxMCk7cmV0dXJuIGEmJihyLmhlaWdodD1hKSxyfWZ1bmN0aW9uIGIoZSl7cmV0dXJuIGU/Imh0dHBzOi8vYmxvYnMub21uaXRhZ2pzLmNvbS9ibG9icy8iK2Uuc3Vic3RyKDE2LDIpKyIvIitlLnN1YnN0cigxNikrIi8iK2U6IiJ9ZnVuY3Rpb24gSShlLHIsdCxuKXt2YXIgaT0iIjtpZihyJiZyLktpbmQpc3dpdGNoKHIuS2luZCl7Y2FzZSJJTlRFUk5BTCI6aT1iKHIuRGF0YS5JbnRlcm5hbC5CbG9iUmVmZXJlbmNlLlVpZCk7YnJlYWs7Y2FzZSJFWFRFUk5BTCI6dmFyIGE9ZS5EeW5hbWljUHJlZml4LG89ci5EYXRhLkV4dGVybmFsLlVybDtpZigobz0obz1vLnJlcGxhY2UoL1xbaGVpZ2h0XF0vaSwiIituKSkucmVwbGFjZSgvXFt3aWR0aFxdL2ksIiIrdCkpLmluZGV4T2YoYSk+PTApe3ZhciBzPS8uKnVybD0oW14mXSopL2dtLmV4ZWMobyk7KGk9cz9zWzFdOiIiKXx8KGk9YigvLiprZXk9KFteJl0qKS9nbS5leGVjKG8pWzFdKSl9ZWxzZSBpPW99cmV0dXJuIGl9ZnVuY3Rpb24gQyhlLHIpe3ZhciB0PVtdO3JldHVybiBlPyhlLm1hcCgoZnVuY3Rpb24oZSxuKXsociYmIkpBVkFTQ1JJUFRfVVJMIj09PWUuS2luZHx8IXImJiJQSVhFTF9VUkwiPT09ZS5LaW5kKSYmdC5wdXNoKGUuVXJsKX0pKSx0KTp0fU9iamVjdChpLnJlZ2lzdGVyQmlkZGVyKShsKX19LFsyNDddKTsKdXBianNDaHVuayhbMzEzXSx7MjU1OmZ1bmN0aW9uKG4sdCxlKXtuLmV4cG9ydHM9ZSgyNTYpfSwyNTY6ZnVuY3Rpb24obix0LGUpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5kKHQsIkJJRERFUl9DT0RFIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxlLmQodCwiRU5HSU5FX0JBU0VfVVJMIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKSxlLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSksdC5yZXNldFVzZXJTeW5jPWZ1bmN0aW9uKCl7Yz0hMX07ZSgwKTt2YXIgcj1lKDEpLGE9ZSgyKTtmdW5jdGlvbiBpKG4sdCxlKXtyZXR1cm4gdCBpbiBuP09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLHQse3ZhbHVlOmUsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTpuW3RdPWUsbn12YXIgbz0iYW1hem9uIixzPSJodHRwczovL2MuYW1hem9uLWFkc3lzdGVtLmNvbS9lL2R0Yi9iaWQiLGQ9W10sYz0hMSxtPVsiaHR0cHM6Ly9hYXgtZXUuYW1hem9uLWFkc3lzdGVtLmNvbS9zL2l1Mz9jbTNwcGQ9MSZkPWR0Yi1wdWImY3NpZj10Il07dmFyIHA9e2NvZGU6byxzdXBwb3J0ZWRNZWRpYVR5cGVzOlthLmJdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKG4pe3JldHVybiEwfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKG4sdCl7aWYoIXdpbmRvdy5hcHN0YWcpcmV0dXJuW107Zm9yKHZhciBlPTA7ZTxuLmxlbmd0aDtlKyspe3ZhciByPW5bZV07ZC5wdXNoKHIpfXZhciBhLG89W107cmV0dXJuIGE9ZnVuY3Rpb24obix0KXtmb3IodmFyIGUscj1bXSxhPXQmJnQuZ2RwckNvbnNlbnQsbz0wO288bi5sZW5ndGg7bysrKXtmb3IodmFyIHM9e30sZD1uW29dLnNpemVzLGM9W10sbT0wO208ZC5sZW5ndGg7bSsrKWMucHVzaChkW21dWzBdKyJ4IitkW21dWzFdKTtzLnNkPXUudG9TdHJpbmcoKSxzLnM9YyxzLnNuPW5bb10ucGFyYW1zLmFkVW5pdEdQVFBhdGgsci5wdXNoKHMpLHUrK312YXIgcD1uWzBdLnBhcmFtcy5wdWJJRC5pbmRleE9mKCItIik+LTEsbD0oaShlPXt9LCJzcmMiLHA/IjYwMCI6blswXS5wYXJhbXMucHViSUQpLGkoZSwicHViaWQiLG5bMF0ucGFyYW1zLnB1YklEKSxpKGUsInUiLHdpbmRvdy5sb2NhdGlvbi5ocmVmKSxpKGUsInBpZCIsZnVuY3Rpb24obil7Zm9yKHZhciB0PSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSIsZT1uZXcgQXJyYXkobikscj0wO3I8bjtyKyspZVtyXT10W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSp0Lmxlbmd0aCldO3JldHVybiBlLmpvaW4oIiIpfSgxMykpLGkoZSwicHIiLGRvY3VtZW50LnJlZmVycmVyKSxpKGUsImNiIiwwKSxpKGUsIndzIiwod2luZG93LmlubmVyV2lkdGh8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aHx8ZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCkrIngiKyh3aW5kb3cuaW5uZXJIZWlnaHR8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHR8fGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0KSksaShlLCJ2IiwiNy40Ny4wMCIpLGkoZSwic2xvdHMiLEpTT04uc3RyaW5naWZ5KHIpKSxpKGUsInQiLDNlMyksZSk7YSYmInN0cmluZyI9PXR5cGVvZiBhLmNvbnNlbnRTdHJpbmc/ImJvb2xlYW4iPT10eXBlb2YgYS5nZHByQXBwbGllcz8obC5nZHByZT0iMSIsbC5nZHByYz0iIi5jb25jYXQoYS5jb25zZW50U3RyaW5nKSxsLmdkcHJsPUpTT04uc3RyaW5naWZ5KHtsc1N0YXR1czoicHJlc2VudCIsc3RhdHVzOiJjbXAtc3VjY2VzcyIscnRpbWVzOlsxXSxjYzoiMCJ9KSk6bC5nZHBybD1KU09OLnN0cmluZ2lmeShpKHtzdGF0dXM6InByZXNlbnQifSwic3RhdHVzIiwiY21wLXN1Y2Nlc3MiKSk6bC5nZHBybD1KU09OLnN0cmluZ2lmeSh7c3RhdHVzOiJjbXAtZXJyb3IifSk7cmV0dXJuIGx9KG4sdCksby5wdXNoKHttZXRob2Q6IkdFVCIsdXJsOnMsZGF0YTphfSksb30saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24obix0KXt2YXIgZT1bXSxyPW5ldyBSZWdFeHAoImFwc3RhZ1xcLlxcdytcXCgoLio/KVxcKSIsImdtIiksYT1uLmJvZHksaT1yLmV4ZWMoYSk7aWYoaSYmaS5sZW5ndGg+MCl0cnl7dmFyIG8scz1KU09OLnBhcnNlKGlbMV0pO2lmKHMuY21wLCFzLnNsb3RzKXJldHVybiBlO289cy5ob3N0O2Zvcih2YXIgYz1zLnNsb3RzLG09MDttPGMubGVuZ3RoO20rKyl7Zm9yKHZhciBwPXZvaWQgMCx1PWNbbV0sbD0wO2w8ZC5sZW5ndGg7bCsrKWlmKGwudG9TdHJpbmcoKT09PXUuc2xvdElEKXtwPWRbbF07YnJlYWt9aWYodm9pZCAwIT09cCl7dmFyIGc9MCxmPSIiK01hdGgucm91bmQoMWUxMipNYXRoLnJhbmRvbSgpKStEYXRlLm5vdygpLGg9bysiL2UvZHRiL2FkbWk/Yj0iK3UuYW16bmlpZCsiJnJuZD0iK2YrIiZwcD0iK3UuYW16bmJpZCsiJnA9Iit1LmFtem5wKyImY3JpZD0iK3UuY3JpZDt3aW5kb3cudXBvX2Ftem4mJndpbmRvdy51cG9fYW16bi5hbWF6b25DUE1DaGFydCYmd2luZG93LnVwb19hbXpuLmFtYXpvbkNQTUNoYXJ0W3UuYW16bmJpZF0mJihnPXdpbmRvdy51cG9fYW16bi5hbWF6b25DUE1DaGFydFt1LmFtem5iaWRdKSxlLnB1c2goe3JlcXVlc3RJZDpwLmJpZElkLGNwbTpnLHdpZHRoOnUuYW16bnN6LnNwbGl0KCJ4IilbMF0saGVpZ2h0OnUuYW16bnN6LnNwbGl0KCJ4IilbMV0sYWRUYXJnZXRpbmc6J3siYW16bmlpZCI6IicrdS5hbXpuaWlkKyciLCJhbXpucCI6IicrdS5hbXpucCsnIiwiYW16bmJpZCI6IicrdS5hbXpuYmlkKyciLCJhbXpuc3oiOiInK3UuYW16bnN6KycifScsYWQ6IiIsYWRIdG1sOic8Ym9keSBsZWZ0bWFyZ2luPSIwIiB0b3BtYXJnaW49IjAiIG1hcmdpbndpZHRoPSIwIiBtYXJnaW5oZWlnaHQ9IjAiPjxpZnJhbWUgZnJhbWVib3JkZXI9IjAiIG1hcmdpbmhlaWdodD0iMCIgbWFyZ2lud2lkdGg9IjAiIHNjcm9sbGluZz0ibm8iIHdpZHRoPSInK3UuYW16bnN6LnNwbGl0KCJ4IilbMF0rJ3B4IiBoZWlnaHQ9IicrdS5hbXpuc3ouc3BsaXQoIngiKVsxXSsncHgiIGlkPSJhbXpuYWQ3MDM1MiIgc2FuZGJveD0iYWxsb3ctZm9ybXMgYWxsb3ctcG9pbnRlci1sb2NrIGFsbG93LXBvcHVwcyBhbGxvdy1wb3B1cHMtdG8tZXNjYXBlLXNhbmRib3ggYWxsb3ctc2FtZS1vcmlnaW4gYWxsb3ctc2NyaXB0cyBhbGxvdy10b3AtbmF2aWdhdGlvbi1ieS11c2VyLWFjdGl2YXRpb24iIHNyYz0iJytoKyciPjwvaWZyYW1lPjxzY3JpcHQ+dmFyIGFteiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO2Ftei5zcmMgPSAiLy9jLmFtYXpvbi1hZHN5c3RlbS5jb20vYmFvLWNzbS9kaXJlY3QvY3NtLmpzIjthbXouYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsZnVuY3Rpb24oKXt2YXIgY3NtRnVuYyA9IG51bGw7IGlmKHdpbmRvdy5hbXpuY3NtICYmIHdpbmRvdy5hbXpuY3NtLnJtRCl7Y3NtRnVuYyA9IHdpbmRvdy5hbXpuY3NtLnJtRDt9IGVsc2UgaWYgKHdpbmRvdy5hbXpuY3NtKSB7Y3NtRnVuYyA9IHdpbmRvdy5hbXpuY3NtW09iamVjdC5rZXlzKHdpbmRvdy5hbXpuY3NtKVswXV19OyB2YXIgYWRJZnJhbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwnaWZyYW1lW3NyYyo9ImFtYXpvbi1hZHN5c3RlbS5jb20vZS9kdGIvYWRtaVwnKTtjc21GdW5jKGFkSWZyYW1lLCAiJyt1LmFtem5paWQrJyIsIHdpbmRvdywgZG9jdW1lbnQsICInK3AucGFyYW1zLnB1YklEKyciKTt9KTsoZG9jdW1lbnQuYm9keXx8ZG9jdW1lbnQuaGVhZHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5hcHBlbmRDaGlsZChhbXopOzxcL3NjcmlwdD48L2JvZHk+JyxhZFVybDpoLHR0bDo5MDAsY3JlYXRpdmVJZDp1LmNyaWQsbmV0UmV2ZW51ZTohMCxjdXJyZW5jeToiVVNEIn0pfX19Y2F0Y2gobil7fXJldHVybiBlfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24obix0LGUpe2lmKCFjKXtlJiYic3RyaW5nIj09dHlwZW9mIGUuY29uc2VudFN0cmluZyYmKCJib29sZWFuIj09dHlwZW9mIGUuZ2RwckFwcGxpZXM/Ij9nZHByPSIuY29uY2F0KE51bWJlcihlLmdkcHJBcHBsaWVzKSwiJmdkcHJfY29uc2VudD0iKS5jb25jYXQoZS5jb25zZW50U3RyaW5nKToiP2dkcHJfY29uc2VudD0iLmNvbmNhdChlLmNvbnNlbnRTdHJpbmcpKSxjPSEwO2Zvcih2YXIgcj1bXSxhPTA7YTxtLmxlbmd0aDthKyspci5wdXNoKHt0eXBlOiJpZnJhbWUiLHVybDptW2FdfSk7cmV0dXJuIHJ9fX07dmFyIHU9MDtPYmplY3Qoci5yZWdpc3RlckJpZGRlcikocCl9fSxbMjU1XSk7CnVwYmpzQ2h1bmsoWzMwOV0sezI2MzpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoMjY0KX0sMjY0OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gTX0pKTt2YXIgbixpLGEsbz1yKDApLHM9cigxKSxjPXIoMik7ZnVuY3Rpb24gdSgpe3JldHVybih1PU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gZChlKXtyZXR1cm4oZD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIHAoZSx0KXtyZXR1cm4gdHx8KHQ9ZS5zbGljZSgwKSksT2JqZWN0LmZyZWV6ZShPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLHtyYXc6e3ZhbHVlOk9iamVjdC5mcmVlemUodCl9fSkpfXZhciBsPSJhb2wiLG09InZlcml6b24iLGY9Im9uZW1vYmlsZSIsYj0ib25lZGlzcGxheSIsaD17R0VUOiJkaXNwbGF5LWdldCJ9LHY9e0dFVDoibW9iaWxlLWdldCIsUE9TVDoibW9iaWxlLXBvc3QifSxnPXtUQUc6ImlmcmFtZSIsVFlQRToiaWZyYW1lIn0seT17VEFHOiJpbWciLFRZUEU6ImltYWdlIn0sTz1bImFkc2VydmVyLm9yZyIsImNyaXRlby5jb20iLCJpZDUtc3luYy5jb20iLCJpbnRlbnRpcS5jb20iLCJsaXZlaW50ZW50LmNvbSIsInF1YW50Y2FzdC5jb20iLCJ2ZXJpem9ubWVkaWEuY29tIiwibGl2ZXJhbXAuY29tIl0sUD1JKG58fChuPXAoWyIiLCIvcHViYXBpLzMuMC8iLCIvIiwiLyIsIi8iLCIvQURURUNIO3Y9MjtjbWQ9YmlkO2NvcnM9eWVzO2FsaWFzPSIsIjttaXNjPSIsIjsiLCIiXSkpLCJob3N0IiwibmV0d29yayIsInBsYWNlbWVudCIsInBhZ2VpZCIsInNpemVpZCIsImFsaWFzIiwibWlzYyIsImR5bmFtaWNQYXJhbXMiKSxFPUkoaXx8KGk9cChbIiIsIi9iaWRSZXF1ZXN0PyJdKSksImhvc3QiKSxTPUkoYXx8KGE9cChbImRjbj0iLCImcG9zPSIsIiZjbWQ9YmlkIiwiIl0pKSwiZGNuIiwicG9zIiwiZHluYW1pY1BhcmFtcyIpLFQ9e3VzOiJhZHNlcnZlci11cy5hZHRlY2guYWR2ZXJ0aXNpbmcuY29tIixldToiYWRzZXJ2ZXItZXUuYWR0ZWNoLmFkdmVydGlzaW5nLmNvbSIsYXM6ImFkc2VydmVyLWFzLmFkdGVjaC5hZHZlcnRpc2luZy5jb20ifSx4PSJodHRwcyIsQz0xO2Z1bmN0aW9uIEkoZSl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgscj1uZXcgQXJyYXkodD4xP3QtMTowKSxuPTE7bjx0O24rKylyW24tMV09YXJndW1lbnRzW25dO3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KHQpLGk9MDtpPHQ7aSsrKW5baV09YXJndW1lbnRzW2ldO3ZhciBhPW5bbi5sZW5ndGgtMV18fHt9LHM9W2VbMF1dO3JldHVybiByLmZvckVhY2goKGZ1bmN0aW9uKHQscil7dmFyIGk9by5pc0ludGVnZXIodCk/blt0XTphW3RdO3MucHVzaChpLGVbcisxXSl9KSkscy5qb2luKCIiKX19ZnVuY3Rpb24gUihlKXtyZXR1cm4gZT09PWx8fGU9PT1tfHxlPT09Zn1mdW5jdGlvbiB3KGUpe2lmKFIoZS5iaWRkZXIpJiZlLnBhcmFtcy5pZCYmZS5wYXJhbXMuaW1wJiZlLnBhcmFtcy5pbXBbMF0pe3ZhciB0PWUucGFyYW1zLmltcFswXTtyZXR1cm4gdC5pZCYmdC50YWdpZCYmdC5iYW5uZXImJnQuYmFubmVyLncmJnQuYmFubmVyLmh9fWZ1bmN0aW9uIFUoZSl7cmV0dXJuIFIoZS5iaWRkZXIpJiZlLnBhcmFtcy5kY24mJmUucGFyYW1zLnBvc31mdW5jdGlvbiBrKGUpe3JldHVybigodD1lLmJpZGRlcik9PT1sfHx0PT09bXx8dD09PWIpJiZlLnBhcmFtcy5wbGFjZW1lbnQmJmUucGFyYW1zLm5ldHdvcms7dmFyIHR9ZnVuY3Rpb24gcShlKXtyZXR1cm4gZS51c2VySWRBc0VpZHMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4tMSE9PU8uaW5kZXhPZihlLnNvdXJjZSl9KSl9dmFyIE09e2NvZGU6bCxndmxpZDoyNSxhbGlhc2VzOltmLGIsbV0sc3VwcG9ydGVkTWVkaWFUeXBlczpbYy5iXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4gayhlKXx8ZnVuY3Rpb24oZSl7cmV0dXJuIFUoZSl8fHcoZSl9KGUpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXt9O3JldHVybiB0JiYobi5nZHByPXQuZ2RwckNvbnNlbnQsbi51c3BDb25zZW50PXQudXNwQ29uc2VudCksZS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUpe3JldHVybiBVKGUpP3YuR0VUOncoZSk/di5QT1NUOmsoZSk/aC5HRVQ6dm9pZCAwfShlKTtpZih0KXJldHVybiByLmZvcm1hdEJpZFJlcXVlc3QodCxlLG4pfSkpfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciByPWUuYm9keTtpZihyKXt2YXIgbj10aGlzLl9wYXJzZUJpZFJlc3BvbnNlKHIsdCk7aWYobilyZXR1cm4gbn1lbHNlIG8ubG9nRXJyb3IoIkVtcHR5IGJpZCByZXNwb25zZSIsdC5iaWRkZXJDb2RlLHIpfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0KXt2YXIgcj0hby5pc0VtcHR5KHQpJiZ0WzBdLmJvZHk7cmV0dXJuIHImJnIuZXh0JiZyLmV4dC5waXhlbHM/dGhpcy5wYXJzZVBpeGVsSXRlbXMoci5leHQucGl4ZWxzKTpbXX0sZm9ybWF0QmlkUmVxdWVzdDpmdW5jdGlvbihlLHQscil7dmFyIG47c3dpdGNoKGUpe2Nhc2UgaC5HRVQ6bj17dXJsOnRoaXMuYnVpbGRNYXJrZXRwbGFjZVVybCh0LHIpLG1ldGhvZDoiR0VUIix0dGw6NjB9O2JyZWFrO2Nhc2Ugdi5HRVQ6bj17dXJsOnRoaXMuYnVpbGRPbmVNb2JpbGVHZXRVcmwodCxyKSxtZXRob2Q6IkdFVCIsdHRsOjM2MDB9O2JyZWFrO2Nhc2Ugdi5QT1NUOm49e3VybDp0aGlzLmJ1aWxkT25lTW9iaWxlQmFzZVVybCh0KSxtZXRob2Q6IlBPU1QiLHR0bDozNjAwLGRhdGE6dGhpcy5idWlsZE9wZW5SdGJSZXF1ZXN0RGF0YSh0LHIpLG9wdGlvbnM6e2NvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi9qc29uIixjdXN0b21IZWFkZXJzOnsieC1vcGVucnRiLXZlcnNpb24iOiIyLjIifX19fXJldHVybiBuLmJpZGRlckNvZGU9dC5iaWRkZXIsbi5iaWRJZD10LmJpZElkLG4udXNlclN5bmNPbj10LnBhcmFtcy51c2VyU3luY09uLG59LGJ1aWxkTWFya2V0cGxhY2VVcmw6ZnVuY3Rpb24oZSx0KXt2YXIgcixuPWUucGFyYW1zLGk9bi5zZXJ2ZXIsYT1uLnJlZ2lvbnx8InVzIjtyZXR1cm4gVC5oYXNPd25Qcm9wZXJ0eShhKXx8KG8ubG9nV2FybigiVW5rbm93biByZWdpb24gJyIuY29uY2F0KGEsIicgZm9yIEFPTCBiaWRkZXIuIikpLGE9InVzIikscj1pfHxUW2FdLG4ucmVnaW9uPWEsdGhpcy5hcHBseVByb3RvY29sKFAoe2hvc3Q6cixuZXR3b3JrOm4ubmV0d29yayxwbGFjZW1lbnQ6cGFyc2VJbnQobi5wbGFjZW1lbnQpLHBhZ2VpZDpuLnBhZ2VJZHx8MCxzaXplaWQ6bi5zaXplSWR8fDAsYWxpYXM6bi5hbGlhc3x8by5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKCksbWlzYzoobmV3IERhdGUpLmdldFRpbWUoKSxkeW5hbWljUGFyYW1zOnRoaXMuZm9ybWF0TWFya2V0cGxhY2VEeW5hbWljUGFyYW1zKG4sdCl9KSl9LGJ1aWxkT25lTW9iaWxlR2V0VXJsOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5wYXJhbXMsbj1yLmRjbixpPXIucG9zLGE9ci5leHQ7Im9iamVjdCI9PT1kKGUudXNlcklkKSYmKGE9YXx8e30scShlKS5mb3JFYWNoKChmdW5jdGlvbihlKXthWyJlaWQiK2Uuc291cmNlXT1lLnVpZHNbMF0uaWR9KSkpO3ZhciBvPXRoaXMuYnVpbGRPbmVNb2JpbGVCYXNlVXJsKGUpO2lmKG4mJmkpe3ZhciBzPXRoaXMuZm9ybWF0T25lTW9iaWxlRHluYW1pY1BhcmFtcyhhLHQpO28rPVMoe2RjbjpuLHBvczppLGR5bmFtaWNQYXJhbXM6c30pfXJldHVybiBvfSxidWlsZE9uZU1vYmlsZUJhc2VVcmw6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYXBwbHlQcm90b2NvbChFKHtob3N0OmUucGFyYW1zLmhvc3R8fCJjMnNoYi5zc3AueWFob28uY29tIn0pKX0sYXBwbHlQcm90b2NvbDpmdW5jdGlvbihlKXtyZXR1cm4vXmh0dHBzPzpcL1wvL2kudGVzdChlKT9lOjA9PT1lLmluZGV4T2YoIi8vIik/IiIuY29uY2F0KHgsIjoiKS5jb25jYXQoZSk6IiIuY29uY2F0KHgsIjovLyIpLmNvbmNhdChlKX0sZm9ybWF0TWFya2V0cGxhY2VEeW5hbWljUGFyYW1zOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LHI9e307dShyLHRoaXMuZm9ybWF0S2V5VmFsdWVzKGUua2V5VmFsdWVzKSksdShyLHRoaXMuZm9ybWF0Q29uc2VudERhdGEodCkpO3ZhciBuPSIiO3JldHVybiBvLl9lYWNoKHIsKGZ1bmN0aW9uKGUsdCl7bis9IiIuY29uY2F0KHQsIj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUpLCI7Iil9KSksbn0sZm9ybWF0T25lTW9iaWxlRHluYW1pY1BhcmFtczpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTt0aGlzLmlzU2VjdXJlUHJvdG9jb2woKSYmKGUuc2VjdXJlPUMpLHUoZSx0aGlzLmZvcm1hdENvbnNlbnREYXRhKHQpKTt2YXIgcj0iIjtyZXR1cm4gby5fZWFjaChlLChmdW5jdGlvbihlLHQpe3IrPSImIi5jb25jYXQodCwiPSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZSkpfSkpLHJ9LGJ1aWxkT3BlblJ0YlJlcXVlc3REYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxyPXtpZDplLnBhcmFtcy5pZCxpbXA6ZS5wYXJhbXMuaW1wfTtpZih0aGlzLmlzRVVDb25zZW50UmVxdWlyZWQodCkmJihvLmRlZXBTZXRWYWx1ZShyLCJyZWdzLmV4dC5nZHByIixDKSx0LmdkcHIuY29uc2VudFN0cmluZyYmby5kZWVwU2V0VmFsdWUociwidXNlci5leHQuY29uc2VudCIsdC5nZHByLmNvbnNlbnRTdHJpbmcpKSx0LnVzcENvbnNlbnQmJm8uZGVlcFNldFZhbHVlKHIsInJlZ3MuZXh0LnVzX3ByaXZhY3kiLHQudXNwQ29uc2VudCksIm9iamVjdCI9PT1kKGUudXNlcklkKSl7ci51c2VyPXIudXNlcnx8e30sci51c2VyLmV4dD1yLnVzZXIuZXh0fHx7fTt2YXIgbj1xKGUpO24ubGVuZ3RoPjAmJihyLnVzZXIuZXh0LmVpZHM9bil9cmV0dXJuIHJ9LGlzRVVDb25zZW50UmVxdWlyZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISEoZSYmZS5nZHByJiZlLmdkcHIuZ2RwckFwcGxpZXMpfSxmb3JtYXRLZXlWYWx1ZXM6ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIG8uX2VhY2goZSwoZnVuY3Rpb24oZSxyKXt0WyJrdiIuY29uY2F0KHIpXT1lfSkpLHR9LGZvcm1hdENvbnNlbnREYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiB0aGlzLmlzRVVDb25zZW50UmVxdWlyZWQoZSkmJih0LmdkcHI9QyxlLmdkcHIuY29uc2VudFN0cmluZyYmKHQuZXVjb25zZW50PWUuZ2Rwci5jb25zZW50U3RyaW5nKSksZS51c3BDb25zZW50JiYodC51c19wcml2YWN5PWUudXNwQ29uc2VudCksdH0scGFyc2VQaXhlbEl0ZW1zOmZ1bmN0aW9uKGUpe3ZhciB0PS9cdyooPz1ccykvLHI9L3NyYz0oInwnKSguKj8pXDEvLG49W107aWYoZSl7dmFyIGk9ZS5tYXRjaCgvKGltZ3xpZnJhbWUpW1xzXFNdKj9zcmNccyo9XHMqKCJ8JykoLio/KVwyL2dpKTtpJiZpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBpPWUubWF0Y2godClbMF0sYT1lLm1hdGNoKHIpWzJdO2kmJmEmJm4ucHVzaCh7dHlwZTppPT09eS5UQUc/eS5UWVBFOmcuVFlQRSx1cmw6YX0pfSkpfXJldHVybiBufSxfcGFyc2VCaWRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciByLG47dHJ5e3I9ZS5zZWF0YmlkWzBdLmJpZFswXX1jYXRjaChlKXtyZXR1cm59aWYoci5leHQmJnIuZXh0LmVuY3Apbj1yLmV4dC5lbmNwO2Vsc2UgaWYobnVsbD09PShuPXIucHJpY2UpfHxpc05hTihuKSlyZXR1cm4gdm9pZCBvLmxvZ0Vycm9yKCJJbnZhbGlkIHByaWNlIGluIGJpZCByZXNwb25zZSIsbCxyKTtyZXR1cm57YmlkZGVyQ29kZTp0LmJpZGRlckNvZGUscmVxdWVzdElkOnQuYmlkSWQsYWQ6ci5hZG0sY3BtOm4sd2lkdGg6ci53LGhlaWdodDpyLmgsY3JlYXRpdmVJZDpyLmNyaWR8fDAscHViYXBpSWQ6ZS5pZCxjdXJyZW5jeTplLmN1cnx8IlVTRCIsZGVhbElkOnIuZGVhbGlkLG5ldFJldmVudWU6ITAsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6ciYmci5hZG9tYWluP3IuYWRvbWFpbjpbXX0sdHRsOnQudHRsfX0saXNPbmVNb2JpbGVCaWRkZXI6Uixpc1NlY3VyZVByb3RvY29sOmZ1bmN0aW9uKCl7cmV0dXJuImh0dHBzOiI9PT1kb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbH19O09iamVjdChzLnJlZ2lzdGVyQmlkZGVyKShNKX19LFsyNjNdKTsKdXBianNDaHVuayhbMzA2XSx7MjczOmZ1bmN0aW9uKGUscixhKXtlLmV4cG9ydHM9YSgyNzQpfSwyNzQ6ZnVuY3Rpb24oZSxyLGEpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksYS5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBSfSkpO3ZhciB0PWEoMTMpLG49YSgwKSxpPWEoMykscz1hKDEpLG89YSgyKSxkPWEoMjMpLHA9YSgxMSksYz1hLm4ocCksdT1hKDEyKSxsPWEubih1KSxtPWEoMjIpLGY9YSg3KTtmdW5jdGlvbiB2KGUpe3JldHVybih2PSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24geSgpe3JldHVybih5PU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciBhPWFyZ3VtZW50c1tyXTtmb3IodmFyIHQgaW4gYSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSx0KSYmKGVbdF09YVt0XSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gYihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZyhlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fGZ1bmN0aW9uKGUscil7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gZyhlLHIpO3ZhciBhPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PWEmJmUuY29uc3RydWN0b3ImJihhPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1hfHwiU2V0Ij09PWEpcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1hfHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChhKSlyZXR1cm4gZyhlLHIpfShlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBnKGUscil7KG51bGw9PXJ8fHI+ZS5sZW5ndGgpJiYocj1lLmxlbmd0aCk7Zm9yKHZhciBhPTAsdD1uZXcgQXJyYXkocik7YTxyO2ErKyl0W2FdPWVbYV07cmV0dXJuIHR9dmFyIGg9ImFwcG5leHVzIixfPSJodHRwczovL2liLmFkbnhzLmNvbS91dC92My9wcmViaWQiLGs9Imh0dHBzOi8vaWIuYWRueHMtc2ltcGxlLmNvbS91dC92My9wcmViaWQiLEk9WyJpZCIsIm1pbmR1cmF0aW9uIiwibWF4ZHVyYXRpb24iLCJza2lwcGFibGUiLCJwbGF5YmFja19tZXRob2QiLCJmcmFtZXdvcmtzIiwiY29udGV4dCIsInNraXBvZmZzZXQiXSxBPVsibWluZHVyYXRpb24iLCJtYXhkdXJhdGlvbiIsInNraXAiLCJza2lwYWZ0ZXIiLCJwbGF5YmFja21ldGhvZCIsImFwaSJdLHc9WyJhZ2UiLCJleHRlcm5hbFVpZCIsInNlZ21lbnRzIiwiZ2VuZGVyIiwiZG50IiwibGFuZ3VhZ2UiXSx4PVsiZ2VvIiwiZGV2aWNlX2lkIl0sQz1bImVuYWJsZWQiLCJkb25nbGUiLCJtZW1iZXJfaWQiLCJkZWJ1Z190aW1lb3V0Il0sUz17cGxheWJhY2tfbWV0aG9kOnt1bmtub3duOjAsYXV0b19wbGF5X3NvdW5kX29uOjEsYXV0b19wbGF5X3NvdW5kX29mZjoyLGNsaWNrX3RvX3BsYXk6Myxtb3VzZV9vdmVyOjQsYXV0b19wbGF5X3NvdW5kX3Vua25vd246NX0sY29udGV4dDp7dW5rbm93bjowLHByZV9yb2xsOjEsbWlkX3JvbGw6Mixwb3N0X3JvbGw6MyxvdXRzdHJlYW06NCwiaW4tYmFubmVyIjo1fX0sVD17Ym9keToiZGVzY3JpcHRpb24iLGJvZHkyOiJkZXNjMiIsY3RhOiJjdGF0ZXh0IixpbWFnZTp7c2VydmVyTmFtZToibWFpbl9pbWFnZSIscmVxdWlyZWRQYXJhbXM6e3JlcXVpcmVkOiEwfX0saWNvbjp7c2VydmVyTmFtZToiaWNvbiIscmVxdWlyZWRQYXJhbXM6e3JlcXVpcmVkOiEwfX0sc3BvbnNvcmVkQnk6InNwb25zb3JlZF9ieSIscHJpdmFjeUxpbms6InByaXZhY3lfbGluayIsc2FsZVByaWNlOiJzYWxlcHJpY2UiLGRpc3BsYXlVcmw6ImRpc3BsYXl1cmwifSxFPS9cL1wvY2RuXC5hZG54c1wuY29tXC92fFwvXC9jZG5cLmFkbnhzXC1zaW1wbGVcLmNvbVwvdi8sTz1PYmplY3QoZi5iKSgzMixoKSxSPXtjb2RlOmgsZ3ZsaWQ6MzIsYWxpYXNlczpbe2NvZGU6ImFwcG5leHVzQXN0IixndmxpZDozMn0se2NvZGU6ImJyZWFsdGltZSJ9LHtjb2RlOiJlbXhkaWdpdGFsIixndmxpZDoxODN9LHtjb2RlOiJwYWdlc2NpZW5jZSJ9LHtjb2RlOiJkZWZ5bWVkaWEifSx7Y29kZToiZ291cm1ldGFkcyJ9LHtjb2RlOiJtYXRvbXkifSx7Y29kZToiZmVhdHVyZWZvcndhcmQifSx7Y29kZToib2Z0bWVkaWEifSx7Y29kZToiZGlzdHJpY3RtIixndmxpZDoxNDR9LHtjb2RlOiJhZGFzdGEifSx7Y29kZToiYmVpbnRvbyIsZ3ZsaWQ6NjE4fV0sc3VwcG9ydGVkTWVkaWFUeXBlczpbby5iLG8uZCxvLmNdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhKGUucGFyYW1zLnBsYWNlbWVudElkfHxlLnBhcmFtcy5tZW1iZXImJmUucGFyYW1zLmludkNvZGUpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIGE9ZS5tYXAocSksdD1jKCkoZSxNKSxzPXt9OyEwPT09aS5iLmdldENvbmZpZygiY29wcGEiKSYmKHM9e2NvcHBhOiEwfSksdCYmT2JqZWN0LmtleXModC5wYXJhbXMudXNlcikuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbCgpKHcsZSl9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9bi5jb252ZXJ0Q2FtZWxUb1VuZGVyc2NvcmUoZSk7aWYoInNlZ21lbnRzIj09PWUmJm4uaXNBcnJheSh0LnBhcmFtcy51c2VyW2VdKSl7dmFyIGE9W107dC5wYXJhbXMudXNlcltlXS5mb3JFYWNoKChmdW5jdGlvbihlKXtuLmlzTnVtYmVyKGUpP2EucHVzaCh7aWQ6ZX0pOm4uaXNQbGFpbk9iamVjdChlKSYmYS5wdXNoKGUpfSkpLHNbcl09YX1lbHNlInNlZ21lbnRzIiE9PWUmJihzW3JdPXQucGFyYW1zLnVzZXJbZV0pfSkpO3ZhciBvLGQ9YygpKGUsQik7ZCYmZC5wYXJhbXMmJmQucGFyYW1zLmFwcCYmKG89e30sT2JqZWN0LmtleXMoZC5wYXJhbXMuYXBwKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBsKCkoeCxlKX0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gb1tlXT1kLnBhcmFtcy5hcHBbZV19KSkpO3ZhciBwLHU9YygpKGUsRik7dSYmdS5wYXJhbXMmJmQucGFyYW1zLmFwcCYmZC5wYXJhbXMuYXBwLmlkJiYocD17YXBwaWQ6dS5wYXJhbXMuYXBwLmlkfSk7dmFyIG09e30sZj17fSx2PU8uZ2V0Q29va2llKCJhcG5fcHJlYmlkX2RlYnVnIil8fG51bGw7aWYodil0cnl7bT1KU09OLnBhcnNlKHYpfWNhdGNoKGUpe24ubG9nRXJyb3IoIkFwcE5leHVzIERlYnVnIEF1Y3Rpb24gQ29va2llIEVycm9yOlxuXG4iK2UpfWVsc2V7dmFyIHk9YygpKGUsVik7eSYmeS5kZWJ1ZyYmKG09eS5kZWJ1Zyl9bSYmbS5lbmFibGVkJiZPYmplY3Qua2V5cyhtKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBsKCkoQyxlKX0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtmW2VdPW1bZV19KSk7dmFyIGc9YygpKGUsRCksaD1nP3BhcnNlSW50KGcucGFyYW1zLm1lbWJlciwxMCk6MCxJPWVbMF0uc2NoYWluLEE9YygpKGUsVyksUz17dGFnczpiKGEpLHVzZXI6cyxzZGs6e3NvdXJjZToicGJqcyIsdmVyc2lvbjoiNS4xMS4wIn0sc2NoYWluOkl9O2lmKEEmJihTLmlhYl9zdXBwb3J0PXtvbWlkcG46IkFwcG5leHVzIixvbWlkcHY6IjUuMTEuMCJ9KSxoPjAmJihTLm1lbWJlcl9pZD1oKSxkJiYoUy5kZXZpY2U9byksdSYmKFMuYXBwPXApLGkuYi5nZXRDb25maWcoImFkcG9kLmJyYW5kQ2F0ZWdvcnlFeGNsdXNpb24iKSYmKFMuYnJhbmRfY2F0ZWdvcnlfdW5pcXVlbmVzcz0hMCksZi5lbmFibGVkJiYoUy5kZWJ1Zz1mLG4ubG9nSW5mbygiQXBwTmV4dXMgRGVidWcgQXVjdGlvbiBTZXR0aW5nczpcblxuIitKU09OLnN0cmluZ2lmeShmLG51bGwsNCkpKSxyJiZyLmdkcHJDb25zZW50JiYoUy5nZHByX2NvbnNlbnQ9e2NvbnNlbnRfc3RyaW5nOnIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyxjb25zZW50X3JlcXVpcmVkOnIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXN9LHIuZ2RwckNvbnNlbnQuYWRkdGxDb25zZW50JiYtMSE9PXIuZ2RwckNvbnNlbnQuYWRkdGxDb25zZW50LmluZGV4T2YoIn4iKSkpe3ZhciBUPXIuZ2RwckNvbnNlbnQuYWRkdGxDb25zZW50LEU9VC5zdWJzdHJpbmcoVC5pbmRleE9mKCJ+IikrMSk7Uy5nZHByX2NvbnNlbnQuYWRkdGxfY29uc2VudD1FLnNwbGl0KCIuIikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gcGFyc2VJbnQoZSwxMCl9KSl9aWYociYmci51c3BDb25zZW50JiYoUy51c19wcml2YWN5PXIudXNwQ29uc2VudCksciYmci5yZWZlcmVySW5mbyl7dmFyIFI9e3JkX3JlZjplbmNvZGVVUklDb21wb25lbnQoci5yZWZlcmVySW5mby5yZWZlcmVyKSxyZF90b3A6ci5yZWZlcmVySW5mby5yZWFjaGVkVG9wLHJkX2lmczpyLnJlZmVyZXJJbmZvLm51bUlmcmFtZXMscmRfc3RrOnIucmVmZXJlckluZm8uc3RhY2subWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGUpfSkpLmpvaW4oIiwiKX07Uy5yZWZlcnJlcl9kZXRlY3Rpb249Un1pZihjKCkoZSxKKSYmZS5maWx0ZXIoSikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9ZnVuY3Rpb24oZSxyKXt2YXIgYT1yLm1lZGlhVHlwZXMudmlkZW8sdD1hLmR1cmF0aW9uUmFuZ2VTZWMsaT1hLnJlcXVpcmVFeGFjdER1cmF0aW9uLHM9ZnVuY3Rpb24oZSl7dmFyIHI9ZS5hZFBvZER1cmF0aW9uU2VjLGE9ZS5kdXJhdGlvblJhbmdlU2VjLHQ9ZS5yZXF1aXJlRXhhY3REdXJhdGlvbixpPW4uZ2V0TWluVmFsdWVGcm9tQXJyYXkoYSkscz1NYXRoLmZsb29yKHIvaSk7cmV0dXJuIHQ/TWF0aC5tYXgocyxhLmxlbmd0aCk6c30oci5tZWRpYVR5cGVzLnZpZGVvKSxvPW4uZ2V0TWF4VmFsdWVGcm9tQXJyYXkodCksZD1lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUudXVpZD09PXIuYmlkSWR9KSkscD1uLmZpbGwuYXBwbHkobixiKGQpLmNvbmNhdChbc10pKTtpZihpKXt2YXIgYz1NYXRoLmNlaWwocy90Lmxlbmd0aCksdT1uLmNodW5rKHAsYyk7dC5mb3JFYWNoKChmdW5jdGlvbihlLHIpe3Vbcl0ubWFwKChmdW5jdGlvbihyKXtIKHIsIm1pbmR1cmF0aW9uIixlKSxIKHIsIm1heGR1cmF0aW9uIixlKX0pKX0pKX1lbHNlIHAubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gSChlLCJtYXhkdXJhdGlvbiIsbyl9KSk7cmV0dXJuIHB9KGEsZSksdD1TLnRhZ3MuZmlsdGVyKChmdW5jdGlvbihyKXtyZXR1cm4gci51dWlkIT09ZS5iaWRJZH0pKTtTLnRhZ3M9W10uY29uY2F0KGIodCksYihyKSl9KSksZVswXS51c2VySWQpe3ZhciBqPVtdO0soaixuLmRlZXBBY2Nlc3MoZVswXSwidXNlcklkLmZsb2NJZC5pZCIpLCJjaHJvbWUuY29tIixudWxsKSxLKGosbi5kZWVwQWNjZXNzKGVbMF0sInVzZXJJZC5jcml0ZW9JZCIpLCJjcml0ZW8uY29tIixudWxsKSxLKGosbi5kZWVwQWNjZXNzKGVbMF0sInVzZXJJZC5uZXRJZCIpLCJuZXRpZC5kZSIsbnVsbCksSyhqLG4uZGVlcEFjY2VzcyhlWzBdLCJ1c2VySWQuaWRsX2VudiIpLCJsaXZlcmFtcC5jb20iLG51bGwpLEsoaixuLmRlZXBBY2Nlc3MoZVswXSwidXNlcklkLnRkaWQiKSwiYWRzZXJ2ZXIub3JnIiwiVERJRCIpLEsoaixuLmRlZXBBY2Nlc3MoZVswXSwidXNlcklkLnVpZDIuaWQiKSwidWlkYXBpLmNvbSIsIlVJRDIiKSxqLmxlbmd0aCYmKFMuZWlkcz1qKX1yZXR1cm4gYVswXS5wdWJsaXNoZXJfaWQmJihTLnB1Ymxpc2hlcl9pZD1hWzBdLnB1Ymxpc2hlcl9pZCksZnVuY3Rpb24oZSxyKXt2YXIgYT1bXSx0PXt3aXRoQ3JlZGVudGlhbHM6ITB9LHM9XztOKHIpfHwocz1rKTsiVFJVRSIhPT1uLmdldFBhcmFtZXRlckJ5TmFtZSgiYXBuX3Rlc3QiKS50b1VwcGVyQ2FzZSgpJiYhMCE9PWkuYi5nZXRDb25maWcoImFwbl90ZXN0Iil8fCh0LmN1c3RvbUhlYWRlcnM9eyJYLUlzLVRlc3QiOjF9KTtpZihlLnRhZ3MubGVuZ3RoPjE1KXt2YXIgbz1uLmRlZXBDbG9uZShlKTtuLmNodW5rKGUudGFncywxNSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7by50YWdzPWU7dmFyIG49SlNPTi5zdHJpbmdpZnkobyk7YS5wdXNoKHttZXRob2Q6IlBPU1QiLHVybDpzLGRhdGE6bixiaWRkZXJSZXF1ZXN0OnIsb3B0aW9uczp0fSl9KSl9ZWxzZXt2YXIgZD1KU09OLnN0cmluZ2lmeShlKTthPXttZXRob2Q6IlBPU1QiLHVybDpzLGRhdGE6ZCxiaWRkZXJSZXF1ZXN0OnIsb3B0aW9uczp0fX1yZXR1cm4gYX0oUyxyKX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgYT10aGlzLGk9ci5iaWRkZXJSZXF1ZXN0O2U9ZS5ib2R5O3ZhciBkPVtdO2lmKCFlfHxlLmVycm9yKXt2YXIgcD0iaW4gcmVzcG9uc2UgZm9yICIuY29uY2F0KGkuYmlkZGVyQ29kZSwiIGFkYXB0ZXIiKTtyZXR1cm4gZSYmZS5lcnJvciYmKHArPSI6ICIuY29uY2F0KGUuZXJyb3IpKSxuLmxvZ0Vycm9yKHApLGR9aWYoZS50YWdzJiZlLnRhZ3MuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHIscD0ocj1lKSYmci5hZHMmJnIuYWRzLmxlbmd0aCYmYygpKHIuYWRzLChmdW5jdGlvbihlKXtyZXR1cm4gZS5ydGJ9KSk7aWYocCYmMCE9PXAuY3BtJiZsKCkoYS5zdXBwb3J0ZWRNZWRpYVR5cGVzLHAuYWRfdHlwZSkpe3ZhciB1PWZ1bmN0aW9uKGUscixhKXt2YXIgaT1uLmdldEJpZFJlcXVlc3QoZS51dWlkLFthXSksZD17cmVxdWVzdElkOmUudXVpZCxjcG06ci5jcG0sY3JlYXRpdmVJZDpyLmNyZWF0aXZlX2lkLGRlYWxJZDpyLmRlYWxfaWQsY3VycmVuY3k6IlVTRCIsbmV0UmV2ZW51ZTohMCx0dGw6MzAwLGFkVW5pdENvZGU6aS5hZFVuaXRDb2RlLGFwcG5leHVzOntidXllck1lbWJlcklkOnIuYnV5ZXJfbWVtYmVyX2lkLGRlYWxQcmlvcml0eTpyLmRlYWxfcHJpb3JpdHksZGVhbENvZGU6ci5kZWFsX2NvZGV9fTtyLmFkb21haW4mJihkLm1ldGE9eSh7fSxkLm1ldGEse2FkdmVydGlzZXJEb21haW5zOltdfSkpO3IuYWR2ZXJ0aXNlcl9pZCYmKGQubWV0YT15KHt9LGQubWV0YSx7YWR2ZXJ0aXNlcklkOnIuYWR2ZXJ0aXNlcl9pZH0pKTtpZihyLnJ0Yi52aWRlbyl7c3dpdGNoKHkoZCx7d2lkdGg6ci5ydGIudmlkZW8ucGxheWVyX3dpZHRoLGhlaWdodDpyLnJ0Yi52aWRlby5wbGF5ZXJfaGVpZ2h0LHZhc3RJbXBVcmw6ci5ub3RpZnlfdXJsLHR0bDozNjAwfSksbi5kZWVwQWNjZXNzKGksIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpKXtjYXNlIG8uYTp2YXIgcD1PYmplY3Qocy5nZXRJYWJTdWJDYXRlZ29yeSkoaS5iaWRkZXIsci5icmFuZF9jYXRlZ29yeV9pZCk7ZC5tZXRhPXkoe30sZC5tZXRhLHtwcmltYXJ5Q2F0SWQ6cH0pO3ZhciB1PXIuZGVhbF9wcmlvcml0eTtkLnZpZGVvPXtjb250ZXh0Om8uYSxkdXJhdGlvblNlY29uZHM6TWF0aC5mbG9vcihyLnJ0Yi52aWRlby5kdXJhdGlvbl9tcy8xZTMpLGRlYWxUaWVyOnV9LGQudmFzdFVybD1yLnJ0Yi52aWRlby5hc3NldF91cmw7YnJlYWs7Y2FzZSBtLmI6aWYoZC5hZFJlc3BvbnNlPWUsZC5hZFJlc3BvbnNlLmFkPWQuYWRSZXNwb25zZS5hZHNbMF0sZC5hZFJlc3BvbnNlLmFkLnZpZGVvPWQuYWRSZXNwb25zZS5hZC5ydGIudmlkZW8sZC52YXN0WG1sPXIucnRiLnZpZGVvLmNvbnRlbnQsci5yZW5kZXJlcl91cmwpe3ZhciBsPWMoKShhLmJpZHMsKGZ1bmN0aW9uKHIpe3JldHVybiByLmJpZElkPT09ZS51dWlkfSkpLGY9bi5kZWVwQWNjZXNzKGwsInJlbmRlcmVyLm9wdGlvbnMiKTtkLnJlbmRlcmVyPWZ1bmN0aW9uKGUscil7dmFyIGE9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LGk9dC5hLmluc3RhbGwoe2lkOnIucmVuZGVyZXJfaWQsdXJsOnIucmVuZGVyZXJfdXJsLGNvbmZpZzphLGxvYWRlZDohMSxhZFVuaXRDb2RlOmV9KTt0cnl7aS5zZXRSZW5kZXIoTCl9Y2F0Y2goZSl7bi5sb2dXYXJuKCJQcmViaWQgRXJyb3IgY2FsbGluZyBzZXRSZW5kZXIgb24gcmVuZGVyZXIiLGUpfXJldHVybiBpLnNldEV2ZW50SGFuZGxlcnMoe2ltcHJlc3Npb246ZnVuY3Rpb24oKXtyZXR1cm4gbi5sb2dNZXNzYWdlKCJBcHBOZXh1cyBvdXRzdHJlYW0gdmlkZW8gaW1wcmVzc2lvbiBldmVudCIpfSxsb2FkZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gbi5sb2dNZXNzYWdlKCJBcHBOZXh1cyBvdXRzdHJlYW0gdmlkZW8gbG9hZGVkIGV2ZW50Iil9LGVuZGVkOmZ1bmN0aW9uKCl7bi5sb2dNZXNzYWdlKCJBcHBOZXh1cyBvdXRzdHJlYW0gcmVuZGVyZXIgdmlkZW8gZXZlbnQiKSxkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjIi5jb25jYXQoZSkpLnN0eWxlLmRpc3BsYXk9Im5vbmUifX0pLGl9KGQuYWRVbml0Q29kZSxyLGYpfWJyZWFrO2Nhc2UgbS5hOmQudmFzdFVybD1yLm5vdGlmeV91cmwrIiZyZWRpcj0iK2VuY29kZVVSSUNvbXBvbmVudChyLnJ0Yi52aWRlby5hc3NldF91cmwpfX1lbHNlIGlmKHIucnRiW28uY10pe3ZhciB2PXIucnRiW28uY10sYj1yLnZpZXdhYmlsaXR5LmNvbmZpZy5yZXBsYWNlKCJzcmM9IiwiZGF0YS1zcmM9IiksZz12LmphdmFzY3JpcHRfdHJhY2tlcnM7bnVsbD09Zz9nPWI6bi5pc1N0cihnKT9nPVtnLGJdOmcucHVzaChiKSxkW28uY109e3RpdGxlOnYudGl0bGUsYm9keTp2LmRlc2MsYm9keTI6di5kZXNjMixjdGE6di5jdGF0ZXh0LHJhdGluZzp2LnJhdGluZyxzcG9uc29yZWRCeTp2LnNwb25zb3JlZCxwcml2YWN5TGluazp2LnByaXZhY3lfbGluayxhZGRyZXNzOnYuYWRkcmVzcyxkb3dubG9hZHM6di5kb3dubG9hZHMsbGlrZXM6di5saWtlcyxwaG9uZTp2LnBob25lLHByaWNlOnYucHJpY2Usc2FsZVByaWNlOnYuc2FsZXByaWNlLGNsaWNrVXJsOnYubGluay51cmwsZGlzcGxheVVybDp2LmRpc3BsYXl1cmwsY2xpY2tUcmFja2Vyczp2LmxpbmsuY2xpY2tfdHJhY2tlcnMsaW1wcmVzc2lvblRyYWNrZXJzOnYuaW1wcmVzc2lvbl90cmFja2VycyxqYXZhc2NyaXB0VHJhY2tlcnM6Z30sdi5tYWluX2ltZyYmKGQubmF0aXZlLmltYWdlPXt1cmw6di5tYWluX2ltZy51cmwsaGVpZ2h0OnYubWFpbl9pbWcuaGVpZ2h0LHdpZHRoOnYubWFpbl9pbWcud2lkdGh9KSx2Lmljb24mJihkLm5hdGl2ZS5pY29uPXt1cmw6di5pY29uLnVybCxoZWlnaHQ6di5pY29uLmhlaWdodCx3aWR0aDp2Lmljb24ud2lkdGh9KX1lbHNle3koZCx7d2lkdGg6ci5ydGIuYmFubmVyLndpZHRoLGhlaWdodDpyLnJ0Yi5iYW5uZXIuaGVpZ2h0LGFkOnIucnRiLmJhbm5lci5jb250ZW50fSk7dHJ5e2lmKHIucnRiLnRyYWNrZXJzKXt2YXIgaD1yLnJ0Yi50cmFja2Vyc1swXS5pbXByZXNzaW9uX3VybHNbMF0sXz1uLmNyZWF0ZVRyYWNrUGl4ZWxIdG1sKGgpO2QuYWQrPV99fWNhdGNoKGUpe24ubG9nRXJyb3IoIkVycm9yIGFwcGVuZGluZyB0cmFja2luZyBwaXhlbCIsZSl9fXJldHVybiBkfShlLHAsaSk7dS5tZWRpYVR5cGU9ZnVuY3Rpb24oZSl7dmFyIHI9ZS5hZF90eXBlO3JldHVybiByPT09by5kP28uZDpyPT09by5jP28uYzpvLmJ9KHApLGQucHVzaCh1KX19KSksZS5kZWJ1ZyYmZS5kZWJ1Zy5kZWJ1Z19pbmZvKXt2YXIgdT0iQXBwTmV4dXMgRGVidWcgQXVjdGlvbiBmb3IgUHJlYmlkXG5cbiIrZS5kZWJ1Zy5kZWJ1Z19pbmZvO3U9dS5yZXBsYWNlKC8oPHRkPnw8dGg+KS9nbSwiXHQiKS5yZXBsYWNlKC8oPFwvdGQ+fDxcL3RoPikvZ20sIlxuIikucmVwbGFjZSgvXjxicj4vZ20sIiIpLnJlcGxhY2UoLyg8YnI+XG58PGJyPikvZ20sIlxuIikucmVwbGFjZSgvPGgxPiguKik8XC9oMT4vZ20sIlxuXG49PT09PSAkMSA9PT09PVxuXG4iKS5yZXBsYWNlKC88aFsyLTZdPiguKik8XC9oWzItNl0+L2dtLCJcblxuKioqICQxICoqKlxuXG4iKS5yZXBsYWNlKC8oPChbXj5dKyk+KS9naW0sIiIpLG4ubG9nTWVzc2FnZSgiaHR0cHM6Ly9jb25zb2xlLmFwcG5leHVzLmNvbS9kb2NzL3VuZGVyc3RhbmRpbmctdGhlLWRlYnVnLWF1Y3Rpb24iKSxuLmxvZ01lc3NhZ2UodSl9cmV0dXJuIGR9LGdldE1hcHBpbmdGaWxlSW5mbzpmdW5jdGlvbigpe3JldHVybnt1cmw6Imh0dHBzOi8vYWNkbi5hZG54cy1zaW1wbGUuY29tL3ByZWJpZC9hcHBuZXh1cy1tYXBwaW5nL21hcHBpbmdzLmpzb24iLHJlZnJlc2hJbkRheXM6Mn19LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIsYSl7aWYoZS5pZnJhbWVFbmFibGVkJiZOKHtnZHByQ29uc2VudDphfSkpcmV0dXJuW3t0eXBlOiJpZnJhbWUiLHVybDoiaHR0cHM6Ly9hY2RuLmFkbnhzLmNvbS9kbXAvYXN5bmNfdXNlcnN5bmMuaHRtbCJ9XX0sdHJhbnNmb3JtQmlkUGFyYW1zOmZ1bmN0aW9uKGUscil7cmV0dXJuIGU9bi5jb252ZXJ0VHlwZXMoe21lbWJlcjoic3RyaW5nIixpbnZDb2RlOiJzdHJpbmciLHBsYWNlbWVudElkOiJudW1iZXIiLGtleXdvcmRzOm4udHJhbnNmb3JtQmlkZGVyUGFyYW1LZXl3b3JkcyxwdWJsaXNoZXJJZDoibnVtYmVyIn0sZSksciYmKGUudXNlX3BtdF9ydWxlPSJib29sZWFuIj09dHlwZW9mIGUudXNlUGF5bWVudFJ1bGUmJmUudXNlUGF5bWVudFJ1bGUsZS51c2VQYXltZW50UnVsZSYmZGVsZXRlIGUudXNlUGF5bWVudFJ1bGUsaihlLmtleXdvcmRzKSYmZS5rZXl3b3Jkcy5mb3JFYWNoKFApLE9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKHIpe3ZhciBhPW4uY29udmVydENhbWVsVG9VbmRlcnNjb3JlKHIpO2EhPT1yJiYoZVthXT1lW3JdLGRlbGV0ZSBlW3JdKX0pKSksZX0sb25CaWRXb246ZnVuY3Rpb24oZSl7ZS5uYXRpdmUmJmZ1bmN0aW9uKGUpe3ZhciByPWZ1bmN0aW9uKGUpe3ZhciByO2lmKG4uaXNTdHIoZSkmJlUoZSkpcj1lO2Vsc2UgaWYobi5pc0FycmF5KGUpKWZvcih2YXIgYT0wO2E8ZS5sZW5ndGg7YSsrKXt2YXIgdD1lW2FdO1UodCkmJihyPXQpfXJldHVybiByfShlLm5hdGl2ZS5qYXZhc2NyaXB0VHJhY2tlcnMpO2lmKHIpZm9yKHZhciBhPSJwYmpzX2FkaWQ9IitlLmFkSWQrIjtwYmpzX2F1Yz0iK2UuYWRVbml0Q29kZSx0PWZ1bmN0aW9uKGUpe3ZhciByPWUuaW5kZXhPZignc3JjPSInKSs1LGE9ZS5pbmRleE9mKCciJyxyKTtyZXR1cm4gZS5zdWJzdHJpbmcocixhKX0ociksaT10LnJlcGxhY2UoImRvbV9pZD0lbmF0aXZlX2RvbV9pZCUiLGEpLHM9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlmcmFtZSIpLG89ITEsZD0wO2Q8cy5sZW5ndGgmJiFvO2QrKyl7dmFyIHA9c1tkXTt0cnl7dmFyIGM9cC5jb250ZW50RG9jdW1lbnR8fHAuY29udGVudFdpbmRvdy5kb2N1bWVudDtpZihjKWZvcih2YXIgdT1jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKSxsPTA7bDx1Lmxlbmd0aCYmIW87bCsrKXt2YXIgbT11W2xdO20uZ2V0QXR0cmlidXRlKCJkYXRhLXNyYyIpPT10JiYobS5zZXRBdHRyaWJ1dGUoInNyYyIsaSksbS5zZXRBdHRyaWJ1dGUoImRhdGEtc3JjIiwiIiksbS5yZW1vdmVBdHRyaWJ1dGUmJm0ucmVtb3ZlQXR0cmlidXRlKCJkYXRhLXNyYyIpLG89ITApfX1jYXRjaChlKXtpZighKGUgaW5zdGFuY2VvZiBET01FeGNlcHRpb24mJiJTZWN1cml0eUVycm9yIj09PWUubmFtZSkpdGhyb3cgZX19fShlKX19O2Z1bmN0aW9uIGooZSl7cmV0dXJuISEobi5pc0FycmF5KGUpJiZlLmxlbmd0aD4wKX1mdW5jdGlvbiBQKGUpe2ooZS52YWx1ZSkmJiIiPT09ZS52YWx1ZVswXSYmZGVsZXRlIGUudmFsdWV9ZnVuY3Rpb24gVShlKXt2YXIgcj1lLm1hdGNoKEUpLGE9bnVsbCE9ciYmci5sZW5ndGg+PTEsdD1lLm1hdGNoKCJ0cmsuanMiKSxuPW51bGwhPXQmJnQubGVuZ3RoPj0xO3JldHVybiBlLnN0YXJ0c1dpdGgoIjxzY3JpcHQiKSYmbiYmYX1mdW5jdGlvbiBOKGUpe3ZhciByPSEwO3JldHVybiBlJiZlLmdkcHJDb25zZW50JiZlLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYyPT09ZS5nZHByQ29uc2VudC5hcGlWZXJzaW9uJiYocj0hKCEwIT09bi5kZWVwQWNjZXNzKGUuZ2RwckNvbnNlbnQsInZlbmRvckRhdGEucHVycG9zZS5jb25zZW50cy4xIikpKSxyfWZ1bmN0aW9uIHEoZSl7dmFyIHI9e307ci5zaXplcz16KGUuc2l6ZXMpLHIucHJpbWFyeV9zaXplPXIuc2l6ZXNbMF0sci5hZF90eXBlcz1bXSxyLnV1aWQ9ZS5iaWRJZCxlLnBhcmFtcy5wbGFjZW1lbnRJZD9yLmlkPXBhcnNlSW50KGUucGFyYW1zLnBsYWNlbWVudElkLDEwKTpyLmNvZGU9ZS5wYXJhbXMuaW52Q29kZSxyLmFsbG93X3NtYWxsZXJfc2l6ZXM9ZS5wYXJhbXMuYWxsb3dTbWFsbGVyU2l6ZXN8fCExLHIudXNlX3BtdF9ydWxlPWUucGFyYW1zLnVzZVBheW1lbnRSdWxlfHwhMSxyLnByZWJpZD0hMCxyLmRpc2FibGVfcHNhPSEwO3ZhciBhPWZ1bmN0aW9uKGUpe2lmKCFuLmlzRm4oZS5nZXRGbG9vcikpcmV0dXJuIGUucGFyYW1zLnJlc2VydmU/ZS5wYXJhbXMucmVzZXJ2ZTpudWxsO3ZhciByPWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZToiKiIsc2l6ZToiKiJ9KTtpZihuLmlzUGxhaW5PYmplY3QocikmJiFpc05hTihyLmZsb29yKSYmIlVTRCI9PT1yLmN1cnJlbmN5KXJldHVybiByLmZsb29yO3JldHVybiBudWxsfShlKTtpZihhJiYoci5yZXNlcnZlPWEpLGUucGFyYW1zLnBvc2l0aW9uJiYoci5wb3NpdGlvbj17YWJvdmU6MSxiZWxvdzoyfVtlLnBhcmFtcy5wb3NpdGlvbl18fDApLGUucGFyYW1zLnRyYWZmaWNTb3VyY2VDb2RlJiYoci50cmFmZmljX3NvdXJjZV9jb2RlPWUucGFyYW1zLnRyYWZmaWNTb3VyY2VDb2RlKSxlLnBhcmFtcy5wcml2YXRlU2l6ZXMmJihyLnByaXZhdGVfc2l6ZXM9eihlLnBhcmFtcy5wcml2YXRlU2l6ZXMpKSxlLnBhcmFtcy5zdXBwbHlUeXBlJiYoci5zdXBwbHlfdHlwZT1lLnBhcmFtcy5zdXBwbHlUeXBlKSxlLnBhcmFtcy5wdWJDbGljayYmKHIucHViY2xpY2s9ZS5wYXJhbXMucHViQ2xpY2spLGUucGFyYW1zLmV4dEludkNvZGUmJihyLmV4dF9pbnZfY29kZT1lLnBhcmFtcy5leHRJbnZDb2RlKSxlLnBhcmFtcy5wdWJsaXNoZXJJZCYmKHIucHVibGlzaGVyX2lkPXBhcnNlSW50KGUucGFyYW1zLnB1Ymxpc2hlcklkLDEwKSksZS5wYXJhbXMuZXh0ZXJuYWxJbXBJZCYmKHIuZXh0ZXJuYWxfaW1wX2lkPWUucGFyYW1zLmV4dGVybmFsSW1wSWQpLCFuLmlzRW1wdHkoZS5wYXJhbXMua2V5d29yZHMpKXt2YXIgdD1uLnRyYW5zZm9ybUJpZGRlclBhcmFtS2V5d29yZHMoZS5wYXJhbXMua2V5d29yZHMpO3QubGVuZ3RoPjAmJnQuZm9yRWFjaChQKSxyLmtleXdvcmRzPXR9dmFyIGkscyxwPW4uZGVlcEFjY2VzcyhlLCJvcnRiMkltcC5leHQuZGF0YS5wYmFkc2xvdCIpO2lmKHAmJihyLmdwaWQ9cCksKGUubWVkaWFUeXBlPT09by5jfHxuLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy4iLmNvbmNhdChvLmMpKSkmJihyLmFkX3R5cGVzLnB1c2goby5jKSwwPT09ci5zaXplcy5sZW5ndGgmJihyLnNpemVzPXooWzEsMV0pKSxlLm5hdGl2ZVBhcmFtcykpe3ZhciB1PShpPWUubmF0aXZlUGFyYW1zLHM9e30sT2JqZWN0LmtleXMoaSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9VFtlXSYmVFtlXS5zZXJ2ZXJOYW1lfHxUW2VdfHxlLGE9VFtlXSYmVFtlXS5yZXF1aXJlZFBhcmFtcztpZihzW3JdPXkoe30sYSxpW2VdKSwocj09PVQuaW1hZ2Uuc2VydmVyTmFtZXx8cj09PVQuaWNvbi5zZXJ2ZXJOYW1lKSYmc1tyXS5zaXplcyl7dmFyIHQ9c1tyXS5zaXplczsobi5pc0FycmF5T2ZOdW1zKHQpfHxuLmlzQXJyYXkodCkmJnQubGVuZ3RoPjAmJnQuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBuLmlzQXJyYXlPZk51bXMoZSl9KSkpJiYoc1tyXS5zaXplcz16KHNbcl0uc2l6ZXMpKX1yPT09VC5wcml2YWN5TGluayYmKHMucHJpdmFjeV9zdXBwb3J0ZWQ9ITApfSkpLHMpO3Jbby5jXT17bGF5b3V0czpbdV19fXZhciBtPW4uZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLiIuY29uY2F0KG8uZCkpLGY9bi5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpO3IuaGJfc291cmNlPW0mJiJhZHBvZCI9PT1mPzc6MSwoZS5tZWRpYVR5cGU9PT1vLmR8fG0pJiZyLmFkX3R5cGVzLnB1c2goby5kKSwoZS5tZWRpYVR5cGU9PT1vLmR8fG0mJiJvdXRzdHJlYW0iIT09ZikmJihyLnJlcXVpcmVfYXNzZXRfdXJsPSEwKSxlLnBhcmFtcy52aWRlbyYmKHIudmlkZW89e30sT2JqZWN0LmtleXMoZS5wYXJhbXMudmlkZW8pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGwoKShJLGUpfSkpLmZvckVhY2goKGZ1bmN0aW9uKGEpe3N3aXRjaChhKXtjYXNlImNvbnRleHQiOmNhc2UicGxheWJhY2tfbWV0aG9kIjp2YXIgdD1lLnBhcmFtcy52aWRlb1thXTt0PW4uaXNBcnJheSh0KT90WzBdOnQsci52aWRlb1thXT1TW2FdW3RdO2JyZWFrO2Nhc2UiZnJhbWV3b3JrcyI6YnJlYWs7ZGVmYXVsdDpyLnZpZGVvW2FdPWUucGFyYW1zLnZpZGVvW2FdfX0pKSxlLnBhcmFtcy52aWRlby5mcmFtZXdvcmtzJiZuLmlzQXJyYXkoZS5wYXJhbXMudmlkZW8uZnJhbWV3b3JrcykmJihyLnZpZGVvX2ZyYW1ld29ya3M9ZS5wYXJhbXMudmlkZW8uZnJhbWV3b3JrcykpLG0mJihyLnZpZGVvPXIudmlkZW98fHt9LE9iamVjdC5rZXlzKG0pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGwoKShBLGUpfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIm1pbmR1cmF0aW9uIjpjYXNlIm1heGR1cmF0aW9uIjoibnVtYmVyIiE9dHlwZW9mIHIudmlkZW9bZV0mJihyLnZpZGVvW2VdPW1bZV0pO2JyZWFrO2Nhc2Uic2tpcCI6ImJvb2xlYW4iIT10eXBlb2Ygci52aWRlby5za2lwcGFibGUmJihyLnZpZGVvLnNraXBwYWJsZT0xPT09bVtlXSk7YnJlYWs7Y2FzZSJza2lwYWZ0ZXIiOiJudW1iZXIiIT10eXBlb2Ygci52aWRlby5za2lwb2Zmc2V0JiYoci52aWRlby5za2lwcG9mZnNldD1tW2VdKTticmVhaztjYXNlInBsYXliYWNrbWV0aG9kIjppZigibnVtYmVyIiE9dHlwZW9mIHIudmlkZW8ucGxheWJhY2tfbWV0aG9kKXt2YXIgYT1tW2VdOyhhPW4uaXNBcnJheShhKT9hWzBdOmEpPj0xJiZhPD00JiYoci52aWRlby5wbGF5YmFja19tZXRob2Q9YSl9YnJlYWs7Y2FzZSJhcGkiOmlmKCFyLnZpZGVvX2ZyYW1ld29ya3MmJm4uaXNBcnJheShtW2VdKSl7dmFyIHQ9bVtlXS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciByPTQ9PT1lPzU6NT09PWU/NDplO2lmKHI+PTEmJnI8PTUpcmV0dXJuIHJ9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZX0pKTtyLnZpZGVvX2ZyYW1ld29ya3M9dH19fSkpKSxlLnJlbmRlcmVyJiYoci52aWRlbz15KHt9LHIudmlkZW8se2N1c3RvbV9yZW5kZXJlcl9wcmVzZW50OiEwfSkpLGUucGFyYW1zLmZyYW1ld29ya3MmJm4uaXNBcnJheShlLnBhcmFtcy5mcmFtZXdvcmtzKSYmKHIuYmFubmVyX2ZyYW1ld29ya3M9ZS5wYXJhbXMuZnJhbWV3b3Jrcyk7dmFyIHY9YygpKGQuYS5nZXRBZFVuaXRzKCksKGZ1bmN0aW9uKHIpe3JldHVybiBlLnRyYW5zYWN0aW9uSWQ9PT1yLnRyYW5zYWN0aW9uSWR9KSk7cmV0dXJuIHYmJnYubWVkaWFUeXBlcyYmdi5tZWRpYVR5cGVzLmJhbm5lciYmci5hZF90eXBlcy5wdXNoKG8uYiksMD09PXIuYWRfdHlwZXMubGVuZ3RoJiZkZWxldGUgci5hZF90eXBlcyxyfWZ1bmN0aW9uIHooZSl7dmFyIHI9W10sYT17fTtpZihuLmlzQXJyYXkoZSkmJjI9PT1lLmxlbmd0aCYmIW4uaXNBcnJheShlWzBdKSlhLndpZHRoPXBhcnNlSW50KGVbMF0sMTApLGEuaGVpZ2h0PXBhcnNlSW50KGVbMV0sMTApLHIucHVzaChhKTtlbHNlIGlmKCJvYmplY3QiPT09dihlKSlmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl7dmFyIGk9ZVt0XTsoYT17fSkud2lkdGg9cGFyc2VJbnQoaVswXSwxMCksYS5oZWlnaHQ9cGFyc2VJbnQoaVsxXSwxMCksci5wdXNoKGEpfXJldHVybiByfWZ1bmN0aW9uIE0oZSl7cmV0dXJuISFlLnBhcmFtcy51c2VyfWZ1bmN0aW9uIEQoZSl7cmV0dXJuISFwYXJzZUludChlLnBhcmFtcy5tZW1iZXIsMTApfWZ1bmN0aW9uIEIoZSl7aWYoZS5wYXJhbXMpcmV0dXJuISFlLnBhcmFtcy5hcHB9ZnVuY3Rpb24gRihlKXtyZXR1cm4gZS5wYXJhbXMmJmUucGFyYW1zLmFwcD8hIWUucGFyYW1zLmFwcC5pZDohIWUucGFyYW1zLmFwcH1mdW5jdGlvbiBWKGUpe3JldHVybiEhZS5kZWJ1Z31mdW5jdGlvbiBKKGUpe3JldHVybiBlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy52aWRlbyYmZS5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQ9PT1vLmF9ZnVuY3Rpb24gVyhlKXt2YXIgcj0hMSxhPWUucGFyYW1zLHQ9ZS5wYXJhbXMudmlkZW87cmV0dXJuIGEuZnJhbWV3b3JrcyYmbi5pc0FycmF5KGEuZnJhbWV3b3JrcykmJihyPWwoKShlLnBhcmFtcy5mcmFtZXdvcmtzLDYpKSwhciYmdCYmdC5mcmFtZXdvcmtzJiZuLmlzQXJyYXkodC5mcmFtZXdvcmtzKSYmKHI9bCgpKGUucGFyYW1zLnZpZGVvLmZyYW1ld29ya3MsNikpLHJ9ZnVuY3Rpb24gSChlLHIsYSl7bi5pc0VtcHR5KGUudmlkZW8pJiYoZS52aWRlbz17fSksZS52aWRlb1tyXT1hfWZ1bmN0aW9uIEwoZSl7dmFyIHIsYTtyPWUuYWRVbml0Q29kZSwoYT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChyKS5xdWVyeVNlbGVjdG9yQWxsKCJkaXZbaWRePSdnb29nbGVfYWRzJ10iKSlbMF0mJmFbMF0uc3R5bGUuc2V0UHJvcGVydHkoImRpc3BsYXkiLCJub25lIiksZnVuY3Rpb24oZSl7dHJ5e3ZhciByPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpLnF1ZXJ5U2VsZWN0b3JBbGwoInNjcmlwdFtpZF49J3Nhc19zY3JpcHQnXSIpO3JbMF0ubmV4dFNpYmxpbmcmJiJpZnJhbWUiPT09clswXS5uZXh0U2libGluZy5sb2NhbE5hbWUmJnJbMF0ubmV4dFNpYmxpbmcuc3R5bGUuc2V0UHJvcGVydHkoImRpc3BsYXkiLCJub25lIil9Y2F0Y2goZSl7fX0oZS5hZFVuaXRDb2RlKSxlLnJlbmRlcmVyLnB1c2goKGZ1bmN0aW9uKCl7d2luZG93LkFOT3V0c3RyZWFtVmlkZW8ucmVuZGVyQWQoe3RhZ0lkOmUuYWRSZXNwb25zZS50YWdfaWQsc2l6ZXM6W2UuZ2V0U2l6ZSgpLnNwbGl0KCJ4IildLHRhcmdldElkOmUuYWRVbml0Q29kZSx1dWlkOmUuYWRSZXNwb25zZS51dWlkLGFkUmVzcG9uc2U6ZS5hZFJlc3BvbnNlLHJlbmRlcmVyT3B0aW9uczplLnJlbmRlcmVyLmdldENvbmZpZygpfSwkLmJpbmQobnVsbCxlKSl9KSl9ZnVuY3Rpb24gJChlLHIsYSl7ZS5yZW5kZXJlci5oYW5kbGVWaWRlb0V2ZW50KHtpZDpyLGV2ZW50TmFtZTphfSl9ZnVuY3Rpb24gSyhlLHIsYSx0KXtyZXR1cm4gciYmKHQ/ZS5wdXNoKHtzb3VyY2U6YSxpZDpyLHJ0aV9wYXJ0bmVyOnR9KTplLnB1c2goe3NvdXJjZTphLGlkOnJ9KSksZX1PYmplY3Qocy5yZWdpc3RlckJpZGRlcikoUil9fSxbMjczXSk7CnVwYmpzQ2h1bmsoWzI3NF0sezM0NTpmdW5jdGlvbihuLHQsZSl7bi5leHBvcnRzPWUoMzQ2KX0sMzQ2OmZ1bmN0aW9uKG4sdCxlKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZCh0LCJhbGxvd0F1Y3Rpb24iLChmdW5jdGlvbigpe3JldHVybiB2fSkpLGUuZCh0LCJ1c2VyQ01QIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKSxlLmQodCwiY29uc2VudFRpbWVvdXQiLChmdW5jdGlvbigpe3JldHVybiBwfSkpLGUuZCh0LCJnZHByU2NvcGUiLChmdW5jdGlvbigpe3JldHVybiBnfSkpLGUuZCh0LCJzdGF0aWNDb25zZW50RGF0YSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG19KSksdC5yZXF1ZXN0Qmlkc0hvb2s9RCx0LnJlc2V0Q29uc2VudERhdGE9ZnVuY3Rpb24oKXtDPXZvaWQgMCxmPXZvaWQgMCxiPTAsaS5nZHByRGF0YUhhbmRsZXIuc2V0Q29uc2VudERhdGEobnVsbCl9LHQuc2V0Q29uc2VudENvbmZpZz1JO3ZhciBvPWUoMCksYT1lKDMpLGk9ZSg4KSxyPWUoMTIpLHM9ZS5uKHIpLGM9ZSg3NiksZD1lLm4oYyk7ZnVuY3Rpb24gbChuKXtyZXR1cm4obD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihuKXtyZXR1cm4gdHlwZW9mIG59OmZ1bmN0aW9uKG4pe3JldHVybiBuJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZuLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZuIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2Ygbn0pKG4pfWZ1bmN0aW9uIHUobix0LGUpe3JldHVybiB0IGluIG4/T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sdCx7dmFsdWU6ZSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOm5bdF09ZSxufXZhciBmLHAsZyxtLEMsdj17dmFsdWU6dHJ1ZSxkZWZpbmVkSW5Db25maWc6ITF9LGI9MCx5PSExLHc9e2lhYjpmdW5jdGlvbihuLHQsZSl7ZnVuY3Rpb24gYShhLGkpe28ubG9nSW5mbygiUmVjZWl2ZWQgYSByZXNwb25zZSBmcm9tIENNUCIsYSksaT8hMSE9PWEuZ2RwckFwcGxpZXMmJiJ0Y2xvYWRlZCIhPT1hLmV2ZW50U3RhdHVzJiYidXNlcmFjdGlvbmNvbXBsZXRlIiE9PWEuZXZlbnRTdGF0dXN8fG4oYSxlKTp0KCJDTVAgdW5hYmxlIHRvIHJlZ2lzdGVyIGNhbGxiYWNrIGZ1bmN0aW9uLiAgUGxlYXNlIGNoZWNrIENNUCBzZXR1cC4iLGUpfXZhciBpPWZ1bmN0aW9uKCl7dmFyIHQ9e307ZnVuY3Rpb24gYSgpe3QuZ2V0Q29uc2VudERhdGEmJnQuZ2V0VmVuZG9yQ29uc2VudHMmJihvLmxvZ0luZm8oIlJlY2VpdmVkIGFsbCByZXF1ZXN0ZWQgcmVzcG9uc2VzIGZyb20gQ01QIix0KSxuKHQsZSkpfXJldHVybntjb25zZW50RGF0YUNhbGxiYWNrOmZ1bmN0aW9uKG4pe3QuZ2V0Q29uc2VudERhdGE9bixhKCl9LHZlbmRvckNvbnNlbnRzQ2FsbGJhY2s6ZnVuY3Rpb24obil7dC5nZXRWZW5kb3JDb25zZW50cz1uLGEoKX19fSgpLHI9e30scz1mdW5jdGlvbigpe2Zvcih2YXIgbix0LGU9d2luZG93OyFuOyl7dHJ5e2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLl9fdGNmYXBpfHwiZnVuY3Rpb24iPT10eXBlb2YgZS5fX2NtcCl7ImZ1bmN0aW9uIj09dHlwZW9mIGUuX190Y2ZhcGk/KGI9Mix0PWUuX190Y2ZhcGkpOihiPTEsdD1lLl9fY21wKSxuPWU7YnJlYWt9fWNhdGNoKG4pe310cnl7aWYoZS5mcmFtZXMuX190Y2ZhcGlMb2NhdG9yKXtiPTIsbj1lO2JyZWFrfX1jYXRjaChuKXt9dHJ5e2lmKGUuZnJhbWVzLl9fY21wTG9jYXRvcil7Yj0xLG49ZTticmVha319Y2F0Y2gobil7fWlmKGU9PT13aW5kb3cudG9wKWJyZWFrO2U9ZS5wYXJlbnR9cmV0dXJue2NtcEZyYW1lOm4sY21wRnVuY3Rpb246dH19KCksYz1zLmNtcEZyYW1lLGw9cy5jbXBGdW5jdGlvbjtpZighYylyZXR1cm4gdCgiQ01QIG5vdCBmb3VuZC4iLGUpO28uaXNGbihsKT8oby5sb2dJbmZvKCJEZXRlY3RlZCBDTVAgQVBJIGlzIGRpcmVjdGx5IGFjY2Vzc2libGUsIGNhbGxpbmcgaXQgbm93Li4uIiksMT09PWI/KGwoImdldENvbnNlbnREYXRhIixudWxsLGkuY29uc2VudERhdGFDYWxsYmFjayksbCgiZ2V0VmVuZG9yQ29uc2VudHMiLG51bGwsaS52ZW5kb3JDb25zZW50c0NhbGxiYWNrKSk6Mj09PWImJmwoImFkZEV2ZW50TGlzdGVuZXIiLGIsYSkpOjE9PT1iJiZ3aW5kb3cuJHNmJiZ3aW5kb3cuJHNmLmV4dCYmImZ1bmN0aW9uIj09dHlwZW9mIHdpbmRvdy4kc2YuZXh0LmNtcD8oby5sb2dJbmZvKCJEZXRlY3RlZCBQcmViaWQuanMgaXMgZW5jYXNlZCBpbiBhIFNhZmVGcmFtZSBhbmQgQ01QIGlzIHJlZ2lzdGVyZWQsIGNhbGxpbmcgaXQgbm93Li4uIiksZigiZ2V0Q29uc2VudERhdGEiLGkuY29uc2VudERhdGFDYWxsYmFjayksZigiZ2V0VmVuZG9yQ29uc2VudHMiLGkudmVuZG9yQ29uc2VudHNDYWxsYmFjaykpOihvLmxvZ0luZm8oIkRldGVjdGVkIENNUCBpcyBvdXRzaWRlIHRoZSBjdXJyZW50IGlmcmFtZSB3aGVyZSBQcmViaWQuanMgaXMgbG9jYXRlZCwgY2FsbGluZyBpdCBub3cuLi4iKSwxPT09Yj8ocCgiZ2V0Q29uc2VudERhdGEiLGMsaS5jb25zZW50RGF0YUNhbGxiYWNrKSxwKCJnZXRWZW5kb3JDb25zZW50cyIsYyxpLnZlbmRvckNvbnNlbnRzQ2FsbGJhY2spKToyPT09YiYmcCgiYWRkRXZlbnRMaXN0ZW5lciIsYyxhKSk7ZnVuY3Rpb24gZihuLHQpe3ZhciBhPWUuYWRVbml0cyxpPTEscj0xO2lmKEFycmF5LmlzQXJyYXkoYSkmJmEubGVuZ3RoPjApe3ZhciBzPW8uZ2V0QWRVbml0U2l6ZXMoYVswXSk7aT1zWzBdWzBdLHI9c1swXVsxXX13aW5kb3cuJHNmLmV4dC5yZWdpc3RlcihpLHIsKGZ1bmN0aW9uKGUsbyl7aWYoImNtcFJldHVybiI9PT1lKXt2YXIgYT0iZ2V0Q29uc2VudERhdGEiPT09bj9vLnZlbmRvckNvbnNlbnREYXRhOm8udmVuZG9yQ29uc2VudHM7dChhKX19KSksd2luZG93LiRzZi5leHQuY21wKG4pfWZ1bmN0aW9uIHAobix0LGUpe3ZhciBvPTI9PT1iPyJfX3RjZmFwaSI6Il9fY21wIixhPSIiLmNvbmNhdChvLCJDYWxsIik7ZnVuY3Rpb24gaShuKXt2YXIgdD0iIi5jb25jYXQobywiUmV0dXJuIiksZT0ic3RyaW5nIj09dHlwZW9mIG4uZGF0YSYmZCgpKG4uZGF0YSx0KT9KU09OLnBhcnNlKG4uZGF0YSk6bi5kYXRhO2lmKGVbdF0mJmVbdF0uY2FsbElkKXt2YXIgYT1lW3RdO3ZvaWQgMCE9PXJbYS5jYWxsSWRdJiZyW2EuY2FsbElkXShhLnJldHVyblZhbHVlLGEuc3VjY2Vzcyl9fTI9PT1iPyh3aW5kb3dbb109ZnVuY3Rpb24obixlLG8saSl7dmFyIHM9TWF0aC5yYW5kb20oKSsiIixjPXUoe30sYSx7Y29tbWFuZDpuLHZlcnNpb246ZSxwYXJhbWV0ZXI6aSxjYWxsSWQ6c30pO3Jbc109byx0LnBvc3RNZXNzYWdlKGMsIioiKX0sd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGksITEpLHdpbmRvd1tvXShuLGIsZSkpOih3aW5kb3dbb109ZnVuY3Rpb24obixlLG8pe3ZhciBpPU1hdGgucmFuZG9tKCkrIiIscz11KHt9LGEse2NvbW1hbmQ6bixwYXJhbWV0ZXI6ZSxjYWxsSWQ6aX0pO3JbaV09byx0LnBvc3RNZXNzYWdlKHMsIioiKX0sd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGksITEpLHdpbmRvd1tvXShuLHZvaWQgMCxlKSl9fSxzdGF0aWM6ZnVuY3Rpb24obix0LGUpe24obSxlKX19O2Z1bmN0aW9uIEQobix0KXt2YXIgZT17Y29udGV4dDp0aGlzLGFyZ3M6W3RdLG5leHRGbjpuLGFkVW5pdHM6dC5hZFVuaXRzfHx1cGJqcy5hZFVuaXRzLGJpZHNCYWNrSGFuZGxlcjp0LmJpZHNCYWNrSGFuZGxlcixoYXZlRXhpdGVkOiExLHRpbWVyOm51bGx9O3JldHVybiBDPyhvLmxvZ0luZm8oIlVzZXIgY29uc2VudCBpbmZvcm1hdGlvbiBhbHJlYWR5IGtub3duLiAgUHVsbGluZyBpbnRlcm5hbGx5IHN0b3JlZCBpbmZvcm1hdGlvbi4uLiIpLFAobnVsbCxlKSk6cygpKE9iamVjdC5rZXlzKHcpLGYpPyh3W2ZdLmNhbGwodGhpcyxrLGgsZSksdm9pZChlLmhhdmVFeGl0ZWR8fCgwPT09cD9rKHZvaWQgMCxlKTplLnRpbWVyPXNldFRpbWVvdXQoTS5iaW5kKG51bGwsZSkscCkpKSk6KG8ubG9nV2FybigiQ01QIGZyYW1ld29yayAoIi5jb25jYXQoZiwiKSBpcyBub3QgYSBzdXBwb3J0ZWQgZnJhbWV3b3JrLiAgQWJvcnRpbmcgY29uc2VudE1hbmFnZW1lbnQgbW9kdWxlIGFuZCByZXN1bWluZyBhdWN0aW9uLiIpKSxlLm5leHRGbi5hcHBseShlLmNvbnRleHQsZS5hcmdzKSl9ZnVuY3Rpb24gayhuLHQpeyJzdGF0aWMiPT09ZiYmMj09PShiPW4uZ2V0Q29uc2VudERhdGE/MTpuLmdldFRDRGF0YT8yOjApJiYobj1uLmdldFRDRGF0YSk7dmFyIGU9MT09PWI/ZnVuY3Rpb24obil7dmFyIHQ9biYmbi5nZXRDb25zZW50RGF0YSYmbi5nZXRDb25zZW50RGF0YS5nZHByQXBwbGllcztyZXR1cm4hKCJib29sZWFuIj09dHlwZW9mIHQmJighMCE9PXR8fG8uaXNTdHIobi5nZXRDb25zZW50RGF0YS5jb25zZW50RGF0YSkmJm8uaXNQbGFpbk9iamVjdChuLmdldFZlbmRvckNvbnNlbnRzKSYmT2JqZWN0LmtleXMobi5nZXRWZW5kb3JDb25zZW50cykubGVuZ3RoPjEpKX06Mj09PWI/ZnVuY3Rpb24oKXt2YXIgdD1uJiYiYm9vbGVhbiI9PXR5cGVvZiBuLmdkcHJBcHBsaWVzP24uZ2RwckFwcGxpZXM6ZyxlPW4mJm4udGNTdHJpbmc7cmV0dXJuISgiYm9vbGVhbiI9PXR5cGVvZiB0JiYoITAhPT10fHxvLmlzU3RyKGUpKSl9Om51bGw7di5kZWZpbmVkSW5Db25maWcmJjI9PT1iP28ubG9nV2FybigiJ2FsbG93QXVjdGlvbldpdGhvdXRDb25zZW50JyBpZ25vcmVkIGZvciBUQ0YgMiIpOnYuZGVmaW5lZEluQ29uZmlnfHwxIT09Ynx8by5sb2dJbmZvKCInYWxsb3dBdWN0aW9uV2l0aG91dENvbnNlbnQnIHVzaW5nIHN5c3RlbSBkZWZhdWx0OiAoIi5jb25jYXQodHJ1ZSwiKS4iKSksby5pc0ZuKGUpP2Uobik/aCgiQ01QIHJldHVybmVkIHVuZXhwZWN0ZWQgdmFsdWUgZHVyaW5nIGxvb2t1cCBwcm9jZXNzLiIsdCxuKTooY2xlYXJUaW1lb3V0KHQudGltZXIpLEEobiksUChudWxsLHQpKTpoKCJVbmFibGUgdG8gZGVyaXZlIENNUCB2ZXJzaW9uIHRvIHByb2Nlc3MgZGF0YS4gIENvbnNlbnQgb2JqZWN0IGRvZXMgbm90IGNvbmZvcm0gdG8gVENGIHYxIG9yIHYyIHNwZWNzLiIsdCxuKX1mdW5jdGlvbiBNKG4pe2goIkNNUCB3b3JrZmxvdyBleGNlZWRlZCB0aW1lb3V0IHRocmVzaG9sZC4iLG4pfWZ1bmN0aW9uIGgobix0LGUpe2NsZWFyVGltZW91dCh0LnRpbWVyKSx2LnZhbHVlJiYxPT09YiYmQSh2b2lkIDApLFAobix0LGUpfWZ1bmN0aW9uIEEobil7MT09PWI/Qz17Y29uc2VudFN0cmluZzpuP24uZ2V0Q29uc2VudERhdGEuY29uc2VudERhdGE6dm9pZCAwLHZlbmRvckRhdGE6bj9uLmdldFZlbmRvckNvbnNlbnRzOnZvaWQgMCxnZHByQXBwbGllczpuP24uZ2V0Q29uc2VudERhdGEuZ2RwckFwcGxpZXM6Z306KEM9e2NvbnNlbnRTdHJpbmc6bj9uLnRjU3RyaW5nOnZvaWQgMCx2ZW5kb3JEYXRhOm58fHZvaWQgMCxnZHByQXBwbGllczpuJiYiYm9vbGVhbiI9PXR5cGVvZiBuLmdkcHJBcHBsaWVzP24uZ2RwckFwcGxpZXM6Z30sbiYmbi5hZGR0bENvbnNlbnQmJm8uaXNTdHIobi5hZGR0bENvbnNlbnQpJiYoQy5hZGR0bENvbnNlbnQ9bi5hZGR0bENvbnNlbnQpKSxDLmFwaVZlcnNpb249YixpLmdkcHJEYXRhSGFuZGxlci5zZXRDb25zZW50RGF0YShDKX1mdW5jdGlvbiBQKG4sdCxlKXtpZighMT09PXQuaGF2ZUV4aXRlZCl7dC5oYXZlRXhpdGVkPSEwO3ZhciBhPXQuY29udGV4dCxpPXQuYXJncyxyPXQubmV4dEZuO24/di52YWx1ZSYmMT09PWI/KG8ubG9nV2FybihuKyIgJ2FsbG93QXVjdGlvbldpdGhvdXRDb25zZW50JyBhY3RpdmF0ZWQuIixlKSxyLmFwcGx5KGEsaSkpOihvLmxvZ0Vycm9yKG4rIiBDYW5jZWxpbmcgYXVjdGlvbiBhcyBwZXIgY29uc2VudE1hbmFnZW1lbnQgY29uZmlnLiIsZSksImZ1bmN0aW9uIj09dHlwZW9mIHQuYmlkc0JhY2tIYW5kbGVyP3QuYmlkc0JhY2tIYW5kbGVyKCk6by5sb2dFcnJvcigiRXJyb3IgZXhlY3V0aW5nIGJpZHNCYWNrSGFuZGxlciIpKTpyLmFwcGx5KGEsaSl9fWZ1bmN0aW9uIEkobil7KG49biYmKG4uZ2Rwcnx8bi51c3A/bi5nZHByOm4pKSYmIm9iamVjdCI9PT1sKG4pPyhvLmlzU3RyKG4uY21wQXBpKT9mPW4uY21wQXBpOihmPSJpYWIiLG8ubG9nSW5mbygiY29uc2VudE1hbmFnZW1lbnQgY29uZmlnIGRpZCBub3Qgc3BlY2lmeSBjbXAuICBVc2luZyBzeXN0ZW0gZGVmYXVsdCBzZXR0aW5nICgiLmNvbmNhdCgiaWFiIiwiKS4iKSkpLG8uaXNOdW1iZXIobi50aW1lb3V0KT9wPW4udGltZW91dDoocD0xZTQsby5sb2dJbmZvKCJjb25zZW50TWFuYWdlbWVudCBjb25maWcgZGlkIG5vdCBzcGVjaWZ5IHRpbWVvdXQuICBVc2luZyBzeXN0ZW0gZGVmYXVsdCBzZXR0aW5nICgiLmNvbmNhdCgxZTQsIikuIikpKSwiYm9vbGVhbiI9PXR5cGVvZiBuLmFsbG93QXVjdGlvbldpdGhvdXRDb25zZW50JiYodi52YWx1ZT1uLmFsbG93QXVjdGlvbldpdGhvdXRDb25zZW50LHYuZGVmaW5lZEluQ29uZmlnPSEwKSxnPSEwPT09bi5kZWZhdWx0R2RwclNjb3BlLG8ubG9nSW5mbygiY29uc2VudE1hbmFnZW1lbnQgbW9kdWxlIGhhcyBiZWVuIGFjdGl2YXRlZC4uLiIpLCJzdGF0aWMiPT09ZiYmKG8uaXNQbGFpbk9iamVjdChuLmNvbnNlbnREYXRhKT8obT1uLmNvbnNlbnREYXRhLHA9MCk6by5sb2dFcnJvcigiY29uc2VudE1hbmFnZW1lbnQgY29uZmlnIHdpdGggY21wQXBpOiAnc3RhdGljJyBkaWQgbm90IHNwZWNpZnkgY29uc2VudERhdGEuIE5vIGNvbnNlbnRzIHdpbGwgYmUgYXZhaWxhYmxlIHRvIGFkYXB0ZXJzLiIpKSx5fHx1cGJqcy5yZXF1ZXN0Qmlkcy5iZWZvcmUoRCw1MCkseT0hMCk6by5sb2dXYXJuKCJjb25zZW50TWFuYWdlbWVudCBjb25maWcgbm90IGRlZmluZWQsIGV4aXRpbmcgY29uc2VudCBtYW5hZ2VyIil9YS5iLmdldENvbmZpZygiY29uc2VudE1hbmFnZW1lbnQiLChmdW5jdGlvbihuKXtyZXR1cm4gSShuLmNvbnNlbnRNYW5hZ2VtZW50KX0pKX19LFszNDVdKTsKdXBianNDaHVuayhbMjczXSx7MzUyOmZ1bmN0aW9uKHQsbixlKXt0LmV4cG9ydHM9ZSgzNTMpfSwzNTM6ZnVuY3Rpb24odCxuLGUpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5kKG4sImNvbnNlbnRBUEkiLChmdW5jdGlvbigpe3JldHVybiBjfSkpLGUuZChuLCJjb25zZW50VGltZW91dCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksZS5kKG4sInN0YXRpY0NvbnNlbnREYXRhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKSxuLnJlcXVlc3RCaWRzSG9vaz1mLG4ucmVzZXRDb25zZW50RGF0YT1mdW5jdGlvbigpe2w9dm9pZCAwLGM9dm9pZCAwLGkudXNwRGF0YUhhbmRsZXIuc2V0Q29uc2VudERhdGEobnVsbCl9LG4uc2V0Q29uc2VudENvbmZpZz1QO3ZhciBhPWUoMCksbz1lKDMpLGk9ZSg4KTtmdW5jdGlvbiBzKHQpe3JldHVybihzPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiB0fSkodCl9dmFyIGMscix1LGwsZD0hMSxwPXtpYWI6ZnVuY3Rpb24odCxuLGUpe3ZhciBvPSh1PXt9LHtjb25zZW50RGF0YUNhbGxiYWNrOmZ1bmN0aW9uKGEsbyl7byYmYS51c3BTdHJpbmcmJih1LnVzUHJpdmFjeT1hLnVzcFN0cmluZyksdS51c1ByaXZhY3k/dCh1LGUpOm4oIlVuYWJsZSB0byBnZXQgVVNQIGNvbnNlbnQgc3RyaW5nLiIsZSl9fSksaT17fSxzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0LG4sZT13aW5kb3c7IXQ7KXt0cnl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUuX191c3BhcGkpe249ZS5fX3VzcGFwaSx0PWU7YnJlYWt9fWNhdGNoKHQpe310cnl7aWYoZS5mcmFtZXMuX191c3BhcGlMb2NhdG9yKXt0PWU7YnJlYWt9fWNhdGNoKHQpe31pZihlPT09d2luZG93LnRvcClicmVhaztlPWUucGFyZW50fXJldHVybnt1c3BhcGlGcmFtZTp0LHVzcGFwaUZ1bmN0aW9uOm59fSgpLGM9cy51c3BhcGlGcmFtZSxyPXMudXNwYXBpRnVuY3Rpb247dmFyIHU7aWYoIWMpcmV0dXJuIG4oIlVTUCBDTVAgbm90IGZvdW5kLiIsZSk7YS5pc0ZuKHIpPyhhLmxvZ0luZm8oIkRldGVjdGVkIFVTUCBDTVAgaXMgZGlyZWN0bHkgYWNjZXNzaWJsZSwgY2FsbGluZyBpdCBub3cuLi4iKSxyKCJnZXRVU1BEYXRhIiwxLG8uY29uc2VudERhdGFDYWxsYmFjaykpOihhLmxvZ0luZm8oIkRldGVjdGVkIFVTUCBDTVAgaXMgb3V0c2lkZSB0aGUgY3VycmVudCBpZnJhbWUgd2hlcmUgUHJlYmlkLmpzIGlzIGxvY2F0ZWQsIGNhbGxpbmcgaXQgbm93Li4uIiksZnVuY3Rpb24odCxuLGUpe2Z1bmN0aW9uIGEodCl7dmFyIG49dCYmdC5kYXRhJiZ0LmRhdGEuX191c3BhcGlSZXR1cm47biYmbi5jYWxsSWQmJnZvaWQgMCE9PWlbbi5jYWxsSWRdJiYoaVtuLmNhbGxJZF0obi5yZXR1cm5WYWx1ZSxuLnN1Y2Nlc3MpLGRlbGV0ZSBpW24uY2FsbElkXSl9d2luZG93Ll9fdXNwYXBpPWZ1bmN0aW9uKHQsZSxhKXt2YXIgbz1NYXRoLnJhbmRvbSgpKyIiLHM9e19fdXNwYXBpQ2FsbDp7Y29tbWFuZDp0LHZlcnNpb246ZSxjYWxsSWQ6b319O2lbb109YSxuLnBvc3RNZXNzYWdlKHMsIioiKX0sd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGEsITEpLHdpbmRvdy5fX3VzcGFwaSh0LDEsZSl9KCJnZXRVU1BEYXRhIixjLG8uY29uc2VudERhdGFDYWxsYmFjaykpfSxzdGF0aWM6ZnVuY3Rpb24odCxuLGUpe3QodSxlKX19O2Z1bmN0aW9uIGYodCxuKXt2YXIgZT17Y29udGV4dDp0aGlzLGFyZ3M6W25dLG5leHRGbjp0LGFkVW5pdHM6bi5hZFVuaXRzfHx1cGJqcy5hZFVuaXRzLGJpZHNCYWNrSGFuZGxlcjpuLmJpZHNCYWNrSGFuZGxlcixoYXZlRXhpdGVkOiExLHRpbWVyOm51bGx9O2lmKCFwW2NdKXJldHVybiBhLmxvZ1dhcm4oIlVTUCBmcmFtZXdvcmsgKCIuY29uY2F0KGMsIikgaXMgbm90IGEgc3VwcG9ydGVkIGZyYW1ld29yay4gQWJvcnRpbmcgY29uc2VudE1hbmFnZW1lbnQgbW9kdWxlIGFuZCByZXN1bWluZyBhdWN0aW9uLiIpKSxlLm5leHRGbi5hcHBseShlLmNvbnRleHQsZS5hcmdzKTtwW2NdLmNhbGwodGhpcyxnLGIsZSksZS5oYXZlRXhpdGVkfHwoMD09PXI/Zyh2b2lkIDAsZSk6ZS50aW1lcj1zZXRUaW1lb3V0KG0uYmluZChudWxsLGUpLHIpKX1mdW5jdGlvbiBnKHQsbil7IXR8fCF0LnVzUHJpdmFjeT9iKCJVU1BBUEkgcmV0dXJuZWQgdW5leHBlY3RlZCB2YWx1ZSBkdXJpbmcgbG9va3VwIHByb2Nlc3MuIixuLHQpOihjbGVhclRpbWVvdXQobi50aW1lciksZnVuY3Rpb24odCl7dCYmdC51c1ByaXZhY3kmJihsPXQudXNQcml2YWN5LGkudXNwRGF0YUhhbmRsZXIuc2V0Q29uc2VudERhdGEobCkpfSh0KSx5KG51bGwsbikpfWZ1bmN0aW9uIG0odCl7YigiVVNQQVBJIHdvcmtmbG93IGV4Y2VlZGVkIHRpbWVvdXQgdGhyZXNob2xkLiIsdCl9ZnVuY3Rpb24gYih0LG4sZSl7Y2xlYXJUaW1lb3V0KG4udGltZXIpLHkodCxuLGUpfWZ1bmN0aW9uIHkodCxuLGUpe2lmKCExPT09bi5oYXZlRXhpdGVkKXtuLmhhdmVFeGl0ZWQ9ITA7dmFyIG89bi5jb250ZXh0LGk9bi5hcmdzLHM9bi5uZXh0Rm47dCYmYS5sb2dXYXJuKHQrIiBSZXN1bWluZyBhdWN0aW9uIHdpdGhvdXQgY29uc2VudCBkYXRhIGFzIHBlciBjb25zZW50TWFuYWdlbWVudCBjb25maWcuIixlKSxzLmFwcGx5KG8saSl9fWZ1bmN0aW9uIFAodCl7KHQ9dCYmdC51c3ApJiYib2JqZWN0Ij09PXModCk/KGEuaXNTdHIodC5jbXBBcGkpP2M9dC5jbXBBcGk6KGM9ImlhYiIsYS5sb2dJbmZvKCJjb25zZW50TWFuYWdlbWVudC51c3AgY29uZmlnIGRpZCBub3Qgc3BlY2lmeSBjbXBBcGkuIFVzaW5nIHN5c3RlbSBkZWZhdWx0IHNldHRpbmcgKCIuY29uY2F0KCJpYWIiLCIpLiIpKSksYS5pc051bWJlcih0LnRpbWVvdXQpP3I9dC50aW1lb3V0OihyPTUwLGEubG9nSW5mbygiY29uc2VudE1hbmFnZW1lbnQudXNwIGNvbmZpZyBkaWQgbm90IHNwZWNpZnkgdGltZW91dC4gVXNpbmcgc3lzdGVtIGRlZmF1bHQgc2V0dGluZyAoIi5jb25jYXQoNTAsIikuIikpKSxhLmxvZ0luZm8oIlVTUEFQSSBjb25zZW50TWFuYWdlbWVudCBtb2R1bGUgaGFzIGJlZW4gYWN0aXZhdGVkLi4uIiksInN0YXRpYyI9PT1jJiYoYS5pc1BsYWluT2JqZWN0KHQuY29uc2VudERhdGEpJiZhLmlzUGxhaW5PYmplY3QodC5jb25zZW50RGF0YS5nZXRVU1BEYXRhKT8odC5jb25zZW50RGF0YS5nZXRVU1BEYXRhLnVzcFN0cmluZyYmKHU9e3VzUHJpdmFjeTp0LmNvbnNlbnREYXRhLmdldFVTUERhdGEudXNwU3RyaW5nfSkscj0wKTphLmxvZ0Vycm9yKCJjb25zZW50TWFuYWdlbWVudCBjb25maWcgd2l0aCBjbXBBcGk6ICdzdGF0aWMnIGRpZCBub3Qgc3BlY2lmeSBjb25zZW50RGF0YS4gTm8gY29uc2VudHMgd2lsbCBiZSBhdmFpbGFibGUgdG8gYWRhcHRlcnMuIikpLGR8fHVwYmpzLnJlcXVlc3RCaWRzLmJlZm9yZShmLDUwKSxkPSEwKTphLmxvZ1dhcm4oImNvbnNlbnRNYW5hZ2VtZW50LnVzcCBjb25maWcgbm90IGRlZmluZWQsIGV4aXRpbmcgdXNwIGNvbnNlbnQgbWFuYWdlciIpfW8uYi5nZXRDb25maWcoImNvbnNlbnRNYW5hZ2VtZW50IiwoZnVuY3Rpb24odCl7cmV0dXJuIFAodC5jb25zZW50TWFuYWdlbWVudCl9KSl9fSxbMzUyXSk7CnVwYmpzQ2h1bmsoWzI3Ml0sezM1NDpmdW5jdGlvbihlLHIsbil7ZS5leHBvcnRzPW4oMzU1KX0sMzU1OmZ1bmN0aW9uKGUscixuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKTt2YXIgdD1uKDApLGk9bigxKTtmdW5jdGlvbiBzKCl7cmV0dXJuKHM9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIG49YXJndW1lbnRzW3JdO2Zvcih2YXIgdCBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHQpJiYoZVt0XT1uW3RdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgYT0wLGQ9ImNvbnN1bWFibGUiLHU9e2NvZGU6ImNvbnN1bWFibGUiLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhKGUucGFyYW1zLm5ldHdvcmtJZCYmZS5wYXJhbXMuc2l0ZUlkJiZlLnBhcmFtcy51bml0SWQmJmUucGFyYW1zLnVuaXROYW1lKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciBuPXttZXRob2Q6IlBPU1QiLHVybDoiIixkYXRhOiIiLGJpZFJlcXVlc3Q6W119O2lmKGUubGVuZ3RoPDEpcmV0dXJuIG47YT1lWzBdLnBhcmFtcy5zaXRlSWQsZD1lWzBdLmJpZGRlcjt2YXIgdD1zKHtwbGFjZW1lbnRzOltdLHRpbWU6RGF0ZS5ub3coKSx1cmw6ci5yZWZlcmVySW5mby5yZWZlcmVyLHJlZmVycmVyOmRvY3VtZW50LnJlZmVycmVyLHNvdXJjZTpbe25hbWU6InByZWJpZGpzIix2ZXJzaW9uOiI1LjExLjAifV19LGVbMF0ucGFyYW1zKTtyZXR1cm4gciYmci5nZHByQ29uc2VudCYmKHQuZ2Rwcj17Y29uc2VudDpyLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcsYXBwbGllczoiYm9vbGVhbiIhPXR5cGVvZiByLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzfHxyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzfSksciYmci51c3BDb25zZW50JiYodC5jY3BhPXIudXNwQ29uc2VudCksZS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciByPWUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc3x8ZS5zaXplc3x8W10sbj1zKHtkaXZOYW1lOmUuYmlkSWQsYWRUeXBlczplLmFkVHlwZXN8fHAocil9LGUucGFyYW1zKTtuLm5ldHdvcmtJZCYmbi5zaXRlSWQmJm4udW5pdElkJiZuLnVuaXROYW1lJiZ0LnBsYWNlbWVudHMucHVzaChuKX0pKSxuLmRhdGE9SlNPTi5zdHJpbmdpZnkodCksbi5iaWRSZXF1ZXN0PWUsbi5iaWRkZXJSZXF1ZXN0PXIsbi51cmw9Imh0dHBzOi8vZS5zZXJ2ZXJiaWQuY29tL2FwaS92MiIsbn0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgbix0LGkscyxhPVtdO3Q9ci5iaWRSZXF1ZXN0LGU9KGV8fHt9KS5ib2R5O2Zvcih2YXIgZD0wO2Q8dC5sZW5ndGg7ZCsrKWlmKG49e30saT0ocz10W2RdKS5iaWRJZCxlKXt2YXIgdT1lLmRlY2lzaW9ucyYmZS5kZWNpc2lvbnNbaV0sbz11JiZ1LnByaWNpbmcmJnUucHJpY2luZy5jbGVhclByaWNlO3UmJm8mJihuLnJlcXVlc3RJZD1pLG4uY3BtPW8sbi53aWR0aD11LndpZHRoLG4uaGVpZ2h0PXUuaGVpZ2h0LG4udW5pdElkPXMucGFyYW1zLnVuaXRJZCxuLnVuaXROYW1lPXMucGFyYW1zLnVuaXROYW1lLG4uYWQ9Yyh1LG4udW5pdElkLG4udW5pdE5hbWUpLG4uY3VycmVuY3k9IlVTRCIsbi5jcmVhdGl2ZUlkPXUuYWRJZCxuLnR0bD0zMCxuLm1ldGE9e2FkdmVydGlzZXJEb21haW5zOnUuYWRvbWFpbj91LmFkb21haW46W119LG4ubmV0UmV2ZW51ZT0hMCxuLnJlZmVycmVyPXIuYmlkZGVyUmVxdWVzdC5yZWZlcmVySW5mby5yZWZlcmVyLGEucHVzaChuKSl9cmV0dXJuIGF9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIpe3JldHVybiBlLmlmcmFtZUVuYWJsZWQ/W3t0eXBlOiJpZnJhbWUiLHVybDoiaHR0cHM6Ly9zeW5jLnNlcnZlcmJpZC5jb20vc3MvIithKyIuaHRtbCJ9XTplLnBpeGVsRW5hYmxlZCYmci5sZW5ndGg+MD9yWzBdLmJvZHkucGl4ZWxzOnZvaWQgdC5sb2dXYXJuKGQrIjogUGxlYXNlIGVuYWJsZSBpZnJhbWUgYmFzZWQgdXNlciBzeW5jaW5nLiIpfX0sbz1bbnVsbCwiMTIweDkwIiwiMTIweDkwIiwiNDY4eDYwIiwiNzI4eDkwIiwiMzAweDI1MCIsIjE2MHg2MDAiLCIxMjB4NjAwIiwiMzAweDEwMCIsIjE4MHgxNTAiLCIzMzZ4MjgwIiwiMjQweDQwMCIsIjIzNHg2MCIsIjg4eDMxIiwiMTIweDYwIiwiMTIweDI0MCIsIjEyNXgxMjUiLCIyMjB4MjUwIiwiMjUweDI1MCIsIjI1MHg5MCIsIjB4MCIsIjIwMHg5MCIsIjMwMHg1MCIsIjMyMHg1MCIsIjMyMHg0ODAiLCIxODV4MTg1IiwiNjIweDQ1IiwiMzAweDEyNSIsIjgwMHgyNTAiXTtmdW5jdGlvbiBwKGUpe3ZhciByPVtdO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPW8uaW5kZXhPZihlWzBdKyJ4IitlWzFdKTtuPj0wJiZyLnB1c2gobil9KSkscn1mdW5jdGlvbiBjKGUscixuKXtyZXR1cm4gZS5jb250ZW50cyYmZS5jb250ZW50c1swXSYmZS5jb250ZW50c1swXS5ib2R5K3QuY3JlYXRlVHJhY2tQaXhlbEh0bWwoZS5pbXByZXNzaW9uVXJsKX1vWzc3XT0iOTcweDkwIixvWzEyM109Ijk3MHgyNTAiLG9bNDNdPSIzMDB4NjAwIixvWzI4Nl09Ijk3MHg2NiIsb1szMjMwXT0iOTcweDI4MCIsb1s0MjldPSI0ODZ4NjAiLG9bMzc0XT0iNzAweDUwMCIsb1s5MzRdPSIzMDB4MTA1MCIsb1sxNTc4XT0iMzIweDEwMCIsb1szMzFdPSIzMjB4MjUwIixvWzMzMDFdPSIzMjB4MjY3IixvWzI3MzBdPSI3Mjh4MjUwIixPYmplY3QoaS5yZWdpc3RlckJpZGRlcikodSl9fSxbMzU0XSk7CnVwYmpzQ2h1bmsoWzI3MF0sezM1ODpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoMzU5KX0sMzU5OmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJzdG9yYWdlIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKSx0LmQociwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSk7dmFyIGE9dCgwKSxuPXQoMSksaT10KDIpLG89dCg3KTtmdW5jdGlvbiBzKGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBjKGUpfShlKXx8ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPWVbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9ZVsiQEBpdGVyYXRvciJdKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8ZnVuY3Rpb24oZSxyKXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBjKGUscik7dmFyIHQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09dCYmZS5jb25zdHJ1Y3RvciYmKHQ9ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PXR8fCJTZXQiPT09dClyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PXR8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpKXJldHVybiBjKGUscil9KGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGMoZSxyKXsobnVsbD09cnx8cj5lLmxlbmd0aCkmJihyPWUubGVuZ3RoKTtmb3IodmFyIHQ9MCxhPW5ldyBBcnJheShyKTt0PHI7dCsrKWFbdF09ZVt0XTtyZXR1cm4gYX12YXIgZD1PYmplY3Qoby5iKSgyNCksdT0iY29udmVyc2FudCIscD17Y29kZTp1LGd2bGlkOjI0LGFsaWFzZXM6WyJjbnZyIl0sc3VwcG9ydGVkTWVkaWFUeXBlczpbaS5iLGkuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7aWYoIWV8fCFlLnBhcmFtcylyZXR1cm4gYS5sb2dXYXJuKCJjb252ZXJzYW50OiBNaXNzaW5nIGJpZCBwYXJhbWV0ZXJzIiksITE7aWYoIWEuaXNTdHIoZS5wYXJhbXMuc2l0ZV9pZCkpcmV0dXJuIGEubG9nV2FybigiY29udmVyc2FudDogc2l0ZV9pZCBtdXN0IGJlIHNwZWNpZmllZCBhcyBhIHN0cmluZyIpLCExO2lmKGwoZSkpe3ZhciByPWUucGFyYW1zLm1pbWVzfHxhLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5taW1lcyIpO2lmKHIpe2lmKCFhLmlzQXJyYXkocil8fCFyLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gYS5pc1N0cihlKX0pKSlyZXR1cm4gYS5sb2dXYXJuKCJjb252ZXJzYW50OiBtaW1lcyBtdXN0IGJlIGFuIGFycmF5IG9mIHN0cmluZ3MiKSwhMX1lbHNlIGEubG9nV2FybigiY29udmVyc2FudDogbWltZXMgc2hvdWxkIGJlIHNwZWNpZmllZCBmb3IgdmlkZW9zIil9cmV0dXJuITB9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgdCxuPXImJnIucmVmZXJlckluZm8/ci5yZWZlcmVySW5mby5yZWZlcmVyOiIiLGk9IiIsbz0iIixzPW51bGwsYz0iX3B1YmNpZCIsdT0iaHR0cHM6Ly93ZWIuaGIuYWQuY3BlLmRvdG9taS5jb20vY3Z4L2NsaWVudC9oYi9vcnRiLzI1IixwPWUubWFwKChmdW5jdGlvbihlKXt2YXIgcj1mdW5jdGlvbihlKXt2YXIgcj1hLmdldEJpZElkUGFyYW1ldGVyKCJiaWRmbG9vciIsZS5wYXJhbXMpO2lmKCFyJiZhLmlzRm4oZS5nZXRGbG9vcikpe3ZhciB0PWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZToiKiIsc2l6ZToiKiJ9KTthLmlzUGxhaW5PYmplY3QodCkmJiFpc05hTih0LmZsb29yKSYmIlVTRCI9PT10LmN1cnJlbmN5JiYocj10LmZsb29yKX1yZXR1cm4gcn0oZSk7aT1hLmdldEJpZElkUGFyYW1ldGVyKCJzaXRlX2lkIixlLnBhcmFtcyl8fGksYz1hLmdldEJpZElkUGFyYW1ldGVyKCJwdWJjaWRfbmFtZSIsZS5wYXJhbXMpfHxjLG89ZS5hdWN0aW9uSWQ7dmFyIHQ9e2lkOmUuYmlkSWQsc2VjdXJlOjEsYmlkZmxvb3I6cnx8MCxkaXNwbGF5bWFuYWdlcjoiUHJlYmlkLmpzIixkaXNwbGF5bWFuYWdlcnZlcjoiNS4xMS4wIn07aWYoZihlLnBhcmFtcy50YWdfaWQsdCwidGFnaWQiKSxsKGUpKXt2YXIgbj1hLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlbyIpfHx7fSxkPW0obi5wbGF5ZXJTaXplfHxlLnNpemVzKSxwPXt9O2QmJmRbMF0mJihmKGRbMF0udyxwLCJ3IiksZihkWzBdLmgscCwiaCIpKSxmKGUucGFyYW1zLnBvc2l0aW9uLHAsInBvcyIpLGYoZS5wYXJhbXMubWltZXN8fG4ubWltZXMscCwibWltZXMiKSxmKGUucGFyYW1zLm1heGR1cmF0aW9ufHxuLm1heGR1cmF0aW9uLHAsIm1heGR1cmF0aW9uIiksZihlLnBhcmFtcy5wcm90b2NvbHN8fG4ucHJvdG9jb2xzLHAsInByb3RvY29scyIpLGYoZS5wYXJhbXMuYXBpfHxuLmFwaSxwLCJhcGkiKSx0LnZpZGVvPXB9ZWxzZXt2YXIgZz17Zm9ybWF0Om0oKGEuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLmJhbm5lciIpfHx7fSkuc2l6ZXN8fGUuc2l6ZXMpfTtmKGUucGFyYW1zLnBvc2l0aW9uLGcsInBvcyIpLHQuYmFubmVyPWd9cmV0dXJuIGUudXNlcklkJiZlLnVzZXJJZC5wdWJjaWQ/cz1lLnVzZXJJZC5wdWJjaWQ6ZS5jcnVtYnMmJmUuY3J1bWJzLnB1YmNpZCYmKHM9ZS5jcnVtYnMucHViY2lkKSxlLnBhcmFtcy53aGl0ZV9sYWJlbF91cmwmJih1PWUucGFyYW1zLndoaXRlX2xhYmVsX3VybCksdH0pKSxnPXtpZDpvLGltcDpwLHNpdGU6e2lkOmksbW9iaWxlOm51bGwhPT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9InZpZXdwb3J0Il1bY29udGVudCo9IndpZHRoPWRldmljZS13aWR0aCJdJyk/MTowLHBhZ2U6bn0sZGV2aWNlOih0PW5hdmlnYXRvci5sYW5ndWFnZT8ibGFuZ3VhZ2UiOiJ1c2VyTGFuZ3VhZ2UiLHtoOnNjcmVlbi5oZWlnaHQsdzpzY3JlZW4ud2lkdGgsZG50OiIxIj09PW5hdmlnYXRvci5kb05vdFRyYWNrfHwiMSI9PT13aW5kb3cuZG9Ob3RUcmFja3x8IjEiPT09bmF2aWdhdG9yLm1zRG9Ob1RyYWNrfHwieWVzIj09PW5hdmlnYXRvci5kb05vdFRyYWNrPzE6MCxsYW5ndWFnZTpuYXZpZ2F0b3JbdF0uc3BsaXQoIi0iKVswXSxtYWtlOm5hdmlnYXRvci52ZW5kb3I/bmF2aWdhdG9yLnZlbmRvcjoiIix1YTpuYXZpZ2F0b3IudXNlckFnZW50fSksYXQ6MX0sdj17fTtyJiYoci5nZHByQ29uc2VudCYmKHYuY29uc2VudD1yLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcsImJvb2xlYW4iPT10eXBlb2Ygci5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmYS5kZWVwU2V0VmFsdWUoZywicmVncy5leHQuZ2RwciIsci5nZHByQ29uc2VudC5nZHByQXBwbGllcz8xOjApKSxyLnVzcENvbnNlbnQmJmEuZGVlcFNldFZhbHVlKGcsInJlZ3MuZXh0LnVzX3ByaXZhY3kiLHIudXNwQ29uc2VudCkpLHN8fChzPWZ1bmN0aW9uKGUpe3ZhciByO3RyeXtpZighKHI9ZC5nZXRDb29raWUoZSkpKXt2YXIgdD1kLmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKCIiLmNvbmNhdChlLCJfZXhwIikpOygiIj09PXR8fHQmJm5ldyBEYXRlKHQpLmdldFRpbWUoKS1EYXRlLm5vdygpPjApJiYocj0ocj1kLmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKGUpKT9kZWNvZGVVUklDb21wb25lbnQocik6cil9YS5pc1N0cihyKSYmInsiPT09ci5jaGFyQXQoMCkmJihyPUpTT04ucGFyc2UocikpfWNhdGNoKGUpe2EubG9nRXJyb3IoZSl9cmV0dXJuIHJ9KGMpKSxzJiYodi5mcGM9cyk7dmFyIHk9ZnVuY3Rpb24oZSl7dmFyIHI9ZVswXSx0PVtdO2lmKGEuaXNBcnJheShyLnVzZXJJZEFzRWlkcykmJnIudXNlcklkQXNFaWRzLmxlbmd0aD4wKXt2YXIgbj17ImFkc2VydmVyLm9yZyI6MSwibGl2ZXJhbXAuY29tIjoxLCJjcml0ZW8uY29tIjoxLCJpZDUtc3luYy5jb20iOjEsInBhcnJhYmxlLmNvbSI6MSwibGl2ZWludGVudC5jb20iOjF9O3IudXNlcklkQXNFaWRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe24uaGFzT3duUHJvcGVydHkoZS5zb3VyY2UpJiZ0LnB1c2goZSl9KSl9cmV0dXJuIHR9KGUpO3JldHVybiB5Lmxlbmd0aD4wJiYodi5laWRzPXkpLGEuaXNFbXB0eSh2KXx8KGcudXNlcj17ZXh0OnZ9KSx7bWV0aG9kOiJQT1NUIix1cmw6dSxkYXRhOmd9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciB0PVtdLG49e307cmV0dXJuIGU9ZS5ib2R5LHImJnIuZGF0YSYmci5kYXRhLmltcCYmYS5fZWFjaChyLmRhdGEuaW1wLChmdW5jdGlvbihlKXtyZXR1cm4gbltlLmlkXT1lfSkpLGUmJmEuaXNBcnJheShlLnNlYXRiaWQpJiZhLl9lYWNoKGUuc2VhdGJpZCwoZnVuY3Rpb24ocil7YS5fZWFjaChyLmJpZCwoZnVuY3Rpb24ocil7dmFyIGE9cGFyc2VGbG9hdChyLnByaWNlKTtpZihhPjAmJnIuaW1waWQpe3ZhciBpPXIuYWRtfHwiIixvPXIubnVybHx8IiIscz1uW3IuaW1waWRdLGM9e3JlcXVlc3RJZDpyLmltcGlkLGN1cnJlbmN5OmUuY3VyfHwiVVNEIixjcG06YSxjcmVhdGl2ZUlkOnIuY3JpZHx8IiIsdHRsOjMwMCxuZXRSZXZlbnVlOiEwLG1ldGE6e319O3IuYWRvbWFpbiYmci5hZG9tYWluLmxlbmd0aD4wJiYoYy5tZXRhLmFkdmVydGlzZXJEb21haW5zPXIuYWRvbWFpbikscy52aWRlbz8oIjwiPT09aS5jaGFyQXQoMCk/Yy52YXN0WG1sPWk6Yy52YXN0VXJsPWksYy5tZWRpYVR5cGU9InZpZGVvIixjLndpZHRoPXMudmlkZW8udyxjLmhlaWdodD1zLnZpZGVvLmgpOihjLmFkPWkrJzxpbWcgc3JjPSInK28rJyIgLz4nLGMud2lkdGg9ci53LGMuaGVpZ2h0PXIuaCksdC5wdXNoKGMpfX0pKX0pKSx0fSx0cmFuc2Zvcm1CaWRQYXJhbXM6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gYS5jb252ZXJ0VHlwZXMoe3NpdGVfaWQ6InN0cmluZyIsc2VjdXJlOiJudW1iZXIiLG1vYmlsZToibnVtYmVyIn0sZSl9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIsdCxuKXt2YXIgaT17fSxvPVtdO2lmKHQmJihpLmdkcHI9dC5nZHByQXBwbGllcz8xOjAsaS5nZHByX2NvbnNlbnQ9ZW5jb2RlVVJJQ29tcG9uZW50KHQuY29uc2VudFN0cmluZ3x8IiIpKSxuJiYoaS51c19wcml2YWN5PWVuY29kZVVSSUNvbXBvbmVudChuKSksciYmci5leHQpe3ZhciBjPVt7dXJsczpyLmV4dC5mc3luY3MsdHlwZToiaWZyYW1lIn0se3VybHM6ci5leHQucHN5bmNzLHR5cGU6ImltYWdlIn1dLmZpbHRlcigoZnVuY3Rpb24ocil7cmV0dXJuIHIudXJscyYmKCJpZnJhbWUiPT09ci50eXBlJiZlLmlmcmFtZUVuYWJsZWR8fCJpbWFnZSI9PT1yLnR5cGUmJmUucGl4ZWxFbmFibGVkKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnVybHMubWFwKChmdW5jdGlvbihyKXt2YXIgdD1hLnBhcnNlVXJsKHIpO3JldHVybiBhLm1lcmdlRGVlcCh0LnNlYXJjaCxpKSwwPT09T2JqZWN0LmtleXModC5zZWFyY2gpLmxlbmd0aCYmZGVsZXRlIHQuc2VhcmNoLHt0eXBlOmUudHlwZSx1cmw6YS5idWlsZFVybCh0KX19KSkucmVkdWNlKChmdW5jdGlvbihlLHIpe3JldHVybiBlLmNvbmNhdChyKX0pLFtdKX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7cmV0dXJuIGUuY29uY2F0KHIpfSksW10pO28ucHVzaC5hcHBseShvLHMoYykpfXJldHVybiBvfX07ZnVuY3Rpb24gbShlKXt2YXIgcjtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmKHI9Mj09PWUubGVuZ3RoJiYibnVtYmVyIj09dHlwZW9mIGVbMF0mJiJudW1iZXIiPT10eXBlb2YgZVsxXT9be3c6ZVswXSxoOmVbMV19XTphLl9tYXAoZSwoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSkpKSxyfWZ1bmN0aW9uIGwoZSl7cmV0dXJuInZpZGVvIj09PWUubWVkaWFUeXBlfHwhIWEuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvIil9ZnVuY3Rpb24gZihlLHIsdCl7ZSYmKHJbdF09ZSl9T2JqZWN0KG4ucmVnaXN0ZXJCaWRkZXIpKHApfX0sWzM1OF0pOwp1cGJqc0NodW5rKFsxXSx7MzY0OmZ1bmN0aW9uKHQsZSxyKXt0LmV4cG9ydHM9cigzNjUpfSwzNjU6ZnVuY3Rpb24obW9kdWxlLF9fd2VicGFja19leHBvcnRzX18sX193ZWJwYWNrX3JlcXVpcmVfXyl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3dlYnBhY2tfZXhwb3J0c19fLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywiQURBUFRFUl9WRVJTSU9OIiwoZnVuY3Rpb24oKXtyZXR1cm4gQURBUFRFUl9WRVJTSU9OfSkpLF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCJQUk9GSUxFX0lEX1BVQkxJU0hFUlRBRyIsKGZ1bmN0aW9uKCl7cmV0dXJuIFBST0ZJTEVfSURfUFVCTElTSEVSVEFHfSkpLF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCJGQVNUX0JJRF9WRVJTSU9OX0NVUlJFTlQiLChmdW5jdGlvbigpe3JldHVybiBGQVNUX0JJRF9WRVJTSU9OX0NVUlJFTlR9KSksX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBzcGVjfSkpLF9fd2VicGFja19leHBvcnRzX18uY2FuRmFzdEJpZD1jYW5GYXN0QmlkLF9fd2VicGFja19leHBvcnRzX18uZ2V0RmFzdEJpZFVybD1nZXRGYXN0QmlkVXJsLF9fd2VicGFja19leHBvcnRzX18udHJ5R2V0Q3JpdGVvRmFzdEJpZD10cnlHZXRDcml0ZW9GYXN0QmlkO3ZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NyY19hZGxvYWRlcl9qc19fPV9fd2VicGFja19yZXF1aXJlX18oMzcpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fc3JjX2FkYXB0ZXJzX2JpZGRlckZhY3RvcnlfanNfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fc3JjX2NvbmZpZ19qc19fPV9fd2VicGFja19yZXF1aXJlX18oMyksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19zcmNfbWVkaWFUeXBlc19qc19fPV9fd2VicGFja19yZXF1aXJlX18oMiksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfdXRpbHNfanNfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9jb3JlX2pzX3B1cmVfZmVhdHVyZXNfYXJyYXlfZmluZF9qc19fPV9fd2VicGFja19yZXF1aXJlX18oMTEpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9jb3JlX2pzX3B1cmVfZmVhdHVyZXNfYXJyYXlfZmluZF9qc19fX2RlZmF1bHQ9X193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9jb3JlX2pzX3B1cmVfZmVhdHVyZXNfYXJyYXlfZmluZF9qc19fKSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfY3JpdGVvX2RpcmVjdF9yc2FfdmFsaWRhdGVfYnVpbGRfdmVyaWZ5X2pzX189X193ZWJwYWNrX3JlcXVpcmVfXyg3MCksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X2NyaXRlb19kaXJlY3RfcnNhX3ZhbGlkYXRlX2J1aWxkX3ZlcmlmeV9qc19fX2RlZmF1bHQ9X193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9jcml0ZW9fZGlyZWN0X3JzYV92YWxpZGF0ZV9idWlsZF92ZXJpZnlfanNfXyksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19zcmNfc3RvcmFnZU1hbmFnZXJfanNfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDcpO2Z1bmN0aW9uIF9leHRlbmRzKCl7cmV0dXJuKF9leHRlbmRzPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciByPWFyZ3VtZW50c1tlXTtmb3IodmFyIGkgaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixpKSYmKHRbaV09cltpXSl9cmV0dXJuIHR9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIEdWTElEPTkxLEFEQVBURVJfVkVSU0lPTj0zNCxCSURERVJfQ09ERT0iY3JpdGVvIixDREJfRU5EUE9JTlQ9Imh0dHBzOi8vYmlkZGVyLmNyaXRlby5jb20vY2RiIixQUk9GSUxFX0lEX0lOTElORT0yMDcsUFJPRklMRV9JRF9QVUJMSVNIRVJUQUc9MTg1LHN0b3JhZ2U9T2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fc3JjX3N0b3JhZ2VNYW5hZ2VyX2pzX18uYikoR1ZMSUQpLExPR19QUkVGSVg9IkNyaXRlbzogIixGQVNUX0JJRF9WRVJTSU9OX1BMQUNFSE9MREVSPSIlRkFTVF9CSURfVkVSU0lPTiUiLEZBU1RfQklEX1ZFUlNJT05fQ1VSUkVOVD0xMDUsRkFTVF9CSURfVkVSU0lPTl9MQVRFU1Q9ImxhdGVzdCIsRkFTVF9CSURfVkVSU0lPTl9OT05FPSJub25lIixQVUJMSVNIRVJfVEFHX1VSTF9URU1QTEFURT0iaHR0cHM6Ly9zdGF0aWMuY3JpdGVvLm5ldC9qcy9sZC9wdWJsaXNoZXJ0YWcucHJlYmlkIitGQVNUX0JJRF9WRVJTSU9OX1BMQUNFSE9MREVSKyIuanMiLEZBU1RfQklEX1BVQktFWV9FPTY1NTM3LEZBU1RfQklEX1BVQktFWV9OPSJ6dFFZd0NFNUJVN1Q5Q0RNNWhlNnJLb2Fic3RYUm1reng1NHpGUFprV2JLNTMwZHd0TEJEZWFXQk14SEJVVDU1Q1l5Ym9SL0VaNGVmZ2hQaTNDb05HZkdXZXpwamtvOVA2cDJFd0dBcnRIRWVTNHNsaHUvU3BTSUZNakc2ZmRycFJvTnVJQU1ocTFaK1ByLytIT2QxcFRoRktlR0ZyMi9OaHRBZytUWEF6YVU9IixzcGVjPXtjb2RlOkJJRERFUl9DT0RFLGd2bGlkOkdWTElELHN1cHBvcnRlZE1lZGlhVHlwZXM6W19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fc3JjX21lZGlhVHlwZXNfanNfXy5iLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fc3JjX21lZGlhVHlwZXNfanNfXy5kLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fc3JjX21lZGlhVHlwZXNfanNfXy5jXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbih0KXtyZXR1cm4hKCF0fHwhdC5wYXJhbXN8fCF0LnBhcmFtcy56b25lSWQmJiF0LnBhcmFtcy5uZXR3b3JrSWQpJiYhKGhhc1ZpZGVvTWVkaWFUeXBlKHQpJiYhaGFzVmFsaWRWaWRlb01lZGlhVHlwZSh0KSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24odCxlKXt2YXIgcixpLHM9X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19zcmNfY29uZmlnX2pzX18uYi5nZXRMZWdhY3lGcGQoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19zcmNfY29uZmlnX2pzX18uYi5nZXRDb25maWcoIm9ydGIyIikpfHx7fTtfZXh0ZW5kcyhlLHtwdWJsaXNoZXJFeHQ6cy5jb250ZXh0LHVzZXJFeHQ6cy51c2VyLGNlaDpfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX3NyY19jb25maWdfanNfXy5iLmdldENvbmZpZygiY3JpdGVvLmNlaCIpfSk7dmFyIGE9X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19zcmNfY29uZmlnX2pzX18uYi5nZXRDb25maWcoImNyaXRlby5mYXN0QmlkVmVyc2lvbiIpLF89Y2FuRmFzdEJpZChhKTtpZighcHVibGlzaGVyVGFnQXZhaWxhYmxlKCkmJl8pe3dpbmRvdy5Dcml0ZW89d2luZG93LkNyaXRlb3x8e30sd2luZG93LkNyaXRlby51c2VQcmViaWRFdmVudHM9ITEsdHJ5R2V0Q3JpdGVvRmFzdEJpZCgpO3ZhciBvPWdldEZhc3RCaWRVcmwoYSk7c2V0VGltZW91dCgoZnVuY3Rpb24oKXtPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zcmNfYWRsb2FkZXJfanNfXy5hKShvLEJJRERFUl9DT0RFKX0pLGUudGltZW91dCl9aWYocHVibGlzaGVyVGFnQXZhaWxhYmxlKCkpe3ZhciBuPW5ldyBDcml0ZW8uUHViVGFnLkFkYXB0ZXJzLlByZWJpZChQUk9GSUxFX0lEX1BVQkxJU0hFUlRBRyxBREFQVEVSX1ZFUlNJT04sdCxlLCI1LjExLjAiKTtyPW4uYnVpbGRDZGJVcmwoKSxpPW4uYnVpbGRDZGJSZXF1ZXN0KCl9ZWxzZXt2YXIgYz1idWlsZENvbnRleHQodCxlKTtyPWJ1aWxkQ2RiVXJsKGMpLGk9YnVpbGRDZGJSZXF1ZXN0KGMsdCxlKX1pZihpKXJldHVybnttZXRob2Q6IlBPU1QiLHVybDpyLGRhdGE6aSxiaWRSZXF1ZXN0czp0fX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24odCxlKXt2YXIgcj10LmJvZHl8fHQ7aWYocHVibGlzaGVyVGFnQXZhaWxhYmxlKCkpe3ZhciBpPUNyaXRlby5QdWJUYWcuQWRhcHRlcnMuUHJlYmlkLkdldEFkYXB0ZXIoZSk7aWYoaSlyZXR1cm4gaS5pbnRlcnByZXRSZXNwb25zZShyLGUpfXZhciBzPVtdO3JldHVybiByJiZyLnNsb3RzJiZfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY191dGlsc19qc19fLmlzQXJyYXkoci5zbG90cykmJnIuc2xvdHMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIHI9X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2NvcmVfanNfcHVyZV9mZWF0dXJlc19hcnJheV9maW5kX2pzX19fZGVmYXVsdCgpKGUuYmlkUmVxdWVzdHMsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkVW5pdENvZGU9PT10LmltcGlkJiYoIWUucGFyYW1zLnpvbmVJZHx8cGFyc2VJbnQoZS5wYXJhbXMuem9uZUlkKT09PXQuem9uZWlkKX0pKSxpPXIuYmlkSWQsYT17cmVxdWVzdElkOmksYWRJZDp0LmJpZElkfHxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY191dGlsc19qc19fLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIoKSxjcG06dC5jcG0sY3VycmVuY3k6dC5jdXJyZW5jeSxuZXRSZXZlbnVlOiEwLHR0bDp0LnR0bHx8NjAsY3JlYXRpdmVJZDp0LmNyZWF0aXZlY29kZSx3aWR0aDp0LndpZHRoLGhlaWdodDp0LmhlaWdodCxkZWFsSWQ6dC5kZWFsQ29kZX07dC5hZG9tYWluJiYoYS5tZXRhPV9leHRlbmRzKHt9LGEubWV0YSx7YWR2ZXJ0aXNlckRvbWFpbnM6dC5hZG9tYWlufSkpLHQubmF0aXZlP3IucGFyYW1zLm5hdGl2ZUNhbGxiYWNrP2EuYWQ9Y3JlYXRlTmF0aXZlQWQoaSx0Lm5hdGl2ZSxyLnBhcmFtcy5uYXRpdmVDYWxsYmFjayk6KGEubmF0aXZlPWNyZWF0ZVByZWJpZE5hdGl2ZUFkKHQubmF0aXZlKSxhLm1lZGlhVHlwZT1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX3NyY19tZWRpYVR5cGVzX2pzX18uYyk6dC52aWRlbz8oYS52YXN0VXJsPXQuZGlzcGxheXVybCxhLm1lZGlhVHlwZT1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX3NyY19tZWRpYVR5cGVzX2pzX18uZCk6YS5hZD10LmNyZWF0aXZlLHMucHVzaChhKX0pKSxzfSxvblRpbWVvdXQ6ZnVuY3Rpb24odCl7aWYocHVibGlzaGVyVGFnQXZhaWxhYmxlKCkmJkFycmF5LmlzQXJyYXkodCkpe3ZhciBlPVtdO3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7LTE9PT1lLmluZGV4T2YodC5hdWN0aW9uSWQpJiYoZS5wdXNoKHQuYXVjdGlvbklkKSxDcml0ZW8uUHViVGFnLkFkYXB0ZXJzLlByZWJpZC5HZXRBZGFwdGVyKHQuYXVjdGlvbklkKS5oYW5kbGVCaWRUaW1lb3V0KCkpfSkpfX0sb25CaWRXb246ZnVuY3Rpb24odCl7cHVibGlzaGVyVGFnQXZhaWxhYmxlKCkmJnQmJkNyaXRlby5QdWJUYWcuQWRhcHRlcnMuUHJlYmlkLkdldEFkYXB0ZXIodC5hdWN0aW9uSWQpLmhhbmRsZUJpZFdvbih0KX0sb25TZXRUYXJnZXRpbmc6ZnVuY3Rpb24odCl7cHVibGlzaGVyVGFnQXZhaWxhYmxlKCkmJkNyaXRlby5QdWJUYWcuQWRhcHRlcnMuUHJlYmlkLkdldEFkYXB0ZXIodC5hdWN0aW9uSWQpLmhhbmRsZVNldFRhcmdldGluZyh0KX19O2Z1bmN0aW9uIHB1Ymxpc2hlclRhZ0F2YWlsYWJsZSgpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgQ3JpdGVvJiZDcml0ZW8uUHViVGFnJiZDcml0ZW8uUHViVGFnLkFkYXB0ZXJzJiZDcml0ZW8uUHViVGFnLkFkYXB0ZXJzLlByZWJpZH1mdW5jdGlvbiBidWlsZENvbnRleHQodCxlKXt2YXIgcj0iIjtlJiZlLnJlZmVyZXJJbmZvJiYocj1lLnJlZmVyZXJJbmZvLnJlZmVyZXIpO3ZhciBpPV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX3V0aWxzX2pzX18ucGFyc2VVcmwocikuc2VhcmNoLHM9e3VybDpyLGRlYnVnOiIxIj09PWkucGJ0X2RlYnVnLG5vTG9nOiIxIj09PWkucGJ0X25vbG9nLGFtcDohMX07cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24odCl7ImFtcCI9PT10LnBhcmFtcy5pbnRlZ3JhdGlvbk1vZGUmJihzLmFtcD0hMCl9KSksc31mdW5jdGlvbiBidWlsZENkYlVybCh0KXt2YXIgZT1DREJfRU5EUE9JTlQ7cmV0dXJuIGUrPSI/cHJvZmlsZUlkPSIrUFJPRklMRV9JRF9JTkxJTkUsZSs9IiZhdj0iK1N0cmluZyhBREFQVEVSX1ZFUlNJT04pLGUrPSImd3Y9IitlbmNvZGVVUklDb21wb25lbnQoIjUuMTEuMCIpLGUrPSImY2I9IitTdHJpbmcoTWF0aC5mbG9vcig5OTk5OTk5OTk5OSpNYXRoLnJhbmRvbSgpKSksdC5hbXAmJihlKz0iJmltPTEiKSx0LmRlYnVnJiYoZSs9IiZkZWJ1Zz0xIiksdC5ub0xvZyYmKGUrPSImbm9sb2c9MSIpLGV9ZnVuY3Rpb24gY2hlY2tOYXRpdmVTZW5kSWQodCl7cmV0dXJuISh0Lm5hdGl2ZVBhcmFtcyYmKHQubmF0aXZlUGFyYW1zLmltYWdlJiYoITAhPT10Lm5hdGl2ZVBhcmFtcy5pbWFnZS5zZW5kSWR8fCEwPT09dC5uYXRpdmVQYXJhbXMuaW1hZ2Uuc2VuZFRhcmdldGluZ0tleXMpfHx0Lm5hdGl2ZVBhcmFtcy5pY29uJiYoITAhPT10Lm5hdGl2ZVBhcmFtcy5pY29uLnNlbmRJZHx8ITA9PT10Lm5hdGl2ZVBhcmFtcy5pY29uLnNlbmRUYXJnZXRpbmdLZXlzKXx8dC5uYXRpdmVQYXJhbXMuY2xpY2tVcmwmJighMCE9PXQubmF0aXZlUGFyYW1zLmNsaWNrVXJsLnNlbmRJZHx8ITA9PT10Lm5hdGl2ZVBhcmFtcy5jbGlja1VybC5zZW5kVGFyZ2V0aW5nS2V5cyl8fHQubmF0aXZlUGFyYW1zLmRpc3BsYXlVcmwmJighMCE9PXQubmF0aXZlUGFyYW1zLmRpc3BsYXlVcmwuc2VuZElkfHwhMD09PXQubmF0aXZlUGFyYW1zLmRpc3BsYXlVcmwuc2VuZFRhcmdldGluZ0tleXMpfHx0Lm5hdGl2ZVBhcmFtcy5wcml2YWN5TGluayYmKCEwIT09dC5uYXRpdmVQYXJhbXMucHJpdmFjeUxpbmsuc2VuZElkfHwhMD09PXQubmF0aXZlUGFyYW1zLnByaXZhY3lMaW5rLnNlbmRUYXJnZXRpbmdLZXlzKXx8dC5uYXRpdmVQYXJhbXMucHJpdmFjeUljb24mJighMCE9PXQubmF0aXZlUGFyYW1zLnByaXZhY3lJY29uLnNlbmRJZHx8ITA9PT10Lm5hdGl2ZVBhcmFtcy5wcml2YWN5SWNvbi5zZW5kVGFyZ2V0aW5nS2V5cykpKX1mdW5jdGlvbiBidWlsZENkYlJlcXVlc3QodCxlLHIpe3ZhciBpLHM9e3B1Ymxpc2hlcjp7dXJsOnQudXJsLGV4dDpyLnB1Ymxpc2hlckV4dH0sc2xvdHM6ZS5tYXAoKGZ1bmN0aW9uKHQpe2k9dC5wYXJhbXMubmV0d29ya0lkfHxpO3ZhciBlPXtpbXBpZDp0LmFkVW5pdENvZGUsdHJhbnNhY3Rpb25pZDp0LnRyYW5zYWN0aW9uSWQsYXVjdGlvbklkOnQuYXVjdGlvbklkfTtpZih0LnBhcmFtcy56b25lSWQmJihlLnpvbmVpZD10LnBhcmFtcy56b25lSWQpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX3V0aWxzX2pzX18uZGVlcEFjY2Vzcyh0LCJvcnRiMkltcC5leHQiKSYmKGUuZXh0PXQub3J0YjJJbXAuZXh0KSx0LnBhcmFtcy5leHQmJihlLmV4dD1fZXh0ZW5kcyh7fSxlLmV4dCx0LnBhcmFtcy5leHQpKSx0LnBhcmFtcy5wdWJsaXNoZXJTdWJJZCYmKGUucHVibGlzaGVyc3ViaWQ9dC5wYXJhbXMucHVibGlzaGVyU3ViSWQpLHQucGFyYW1zLm5hdGl2ZUNhbGxiYWNrfHxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY191dGlsc19qc19fLmRlZXBBY2Nlc3ModCwibWVkaWFUeXBlcy4iLmNvbmNhdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX3NyY19tZWRpYVR5cGVzX2pzX18uYykpPyhlLm5hdGl2ZT0hMCxjaGVja05hdGl2ZVNlbmRJZCh0KXx8X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfdXRpbHNfanNfXy5sb2dXYXJuKExPR19QUkVGSVgrImFsbCBuYXRpdmUgYXNzZXRzIGNvbnRhaW5pbmcgVVJMIHNob3VsZCBiZSBzZW50IGFzIHBsYWNlaG9sZGVycyB3aXRoIHNlbmRJZChpY29uLCBpbWFnZSwgY2xpY2tVcmwsIGRpc3BsYXlVcmwsIHByaXZhY3lMaW5rLCBwcml2YWN5SWNvbikiKSxlLnNpemVzPXBhcnNlU2l6ZXMocmV0cmlldmVCYW5uZXJTaXplcyh0KSxwYXJzZU5hdGl2ZVNpemUpKTplLnNpemVzPXBhcnNlU2l6ZXMocmV0cmlldmVCYW5uZXJTaXplcyh0KSxwYXJzZVNpemUpLGhhc1ZpZGVvTWVkaWFUeXBlKHQpKXt2YXIgcj17cGxheWVyc2l6ZXM6cGFyc2VTaXplcyhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY191dGlsc19qc19fLmRlZXBBY2Nlc3ModCwibWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplIikscGFyc2VTaXplKSxtaW1lczp0Lm1lZGlhVHlwZXMudmlkZW8ubWltZXMscHJvdG9jb2xzOnQubWVkaWFUeXBlcy52aWRlby5wcm90b2NvbHMsbWF4ZHVyYXRpb246dC5tZWRpYVR5cGVzLnZpZGVvLm1heGR1cmF0aW9uLGFwaTp0Lm1lZGlhVHlwZXMudmlkZW8uYXBpLHNraXA6dC5tZWRpYVR5cGVzLnZpZGVvLnNraXAscGxhY2VtZW50OnQubWVkaWFUeXBlcy52aWRlby5wbGFjZW1lbnQsbWluZHVyYXRpb246dC5tZWRpYVR5cGVzLnZpZGVvLm1pbmR1cmF0aW9uLHBsYXliYWNrbWV0aG9kOnQubWVkaWFUeXBlcy52aWRlby5wbGF5YmFja21ldGhvZCxzdGFydGRlbGF5OnQubWVkaWFUeXBlcy52aWRlby5zdGFydGRlbGF5fSxzPXQucGFyYW1zLnZpZGVvO3ZvaWQgMCE9PXMmJihyLnNraXA9ci5za2lwfHxzLnNraXB8fDAsci5wbGFjZW1lbnQ9ci5wbGFjZW1lbnR8fHMucGxhY2VtZW50LHIubWluZHVyYXRpb249ci5taW5kdXJhdGlvbnx8cy5taW5kdXJhdGlvbixyLnBsYXliYWNrbWV0aG9kPXIucGxheWJhY2ttZXRob2R8fHMucGxheWJhY2ttZXRob2Qsci5zdGFydGRlbGF5PXIuc3RhcnRkZWxheXx8cy5zdGFydGRlbGF5fHwwKSxlLnZpZGVvPXJ9cmV0dXJuIGV9KSl9O3JldHVybiBpJiYocy5wdWJsaXNoZXIubmV0d29ya2lkPWkpLHMudXNlcj17ZXh0OnIudXNlckV4dH0sciYmci5jZWgmJihzLnVzZXIuY2VoPXIuY2VoKSxyJiZyLmdkcHJDb25zZW50JiYocy5nZHByQ29uc2VudD17fSx2b2lkIDAhPT1yLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYocy5nZHByQ29uc2VudC5nZHByQXBwbGllcz0hIXIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMpLHMuZ2RwckNvbnNlbnQudmVyc2lvbj1yLmdkcHJDb25zZW50LmFwaVZlcnNpb24sdm9pZCAwIT09ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nJiYocy5nZHByQ29uc2VudC5jb25zZW50RGF0YT1yLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKSxyJiZyLnVzcENvbnNlbnQmJihzLnVzZXIudXNwSWFiPXIudXNwQ29uc2VudCksc31mdW5jdGlvbiByZXRyaWV2ZUJhbm5lclNpemVzKHQpe3JldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY191dGlsc19qc19fLmRlZXBBY2Nlc3ModCwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKXx8dC5zaXplc31mdW5jdGlvbiBwYXJzZVNpemVzKHQsZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkodFswXSk/dC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlKHQpfSkpOltlKHQpXX1mdW5jdGlvbiBwYXJzZVNpemUodCl7cmV0dXJuIHRbMF0rIngiK3RbMV19ZnVuY3Rpb24gcGFyc2VOYXRpdmVTaXplKHQpe3JldHVybiB2b2lkIDA9PT10WzBdJiZ2b2lkIDA9PT10WzFdPyIyeDIiOnRbMF0rIngiK3RbMV19ZnVuY3Rpb24gaGFzVmlkZW9NZWRpYVR5cGUodCl7cmV0dXJuIHZvaWQgMCE9PV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX3V0aWxzX2pzX18uZGVlcEFjY2Vzcyh0LCJtZWRpYVR5cGVzLnZpZGVvIil9ZnVuY3Rpb24gaGFzVmFsaWRWaWRlb01lZGlhVHlwZSh0KXt2YXIgZT0hMDtpZihbIm1pbWVzIiwicGxheWVyU2l6ZSIsIm1heGR1cmF0aW9uIiwicHJvdG9jb2xzIiwiYXBpIiwic2tpcCIsInBsYWNlbWVudCIsInBsYXliYWNrbWV0aG9kIl0uZm9yRWFjaCgoZnVuY3Rpb24ocil7dm9pZCAwPT09X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfdXRpbHNfanNfXy5kZWVwQWNjZXNzKHQsIm1lZGlhVHlwZXMudmlkZW8uIityKSYmdm9pZCAwPT09X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfdXRpbHNfanNfXy5kZWVwQWNjZXNzKHQsInBhcmFtcy52aWRlby4iK3IpJiYoZT0hMSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY191dGlsc19qc19fLmxvZ0Vycm9yKCJDcml0ZW8gQmlkIEFkYXB0ZXI6IG1lZGlhVHlwZXMudmlkZW8uIityKyIgaXMgcmVxdWlyZWQiKSl9KSksZSl7dmFyIHI9dC5tZWRpYVR5cGVzLnZpZGVvLnBsYWNlbWVudHx8dC5wYXJhbXMudmlkZW8ucGxhY2VtZW50O2lmKCJpbnN0cmVhbSI9PXQubWVkaWFUeXBlcy52aWRlby5jb250ZXh0JiYxPT09cilyZXR1cm4hMDtpZigib3V0c3RyZWFtIj09dC5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQmJjEhPT1yKXJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIGNyZWF0ZVByZWJpZE5hdGl2ZUFkKHQpe3JldHVybntzZW5kVGFyZ2V0aW5nS2V5czohMSx0aXRsZTp0LnByb2R1Y3RzWzBdLnRpdGxlLGJvZHk6dC5wcm9kdWN0c1swXS5kZXNjcmlwdGlvbixzcG9uc29yZWRCeTp0LmFkdmVydGlzZXIuZGVzY3JpcHRpb24saWNvbjp0LmFkdmVydGlzZXIubG9nbyxpbWFnZTp0LnByb2R1Y3RzWzBdLmltYWdlLGNsaWNrVXJsOnQucHJvZHVjdHNbMF0uY2xpY2tfdXJsLHByaXZhY3lMaW5rOnQucHJpdmFjeS5vcHRvdXRfY2xpY2tfdXJsLHByaXZhY3lJY29uOnQucHJpdmFjeS5vcHRvdXRfaW1hZ2VfdXJsLGN0YTp0LnByb2R1Y3RzWzBdLmNhbGxfdG9fYWN0aW9uLHByaWNlOnQucHJvZHVjdHNbMF0ucHJpY2UsaW1wcmVzc2lvblRyYWNrZXJzOnQuaW1wcmVzc2lvbl9waXhlbHMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC51cmx9KSl9fWZ1bmN0aW9uIGNyZWF0ZU5hdGl2ZUFkKHQsZSxyKXt2YXIgaT0iY3JpdGVvX3ByZWJpZF9uYXRpdmVfc2xvdHMiO3JldHVybiB3aW5kb3dbaV09d2luZG93W2ldfHx7fSx3aW5kb3dbaV1bdF09e2NhbGxiYWNrOnIscGF5bG9hZDplfSwnXG48c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+XG5mb3IgKHZhciBpID0gMDsgaSA8IDEwOyArK2kpIHtcbiB2YXIgc2xvdHMgPSB3aW5kb3cucGFyZW50LicuY29uY2F0KGksJztcbiAgaWYoIXNsb3RzKXtjb250aW51ZTt9XG4gIHZhciByZXNwb25zZVNsb3QgPSBzbG90c1siJykuY29uY2F0KHQsJyJdO1xuICByZXNwb25zZVNsb3QuY2FsbGJhY2socmVzcG9uc2VTbG90LnBheWxvYWQpO1xuICBicmVhaztcbn1cbjxcL3NjcmlwdD4nKX1mdW5jdGlvbiBjYW5GYXN0QmlkKHQpe3JldHVybiB0IT09RkFTVF9CSURfVkVSU0lPTl9OT05FfWZ1bmN0aW9uIGdldEZhc3RCaWRVcmwodCl7dmFyIGU7aWYodD09PUZBU1RfQklEX1ZFUlNJT05fTEFURVNUKWU9IiI7ZWxzZSBpZih0KXtTdHJpbmcodCkuc3BsaXQoIi4iKVswXTwxMDImJl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX3V0aWxzX2pzX18ubG9nV2FybigiU3BlY2lmeWluZyBhIEZhc3RiaWQgdmVyc2lvbiB3aGljaCBpcyBub3Qgc3VwcG9ydGluZyB2ZXJzaW9uIHNlbGVjdGlvbi4iKSxlPSIuIit0fWVsc2UgZT0iLiIrRkFTVF9CSURfVkVSU0lPTl9DVVJSRU5UO3JldHVybiBQVUJMSVNIRVJfVEFHX1VSTF9URU1QTEFURS5yZXBsYWNlKEZBU1RfQklEX1ZFUlNJT05fUExBQ0VIT0xERVIsZSl9ZnVuY3Rpb24gdHJ5R2V0Q3JpdGVvRmFzdEJpZCgpe3RyeXt2YXIgZmFzdEJpZFN0b3JhZ2VLZXk9ImNyaXRlb19mYXN0X2JpZCIsaGFzaFByZWZpeD0iLy8gSGFzaDogIixmYXN0QmlkRnJvbVN0b3JhZ2U9c3RvcmFnZS5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZShmYXN0QmlkU3RvcmFnZUtleSk7aWYobnVsbCE9PWZhc3RCaWRGcm9tU3RvcmFnZSl7dmFyIGZpcnN0TGluZUVuZFBvc2l0aW9uPWZhc3RCaWRGcm9tU3RvcmFnZS5pbmRleE9mKCJcbiIpLGZpcnN0TGluZT1mYXN0QmlkRnJvbVN0b3JhZ2Uuc3Vic3RyKDAsZmlyc3RMaW5lRW5kUG9zaXRpb24pLnRyaW0oKTtpZihmaXJzdExpbmUuc3Vic3RyKDAsaGFzaFByZWZpeC5sZW5ndGgpIT09aGFzaFByZWZpeClfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY191dGlsc19qc19fLmxvZ1dhcm4oIk5vIGhhc2ggZm91bmQgaW4gRmFzdEJpZCIpLHN0b3JhZ2UucmVtb3ZlRGF0YUZyb21Mb2NhbFN0b3JhZ2UoZmFzdEJpZFN0b3JhZ2VLZXkpO2Vsc2V7dmFyIHB1Ymxpc2hlclRhZ0hhc2g9Zmlyc3RMaW5lLnN1YnN0cihoYXNoUHJlZml4Lmxlbmd0aCkscHVibGlzaGVyVGFnPWZhc3RCaWRGcm9tU3RvcmFnZS5zdWJzdHIoZmlyc3RMaW5lRW5kUG9zaXRpb24rMSk7T2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9jcml0ZW9fZGlyZWN0X3JzYV92YWxpZGF0ZV9idWlsZF92ZXJpZnlfanNfXy52ZXJpZnkpKHB1Ymxpc2hlclRhZyxwdWJsaXNoZXJUYWdIYXNoLEZBU1RfQklEX1BVQktFWV9OLEZBU1RfQklEX1BVQktFWV9FKT8oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfdXRpbHNfanNfXy5sb2dJbmZvKCJVc2luZyBDcml0ZW8gRmFzdEJpZCIpLGV2YWwocHVibGlzaGVyVGFnKSk6KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX3V0aWxzX2pzX18ubG9nV2FybigiSW52YWxpZCBDcml0ZW8gRmFzdEJpZCBmb3VuZCIpLHN0b3JhZ2UucmVtb3ZlRGF0YUZyb21Mb2NhbFN0b3JhZ2UoZmFzdEJpZFN0b3JhZ2VLZXkpKX19fWNhdGNoKHQpe319T2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fc3JjX2FkYXB0ZXJzX2JpZGRlckZhY3RvcnlfanNfXy5yZWdpc3RlckJpZGRlcikoc3BlYyl9LDcwOmZ1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBpPXIoNzEpLHM9cig3Mik7ZS52ZXJpZnk9ZnVuY3Rpb24odCxlLHIsYSl7dmFyIF89bmV3IGkuQmlnSW50ZWdlcihpLmI2NHRvSGV4KGUpKSxvPW5ldyBpLkJpZ0ludGVnZXIoaS5iNjR0b0hleChyKSksbj1fLm1vZFBvd0ludChhLG8pO3JldHVybiBpLnJlbW92ZUV4dHJhU3ltYm9scyhuLnRvSGV4U3RyaW5nKCkpPT09cy5TaGEyNTYuaGFzaCh0KX19LDcxOmZ1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7dmFyIGk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXtudWxsIT09dCYmdGhpcy5mcm9tSGV4U3RyaW5nKHQpfXJldHVybiB0LnByb3RvdHlwZS50b0hleFN0cmluZz1mdW5jdGlvbigpe2lmKHRoaXMuczwwKXJldHVybiItIit0aGlzLm5lZ2F0ZSgpLnRvSGV4U3RyaW5nKCk7dmFyIHQsZT0hMSxyPSIiLGk9dGhpcy50LHM9dGhpcy5EQi1pKnRoaXMuREIlNDtpZihpLS0gPjApZm9yKHM8dGhpcy5EQiYmKHQ9dGhpc1tpXT4+cyk+MCYmKGU9ITAscj1kKHQpKTtpPj0wOylzPDQ/KHQ9KHRoaXNbaV0mKDE8PHMpLTEpPDw0LXMsdHw9dGhpc1stLWldPj4ocys9dGhpcy5EQi00KSk6KHQ9dGhpc1tpXT4+KHMtPTQpJjE1LHM8PTAmJihzKz10aGlzLkRCLC0taSkpLHQ+MCYmKGU9ITApLGUmJihyKz1kKHQpKTtyZXR1cm4gZT9yOiIwIn0sdC5wcm90b3R5cGUuZnJvbUhleFN0cmluZz1mdW5jdGlvbihlKXtpZihudWxsIT09ZSl7dGhpcy50PTAsdGhpcy5zPTA7Zm9yKHZhciByPWUubGVuZ3RoLGk9ITEscz0wOy0tcj49MDspe3ZhciBhPXAoZSxyKTthPDA/Ii0iPT1lLmNoYXJBdChyKSYmKGk9ITApOihpPSExLDA9PXM/dGhpc1t0aGlzLnQrK109YTpzKzQ+dGhpcy5EQj8odGhpc1t0aGlzLnQtMV18PShhJigxPDx0aGlzLkRCLXMpLTEpPDxzLHRoaXNbdGhpcy50KytdPWE+PnRoaXMuREItcyk6dGhpc1t0aGlzLnQtMV18PWE8PHMsKHMrPTQpPj10aGlzLkRCJiYocy09dGhpcy5EQikpfTAsdGhpcy5jbGFtcCgpLGkmJnQuWkVSTy5zdWJUbyh0aGlzLHRoaXMpfX0sdC5wcm90b3R5cGUubmVnYXRlPWZ1bmN0aW9uKCl7dmFyIGU9YSgpO3JldHVybiB0LlpFUk8uc3ViVG8odGhpcyxlKSxlfSx0LnByb3RvdHlwZS5hYnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zPDA/dGhpcy5uZWdhdGUoKTp0aGlzfSx0LnByb3RvdHlwZS5tb2Q9ZnVuY3Rpb24oZSl7dmFyIHI9YSgpO3JldHVybiB0aGlzLmFicygpLmRpdlJlbVRvKGUsbnVsbCxyKSx0aGlzLnM8MCYmci5jb21wYXJlVG8odC5aRVJPKT4wJiZlLnN1YlRvKHIscikscn0sdC5wcm90b3R5cGUuY29weVRvPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnQtMTtlPj0wOy0tZSl0W2VdPXRoaXNbZV07dC50PXRoaXMudCx0LnM9dGhpcy5zfSx0LnByb3RvdHlwZS5sU2hpZnRUbz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcj10JXRoaXMuREIsaT10aGlzLkRCLXIscz0oMTw8aSktMSxhPU1hdGguZmxvb3IodC90aGlzLkRCKSxfPXRoaXMuczw8ciZ0aGlzLkRNLG89dGhpcy50LTE7bz49MDstLW8pZVtvK2ErMV09dGhpc1tvXT4+aXxfLF89KHRoaXNbb10mcyk8PHI7Zm9yKG89YS0xO28+PTA7LS1vKWVbb109MDtlW2FdPV8sZS50PXRoaXMudCthKzEsZS5zPXRoaXMucyxlLmNsYW1wKCl9LHQucHJvdG90eXBlLmludkRpZ2l0PWZ1bmN0aW9uKCl7aWYodGhpcy50PDEpcmV0dXJuIDA7dmFyIHQ9dGhpc1swXTtpZigwPT0oMSZ0KSlyZXR1cm4gMDt2YXIgZT0zJnQ7cmV0dXJuKGU9KGU9KGU9KGU9ZSooMi0oMTUmdCkqZSkmMTUpKigyLSgyNTUmdCkqZSkmMjU1KSooMi0oKDY1NTM1JnQpKmUmNjU1MzUpKSY2NTUzNSkqKDItdCplJXRoaXMuRFYpJXRoaXMuRFYpPjA/dGhpcy5EVi1lOi1lfSx0LnByb3RvdHlwZS5kbFNoaWZ0VG89ZnVuY3Rpb24odCxlKXt2YXIgcjtmb3Iocj10aGlzLnQtMTtyPj0wOy0tcillW3IrdF09dGhpc1tyXTtmb3Iocj10LTE7cj49MDstLXIpZVtyXT0wO2UudD10aGlzLnQrdCxlLnM9dGhpcy5zfSx0LnByb3RvdHlwZS5zcXVhcmVUbz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5hYnMoKSxyPXQudD0yKmUudDstLXI+PTA7KXRbcl09MDtmb3Iocj0wO3I8ZS50LTE7KytyKXt2YXIgaT1lLmFtKHIsZVtyXSx0LDIqciwwLDEpOyh0W3IrZS50XSs9ZS5hbShyKzEsMiplW3JdLHQsMipyKzEsaSxlLnQtci0xKSk+PWUuRFYmJih0W3IrZS50XS09ZS5EVix0W3IrZS50KzFdPTEpfXQudD4wJiYodFt0LnQtMV0rPWUuYW0ocixlW3JdLHQsMipyLDAsMSkpLHQucz0wLHQuY2xhbXAoKX0sdC5wcm90b3R5cGUubXVsdGlwbHlUbz1mdW5jdGlvbihlLHIpe3ZhciBpPXRoaXMuYWJzKCkscz1lLmFicygpLGE9aS50O2ZvcihyLnQ9YStzLnQ7LS1hPj0wOylyW2FdPTA7Zm9yKGE9MDthPHMudDsrK2EpclthK2kudF09aS5hbSgwLHNbYV0scixhLDAsaS50KTtyLnM9MCxyLmNsYW1wKCksdGhpcy5zIT1lLnMmJnQuWkVSTy5zdWJUbyhyLHIpfSx0LnByb3RvdHlwZS5kaXZSZW1Ubz1mdW5jdGlvbihlLHIsaSl7dmFyIHM9ZS5hYnMoKTtpZighKHMudDw9MCkpe3ZhciBvPXRoaXMuYWJzKCk7aWYoby50PHMudClyZXR1cm4gbnVsbCE9ciYmci5mcm9tSGV4U3RyaW5nKCIwIiksdm9pZChudWxsIT1pJiZ0aGlzLmNvcHlUbyhpKSk7bnVsbD09aSYmKGk9YSgpKTt2YXIgbj1hKCksYz10aGlzLnMscD1lLnMsZD10aGlzLkRCLV8oc1tzLnQtMV0pO2Q+MD8ocy5sU2hpZnRUbyhkLG4pLG8ubFNoaWZ0VG8oZCxpKSk6KHMuY29weVRvKG4pLG8uY29weVRvKGkpKTt2YXIgdT1uLnQsbD1uW3UtMV07aWYoMCE9bCl7dmFyIGg9bCooMTw8dGhpcy5GMSkrKHU+MT9uW3UtMl0+PnRoaXMuRjI6MCksZj10aGlzLkZWL2gsRT0oMTw8dGhpcy5GMSkvaCx2PTE8PHRoaXMuRjIsbT1pLnQsVD1tLXUsYj1udWxsPT1yP2EoKTpyO2ZvcihuLmRsU2hpZnRUbyhULGIpLGkuY29tcGFyZVRvKGIpPj0wJiYoaVtpLnQrK109MSxpLnN1YlRvKGIsaSkpLHQuT05FLmRsU2hpZnRUbyh1LGIpLGIuc3ViVG8obixuKTtuLnQ8dTspbltuLnQrK109MDtmb3IoOy0tVD49MDspe3ZhciBEPWlbLS1tXT09bD90aGlzLkRNOk1hdGguZmxvb3IoaVttXSpmKyhpW20tMV0rdikqRSk7aWYoKGlbbV0rPW4uYW0oMCxELGksVCwwLHUpKTxEKWZvcihuLmRsU2hpZnRUbyhULGIpLGkuc3ViVG8oYixpKTtpW21dPC0tRDspaS5zdWJUbyhiLGkpfW51bGwhPXImJihpLmRyU2hpZnRUbyh1LHIpLGMhPXAmJnQuWkVSTy5zdWJUbyhyLHIpKSxpLnQ9dSxpLmNsYW1wKCksZD4wJiZpLnJTaGlmdFRvKGQsaSksYzwwJiZ0LlpFUk8uc3ViVG8oaSxpKX19fSx0LnByb3RvdHlwZS5yU2hpZnRUbz1mdW5jdGlvbih0LGUpe2Uucz10aGlzLnM7dmFyIHI9TWF0aC5mbG9vcih0L3RoaXMuREIpO2lmKHI+PXRoaXMudCllLnQ9MDtlbHNle3ZhciBpPXQldGhpcy5EQixzPXRoaXMuREItaSxhPSgxPDxpKS0xO2VbMF09dGhpc1tyXT4+aTtmb3IodmFyIF89cisxO188dGhpcy50OysrXyllW18tci0xXXw9KHRoaXNbX10mYSk8PHMsZVtfLXJdPXRoaXNbX10+Pmk7aT4wJiYoZVt0aGlzLnQtci0xXXw9KHRoaXMucyZhKTw8cyksZS50PXRoaXMudC1yLGUuY2xhbXAoKX19LHQucHJvdG90eXBlLmRyU2hpZnRUbz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcj10O3I8dGhpcy50OysrcillW3ItdF09dGhpc1tyXTtlLnQ9TWF0aC5tYXgodGhpcy50LXQsMCksZS5zPXRoaXMuc30sdC5wcm90b3R5cGUuc3ViVG89ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9MCxpPTAscz1NYXRoLm1pbih0LnQsdGhpcy50KTtyPHM7KWkrPXRoaXNbcl0tdFtyXSxlW3IrK109aSZ0aGlzLkRNLGk+Pj10aGlzLkRCO2lmKHQudDx0aGlzLnQpe2ZvcihpLT10LnM7cjx0aGlzLnQ7KWkrPXRoaXNbcl0sZVtyKytdPWkmdGhpcy5ETSxpPj49dGhpcy5EQjtpKz10aGlzLnN9ZWxzZXtmb3IoaSs9dGhpcy5zO3I8dC50OylpLT10W3JdLGVbcisrXT1pJnRoaXMuRE0saT4+PXRoaXMuREI7aS09dC5zfWUucz1pPDA/LTE6MCxpPC0xP2VbcisrXT10aGlzLkRWK2k6aT4wJiYoZVtyKytdPWkpLGUudD1yLGUuY2xhbXAoKX0sdC5wcm90b3R5cGUuY2xhbXA9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5zJnRoaXMuRE07dGhpcy50PjAmJnRoaXNbdGhpcy50LTFdPT10OyktLXRoaXMudH0sdC5wcm90b3R5cGUubW9kUG93SW50PWZ1bmN0aW9uKHQsZSl7dmFyIHI7cmV0dXJuIHI9dDwyNTZ8fGUuaXNFdmVuKCk/bmV3IHUoZSk6bmV3IGwoZSksdGhpcy5leHAodCxyKX0sdC5wcm90b3R5cGUuZXhwPWZ1bmN0aW9uKGUscil7aWYoZT40Mjk0OTY3Mjk1fHxlPDEpcmV0dXJuIHQuT05FO3ZhciBpPWEoKSxzPWEoKSxvPXIuY29udmVydCh0aGlzKSxuPV8oZSktMTtmb3Ioby5jb3B5VG8oaSk7LS1uPj0wOylpZihyLnNxclRvKGkscyksKGUmMTw8bik+MClyLm11bFRvKHMsbyxpKTtlbHNle3ZhciBjPWk7aT1zLHM9Y31yZXR1cm4gci5yZXZlcnQoaSl9LHQucHJvdG90eXBlLmlzRXZlbj1mdW5jdGlvbigpe3JldHVybiAwPT0odGhpcy50PjA/MSZ0aGlzWzBdOnRoaXMucyl9LHQucHJvdG90eXBlLmNvbXBhcmVUbz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnMtdC5zO2lmKDAhPWUpcmV0dXJuIGU7dmFyIHI9dGhpcy50O2lmKDAhPShlPXItdC50KSlyZXR1cm4gdGhpcy5zPDA/LWU6ZTtmb3IoOy0tcj49MDspaWYoMCE9KGU9dGhpc1tyXS10W3JdKSlyZXR1cm4gZTtyZXR1cm4gMH0sdC5wcm90b3R5cGUuYW0xPWZ1bmN0aW9uKHQsZSxyLGkscyxhKXtmb3IoOy0tYT49MDspe3ZhciBfPWUqdGhpc1t0KytdK3JbaV0rcztzPU1hdGguZmxvb3IoXy82NzEwODg2NCkscltpKytdPTY3MTA4ODYzJl99cmV0dXJuIHN9LHQucHJvdG90eXBlLmFtMj1mdW5jdGlvbih0LGUscixpLHMsYSl7Zm9yKHZhciBfPTMyNzY3JmUsbz1lPj4xNTstLWE+PTA7KXt2YXIgbj0zMjc2NyZ0aGlzW3RdLGM9dGhpc1t0KytdPj4xNSxwPW8qbitjKl87cz0oKG49XypuKygoMzI3NjcmcCk8PDE1KStyW2ldKygxMDczNzQxODIzJnMpKT4+PjMwKSsocD4+PjE1KStvKmMrKHM+Pj4zMCkscltpKytdPTEwNzM3NDE4MjMmbn1yZXR1cm4gc30sdC5wcm90b3R5cGUuYW0zPWZ1bmN0aW9uKHQsZSxyLGkscyxhKXtmb3IodmFyIF89MTYzODMmZSxvPWU+PjE0Oy0tYT49MDspe3ZhciBuPTE2MzgzJnRoaXNbdF0sYz10aGlzW3QrK10+PjE0LHA9bypuK2MqXztzPSgobj1fKm4rKCgxNjM4MyZwKTw8MTQpK3JbaV0rcyk+PjI4KSsocD4+MTQpK28qYyxyW2krK109MjY4NDM1NDU1Jm59cmV0dXJuIHN9LHR9KCk7ZnVuY3Rpb24gYSgpe3JldHVybiBuZXcgcyhudWxsKX1mdW5jdGlvbiBfKHQpe3ZhciBlLHI9MTtyZXR1cm4gMCE9KGU9dD4+PjE2KSYmKHQ9ZSxyKz0xNiksMCE9KGU9dD4+OCkmJih0PWUscis9OCksMCE9KGU9dD4+NCkmJih0PWUscis9NCksMCE9KGU9dD4+MikmJih0PWUscis9MiksMCE9KGU9dD4+MSkmJih0PWUscis9MSkscn1lLkJpZ0ludGVnZXI9cyxlLm5iaT1hLGUubmJpdHM9Xzt2YXIgbyxuLGM9W107Zm9yKG89IjAiLmNoYXJDb2RlQXQoMCksbj0wO248PTk7KytuKWNbbysrXT1uO2ZvcihvPSJhIi5jaGFyQ29kZUF0KDApLG49MTA7bjwzNjsrK24pY1tvKytdPW47Zm9yKG89IkEiLmNoYXJDb2RlQXQoMCksbj0xMDtuPDM2OysrbiljW28rK109bjtmdW5jdGlvbiBwKHQsZSl7dmFyIHI9Y1t0LmNoYXJDb2RlQXQoZSldO3JldHVybiBudWxsPT1yPy0xOnJ9ZS5pbnRBdD1wO2Z1bmN0aW9uIGQodCl7cmV0dXJuIjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eiIuY2hhckF0KHQpfWUuaW50MmNoYXI9ZDtlLmI2NHRvSGV4PWZ1bmN0aW9uKHQpe3ZhciBlLHI9IiIsaT0wLHM9MDtmb3IoZT0wO2U8dC5sZW5ndGgmJiI9IiE9dC5jaGFyQXQoZSk7KytlKXt2YXIgYT0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyIuaW5kZXhPZih0LmNoYXJBdChlKSk7YTwwfHwoMD09aT8ocis9ZChhPj4yKSxzPTMmYSxpPTEpOjE9PWk/KHIrPWQoczw8MnxhPj40KSxzPTE1JmEsaT0yKToyPT1pPyhyKz1kKHMpLHIrPWQoYT4+Mikscz0zJmEsaT0zKToocis9ZChzPDwyfGE+PjQpLHIrPWQoMTUmYSksaT0wKSl9cmV0dXJuIDE9PWkmJihyKz1kKHM8PDIpKSxyfSxlLnJlbW92ZUV4dHJhU3ltYm9scz1mdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC9eMWYrMDAvLCIiKS5yZXBsYWNlKCIzMDMxMzAwZDA2MDk2MDg2NDgwMTY1MDMwNDAyMDEwNTAwMDQyMCIsIiIpfTt2YXIgdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5tPXR9cmV0dXJuIHQucHJvdG90eXBlLmNvbnZlcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuczwwfHx0LmNvbXBhcmVUbyh0aGlzLm0pPj0wP3QubW9kKHRoaXMubSk6dH0sdC5wcm90b3R5cGUucmV2ZXJ0PWZ1bmN0aW9uKHQpe3JldHVybiB0fSx0LnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24odCl7dC5kaXZSZW1Ubyh0aGlzLm0sbnVsbCx0KX0sdC5wcm90b3R5cGUubXVsVG89ZnVuY3Rpb24odCxlLHIpe3QubXVsdGlwbHlUbyhlLHIpLHRoaXMucmVkdWNlKHIpfSx0LnByb3RvdHlwZS5zcXJUbz1mdW5jdGlvbih0LGUpe3Quc3F1YXJlVG8oZSksdGhpcy5yZWR1Y2UoZSl9LHR9KCksbD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5tPXQsdGhpcy5tcD10LmludkRpZ2l0KCksdGhpcy5tcGw9MzI3NjcmdGhpcy5tcCx0aGlzLm1waD10aGlzLm1wPj4xNSx0aGlzLnVtPSgxPDx0LkRCLTE1KS0xLHRoaXMubXQyPTIqdC50fXJldHVybiB0LnByb3RvdHlwZS5jb252ZXJ0PWZ1bmN0aW9uKHQpe3ZhciBlPWEoKTtyZXR1cm4gdC5hYnMoKS5kbFNoaWZ0VG8odGhpcy5tLnQsZSksZS5kaXZSZW1Ubyh0aGlzLm0sbnVsbCxlKSx0LnM8MCYmZS5jb21wYXJlVG8ocy5aRVJPKT4wJiZ0aGlzLm0uc3ViVG8oZSxlKSxlfSx0LnByb3RvdHlwZS5yZXZlcnQ9ZnVuY3Rpb24odCl7dmFyIGU9YSgpO3JldHVybiB0LmNvcHlUbyhlKSx0aGlzLnJlZHVjZShlKSxlfSx0LnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24odCl7Zm9yKDt0LnQ8PXRoaXMubXQyOyl0W3QudCsrXT0wO2Zvcih2YXIgZT0wO2U8dGhpcy5tLnQ7KytlKXt2YXIgcj0zMjc2NyZ0W2VdLGk9cip0aGlzLm1wbCsoKHIqdGhpcy5tcGgrKHRbZV0+PjE1KSp0aGlzLm1wbCZ0aGlzLnVtKTw8MTUpJnQuRE07Zm9yKHRbcj1lK3RoaXMubS50XSs9dGhpcy5tLmFtKDAsaSx0LGUsMCx0aGlzLm0udCk7dFtyXT49dC5EVjspdFtyXS09dC5EVix0Wysrcl0rK310LmNsYW1wKCksdC5kclNoaWZ0VG8odGhpcy5tLnQsdCksdC5jb21wYXJlVG8odGhpcy5tKT49MCYmdC5zdWJUbyh0aGlzLm0sdCl9LHQucHJvdG90eXBlLm11bFRvPWZ1bmN0aW9uKHQsZSxyKXt0Lm11bHRpcGx5VG8oZSxyKSx0aGlzLnJlZHVjZShyKX0sdC5wcm90b3R5cGUuc3FyVG89ZnVuY3Rpb24odCxlKXt0LnNxdWFyZVRvKGUpLHRoaXMucmVkdWNlKGUpfSx0fSgpO2Z1bmN0aW9uIGgodCl7dmFyIGU9YSgpO3JldHVybiBlLmZyb21IZXhTdHJpbmcodC50b1N0cmluZygpKSxlfWUubmJ2PWgscy5aRVJPPWgoMCkscy5PTkU9aCgxKSwiTWljcm9zb2Z0IEludGVybmV0IEV4cGxvcmVyIj09bmF2aWdhdG9yLmFwcE5hbWU/KHMucHJvdG90eXBlLmFtPXMucHJvdG90eXBlLmFtMixpPTMwKToiTmV0c2NhcGUiIT1uYXZpZ2F0b3IuYXBwTmFtZT8ocy5wcm90b3R5cGUuYW09cy5wcm90b3R5cGUuYW0xLGk9MjYpOihzLnByb3RvdHlwZS5hbT1zLnByb3RvdHlwZS5hbTMsaT0yOCkscy5wcm90b3R5cGUuREI9aSxzLnByb3RvdHlwZS5ETT0oMTw8aSktMSxzLnByb3RvdHlwZS5EVj0xPDxpO3MucHJvdG90eXBlLkZWPU1hdGgucG93KDIsNTIpLHMucHJvdG90eXBlLkYxPTUyLWkscy5wcm90b3R5cGUuRjI9MippLTUyfSw3MjpmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQuaGFzaD1mdW5jdGlvbihlKXtlPXQudXRmOEVuY29kZShlfHwiIik7Zm9yKHZhciByPVsxMTE2MzUyNDA4LDE4OTk0NDc0NDEsMzA0OTMyMzQ3MSwzOTIxMDA5NTczLDk2MTk4NzE2MywxNTA4OTcwOTkzLDI0NTM2MzU3NDgsMjg3MDc2MzIyMSwzNjI0MzgxMDgwLDMxMDU5ODQwMSw2MDcyMjUyNzgsMTQyNjg4MTk4NywxOTI1MDc4Mzg4LDIxNjIwNzgyMDYsMjYxNDg4ODEwMywzMjQ4MjIyNTgwLDM4MzUzOTA0MDEsNDAyMjIyNDc3NCwyNjQzNDcwNzgsNjA0ODA3NjI4LDc3MDI1NTk4MywxMjQ5MTUwMTIyLDE1NTUwODE2OTIsMTk5NjA2NDk4NiwyNTU0MjIwODgyLDI4MjE4MzQzNDksMjk1Mjk5NjgwOCwzMjEwMzEzNjcxLDMzMzY1NzE4OTEsMzU4NDUyODcxMSwxMTM5MjY5OTMsMzM4MjQxODk1LDY2NjMwNzIwNSw3NzM1Mjk5MTIsMTI5NDc1NzM3MiwxMzk2MTgyMjkxLDE2OTUxODM3MDAsMTk4NjY2MTA1MSwyMTc3MDI2MzUwLDI0NTY5NTYwMzcsMjczMDQ4NTkyMSwyODIwMzAyNDExLDMyNTk3MzA4MDAsMzM0NTc2NDc3MSwzNTE2MDY1ODE3LDM2MDAzNTI4MDQsNDA5NDU3MTkwOSwyNzU0MjMzNDQsNDMwMjI3NzM0LDUwNjk0ODYxNiw2NTkwNjA1NTYsODgzOTk3ODc3LDk1ODEzOTU3MSwxMzIyODIyMjE4LDE1MzcwMDIwNjMsMTc0Nzg3Mzc3OSwxOTU1NTYyMjIyLDIwMjQxMDQ4MTUsMjIyNzczMDQ1MiwyMzYxODUyNDI0LDI0Mjg0MzY0NzQsMjc1NjczNDE4NywzMjA0MDMxNDc5LDMzMjkzMjUyOThdLGk9WzE3NzkwMzM3MDMsMzE0NDEzNDI3NywxMDEzOTA0MjQyLDI3NzM0ODA3NjIsMTM1OTg5MzExOSwyNjAwODIyOTI0LDUyODczNDYzNSwxNTQxNDU5MjI1XSxzPShlKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDEyOCkpLmxlbmd0aC80KzIsYT1NYXRoLmNlaWwocy8xNiksXz1uZXcgQXJyYXkoYSksbz0wO288YTtvKyspe19bb109bmV3IEFycmF5KDE2KTtmb3IodmFyIG49MDtuPDE2O24rKylfW29dW25dPWUuY2hhckNvZGVBdCg2NCpvKzQqbik8PDI0fGUuY2hhckNvZGVBdCg2NCpvKzQqbisxKTw8MTZ8ZS5jaGFyQ29kZUF0KDY0Km8rNCpuKzIpPDw4fGUuY2hhckNvZGVBdCg2NCpvKzQqbiszKTw8MH12YXIgYz04KihlLmxlbmd0aC0xKS9NYXRoLnBvdygyLDMyKSxwPTgqKGUubGVuZ3RoLTEpPj4+MDtfW2EtMV1bMTRdPU1hdGguZmxvb3IoYyksX1thLTFdWzE1XT1wO2ZvcihvPTA7bzxhO28rKyl7Zm9yKHZhciBkPW5ldyBBcnJheSg2NCksdT0wO3U8MTY7dSsrKWRbdV09X1tvXVt1XTtmb3IodT0xNjt1PDY0O3UrKylkW3VdPXQucTEoZFt1LTJdKStkW3UtN10rdC5xMChkW3UtMTVdKStkW3UtMTZdPj4+MDt2YXIgbD1pWzBdLGg9aVsxXSxmPWlbMl0sRT1pWzNdLHY9aVs0XSxtPWlbNV0sVD1pWzZdLGI9aVs3XTtmb3IodT0wO3U8NjQ7dSsrKXt2YXIgRD1iK3QuejEodikrdC5DaCh2LG0sVCkrclt1XStkW3VdLHk9dC56MChsKSt0Lk1haihsLGgsZik7Yj1ULFQ9bSxtPXYsdj1FK0Q+Pj4wLEU9ZixmPWgsaD1sLGw9RCt5Pj4+MH1pWzBdPWlbMF0rbD4+PjAsaVsxXT1pWzFdK2g+Pj4wLGlbMl09aVsyXStmPj4+MCxpWzNdPWlbM10rRT4+PjAsaVs0XT1pWzRdK3Y+Pj4wLGlbNV09aVs1XSttPj4+MCxpWzZdPWlbNl0rVD4+PjAsaVs3XT1pWzddK2I+Pj4wfXZhciBQPW5ldyBBcnJheShpLmxlbmd0aCk7Zm9yKGI9MDtiPGkubGVuZ3RoO2IrKylQW2JdPSgiMDAwMDAwMDAiK2lbYl0udG9TdHJpbmcoMTYpKS5zbGljZSgtOCk7cmV0dXJuIFAuam9pbigiIil9LHQudXRmOEVuY29kZT1mdW5jdGlvbih0KXt0cnl7cmV0dXJuKG5ldyBUZXh0RW5jb2RlcikuZW5jb2RlKHQpLnJlZHVjZSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdCtTdHJpbmcuZnJvbUNoYXJDb2RlKGUpfSksIiIpfWNhdGNoKGUpe3JldHVybiB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQodCkpfX0sdC5ST1RSPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU+Pj50fGU8PDMyLXR9LHQuejA9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuUk9UUigyLGUpXnQuUk9UUigxMyxlKV50LlJPVFIoMjIsZSl9LHQuejE9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuUk9UUig2LGUpXnQuUk9UUigxMSxlKV50LlJPVFIoMjUsZSl9LHQucTA9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuUk9UUig3LGUpXnQuUk9UUigxOCxlKV5lPj4+M30sdC5xMT1mdW5jdGlvbihlKXtyZXR1cm4gdC5ST1RSKDE3LGUpXnQuUk9UUigxOSxlKV5lPj4+MTB9LHQuQ2g9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0JmVefnQmcn0sdC5NYWo9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0JmVedCZyXmUmcn0sdH0oKTtlLlNoYTI1Nj1pfX0sWzM2NF0pOwp1cGJqc0NodW5rKFsyNjZdLHszNjg6ZnVuY3Rpb24oZSxyLG4pe2UuZXhwb3J0cz1uKDM2OSl9LDM2OTpmdW5jdGlvbihlLHIsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQociwiY3VycmVuY3lTdXBwb3J0RW5hYmxlZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGh9KSksbi5kKHIsImN1cnJlbmN5UmF0ZXMiLChmdW5jdGlvbigpe3JldHVybiBDfSkpLHIuc2V0Q29uZmlnPW0sci5hZGRCaWRSZXNwb25zZUhvb2s9Tzt2YXIgbz1uKDE0KSxjPW4oNDIpLHQ9big1KSxpPShuLm4odCksbig0KSksYT1uKDApLHU9bigzKSxzPW4oMTApO2Z1bmN0aW9uIGYoZSl7cmV0dXJuKGY9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX12YXIgZCxsPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvcHJlYmlkL2N1cnJlbmN5LWZpbGVAMS9sYXRlc3QuanNvbj9kYXRlPSQkVE9EQVkkJCIseT1bXSxnPXt9LHY9ITEscD0hMCxiPSJVU0QiLGg9ITEsQz17fSxTPXt9O2Z1bmN0aW9uIG0oZSl7dmFyIHI9bDtpZigib2JqZWN0Ij09PWYoZS5yYXRlcykmJihDLmNvbnZlcnNpb25zPWUucmF0ZXMsdj0hMCxwPSExKSwib2JqZWN0Ij09PWYoZS5kZWZhdWx0UmF0ZXMpJiYoZD1lLmRlZmF1bHRSYXRlcyxDLmNvbnZlcnNpb25zPWQsdj0hMCksInN0cmluZyI9PXR5cGVvZiBlLmFkU2VydmVyQ3VycmVuY3kpe2EubG9nSW5mbygiZW5hYmxpbmcgY3VycmVuY3kgc3VwcG9ydCIsYXJndW1lbnRzKSxiPWUuYWRTZXJ2ZXJDdXJyZW5jeSxlLmNvbnZlcnNpb25SYXRlRmlsZSYmKGEubG9nSW5mbygiY3VycmVuY3kgdXNpbmcgb3ZlcnJpZGUgY29udmVyc2lvblJhdGVGaWxlOiIsZS5jb252ZXJzaW9uUmF0ZUZpbGUpLHI9ZS5jb252ZXJzaW9uUmF0ZUZpbGUpO3ZhciBuPXIuaW5kZXhPZigiJCRUT0RBWSQkIik7aWYoLTEhPT1uKXt2YXIgbz1uZXcgRGF0ZSxjPSIiLmNvbmNhdChvLmdldE1vbnRoKCkrMSksdD0iIi5jb25jYXQoby5nZXREYXRlKCkpO2MubGVuZ3RoPDImJihjPSIwIi5jb25jYXQoYykpLHQubGVuZ3RoPDImJih0PSIwIi5jb25jYXQodCkpO3ZhciBpPSIiLmNvbmNhdChvLmdldEZ1bGxZZWFyKCkpLmNvbmNhdChjKS5jb25jYXQodCk7cj0iIi5jb25jYXQoci5zdWJzdHJpbmcoMCxuKSkuY29uY2F0KGkpLmNvbmNhdChyLnN1YnN0cmluZyhuKzksci5sZW5ndGgpKX1EKHIpfWVsc2UgYS5sb2dJbmZvKCJkaXNhYmxpbmcgY3VycmVuY3kgc3VwcG9ydCIpLEkoKTsib2JqZWN0Ij09PWYoZS5iaWRkZXJDdXJyZW5jeURlZmF1bHQpJiYoUz1lLmJpZGRlckN1cnJlbmN5RGVmYXVsdCl9ZnVuY3Rpb24gUihlKXtkPyhhLmxvZ1dhcm4oZSksYS5sb2dXYXJuKCJDdXJyZW5jeSBmYWlsZWQgbG9hZGluZyByYXRlcywgZmFsbGluZyBiYWNrIHRvIGN1cnJlbmN5LmRlZmF1bHRSYXRlcyIpKTphLmxvZ0Vycm9yKGUpfWZ1bmN0aW9uIEQoZSl7Zz17fSxoPSEwLGEubG9nSW5mbygiSW5zdGFsbGluZyBhZGRCaWRSZXNwb25zZSBkZWNvcmF0b3IgZm9yIGN1cnJlbmN5IG1vZHVsZSIsYXJndW1lbnRzKSxPYmplY3Qoby5hKSgpLmNvbnZlcnRDdXJyZW5jeT1mdW5jdGlvbihlLHIsbil7cmV0dXJuIHBhcnNlRmxvYXQoZSkqdyhyLG4pfSxPYmplY3Qocy5hKSgiYWRkQmlkUmVzcG9uc2UiKS5iZWZvcmUoTywxMDApLHAmJihwPSExLE9iamVjdChpLmEpKGUse3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7dHJ5e0M9SlNPTi5wYXJzZShlKSxhLmxvZ0luZm8oImN1cnJlbmN5UmF0ZXMgc2V0IHRvICIrSlNPTi5zdHJpbmdpZnkoQykpLHY9ITAsaigpfWNhdGNoKHIpe1IoIkZhaWxlZCB0byBwYXJzZSBjdXJyZW5jeVJhdGVzIHJlc3BvbnNlOiAiK2UpfX0sZXJyb3I6Un0pKX1mdW5jdGlvbiBJKCl7YS5sb2dJbmZvKCJVbmluc3RhbGxpbmcgYWRkQmlkUmVzcG9uc2UgZGVjb3JhdG9yIGZvciBjdXJyZW5jeSBtb2R1bGUiLGFyZ3VtZW50cyksT2JqZWN0KHMuYSkoImFkZEJpZFJlc3BvbnNlIikuZ2V0SG9va3Moe2hvb2s6T30pLnJlbW92ZSgpLGRlbGV0ZSBPYmplY3Qoby5hKSgpLmNvbnZlcnRDdXJyZW5jeSxiPSJVU0QiLGc9e30saD0hMSx2PSExLHA9ITAsQz17fSxTPXt9fWZ1bmN0aW9uIE8oZSxyLG4pe2lmKCFuKXJldHVybiBlLmNhbGwodGhpcyxyKTt2YXIgbz1uLmJpZGRlckNvZGV8fG4uYmlkZGVyO2lmKFNbb10pe3ZhciBpPVNbb107bi5jdXJyZW5jeSYmaSE9PW4uY3VycmVuY3k/YS5sb2dXYXJuKCJDdXJyZW5jeSBkZWZhdWx0ICciLmNvbmNhdChvLCI6ICIpLmNvbmNhdChpLCInIGlnbm9yZWQuIGFkYXB0ZXIgc3BlY2lmaWVkICciKS5jb25jYXQobi5jdXJyZW5jeSwiJyIpKTpuLmN1cnJlbmN5PWl9aWYobi5jdXJyZW5jeXx8KGEubG9nV2FybignQ3VycmVuY3kgbm90IHNwZWNpZmllZCBvbiBiaWQuICBEZWZhdWx0ZWQgdG8gIlVTRCInKSxuLmN1cnJlbmN5PSJVU0QiKSxuLmdldENwbUluTmV3Q3VycmVuY3k9ZnVuY3Rpb24oZSl7cmV0dXJuKHBhcnNlRmxvYXQodGhpcy5jcG0pKncodGhpcy5jdXJyZW5jeSxlKSkudG9GaXhlZCgzKX0sbi5jdXJyZW5jeT09PWIpcmV0dXJuIGUuY2FsbCh0aGlzLHIsbik7eS5wdXNoKGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbz1uWzFdO2lmKHZvaWQgMCE9PW8mJiJjdXJyZW5jeSJpbiBvJiYiY3BtImluIG8pe3ZhciBpPW8uY3VycmVuY3k7dHJ5e3ZhciB1PXcoaSk7MSE9PXUmJihvLmNwbT0ocGFyc2VGbG9hdChvLmNwbSkqdSkudG9GaXhlZCg0KSxvLmN1cnJlbmN5PWIpfWNhdGNoKGUpe2EubG9nV2FybigiUmV0dXJuaW5nIE5PX0JJRCwgZ2V0Q3VycmVuY3lDb252ZXJzaW9uIHRocmV3IGVycm9yOiAiLGUpLG5bMV09T2JqZWN0KGMuYSkodC5TVEFUVVMuTk9fQklELHtiaWRkZXI6by5iaWRkZXJDb2RlfHxvLmJpZGRlcixiaWRJZDpvLnJlcXVlc3RJZH0pfX1yZXR1cm4gZS5hcHBseShyLG4pfX0oZSx0aGlzLFtyLG5dKSksaCYmIXZ8fGooKX1mdW5jdGlvbiBqKCl7Zm9yKDt5Lmxlbmd0aD4wOyl5LnNoaWZ0KCkoKX1mdW5jdGlvbiB3KGUpe3ZhciByLG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOmIsbz1udWxsLGM9IiIuY29uY2F0KGUsIi0+IikuY29uY2F0KG4pO2lmKGMgaW4gZylvPWdbY10sYS5sb2dNZXNzYWdlKCJVc2luZyBjb252ZXJzaW9uQ2FjaGUgdmFsdWUgIitvKyIgZm9yICIrYyk7ZWxzZSBpZighMT09PWgpe2lmKCJVU0QiIT09ZSl0aHJvdyBuZXcgRXJyb3IoIlByZWJpZCBjdXJyZW5jeSBzdXBwb3J0IGhhcyBub3QgYmVlbiBlbmFibGVkIGFuZCBmcm9tQ3VycmVuY3kgaXMgbm90IFVTRCIpO289MX1lbHNlIGlmKGU9PT1uKW89MTtlbHNlIGlmKGUgaW4gQy5jb252ZXJzaW9ucyl7aWYoIShuIGluKHI9Qy5jb252ZXJzaW9uc1tlXSkpKXRocm93IG5ldyBFcnJvcigiU3BlY2lmaWVkIGFkU2VydmVyQ3VycmVuY3kgaW4gY29uZmlnICciK24rIicgbm90IGZvdW5kIGluIHRoZSBjdXJyZW5jeSByYXRlcyBmaWxlIik7bz1yW25dLGEubG9nSW5mbygiZ2V0Q3VycmVuY3lDb252ZXJzaW9uIHVzaW5nIGRpcmVjdCAiK2UrIiB0byAiK24rIiBjb252ZXJzaW9uUmF0ZSAiK28pfWVsc2UgaWYobiBpbiBDLmNvbnZlcnNpb25zKXtpZighKGUgaW4ocj1DLmNvbnZlcnNpb25zW25dKSkpdGhyb3cgbmV3IEVycm9yKCJTcGVjaWZpZWQgZnJvbUN1cnJlbmN5ICciK2UrIicgbm90IGZvdW5kIGluIHRoZSBjdXJyZW5jeSByYXRlcyBmaWxlIik7bz1GKDEvcltlXSw0KSxhLmxvZ0luZm8oImdldEN1cnJlbmN5Q29udmVyc2lvbiB1c2luZyByZWNpcHJvY2FsICIrZSsiIHRvICIrbisiIGNvbnZlcnNpb25SYXRlICIrbyl9ZWxzZXt2YXIgdD1PYmplY3Qua2V5cyhDLmNvbnZlcnNpb25zKVswXTtpZighKGUgaW4gQy5jb252ZXJzaW9uc1t0XSkpdGhyb3cgbmV3IEVycm9yKCJTcGVjaWZpZWQgZnJvbUN1cnJlbmN5ICciK2UrIicgbm90IGZvdW5kIGluIHRoZSBjdXJyZW5jeSByYXRlcyBmaWxlIik7dmFyIGk9MS9DLmNvbnZlcnNpb25zW3RdW2VdO2lmKCEobiBpbiBDLmNvbnZlcnNpb25zW3RdKSl0aHJvdyBuZXcgRXJyb3IoIlNwZWNpZmllZCBhZFNlcnZlckN1cnJlbmN5IGluIGNvbmZpZyAnIituKyInIG5vdCBmb3VuZCBpbiB0aGUgY3VycmVuY3kgcmF0ZXMgZmlsZSIpO3ZhciB1PUMuY29udmVyc2lvbnNbdF1bbl07bz1GKGkqdSw0KSxhLmxvZ0luZm8oImdldEN1cnJlbmN5Q29udmVyc2lvbiB1c2luZyBpbnRlcm1lZGlhdGUgIitlKyIgdGhydSAiK3QrIiB0byAiK24rIiBjb252ZXJzaW9uUmF0ZSAiK28pfXJldHVybiBjIGluIGd8fChhLmxvZ01lc3NhZ2UoIkFkZGluZyBjb252ZXJzaW9uQ2FjaGUgdmFsdWUgIitvKyIgZm9yICIrYyksZ1tjXT1vKSxvfWZ1bmN0aW9uIEYoZSxyKXtmb3IodmFyIG49MSxvPTA7bzxyO28rKyluKz0iMCI7cmV0dXJuIE1hdGgucm91bmQoZSpuKS9ufXUuYi5nZXRDb25maWcoImN1cnJlbmN5IiwoZnVuY3Rpb24oZSl7cmV0dXJuIG0oZS5jdXJyZW5jeSl9KSl9fSxbMzY4XSk7CnVwYmpzQ2h1bmsoWzI2MF0sezM4MjpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoMzgzKX0sMzgzOmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ30pKSxyLmdldEZsb29yPWgsci5jbGVhblNpemVzPXYsci5zaHVmZmxlPUEsci5yZW1vdmVEdXBsaWNhdGU9SSxyLnVwdG81PVMsci5tYXRjaFJlcXVlc3Q9eCxyLmNoZWNrRGVlcEFycmF5PU8sci5kZWZhdWx0U2l6ZT13LHIuYmluZFVzZXJJZD1ULHIuZ2V0QXBpPXosci5nZXRQbGF5YmFja21ldGhvZD1mdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpJiZlLmxlbmd0aD4wKXJldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGIucGxheWJhY2tfbWV0aG9kW2VdfSkpO3JldHVyblsyXX0sci5nZXRQcm90b2NvbHM9aixyLmNsZWFuVmFzdD1fO3ZhciBuPXQoMCksaT10KDEpLG89dCgzKSxzPXQoMik7ZnVuY3Rpb24gYShlLHIpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSxyKXt2YXIgdD1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PXQpcmV0dXJuO3ZhciBuLGksbz1bXSxzPSEwLGE9ITE7dHJ5e2Zvcih0PXQuY2FsbChlKTshKHM9KG49dC5uZXh0KCkpLmRvbmUpJiYoby5wdXNoKG4udmFsdWUpLCFyfHxvLmxlbmd0aCE9PXIpO3M9ITApO31jYXRjaChlKXthPSEwLGk9ZX1maW5hbGx5e3RyeXtzfHxudWxsPT10LnJldHVybnx8dC5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgaX19cmV0dXJuIG99KGUscil8fHUoZSxyKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGQoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHx1KGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIHUoZSxyKXtpZihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGQoZSxyKTt2YXIgdD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuIk9iamVjdCI9PT10JiZlLmNvbnN0cnVjdG9yJiYodD1lLmNvbnN0cnVjdG9yLm5hbWUpLCJNYXAiPT09dHx8IlNldCI9PT10P0FycmF5LmZyb20oZSk6IkFyZ3VtZW50cyI9PT10fHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KT9kKGUscik6dm9pZCAwfX1mdW5jdGlvbiBkKGUscil7KG51bGw9PXJ8fHI+ZS5sZW5ndGgpJiYocj1lLmxlbmd0aCk7Zm9yKHZhciB0PTAsbj1uZXcgQXJyYXkocik7dDxyO3QrKyluW3RdPWVbdF07cmV0dXJuIG59ZnVuY3Rpb24gcChlKXtyZXR1cm4ocD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIGwoZSxyKXt2YXIgdD1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3ImJihuPW4uZmlsdGVyKChmdW5jdGlvbihyKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHIpLmVudW1lcmFibGV9KSkpLHQucHVzaC5hcHBseSh0LG4pfXJldHVybiB0fWZ1bmN0aW9uIG0oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9bnVsbCE9YXJndW1lbnRzW3JdP2FyZ3VtZW50c1tyXTp7fTtyJTI/bChPYmplY3QodCksITApLmZvckVhY2goKGZ1bmN0aW9uKHIpe2YoZSxyLHRbcl0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpOmwoT2JqZWN0KHQpKS5mb3JFYWNoKChmdW5jdGlvbihyKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gZihlLHIsdCl7cmV0dXJuIHIgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLHt2YWx1ZTp0LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVtyXT10LGV9dmFyIHk9Imh0dHBzOi8vZG14LmRpc3RyaWN0bS5pby9iL3YxIixiPXtwbGF5YmFja19tZXRob2Q6e2F1dG9fcGxheV9zb3VuZF9vbjoxLGF1dG9fcGxheV9zb3VuZF9vZmY6MixjbGlja190b19wbGF5OjMsbW91c2Vfb3Zlcjo0LHZpZXdwb3J0X3NvdW5kX29uOjUsdmlld3BvcnRfc291bmRfb2ZmOjZ9fSxnPXtjb2RlOiJkaXN0cmljdG1ETVgiLGd2bGlkOjE0NCxhbGlhc2VzOlsiZG14Il0sc3VwcG9ydGVkRm9ybWF0OltzLmIscy5kXSxzdXBwb3J0ZWRNZWRpYVR5cGVzOltzLmQscy5iXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIWUucGFyYW1zLm1lbWJlcmlkfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3JldHVybihlPWUuYm9keXx8e30pLnNlYXRiaWQmJm4uaXNBcnJheShlLnNlYXRiaWQpP2Uuc2VhdGJpZC5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIG49dC5iaWQucmVkdWNlKChmdW5jdGlvbihlLHQpe2lmKGUucHJpY2U8dC5wcmljZSl7dmFyIG49eCh0LmltcGlkLHIpLGk9dyhuKSxvPWkud2lkdGgscz1pLmhlaWdodDtyZXR1cm4gdC5jcG09cGFyc2VGbG9hdCh0LnByaWNlKS50b0ZpeGVkKDIpLHQuYmlkSWQ9dC5pbXBpZCx0LnJlcXVlc3RJZD10LmltcGlkLHQud2lkdGg9dC53fHxvLHQuaGVpZ2h0PXQuaHx8cyx0LnR0bD0zMDAsdC5tZWRpYVR5cGU9bi5tZWRpYVR5cGVzJiZuLm1lZGlhVHlwZXMudmlkZW8/InZpZGVvIjoiYmFubmVyIiwidmlkZW8iPT09dC5tZWRpYVR5cGUmJih0LnZhc3RYbWw9Xyh0LmFkbSx0Lm51cmwpLHQudHRsPTM2MDApLHQuZGVhbGlkJiYodC5kZWFsSWQ9dC5kZWFsaWQpLHQudXVpZD10LmJpZElkLHQuYWQ9dC5hZG0sdC5uZXRSZXZlbnVlPSEwLHQuY3JlYXRpdmVJZD10LmNyaWQsdC5jdXJyZW5jeT0iVVNEIix0Lm1ldGE9dC5tZXRhfHx7fSx0LmFkb21haW4mJnQuYWRvbWFpbi5sZW5ndGg+MCYmKHQubWV0YS5hZHZlcnRpc2VyRG9tYWlucz10LmFkb21haW4pLHR9cmV0dXJuIGUuY3BtPWUucHJpY2UsZX0pLHtwcmljZTowfSk7cmV0dXJuIG4uYWRtJiZlLnB1c2gobiksZX0pLFtdKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiEhZS5iaWRJZH0pKTpbXX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciB0PW8uYi5nZXRDb25maWcoImJpZGRlclRpbWVvdXQiKSxpPW51bGwscz17aWQ6bi5nZW5lcmF0ZVVVSUQoKSxjdXI6WyJVU0QiXSx0bWF4OnQtMzAwLHRlc3Q6dGhpcy50ZXN0KCl8fDAsc2l0ZTp7cHVibGlzaGVyOntpZDpTdHJpbmcoZVswXS5wYXJhbXMubWVtYmVyaWQpfHxudWxsfX19O3RyeXt2YXIgYT1vLmIuZ2V0Q29uZmlnKCJkbXgiKTtzLnVzZXI9YS51c2VyfHx7fTt2YXIgYz1hLnNpdGV8fHt9O3Muc2l0ZT1tKG0oe30scy5zaXRlKSxjKX1jYXRjaChlKXt9dmFyIHU9W107ZVswXSYmZVswXS51c2VySWQmJihUKHUsbi5kZWVwQWNjZXNzKGVbMF0sInVzZXJJZC5pZGxfZW52IiksImxpdmVyYW1wLmNvbSIsMSksVCh1LG4uZGVlcEFjY2VzcyhlWzBdLCJ1c2VySWQuaWQ1aWQudWlkIiksImlkNS1zeW5jLmNvbSIsMSksVCh1LG4uZGVlcEFjY2VzcyhlWzBdLCJ1c2VySWQucHViY2lkIiksInB1YmNpZC5vcmciLDEpLFQodSxuLmRlZXBBY2Nlc3MoZVswXSwidXNlcklkLnRkaWQiKSwiYWRzZXJ2ZXIub3JnIiwxKSxUKHUsbi5kZWVwQWNjZXNzKGVbMF0sInVzZXJJZC5jcml0ZW9JZCIpLCJjcml0ZW8uY29tIiwxKSxUKHUsbi5kZWVwQWNjZXNzKGVbMF0sInVzZXJJZC5icml0ZXBvb2xpZCIpLCJicml0ZXBvb2wuY29tIiwxKSxUKHUsbi5kZWVwQWNjZXNzKGVbMF0sInVzZXJJZC5saXBiLmxpcGJpZCIpLCJsaXZlaW50ZW50LmNvbSIsMSksVCh1LG4uZGVlcEFjY2VzcyhlWzBdLCJ1c2VySWQuaW50ZW50aXFpZCIpLCJpbnRlbnRpcS5jb20iLDEpLFQodSxuLmRlZXBBY2Nlc3MoZVswXSwidXNlcklkLmxvdGFtZVBhbm9yYW1hSWQiKSwibG90YW1lLmNvbSIsMSksVCh1LG4uZGVlcEFjY2VzcyhlWzBdLCJ1c2VySWQucGFycmFibGVJZCIpLCJwYXJyYWJsZS5jb20iLDEpLFQodSxuLmRlZXBBY2Nlc3MoZVswXSwidXNlcklkLm5ldElkIiksIm5ldGlkLmRlIiwxKSxzLnVzZXI9cy51c2VyfHx7fSxzLnVzZXIuZXh0PXMudXNlci5leHR8fHt9LHMudXNlci5leHQuZWlkcz11KSxzLnRlc3R8fGRlbGV0ZSBzLnRlc3Qsci5nZHByQ29uc2VudCYmKHMucmVncz17fSxzLnJlZ3MuZXh0PXt9LHMucmVncy5leHQuZ2Rwcj0hMD09PXIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/MTowLCEwPT09ci5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmKHMudXNlcj17fSxzLnVzZXIuZXh0PXt9LHMudXNlci5leHQuY29uc2VudD1yLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKSxzLnJlZ3M9cy5yZWdzfHx7fSxzLnJlZ3MuY29wcGE9ITA9PT1vLmIuZ2V0Q29uZmlnKCJjb3BwYSIpPzE6MCxyJiZyLnVzcENvbnNlbnQmJihzLnJlZ3M9cy5yZWdzfHx7fSxzLnJlZ3MuZXh0PXMucmVncy5leHR8fHt9LHMucmVncy5leHQudXNfcHJpdmFjeT1yLnVzcENvbnNlbnQpO3RyeXtpPWVbMF0uc2NoYWluLHMuc291cmNlPXt9LHMuc291cmNlLmV4dD17fSxzLnNvdXJjZS5leHQuc2NoYWluPWl8fHt9fWNhdGNoKGUpe312YXIgZD1lLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHI9e307cmV0dXJuIHIuaWQ9ZS5iaWRJZCxyLnRhZ2lkPVN0cmluZyhlLnBhcmFtcy5kbXhpZHx8ZS5hZFVuaXRDb2RlKSxyLnNlY3VyZT0xLHIuYmlkZmxvb3I9aChlKSxlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy52aWRlbz9yLnZpZGVvPXt0b3BmcmFtZToxLHNraXA6ZS5tZWRpYVR5cGVzLnZpZGVvLnNraXB8fDAsbGluZWFyaXR5OmUubWVkaWFUeXBlcy52aWRlby5saW5lYXJpdHl8fDEsbWluZHVyYXRpb246ZS5tZWRpYVR5cGVzLnZpZGVvLm1pbmR1cmF0aW9ufHw1LG1heGR1cmF0aW9uOmUubWVkaWFUeXBlcy52aWRlby5tYXhkdXJhdGlvbnx8NjAscGxheWJhY2ttZXRob2Q6ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXliYWNrbWV0aG9kfHxbMl0sYXBpOnooZS5tZWRpYVR5cGVzLnZpZGVvKSxtaW1lczplLm1lZGlhVHlwZXMudmlkZW8ubWltZXN8fFsidmlkZW8vbXA0Il0scHJvdG9jb2xzOmooZS5tZWRpYVR5cGVzLnZpZGVvKSxoOmUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdWzFdLHc6ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF1bMF19OnIuYmFubmVyPXt0b3BmcmFtZToxLHc6dihlLnNpemVzLCJ3IiksaDp2KGUuc2l6ZXMsImgiKSxmb3JtYXQ6dihlLnNpemVzKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnt3OmVbMF0saDplWzFdfX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiJudW1iZXIiPT10eXBlb2YgZS53JiYibnVtYmVyIj09dHlwZW9mIGUuaH0pKX0scn0pKTtyZXR1cm4gZC5sZW5ndGg8PTU/KHMuaW1wPWQse21ldGhvZDoiUE9TVCIsdXJsOnksZGF0YTpKU09OLnN0cmluZ2lmeShzKSxiaWRkZXJSZXF1ZXN0OnJ9KTpTKGQscyxyLHkpfSx0ZXN0OmZ1bmN0aW9uKCl7cmV0dXJuLTEhPT13aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCJkbVRlc3Q9dHJ1ZSIpPzE6MH0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUscix0LG4pe3ZhciBpPVtdLG89Imh0dHBzOi8vY2RuLmRpc3RyaWN0bS5pby9pZHMvaW5kZXguaHRtbCI7aWYodCYmdC5nZHByQXBwbGllcyYmInN0cmluZyI9PXR5cGVvZiB0LmNvbnNlbnRTdHJpbmcmJmkucHVzaChbImdkcHIiLHQuY29uc2VudFN0cmluZ10pLG4mJmkucHVzaChbImNjcGEiLG5dKSxpLmxlbmd0aD4wJiYobys9Ij8iK2kubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5qb2luKCI9Iil9KSkuam9pbigiJiIpKSxlLmlmcmFtZUVuYWJsZWQpcmV0dXJuW3t0eXBlOiJpZnJhbWUiLHVybDpvfV19fTtmdW5jdGlvbiBoKGUpe3ZhciByPW51bGw7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUuZ2V0Rmxvb3Ipe3ZhciB0PWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZTplLm1lZGlhVHlwZXMudmlkZW8/InZpZGVvIjoiYmFubmVyIixzaXplOmUuc2l6ZXMubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dzplWzBdLGg6ZVsxXX19KSl9KTsib2JqZWN0IiE9PXAodCl8fCJVU0QiIT09dC5jdXJyZW5jeXx8aXNOYU4ocGFyc2VGbG9hdCh0LmZsb29yKSl8fChyPXBhcnNlRmxvYXQodC5mbG9vcikpfXJldHVybiBudWxsIT09cj9yOmUucGFyYW1zLmZsb29yfWZ1bmN0aW9uIHYoZSxyKXt2YXIgdD1BKGUsW3tzaXplOlszMDAsMjUwXSxzOjEwMH0se3NpemU6WzcyOCw5MF0sczo5NX0se3NpemU6WzMyMCw1MF0sczo5MH0se3NpemU6WzE2MCw2MDBdLHM6ODh9LHtzaXplOlszMDAsNjAwXSxzOjg1fSx7c2l6ZTpbMzAwLDUwXSxzOjgwfSx7c2l6ZTpbOTcwLDI1MF0sczo3NX0se3NpemU6Wzk3MCw5MF0sczo2MH1dKTtzd2l0Y2gocil7Y2FzZSJ3IjpyZXR1cm4gdFswXVswXXx8MDtjYXNlImgiOnJldHVybiB0WzBdWzFdfHwwO2Nhc2Uic2l6ZSI6ZGVmYXVsdDpyZXR1cm4gdH19ZnVuY3Rpb24gQShlLHIpe3ZhciB0PWUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4tMT09PXIubWFwKChmdW5jdGlvbihlKXtyZXR1cm4iIi5jb25jYXQoZS5zaXplWzBdLCJ4IikuY29uY2F0KGUuc2l6ZVsxXSl9KSkuaW5kZXhPZigiIi5jb25jYXQoZVswXSwieCIpLmNvbmNhdChlWzFdKSl9KSksbj1lLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gMD09PWUubGVuZ3RoPyhlLnB1c2godCksZSk6KGUucHVzaCh0KSwoZT0oZT1yLmZpbHRlcigoZnVuY3Rpb24ocil7cmV0dXJuLTEhPT1lLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIiIuY29uY2F0KGVbMF0sIngiKS5jb25jYXQoZVsxXSl9KSkuaW5kZXhPZigiIi5jb25jYXQoci5zaXplWzBdLCJ4IikuY29uY2F0KHIuc2l6ZVsxXSkpfSkpKS5zb3J0KChmdW5jdGlvbihlLHIpe3JldHVybiByLnMtZS5zfSkpKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNpemV9KSkpfSksW10pO3JldHVybiBJKFtdLmNvbmNhdChjKG4pLGModCkpKX1mdW5jdGlvbiBJKGUpe3JldHVybiBlLmZpbHRlcigoZnVuY3Rpb24ocix0KXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiIiLmNvbmNhdChlWzBdLCJ4IikuY29uY2F0KGVbMV0pfSkpLmluZGV4T2YoIiIuY29uY2F0KHJbMF0sIngiKS5jb25jYXQoclsxXSkpPT09dH0pKX1mdW5jdGlvbiBTKGUscix0LG4pe2Zvcih2YXIgaT1bXTswIT09ZS5sZW5ndGg7KWUubGVuZ3RoPj01P2kucHVzaChlLnNwbGljZSgwLDUpKTppLnB1c2goZS5zcGxpY2UoMCxlLmxlbmd0aCkpO3JldHVybiBpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHIuaW1wPWUse21ldGhvZDoiUE9TVCIsdXJsOm4sZGF0YTpKU09OLnN0cmluZ2lmeShyKSxiaWRkZXJSZXF1ZXN0OnR9fSkpfWZ1bmN0aW9uIHgoZSxyKXtyZXR1cm4gYShyLmJpZGRlclJlcXVlc3QuYmlkcy5maWx0ZXIoKGZ1bmN0aW9uKHIpe3JldHVybiByLmJpZElkPT09ZX0pKSwxKVswXX1mdW5jdGlvbiBPKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpJiZBcnJheS5pc0FycmF5KGVbMF0pP2VbMF06ZX1mdW5jdGlvbiB3KGUpe3ZhciByPWUuc2l6ZXMsdD17fTtyZXR1cm4gdC53aWR0aD1PKHIpWzBdLHQuaGVpZ2h0PU8ocilbMV0sdH1mdW5jdGlvbiBUKGUscix0LGkpe24uaXNTdHIocikmJkFycmF5LmlzQXJyYXkoZSkmJmUucHVzaCh7c291cmNlOnQsdWlkczpbe2lkOnIsYXR5cGU6aX1dfSl9ZnVuY3Rpb24geihlKXt2YXIgcj1lLmFwaTtyZXR1cm4gciYmQXJyYXkuaXNBcnJheShyKSYmci5sZW5ndGg+MD9yOlsyXX1mdW5jdGlvbiBqKGUpe3ZhciByPWUucHJvdG9jb2xzO3JldHVybiByJiZBcnJheS5pc0FycmF5KHIpJiZyLmxlbmd0aD4wP3I6WzIsMyw1LDYsNyw4XX1mdW5jdGlvbiBfKGUscil7dHJ5e3ZhciB0PS88aW1nXHNbXj5dKj9zcmNccyo9XHMqWydcIl0oW14nXCJdKj8pWydcIl1bXj5dKj8+LyxuPWEoZS5tYXRjaCh0KSwyKSxpPW5bMF0sbz1uWzFdO2lmKGU9ZS5yZXBsYWNlKHQsIiIpLGkmJm8pe3ZhciBzPSI8SW1wcmVzc2lvbj48IVtDREFUQVsiLmNvbmNhdChvLCJdXT48L0ltcHJlc3Npb24+Iik7ZT1lLnJlcGxhY2UoIjwvSW1wcmVzc2lvbj4iLCI8L0ltcHJlc3Npb24+Ii5jb25jYXQocykpfXJldHVybiBlfWNhdGNoKHQpe2lmKCFyKXJldHVybiBlO3ZhciBjPSI8SW1wcmVzc2lvbj48IVtDREFUQVsiLmNvbmNhdChyLCJdXT48L0ltcHJlc3Npb24+Iik7cmV0dXJuIGU9ZS5yZXBsYWNlKCI8L0ltcHJlc3Npb24+IiwiPC9JbXByZXNzaW9uPiIuY29uY2F0KGMpKX19T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKGcpfX0sWzM4Ml0pOwp1cGJqc0NodW5rKFsyNTVdLHszOTI6ZnVuY3Rpb24oZSxyLGkpe2UuZXhwb3J0cz1pKDM5Myl9LDM5MzpmdW5jdGlvbihlLHIsaSl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxpLmQociwiZW14QWRhcHRlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSksaS5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiB5fSkpO3ZhciB0PWkoMCksbj1pKDEpLGE9aSgyKSxkPWkoMTMpLG89aSgxMikscz1pLm4obyksdT1pKDExKSxjPWkubih1KTtmdW5jdGlvbiBwKCl7cmV0dXJuKHA9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIGk9YXJndW1lbnRzW3JdO2Zvcih2YXIgdCBpbiBpKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpLHQpJiYoZVt0XT1pW3RdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgbD0iZW14X2RpZ2l0YWwiLGc9Imh0dHBzOi8vanMuYnJlYWx0aW1lLmNvbS9vdXRzdHJlYW0vMS4zMC4wL2J1bmRsZS5qcyIsbT0iVVNEIixmPVt7a2V5OiJpZGxfZW52Iixzb3VyY2U6ImxpdmVyYW1wLmNvbSIscnRpUGFydG5lcjoiaWRsIixxdWVyeVBhcmFtOiJpZGwifSx7a2V5OiJ1aWQyLmlkIixzb3VyY2U6InVpZGFwaS5jb20iLHJ0aVBhcnRuZXI6IlVJRDIiLHF1ZXJ5UGFyYW06InVpZDIifV0sdj17dmFsaWRhdGVTaXplczpmdW5jdGlvbihlKXtyZXR1cm4gdC5pc0FycmF5KGUpJiZ2b2lkIDAhPT1lWzBdP2UuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmlzQXJyYXkoZSkmJjI9PT1lLmxlbmd0aH0pKToodC5sb2dXYXJuKCJlbXhfZGlnaXRhbDogU2l6ZXMgc2hvdWxkIGJlIGFuIGFycmF5IiksITEpfSxjaGVja1ZpZGVvQ29udGV4dDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMudmlkZW8mJmUubWVkaWFUeXBlcy52aWRlby5jb250ZXh0JiYoImluc3RyZWFtIj09PWUubWVkaWFUeXBlcy52aWRlby5jb250ZXh0fHwib3V0c3RyZWFtIj09PWUubWVkaWFUeXBlcy52aWRlby5jb250ZXh0KX0sYnVpbGRCYW5uZXI6ZnVuY3Rpb24oZSl7dmFyIHI9W107cmV0dXJuIHI9ZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiZlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzP2UubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM6ZS5zaXplcyx2LnZhbGlkYXRlU2l6ZXMocil8fCh0LmxvZ1dhcm4oImVteF9kaWdpdGFsOiBjb3VsZCBub3QgZGV0ZWN0IG1lZGlhVHlwZSBiYW5uZXIgc2l6ZXMuIEFzc2lnbmluZyB0byBiaWQgc2l6ZXMgaW5zdGVhZCIpLHI9ZS5zaXplcykse2Zvcm1hdDpyLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSkpLHc6clswXVswXSxoOnJbMF1bMV19fSxmb3JtYXRWaWRlb1Jlc3BvbnNlOmZ1bmN0aW9uKGUscixpKXsoZS52YXN0WG1sPXIuYWRtLGkuYmlkZGVyUmVxdWVzdCYmaS5iaWRkZXJSZXF1ZXN0LmJpZHMmJmkuYmlkZGVyUmVxdWVzdC5iaWRzLmxlbmd0aD4wKSYmKGMoKShpLmJpZGRlclJlcXVlc3QuYmlkcywoZnVuY3Rpb24ocil7cmV0dXJuIGUucmVxdWVzdElkJiZyLmJpZElkJiZlLnJlcXVlc3RJZD09PXIuYmlkSWQmJnIubWVkaWFUeXBlcyYmci5tZWRpYVR5cGVzLnZpZGVvJiYib3V0c3RyZWFtIj09PXIubWVkaWFUeXBlcy52aWRlby5jb250ZXh0fSkpJiYoZS5yZW5kZXJlcj12LmNyZWF0ZVJlbmRlcmVyKGUse2lkOnIuaWQsdXJsOmd9KSkpO3JldHVybiBlfSxpc01vYmlsZTpmdW5jdGlvbigpe3JldHVybi8oaW9zfGlwb2R8aXBhZHxpcGhvbmV8YW5kcm9pZCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfSxpc0Nvbm5lY3RlZFRWOmZ1bmN0aW9uKCl7cmV0dXJuLyhzbWFydFstXT90dnxoYmJ0dnxhcHBsZXR2fGdvb2dsZXR2fGhkbWl8bmV0Y2FzdFwudHZ8dmllcmF8bmV0dHZ8cm9rdXxcYmR0dlxifHNvbnlkdHZ8aW5ldHR2YnJvd3NlcnxcYnR2XGIpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KX0sZ2V0RGV2aWNlOmZ1bmN0aW9uKCl7cmV0dXJue3VhOm5hdmlnYXRvci51c2VyQWdlbnQsanM6MSxkbnQ6InllcyI9PT1uYXZpZ2F0b3IuZG9Ob3RUcmFja3x8IjEiPT09bmF2aWdhdG9yLmRvTm90VHJhY2t8fCIxIj09PW5hdmlnYXRvci5tc0RvTm90VHJhY2s/MTowLGg6c2NyZWVuLmhlaWdodCx3OnNjcmVlbi53aWR0aCxkZXZpY2V0eXBlOnYuaXNNb2JpbGUoKT8xOnYuaXNDb25uZWN0ZWRUVigpPzM6MixsYW5ndWFnZTpuYXZpZ2F0b3IubGFuZ3VhZ2V8fG5hdmlnYXRvci5icm93c2VyTGFuZ3VhZ2V8fG5hdmlnYXRvci51c2VyTGFuZ3VhZ2V8fG5hdmlnYXRvci5zeXN0ZW1MYW5ndWFnZX19LGNsZWFuUHJvdG9jb2xzOmZ1bmN0aW9uKGUpe3JldHVybiBlLnByb3RvY29scyYmcygpKGUucHJvdG9jb2xzLDcpJiYodC5sb2dXYXJuKCJlbXhfZGlnaXRhbDogVkFTVCA0LjAgaXMgY3VycmVudGx5IG5vdCBzdXBwb3J0ZWQuIFRoaXMgcHJvdG9jb2wgaGFzIGJlZW4gZmlsdGVyZWQgb3V0IG9mIHRoZSByZXF1ZXN0LiIpLGUucHJvdG9jb2xzPWUucHJvdG9jb2xzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIDchPT1lfSkpKSxlfSxvdXRzdHJlYW1SZW5kZXI6ZnVuY3Rpb24oZSl7ZS5yZW5kZXJlci5wdXNoKChmdW5jdGlvbigpe3ZhciByPWUmJmUucGFyYW1zJiZlLnBhcmFtc1swXSYmZS5wYXJhbXNbMF0udmlkZW8/ZS5wYXJhbXNbMF0udmlkZW86e307d2luZG93LmVteFZpZGVvUXVldWU9d2luZG93LmVteFZpZGVvUXVldWV8fFtdLHdpbmRvdy5xdWV1ZUVteFZpZGVvKHtpZDplLmFkVW5pdENvZGUsYWRzUmVzcG9uc2VzOmUudmFzdFhtbCxvcHRpb25zOnJ9KSx3aW5kb3cuZW14VmlkZW9SZWFkeSYmd2luZG93LnZpZGVvanMmJndpbmRvdy5lbXhWaWRlb1JlYWR5KCl9KSl9LGNyZWF0ZVJlbmRlcmVyOmZ1bmN0aW9uKGUscil7dmFyIGk9ZC5hLmluc3RhbGwoe2lkOnIuaWQsdXJsOmcsbG9hZGVkOiExfSk7dHJ5e2kuc2V0UmVuZGVyKHYub3V0c3RyZWFtUmVuZGVyKX1jYXRjaChlKXt0LmxvZ1dhcm4oIlByZWJpZCBFcnJvciBjYWxsaW5nIHNldFJlbmRlciBvbiByZW5kZXJlciIsZSl9cmV0dXJuIGl9LGJ1aWxkVmlkZW86ZnVuY3Rpb24oZSl7dmFyIHI9cChlLm1lZGlhVHlwZXMudmlkZW8sZS5wYXJhbXMudmlkZW8pO3JldHVybiB0LmlzQXJyYXkoZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF0pPyhyLnc9ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF1bMF0sci5oPWUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdWzFdKTooci53PWUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdLHIuaD1lLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVsxXSksdi5jbGVhblByb3RvY29scyhyKX0scGFyc2VSZXNwb25zZTpmdW5jdGlvbihlKXt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlLnJlcGxhY2UoLyUoPyFbMC05XVswLTlhLWZBLUZdKykvZywiJTI1IikpfWNhdGNoKGUpe3QubG9nRXJyb3IoImVteF9kaWdpdGFsQmlkQWRhcHRlciIsImVycm9yIixlKX19LGdldFJlZmVycmVyOmZ1bmN0aW9uKCl7dHJ5e3JldHVybiB3aW5kb3cudG9wLmRvY3VtZW50LnJlZmVycmVyfWNhdGNoKGUpe3JldHVybiBkb2N1bWVudC5yZWZlcnJlcn19LGdldFNpdGU6ZnVuY3Rpb24oZSl7cmV0dXJue2RvbWFpbjp0LnBhcnNlVXJsKGUucmVmZXJlcikuaG9zdG5hbWUscGFnZTplLnJlZmVyZXIscmVmOnYuZ2V0UmVmZXJyZXIoKX19LGdldEdkcHI6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5nZHByQ29uc2VudCYmKHIucmVncz17ZXh0OntnZHByOiEwPT09ZS5nZHByQ29uc2VudC5nZHByQXBwbGllcz8xOjB9fSksZS5nZHByQ29uc2VudCYmZS5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmKHIudXNlcj17ZXh0Ontjb25zZW50OmUuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZ319KSxyfSxnZXRTdXBwbHlDaGFpbjpmdW5jdGlvbihlLHIpe3JldHVybiBlLmJpZHNbMF0mJmUuYmlkc1swXS5zY2hhaW4mJihyLnNvdXJjZT17ZXh0OntzY2hhaW46ZS5iaWRzWzBdLnNjaGFpbn19KSxyfSxnZXRFaWRzOmZ1bmN0aW9uKGUpe3JldHVybiBmLm1hcCh2LmdldFVzZXJJZChlKSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZX0pKX0sZ2V0VXNlcklkOmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihyKXt2YXIgaT1yLmtleSxuPXIuc291cmNlLGE9ci5ydGlQYXJ0bmVyLGQ9dC5kZWVwQWNjZXNzKGUsInVzZXJJZC4iLmNvbmNhdChpKSk7cmV0dXJuIGQ/di5mb3JtYXRFaWQoZCxuLGEpOm51bGx9fSxmb3JtYXRFaWQ6ZnVuY3Rpb24oZSxyLGkpe3JldHVybntzb3VyY2U6cix1aWRzOlt7aWQ6ZSxleHQ6e3J0aVBhcnRuZXI6aX19XX19fSx5PXtjb2RlOmwsZ3ZsaWQ6MTgzLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2EuYixhLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe2lmKCFlfHwhZS5wYXJhbXMpcmV0dXJuIHQubG9nV2FybigiZW14X2RpZ2l0YWw6IE1pc3NpbmcgYmlkIG9yIGJpZCBwYXJhbXMuIiksITE7aWYoZS5iaWRkZXIhPT1sKXJldHVybiB0LmxvZ1dhcm4oJ2VteF9kaWdpdGFsOiBNdXN0IHVzZSAiZW14X2RpZ2l0YWwiIGFzIGJpZGRlciBjb2RlLicpLCExO2lmKCFlLnBhcmFtcy50YWdpZHx8IXQuaXNTdHIoZS5wYXJhbXMudGFnaWQpKXJldHVybiB0LmxvZ1dhcm4oImVteF9kaWdpdGFsOiBNaXNzaW5nIHRhZ2lkIHBhcmFtIG9yIHRhZ2lkIHByZXNlbnQgYW5kIG5vdCB0eXBlIFN0cmluZy4iKSwhMTt2YXIgcjtpZihlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXIpe2lmKHI9ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcz9lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzOmUuc2l6ZXMsIXYudmFsaWRhdGVTaXplcyhyKSlyZXR1cm4gdC5sb2dXYXJuKCJlbXhfZGlnaXRhbDogTWlzc2luZyBzaXplcyBpbiBiaWQiKSwhMX1lbHNlIGlmKGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLnZpZGVvKXtpZighdi5jaGVja1ZpZGVvQ29udGV4dChlKSlyZXR1cm4gdC5sb2dXYXJuKCJlbXhfZGlnaXRhbDogTWlzc2luZyB2aWRlbyBjb250ZXh0OiBpbnN0cmVhbSBvciBvdXRzdHJlYW0iKSwhMTtpZighZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUpcmV0dXJuIHQubG9nV2FybigiZW14X2RpZ2l0YWw6IE1pc3NpbmcgdmlkZW8gcGxheWVyU2l6ZSIpLCExfXJldHVybiEwfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIGk9W10sbj0iaHR0cHM6Ly9oYi5lbXhkZ3QuY29tP3Q9Iisoci50aW1lb3V0fHwiIikrIiZ0cz0iK0RhdGUubm93KCkrIiZzcmM9cGJqcyIsYT1sb2NhdGlvbi5wcm90b2NvbC5pbmRleE9mKCJodHRwcyIpPi0xPzE6MCxkPXYuZ2V0RGV2aWNlKCksbz12LmdldFNpdGUoci5yZWZlcmVySW5mbyk7dC5fZWFjaChlLChmdW5jdGlvbihlKXt2YXIgcj10LmdldEJpZElkUGFyYW1ldGVyKCJ0YWdpZCIsZS5wYXJhbXMpLG49cGFyc2VGbG9hdChmdW5jdGlvbihlKXtpZighdC5pc0ZuKGUuZ2V0Rmxvb3IpKXJldHVybiBwYXJzZUZsb2F0KHQuZ2V0QmlkSWRQYXJhbWV0ZXIoImJpZGZsb29yIixlLnBhcmFtcykpO3ZhciByPWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5Om0sbWVkaWFUeXBlOiIqIixzaXplOiIqIn0pO2lmKHQuaXNQbGFpbk9iamVjdChyKSYmIWlzTmFOKHIuZmxvb3IpJiYiVVNEIj09PXIuY3VycmVuY3kpcmV0dXJuIHIuZmxvb3I7cmV0dXJuIG51bGx9KGUpKXx8MCxkPSEhZS5tZWRpYVR5cGVzLnZpZGVvLG89cCh7aWQ6ZS5iaWRJZCx0aWQ6ZS50cmFuc2FjdGlvbklkLHRhZ2lkOnIsc2VjdXJlOmF9LGQ/e3ZpZGVvOnYuYnVpbGRWaWRlbyhlKX06e2Jhbm5lcjp2LmJ1aWxkQmFubmVyKGUpfSxuPjA/e2JpZGZsb29yOm4sYmlkZmxvb3JjdXI6bX06e30pO2kucHVzaChvKX0pKTt2YXIgcz17aWQ6ci5hdWN0aW9uSWQsaW1wOmksZGV2aWNlOmQsc2l0ZTpvLGN1cjptLHZlcnNpb246IjEuNS4xIn07aWYocz12LmdldEdkcHIocixwKHt9LHMpKSxzPXYuZ2V0U3VwcGx5Q2hhaW4ocixwKHt9LHMpKSxyJiZyLnVzcENvbnNlbnQmJihzLnVzX3ByaXZhY3k9ci51c3BDb25zZW50KSxyLnVzZXJJZCl7dmFyIHU9di5nZXRFaWRzKHIpO3UubGVuZ3RoPjAmJihzLnVzZXImJnMudXNlci5leHQ/cy51c2VyLmV4dC5laWRzPXU6cy51c2VyPXtleHQ6e2VpZHM6dX19KX1yZXR1cm57bWV0aG9kOiJQT1NUIix1cmw6bixkYXRhOkpTT04uc3RyaW5naWZ5KHMpLG9wdGlvbnM6e3dpdGhDcmVkZW50aWFsczohMH0sYmlkZGVyUmVxdWVzdDpyfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgaT1bXSx0PWUuYm9keXx8e307cmV0dXJuIHQuc2VhdGJpZCYmdC5zZWF0YmlkLmxlbmd0aD4wJiZ0LnNlYXRiaWRbMF0uYmlkJiZ0LnNlYXRiaWQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZT1lLmJpZFswXTt2YXIgdD0hMSxuPXYucGFyc2VSZXNwb25zZShlLmFkbSl8fCIiLGQ9e3JlcXVlc3RJZDplLmlkLGNwbTplLnByaWNlLHdpZHRoOmUudyxoZWlnaHQ6ZS5oLGNyZWF0aXZlSWQ6ZS5jcmlkfHxlLmlkLGRlYWxJZDplLmRlYWxpZHx8bnVsbCxjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiEwLHR0bDplLnR0bCxhZDpufTtlLmFkbSYmZS5hZG0uaW5kZXhPZigiPD94bWwgdmVyc2lvbj0iKT4tMSYmKHQ9ITAsZD12LmZvcm1hdFZpZGVvUmVzcG9uc2UoZCxwKHt9LGUpLHIpKSxkLm1lZGlhVHlwZT10P2EuZDphLmIsZS5hZG9tYWluJiZlLmFkb21haW4ubGVuZ3RoJiYoZC5tZXRhPXthZHZlcnRpc2VyRG9tYWluczplLmFkb21haW59KSxpLnB1c2goZCl9KSksaX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUscixpLHQpe3ZhciBuPVtdO2lmKGUuaWZyYW1lRW5hYmxlZCl7dmFyIGE9Imh0dHBzOi8vYmlkZHIuYnJlYWx0aW1lLmNvbS9jaGVjay5odG1sIjtpJiYic3RyaW5nIj09dHlwZW9mIGkuY29uc2VudFN0cmluZyYmKCJib29sZWFuIj09dHlwZW9mIGkuZ2RwckFwcGxpZXM/YSs9Ij9nZHByPSIuY29uY2F0KE51bWJlcihpLmdkcHJBcHBsaWVzKSwiJmdkcHJfY29uc2VudD0iKS5jb25jYXQoaS5jb25zZW50U3RyaW5nKTphKz0iP2dkcHJfY29uc2VudD0iLmNvbmNhdChpLmNvbnNlbnRTdHJpbmcpKSxuLnB1c2goe3R5cGU6ImlmcmFtZSIsdXJsOmF9KX1yZXR1cm4gbn19O09iamVjdChuLnJlZ2lzdGVyQmlkZGVyKSh5KX19LFszOTJdKTsKdXBianNDaHVuayhbMjI4XSx7NDUwOmZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9big0NTEpfSw0NTE6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZnVuY3Rpb24oZSl7bi5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBDfSkpO3ZhciByPW4oMCksaT1uKDIpLG89bigzKSxhPW4oNyksYz1uKDEyKSx1PW4ubihjKSxkPW4oMSk7ZnVuY3Rpb24gcygpe3JldHVybihzPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gcChlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gbChlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9wKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZihlLHQsblt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6cChPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBmKGUsdCxuKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPW4sZX1mdW5jdGlvbiBtKGUpe3JldHVybihtPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gYihlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgbj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PW4pcmV0dXJuO3ZhciByLGksbz1bXSxhPSEwLGM9ITE7dHJ5e2ZvcihuPW4uY2FsbChlKTshKGE9KHI9bi5uZXh0KCkpLmRvbmUpJiYoby5wdXNoKHIudmFsdWUpLCF0fHxvLmxlbmd0aCE9PXQpO2E9ITApO31jYXRjaChlKXtjPSEwLGk9ZX1maW5hbGx5e3RyeXthfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgaX19cmV0dXJuIG99KGUsdCl8fGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4geShlLHQpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1ufHwiU2V0Ij09PW4pcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSlyZXR1cm4geShlLHQpfShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24geShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfXZhciB2PU9iamVjdChhLmIpKCksZz17dDowLHJxOjgscGJ2OiI1LjExLjAifSxoPVtpLmIsaS5kXSxJPXt9LHc9e30sUz1udWxsO2Z1bmN0aW9uIE8odCl7dmFyIG4saSxvLGEsYyx1LGQscztpZih3LnZ3KXJldHVybiB3O3RyeXtpPShuPWUudG9wKS5zY3JlZW4sbz10fHwiIn1jYXRjaChlKXtyZXR1cm4gci5sb2dFcnJvcihlKSx3fXJldHVybiB3PXt2dzpuLmlubmVyV2lkdGgsdmg6bi5pbm5lckhlaWdodCxzdzppLndpZHRoLHNoOmkuaGVpZ2h0LHB1Om8sY2U6di5jb29raWVzQXJlRW5hYmxlZCgpLGRwcjpuLmRldmljZVBpeGVsUmF0aW98fDEsamNzaTpKU09OLnN0cmluZ2lmeShnKSxvZ3U6KHU9KGRvY3VtZW50JiZkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdKS5xdWVyeVNlbGVjdG9yKCJtZXRhW3Byb3BlcnR5PSdvZzp1cmwnXSIpLHU/dS5jb250ZW50Om51bGwpfSxkPXdpbmRvdy5uYXZpZ2F0b3ImJih3aW5kb3cubmF2aWdhdG9yLmNvbm5lY3Rpb258fHdpbmRvdy5uYXZpZ2F0b3IubW96Q29ubmVjdGlvbnx8d2luZG93Lm5hdmlnYXRvci53ZWJraXRDb25uZWN0aW9uKSwoYz0ocz1kJiYoZC5kb3dubGlua3x8ZC5iYW5kd2lkdGgpKT9NYXRoLnJvdW5kKDEwMjQqcyk6bnVsbCkmJih3Lm5zPWMpLChhPShvLm1hdGNoKC8jZ2dhZD0oXHcrKSQvKXx8WzAsMF0pWzFdKSYmKHdbaXNOYU4oYSk/ImVBZEJ1eUlkIjoiYWRCdXlJZCJdPWEpLHd9ZnVuY3Rpb24gaihlLHQpe3JldHVybiBlLnJlcGxhY2UoIkFEX0pTT04iLHdpbmRvdy5idG9hKEpTT04uc3RyaW5naWZ5KHQpKSl9ZnVuY3Rpb24geChlKXt2YXIgdD1lLmRpZ2l0cnVzdGlkJiZlLmRpZ2l0cnVzdGlkLmRhdGE7cmV0dXJuIXR8fHQucHJpdmFjeSYmdC5wcml2YWN5Lm9wdG91dD97fTp7ZHQ6dC5pZH19ZnVuY3Rpb24gUChlKXt2YXIgdD0wLG49MCxyPTA7cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIGk9YihlLDIpLG89aVswXSxhPWlbMV0sYz1vPmE/bzphOyhjPnJ8fGM9PT1yJiZvPj10JiZhPj1uKSYmKHI9Yyx0PW8sbj1hKX0pKSxbdCxuXX12YXIgQz17Y29kZToiZ3VtZ3VtIixhbGlhc2VzOlsiZ2ciXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmFtcyxuPWUuYWRVbml0Q29kZSxpPXQuaW5TY3JlZW58fHQuaW5TY3JlZW5QdWJJRHx8dC5pblNsb3R8fHQuSUNWfHx0LnZpZGVvfHx0LmluVmlkZW98fHQuc2xvdHx8dC5uYXRpdmV8fHQuem9uZXx8dC5wdWJJRDtpZihJW2ldKXJldHVybiByLmxvZ1dhcm4oIltHdW1HdW1dIFBsZWFzZSBjaGVjayB0aGUgaW1wbGVtZW50YXRpb24gZm9yICIuY29uY2F0KGksIiBmb3IgdGhlIHBsYWNlbWVudCAiKS5jb25jYXQobikpLCExO3N3aXRjaCghMCl7Y2FzZSEhdC56b25lOmNhc2UhIXQucHViSWQ6Y2FzZSEhdC5pblNjcmVlbjpjYXNlISF0LmluU2NyZWVuUHViSUQ6Y2FzZSEhdC5pblNsb3Q6Y2FzZSEhdC5JQ1Y6Y2FzZSEhdC52aWRlbzpjYXNlISF0LmluVmlkZW86Y2FzZSEhdC52aWRlb1B1YklEOmJyZWFrO2RlZmF1bHQ6cmV0dXJuIHIubG9nV2FybigiW0d1bUd1bV0gTm8gcHJvZHVjdCBzZWxlY3RlZCBmb3IgdGhlIHBsYWNlbWVudCAiLmNvbmNhdChuLCIsIHBsZWFzZSBjaGVjayB5b3VyIGltcGxlbWVudGF0aW9uLiIpKSwhMX1yZXR1cm4hKHQuYmlkZmxvb3ImJigibnVtYmVyIiE9dHlwZW9mIHQuYmlkZmxvb3J8fCFpc0Zpbml0ZSh0LmJpZGZsb29yKSkpfHwoci5sb2dXYXJuKCJbR3VtR3VtXSBiaWRmbG9vciBtdXN0IGJlIGEgTnVtYmVyIiksITEpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dmFyIG49W10saT10JiZ0LmdkcHJDb25zZW50LGE9dCYmdC51c3BDb25zZW50LGM9by5iLmdldENvbmZpZygiYmlkZGVyVGltZW91dCIpLHU9dCYmdC5yZWZlcmVySW5mbyYmdC5yZWZlcmVySW5mby5yZWZlcmVyO3JldHVybiByLl9lYWNoKGUsKGZ1bmN0aW9uKGUpe3ZhciB0LG8sZD1lLmJpZElkLHA9ZS5tZWRpYVR5cGVzLGY9dm9pZCAwPT09cD97fTpwLHk9ZS5wYXJhbXMsdj12b2lkIDA9PT15P3t9OnksZz1lLnNjaGFpbixoPWUudHJhbnNhY3Rpb25JZCxJPWUudXNlcklkLHc9dm9pZCAwPT09ST97fTpJLGo9ZS5vcnRiMkltcCxDPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1PYmplY3Qua2V5cyhlKVswXXx8ImJhbm5lciIsaT17Zmxvb3I6MCxjdXJyZW5jeToiVVNEIn07aWYoImZ1bmN0aW9uIj09dHlwZW9mIG4uZ2V0Rmxvb3Ipe3ZhciBvPW4uZ2V0Rmxvb3Ioe21lZGlhVHlwZTpyLHNpemU6IioifSksYT1vLmN1cnJlbmN5LGM9by5mbG9vcjtjJiYoaS5mbG9vcj1jKSxhJiYoaS5jdXJyZW5jeT1hKSx0JiZjJiYiVVNEIj09PWEmJihpLmZsb29yPU1hdGgubWF4KHQscGFyc2VGbG9hdChjKSkpfWVsc2UgdCYmKGkuZmxvb3I9dCk7cmV0dXJuIGl9KGYsdi5iaWRmbG9vcixlKSxEPUMuY3VycmVuY3ksej1DLmZsb29yLGs9ZnVuY3Rpb24oZSl7dmFyIHQ9WyJ1aWQiLCJlaWQiLCJsaXBiaWQiXTtyZXR1cm4gT2JqZWN0LmtleXMoZSkucmVkdWNlKChmdW5jdGlvbihuLHIpe3ZhciBpPWVbcl07c3dpdGNoKG0oaSkpe2Nhc2Uic3RyaW5nIjpuW3JdPWk7YnJlYWs7Y2FzZSJvYmplY3QiOnZhciBvPXQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gaS5oYXNPd25Qcm9wZXJ0eShlKX0pKTtvLmxlbmd0aCYmKG5bcl09aVtvWzBdXSl9cmV0dXJuIG59KSx7fSl9KHcpLEE9WzEsMV0sVD17fSxSPSIiO2Zvcih2YXIgVSBpbiBrKVRbVV09a1tVXTtpZihyLmRlZXBBY2Nlc3MoaiwiZXh0LmRhdGEuYWRzZXJ2ZXIubmFtZSIpJiYoUj1qLmV4dC5kYXRhLmFkc2VydmVyLmFkc2xvdCksZi5iYW5uZXI/QT1mLmJhbm5lci5zaXplczpmLnZpZGVvJiYoQT1mLnZpZGVvLnBsYXllclNpemUsVD1mdW5jdGlvbihlKXt2YXIgdD1lLm1pbmR1cmF0aW9uLG49ZS5tYXhkdXJhdGlvbixpPWUubGluZWFyaXR5LG89ZS5zdGFydGRlbGF5LGE9ZS5wbGFjZW1lbnQsYz1lLnByb3RvY29scyx1PXZvaWQgMD09PWM/W106YyxkPWUucGxheWVyU2l6ZSxzPXZvaWQgMD09PWQ/W106ZCxwPXIucGFyc2VTaXplc0lucHV0KHMpLGw9YihwWzBdJiZwWzBdLnNwbGl0KCJ4IiksMiksZj1sWzBdLG09bFsxXSx5PSIiO3JldHVybiB1Lmxlbmd0aCYmKHk9dS5qb2luKCIsIikpLHttaW5kOnQsbWF4ZDpuLGxpOmksc2Q6byxwdDphLHByOnksdml3OmYsdmloOm19fShmLnZpZGVvKSksUyYmKFQucHY9UykseiYmKFQuZnA9eixULmZwYz1EKSx2LmlyaXNjYXQmJiJzdHJpbmciPT10eXBlb2Ygdi5pcmlzY2F0JiYoVC5pcmlzY2F0PXYuaXJpc2NhdCksdi5pcmlzaWQmJiJzdHJpbmciPT10eXBlb2Ygdi5pcmlzaWQmJihULmlyaXNpZD12LmlyaXNpZCksdi56b25lfHx2LnB1YklkKWlmKHYuem9uZT9ULnQ9di56b25lOlQucHViSWQ9di5wdWJJZCxULnBpPTIsdi5zbG90KXt2YXIgRz1iKFAoQSksMiksVj1HWzBdLEU9R1sxXTtULm1heHc9VixULm1heGg9RSxULnNpPXBhcnNlSW50KHYuc2xvdCwxMCksVC5waT0zLFQuYmY9QS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIiIuY29uY2F0KGUpLmNvbmNhdChlJiYiLCIpLmNvbmNhdCh0WzBdLCJ4IikuY29uY2F0KHRbMV0pfSksIiIpfWVsc2Ugdi5uYXRpdmU/KFQubmk9cGFyc2VJbnQodi5uYXRpdmUsMTApLFQucGk9NSk6Zi52aWRlbyYmKFQucGk9Mj09PWYudmlkZW8ubGluZWFyaXR5PzY6Nyk7ZWxzZSBUPWwobCh7fSxUKSxmdW5jdGlvbihlLHQpe3ZhciBuPXt9O2UuaW5TY3JlZW5QdWJJRCYmKG4ucHViSWQ9ZS5pblNjcmVlblB1YklELG4ucGk9Mik7ZS5pblNjcmVlbiYmKG4udD1lLmluU2NyZWVuLG4ucGk9Mik7aWYoZS5pblNsb3Qpe3ZhciByPWIoUCh0KSwyKSxpPXJbMF0sbz1yWzFdO24ubWF4dz1pLG4ubWF4aD1vLG4uc2k9cGFyc2VJbnQoZS5pblNsb3QsMTApLG4ucGk9MyxuLmJmPXQucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiIiLmNvbmNhdChlKS5jb25jYXQoZSYmIiwiKS5jb25jYXQodFswXSwieCIpLmNvbmNhdCh0WzFdKX0pLCIiKX1lLklDViYmKG4ubmk9cGFyc2VJbnQoZS5JQ1YsMTApLG4ucGk9NSk7ZS52aWRlb1B1YklEJiYobi5wdWJJZD1lLnZpZGVvUHViSUQsbi5waT03KTtlLnZpZGVvJiYobi50PWUudmlkZW8sbi5waT03KTtlLmluVmlkZW8mJihuLnQ9ZS5pblZpZGVvLG4ucGk9Nik7cmV0dXJuIG59KHYsQSkpO2kmJihULmdkcHJBcHBsaWVzPWkuZ2RwckFwcGxpZXM/MTowKSxULmdkcHJBcHBsaWVzJiYoVC5nZHByQ29uc2VudD1pLmNvbnNlbnRTdHJpbmcpLGEmJihULnVzcENvbnNlbnQ9YSksZyYmZy5ub2RlcyYmKFQuc2NoYWluPShvPSIiLmNvbmNhdCgodD1nKS52ZXIsIiwiKS5jb25jYXQodC5jb21wbGV0ZSksdC5ub2Rlcy5tYXAoKGZ1bmN0aW9uKGUpe28rPSIhIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUuYXNpfHwiIiksIiwiKSxvKz0iIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUuc2lkfHwiIiksIiwiKSxvKz0iIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUuaHB8fCIiKSwiLCIpLG8rPSIiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZS5yaWR8fCIiKSwiLCIpLG8rPSIiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZS5uYW1lfHwiIiksIiwiKSxvKz0iIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUuZG9tYWlufHwiIikpfSkpLG8pKSxuLnB1c2goe2lkOmQsdG1heDpjLHRJZDpoLHBpOlQucGksc2VsZWN0b3I6di5zZWxlY3RvcixzaXplczpBLHVybDoiaHR0cHM6Ly9nMi5ndW1ndW0uY29tL2hiaWQvaW1wIixtZXRob2Q6IkdFVCIsZGF0YTpzKFQsTyh1KSx4KHcpLHtncGlkOlJ9KX0pfSkpLG59LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIG49W10sbz1lLmJvZHk7aWYoIW98fG8uZXJyKXt2YXIgYT10LmRhdGF8fHt9LGM9YS5zaXx8YS5uaXx8YS50fHxhLnB1YklkLGQ9bz9vLmVyci5kcnQ6MThlNTtJW2NdPXtwcm9kdWN0SWQ6YS5waSx0aW1lc3RhbXA6KG5ldyBEYXRlKS5nZXRUaW1lKCl9LHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7SVtjXSYmZGVsZXRlIElbY119KSxkKSxyLmxvZ1dhcm4oIltHdW1HdW1dIFBsZWFzZSBjaGVjayB0aGUgaW1wbGVtZW50YXRpb24gZm9yICIuY29uY2F0KGMpKX12YXIgcD1zKHthZDp7cHJpY2U6MCxpZDowLG1hcmt1cDoiIix3aWR0aDowLGhlaWdodDowfSxwYWc6e3B2aWQ6MH0sbWV0YTp7YWRvbWFpbjpbXSxtZWRpYVR5cGU6IiJ9fSxvKSxmPXAuYWQsbT1mLnByaWNlLHk9Zi5pZCx2PWYubWFya3VwLGg9Zi5jdXIsdz1mLndpZHRoLE89Zi5oZWlnaHQseD1mLm1heHcsUD1mLm1heGgsQz1wLmN3LEQ9cC5wYWcucHZpZCx6PXAuamNzaSxrPXAubWV0YSxBPWsuYWRvbWFpbixUPWsubWVkaWFUeXBlLFI9dC5kYXRhfHx7fSxVPVIucGksRz02PT09VXx8Nz09PVU/aS5kOmkuYixWPTM9PT1VJiY5PT09Ui5zaSxFPXthZHZlcnRpc2VyRG9tYWluczpBfHxbXSxtZWRpYVR5cGU6VHx8R30sTj1yLnBhcnNlU2l6ZXNJbnB1dCh0LnNpemVzKTt4JiZQP049WyIiLmNvbmNhdCh4LCJ4IikuY29uY2F0KFApXTo1PT09VSYmdSgpKE4sIjF4MSIpP049WyIxeDEiXToyPT09VSYmdSgpKE4sIjF4MSIpJiYoTj13JiZPP1siIi5jb25jYXQodywieCIpLmNvbmNhdChPKV06ci5wYXJzZVNpemVzSW5wdXQodC5zaXplcykpO3ZhciBxPWIoTlswXS5zcGxpdCgieCIpLDIpLEI9cVswXSxNPXFbMV07cmV0dXJuIHomJihvLmpjc2k9ZyksUz1ELHkmJm4ucHVzaChsKGwoe2FkOkM/aihDLHMoe30sbyx7YmlkUmVxdWVzdDp0fSkpOnZ9LEc9PT1pLmQmJnthZDp2LHZhc3RYbWw6dn0pLHt9LHttZWRpYVR5cGU6RyxjcG06Vj8uMTptLGNyZWF0aXZlSWQ6eSxjdXJyZW5jeTpofHwiVVNEIixoZWlnaHQ6TSxuZXRSZXZlbnVlOiEwLHJlcXVlc3RJZDp0LmlkLHR0bDo2MCx3aWR0aDpCLG1ldGE6RX0pKSxufSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJvZHkmJmUuYm9keS5weHMmJmUuYm9keS5weHMuc2NyfHxbXX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY29uY2F0KHQpfSksW10pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3R5cGU6ImYiPT09ZS50PyJpZnJhbWUiOiJpbWFnZSIsdXJsOmUudX19KSl9LHN1cHBvcnRlZE1lZGlhVHlwZXM6aH07T2JqZWN0KGQucmVnaXN0ZXJCaWRkZXIpKEMpfS5jYWxsKHQsbigzOSkpfX0sWzQ1MF0pOwp1cGJqc0NodW5rKFs0N10sezE4OmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7ci5iPWZ1bmN0aW9uKGUpe3ZhciByPVtdO2Zvcih2YXIgdCBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkodCkpaWYoInB1YlByb3ZpZGVkSWQiPT09dClyPXIuY29uY2F0KGUucHViUHJvdmlkZWRJZCk7ZWxzZXt2YXIgaT1uKGVbdF0sdCk7aSYmci5wdXNoKGkpfXJldHVybiByfSxyLmE9ZnVuY3Rpb24oZSl7dmFyIHI9W107cmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gaS5pc1BsYWluT2JqZWN0KGUuaWRPYmopJiZPYmplY3Qua2V5cyhlLmlkT2JqKS5sZW5ndGh9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZS5pZE9iaikuZm9yRWFjaCgoZnVuY3Rpb24odCl7aS5kZWVwQWNjZXNzKGUsImNvbmZpZy5iaWRkZXJzIikmJkFycmF5LmlzQXJyYXkoZS5jb25maWcuYmlkZGVycykmJmkuZGVlcEFjY2VzcyhhLHQrIi5zb3VyY2UiKSYmci5wdXNoKHtzb3VyY2U6YVt0XS5zb3VyY2UsYmlkZGVyczplLmNvbmZpZy5iaWRkZXJzfSl9KSl9KSkscn07dmFyIGk9dCgwKSxhPXtpbnRlbnRJcUlkOntzb3VyY2U6ImludGVudGlxLmNvbSIsYXR5cGU6MX0scHViY2lkOntzb3VyY2U6InB1YmNpZC5vcmciLGF0eXBlOjF9LHRkaWQ6e3NvdXJjZToiYWRzZXJ2ZXIub3JnIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbigpe3JldHVybntydGlQYXJ0bmVyOiJURElEIn19fSxpZDVpZDp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudWlkfSxzb3VyY2U6ImlkNS1zeW5jLmNvbSIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoZS5leHQpcmV0dXJuIGUuZXh0fX0scGFycmFibGVJZDp7c291cmNlOiJwYXJyYWJsZS5jb20iLGF0eXBlOjEsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZWlkP2UuZWlkOmUuY2NwYU9wdG91dD8iIjpudWxsfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7dmFyIHI9aS5waWNrKGUsWyJpYmFPcHRvdXQiLCJjY3BhT3B0b3V0Il0pO2lmKE9iamVjdC5rZXlzKHIpLmxlbmd0aClyZXR1cm4gcn19LGlkbF9lbnY6e3NvdXJjZToibGl2ZXJhbXAuY29tIixhdHlwZTozfSxsaXBiOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5saXBiaWR9LHNvdXJjZToibGl2ZWludGVudC5jb20iLGF0eXBlOjMsZ2V0RWlkRXh0OmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZS5zZWdtZW50cykmJmUuc2VnbWVudHMubGVuZ3RoKXJldHVybntzZWdtZW50czplLnNlZ21lbnRzfX19LGJyaXRlcG9vbGlkOntzb3VyY2U6ImJyaXRlcG9vbC5jb20iLGF0eXBlOjN9LGRtZElkOntzb3VyY2U6Imhjbi5oZWFsdGgiLGF0eXBlOjN9LGxvdGFtZVBhbm9yYW1hSWQ6e3NvdXJjZToiY3J3ZGNudHJsLm5ldCIsYXR5cGU6MX0sY3JpdGVvSWQ6e3NvdXJjZToiY3JpdGVvLmNvbSIsYXR5cGU6MX0sbWVya2xlSWQ6e3NvdXJjZToibWVya2xlaW5jLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmtleUlEP3trZXlJRDplLmtleUlEfTp2b2lkIDB9fSxuZXRJZDp7c291cmNlOiJuZXRpZC5kZSIsYXR5cGU6MX0sSURQOntzb3VyY2U6Inplb3RhcC5jb20iLGF0eXBlOjF9LGhhbG9JZDp7c291cmNlOiJhdWRpZ2VudC5jb20iLGF0eXBlOjF9LHF1YW50Y2FzdElkOntzb3VyY2U6InF1YW50Y2FzdC5jb20iLGF0eXBlOjF9LG5leHRyb2xsSWQ6e3NvdXJjZToibmV4dHJvbGwuY29tIixhdHlwZToxfSxpZHg6e3NvdXJjZToiaWR4LmxhdCIsYXR5cGU6MX0sY29ubmVjdGlkOntzb3VyY2U6InZlcml6b25tZWRpYS5jb20iLGF0eXBlOjN9LGZhYnJpY2tJZDp7c291cmNlOiJuZXVzdGFyLmJpeiIsYXR5cGU6MX0sbXdPcGVuTGlua0lkOntzb3VyY2U6Im1lZGlhd2FsbGFoc2NyaXB0LmNvbSIsYXR5cGU6MX0sdGFwYWRJZDp7c291cmNlOiJ0YXBhZC5jb20iLGF0eXBlOjF9LG5vdmF0aXE6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnNub3dmbGFrZX0sc291cmNlOiJub3ZhdGlxLmNvbSIsYXR5cGU6MX0sdWlkMjp7c291cmNlOiJ1aWRhcGkuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfX0sZGVlcGludGVudElkOntzb3VyY2U6ImRlZXBpbnRlbnQuY29tIixhdHlwZTozfSxkYXBJZDp7c291cmNlOiJha2FtYWkuY29tIixhdHlwZToxfSxhZG1peGVySWQ6e3NvdXJjZToiYWRtaXhlci5uZXQiLGF0eXBlOjN9LGFkdGVsbGlnZW50SWQ6e3NvdXJjZToiYWR0ZWxsaWdlbnQuY29tIixhdHlwZTozfSxhbXhJZDp7c291cmNlOiJhbXhydGIuY29tIixhdHlwZToxfSxrcHVpZDp7c291cmNlOiJrcHVpZC5jb20iLGF0eXBlOjN9LGltdWlkOntzb3VyY2U6ImludGltYXRlbWVyZ2VyLmNvbSIsYXR5cGU6MX19O2Z1bmN0aW9uIG4oZSxyKXt2YXIgdD1hW3JdO2lmKHQmJmUpe3ZhciBuPXt9O24uc291cmNlPXQuc291cmNlO3ZhciBzPWkuaXNGbih0LmdldFZhbHVlKT90LmdldFZhbHVlKGUpOmU7aWYoaS5pc1N0cihzKSl7dmFyIGQ9e2lkOnMsYXR5cGU6dC5hdHlwZX07aWYoaS5pc0ZuKHQuZ2V0VWlkRXh0KSl7dmFyIGM9dC5nZXRVaWRFeHQoZSk7YyYmKGQuZXh0PWMpfWlmKG4udWlkcz1bZF0saS5pc0ZuKHQuZ2V0RWlkRXh0KSl7dmFyIG89dC5nZXRFaWRFeHQoZSk7byYmKG4uZXh0PW8pfXJldHVybiBufX1yZXR1cm4gbnVsbH19LDQ3NjpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoNDc3KX0sNDc3OmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKSxyLkltcHJvdmVEaWdpdGFsQWRTZXJ2ZXJKU0NsaWVudD12O3ZhciBpPXQoMCksYT10KDEpLG49dCgzKSxzPXQoMiksZD10KDEzKSxjPXQoMTgpLG89dCgxMiksdT10Lm4obyk7ZnVuY3Rpb24gcCgpe3JldHVybihwPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciB0PWFyZ3VtZW50c1tyXTtmb3IodmFyIGkgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxpKSYmKGVbaV09dFtpXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGw9Imh0dHBzOi8vYWNkbi5hZG54cy5jb20vdmlkZW8vb3V0c3RyZWFtL0FOT3V0c3RyZWFtVmlkZW8uanMiLG09WyJza2lwIiwic2tpcG1pbiIsInNraXBhZnRlciJdLGY9e3ZlcnNpb246IjcuNC4wIixjb2RlOiJpbXByb3ZlZGlnaXRhbCIsZ3ZsaWQ6MjUzLGFsaWFzZXM6WyJpZCJdLHN1cHBvcnRlZE1lZGlhVHlwZXM6W3MuYixzLmMscy5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIShlJiZlLnBhcmFtcyYmKGUucGFyYW1zLnBsYWNlbWVudElkfHxlLnBhcmFtcy5wbGFjZW1lbnRLZXkmJmUucGFyYW1zLnB1Ymxpc2hlcklkKSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgdD1lLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciByPWkuZ2V0QmlkSWRQYXJhbWV0ZXIoImFkVW5pdENvZGUiLGUpfHxudWxsLHQ9aS5nZXRCaWRJZFBhcmFtZXRlcigicGxhY2VtZW50SWQiLGUucGFyYW1zKXx8bnVsbCxhPW51bGwsZD1udWxsO251bGw9PT10JiYoYT1pLmdldEJpZElkUGFyYW1ldGVyKCJwdWJsaXNoZXJJZCIsZS5wYXJhbXMpfHxudWxsLGQ9aS5nZXRCaWRJZFBhcmFtZXRlcigicGxhY2VtZW50S2V5IixlLnBhcmFtcyl8fG51bGwpO3ZhciBjPWkuZ2V0QmlkSWRQYXJhbWV0ZXIoImtleVZhbHVlcyIsZS5wYXJhbXMpfHxudWxsLG89aS5nZXRCaWRJZFBhcmFtZXRlcigic2l6ZSIsZS5wYXJhbXMpfHxudWxsLHA9aS5nZXRCaWRJZFBhcmFtZXRlcigiYmlkSWQiLGUpLGw9aS5nZXRCaWRJZFBhcmFtZXRlcigidHJhbnNhY3Rpb25JZCIsZSksZj1uLmIuZ2V0Q29uZmlnKCJjdXJyZW5jeS5hZFNlcnZlckN1cnJlbmN5IiksZz17fTt5KGUpJiYoZy5hZFR5cGVzPVtzLmRdKTsoeShlKXx8aChlKSkmJihnLnZpZGVvPWZ1bmN0aW9uKGUpe3ZhciByPXt9O3JldHVybiBPYmplY3Qua2V5cyhPYmplY3QoZS5tZWRpYVR5cGVzLnZpZGVvKSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gdSgpKG0sZSl9KSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7clt0XT1lLm1lZGlhVHlwZXMudmlkZW9bdF19KSksT2JqZWN0LmtleXMoT2JqZWN0KGUucGFyYW1zLnZpZGVvKSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gdSgpKG0sZSl9KSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7clt0XT1lLnBhcmFtcy52aWRlb1t0XX0pKSxyfShlKSk7dD9nLnBsYWNlbWVudElkPXQ6KGEmJihnLnB1Ymxpc2hlcklkPWEpLGQmJihnLnBsYWNlbWVudEtleT1kKSk7YyYmKGcua2V5VmFsdWVzPWMpOyEwPT09bi5iLmdldENvbmZpZygiaW1wcm92ZWRpZ2l0YWwudXNlUHJlYmlkU2l6ZXMiKSYmIXkoZSkmJiFoKGUpJiZlLnNpemVzJiZlLnNpemVzLmxlbmd0aD4wP2cuZm9ybWF0PWUuc2l6ZXM6byYmby53JiZvLmgmJihnLnNpemU9e30sZy5zaXplLmg9by5oLGcuc2l6ZS53PW8udyk7cCYmKGcuaWQ9cCk7ciYmKGcuYWRVbml0SWQ9cik7bCYmKGcudHJhbnNhY3Rpb25JZD1sKTtmJiYoZy5jdXJyZW5jeT1mKTt2YXIgYj1mdW5jdGlvbihlKXtpZighaS5pc0ZuKGUuZ2V0Rmxvb3IpKXJldHVybiBudWxsO3ZhciByPWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZToiKiIsc2l6ZToiKiJ9KTtpZihpLmlzUGxhaW5PYmplY3QocikmJiFpc05hTihyLmZsb29yKSYmIlVTRCI9PT1yLmN1cnJlbmN5KXJldHVybiByLmZsb29yO3JldHVybiBudWxsfShlKSx2PW51bGw7Ynx8KGI9aS5nZXRCaWRJZFBhcmFtZXRlcigiYmlkRmxvb3IiLGUucGFyYW1zKSx2PWkuZ2V0QmlkSWRQYXJhbWV0ZXIoImJpZEZsb29yQ3VyIixlLnBhcmFtcykpO2ImJihnLmJpZEZsb29yPWIsZy5iaWRGbG9vckN1cj12P3YudG9VcHBlckNhc2UoKToiVVNEIik7cmV0dXJuIGd9KGUpfSkpLGE9bmV3IHYoImhiIiksZD17c2luZ2xlUmVxdWVzdE1vZGU6ITA9PT1uLmIuZ2V0Q29uZmlnKCJpbXByb3ZlZGlnaXRhbC5zaW5nbGVSZXF1ZXN0IikscmV0dXJuT2JqVHlwZTphLkNPTlNUQU5UUy5SRVRVUk5fT0JKX1RZUEUuVVJMX1BBUkFNU19TUExJVCxsaWJWZXJzaW9uOnRoaXMudmVyc2lvbn07aWYociYmci5nZHByQ29uc2VudCYmci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nJiYoZC5nZHByPXIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyksciYmci51c3BDb25zZW50JiYoZC51c1ByaXZhY3k9ci51c3BDb25zZW50KSxyJiZyLnJlZmVyZXJJbmZvJiZyLnJlZmVyZXJJbmZvLnJlZmVyZXImJihkLnJlZmVycmVyPXIucmVmZXJlckluZm8ucmVmZXJlciksZC5zY2hhaW49ZVswXS5zY2hhaW4sZVswXS51c2VySWQpe3ZhciBvPU9iamVjdChjLmIpKGVbMF0udXNlcklkKTtvLmxlbmd0aCYmaS5kZWVwU2V0VmFsdWUoZCwidXNlci5leHQuZWlkcyIsbyl9dmFyIHA9YS5jcmVhdGVSZXF1ZXN0KHQsZCk7cmV0dXJuIHAuZXJyb3JzJiZwLmVycm9ycy5sZW5ndGg+MCYmaS5sb2dFcnJvcigiSUQgV0FSTklORyAweDAxIikscC5yZXF1ZXN0cy5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXJSZXF1ZXN0PXJ9KSkscC5yZXF1ZXN0c30saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgdD1yLmJpZGRlclJlcXVlc3QsYT1bXTtyZXR1cm4gaS5fZWFjaChlLmJvZHkuYmlkLChmdW5jdGlvbihlKXtpZihlLnByaWNlJiZudWxsIT09ZS5wcmljZSYmIWUuaGFzT3duUHJvcGVydHkoImVycm9yQ29kZSIpJiYoZS5hZG18fGUubmF0aXZlKSl7dmFyIHI9aS5nZXRCaWRSZXF1ZXN0KGUuaWQsW3RdKSxuPXt9O2lmKGUubmF0aXZlKW4ubmF0aXZlPWZ1bmN0aW9uKGUpe3ZhciByPXt9O2lmKCFlfHwhaS5pc0FycmF5KGUuYXNzZXRzKSlyZXR1cm4gbnVsbDtlLmFzc2V0cy5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihlLnRpdGxlKXIudGl0bGU9ZS50aXRsZS50ZXh0O2Vsc2UgaWYoZS5kYXRhKXN3aXRjaChlLmRhdGEudHlwZSl7Y2FzZSAxOnIuc3BvbnNvcmVkQnk9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgMjpyLmJvZHk9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgMzpyLnJhdGluZz1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA0OnIubGlrZXM9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgNTpyLmRvd25sb2Fkcz1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA2OnIucHJpY2U9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgNzpyLnNhbGVQcmljZT1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA4OnIucGhvbmU9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgOTpyLmFkZHJlc3M9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgMTA6ci5ib2R5Mj1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSAxMTpyLmRpc3BsYXlVcmw9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgMTI6ci5jdGE9ZS5kYXRhLnZhbHVlfWVsc2UgaWYoZS5pbWcpc3dpdGNoKGUuaW1nLnR5cGUpe2Nhc2UgMjpyLmljb249e3VybDplLmltZy51cmwsd2lkdGg6ZS5pbWcudyxoZWlnaHQ6ZS5pbWcuaH07YnJlYWs7Y2FzZSAzOnIuaW1hZ2U9e3VybDplLmltZy51cmwsd2lkdGg6ZS5pbWcudyxoZWlnaHQ6ZS5pbWcuaH19fSkpLGUuZXZlbnR0cmFja2Vycz8oci5pbXByZXNzaW9uVHJhY2tlcnM9W10sZS5ldmVudHRyYWNrZXJzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKDE9PT1lLmV2ZW50KXN3aXRjaChlLm1ldGhvZCl7Y2FzZSAxOnIuaW1wcmVzc2lvblRyYWNrZXJzLnB1c2goZS51cmwpO2JyZWFrO2Nhc2UgMjpyLmphdmFzY3JpcHRUcmFja2Vycz0nPHNjcmlwdCBzcmM9IicuY29uY2F0KGUudXJsLCciPjxcL3NjcmlwdD4nKX19KSkpOihyLmltcHJlc3Npb25UcmFja2Vycz1lLmltcHRyYWNrZXJzfHxbXSxyLmphdmFzY3JpcHRUcmFja2Vycz1lLmpzdHJhY2tlcik7ZS5saW5rJiYoci5jbGlja1VybD1lLmxpbmsudXJsLHIuY2xpY2tUcmFja2Vycz1lLmxpbmsuY2xpY2t0cmFja2Vycyk7ZS5wcml2YWN5JiYoci5wcml2YWN5TGluaz1lLnByaXZhY3kpO3JldHVybiByfShlLm5hdGl2ZSksbi5vcnRiTmF0aXZlPWUubmF0aXZlLGUubnVybCYmbi5uYXRpdmUuaW1wcmVzc2lvblRyYWNrZXJzLnVuc2hpZnQoZS5udXJsKSxuLm1lZGlhVHlwZT1zLmM7ZWxzZSBpZihlLmFkX3R5cGUmJiJ2aWRlbyI9PT1lLmFkX3R5cGUpbi52YXN0WG1sPWUuYWRtLG4ubWVkaWFUeXBlPXMuZCxoKHIpJiYobi5hZFJlc3BvbnNlPXtjb250ZW50Om4udmFzdFhtbCxoZWlnaHQ6ZS5oLHdpZHRoOmUud30sbi5yZW5kZXJlcj1mdW5jdGlvbihlKXt2YXIgcj1kLmEuaW5zdGFsbCh7aWQ6ZS5hZFVuaXRDb2RlLHVybDpsLGxvYWRlZDohMSxjb25maWc6aS5kZWVwQWNjZXNzKGUsInJlbmRlcmVyLm9wdGlvbnMiKSxhZFVuaXRDb2RlOmUuYWRVbml0Q29kZX0pO3RyeXtyLnNldFJlbmRlcihnKX1jYXRjaChlKXtpLmxvZ1dhcm4oIlByZWJpZCBFcnJvciBjYWxsaW5nIHNldFJlbmRlciBvbiByZW5kZXJlciIsZSl9cmV0dXJuIHJ9KHIpKTtlbHNle3ZhciBjPSIiO2UubnVybCYmZS5udXJsLmxlbmd0aD4wJiYoYz0nPGltZyBzcmM9IicuY29uY2F0KGUubnVybCwnIiB3aWR0aD0iMCIgaGVpZ2h0PSIwIiBzdHlsZT0iZGlzcGxheTpub25lIj4nKSksbi5hZD0iIi5jb25jYXQoYywiPHNjcmlwdD4iKS5jb25jYXQoZS5hZG0sIjxcL3NjcmlwdD4iKSxuLm1lZGlhVHlwZT1zLmJ9aWYobi5jcG09cGFyc2VGbG9hdChlLnByaWNlKSxuLmNyZWF0aXZlSWQ9ZS5jcmlkLG4uY3VycmVuY3k9ZS5jdXJyZW5jeT9lLmN1cnJlbmN5LnRvVXBwZXJDYXNlKCk6IlVTRCIsaS5pc051bWJlcihlLmxpZCkmJmUuYnV5aW5nX3R5cGUmJiJydGIiIT09ZS5idXlpbmdfdHlwZSluLmRlYWxJZD1lLmxpZDtlbHNlIGlmKEFycmF5LmlzQXJyYXkoZS5saWQpJiZBcnJheS5pc0FycmF5KGUuYnV5aW5nX3R5cGUpJiZlLmxpZC5sZW5ndGg9PT1lLmJ1eWluZ190eXBlLmxlbmd0aCl7dmFyIG89ITE7ZS5idXlpbmdfdHlwZS5mb3JFYWNoKChmdW5jdGlvbihyLHQpe298fHImJiJydGIiIT09ciYmKG89ITAsbi5kZWFsSWQ9ZS5saWRbdF0pfSkpfW4uaGVpZ2h0PWUuaCxuLm5ldFJldmVudWU9ISFlLmlzTmV0JiZlLmlzTmV0LG4ucmVxdWVzdElkPWUuaWQsbi50dGw9MzAwLG4ud2lkdGg9ZS53LG4ud2lkdGgmJm4uaGVpZ2h0fHwobi53aWR0aD0xLG4uaGVpZ2h0PTEpLGUuYWRvbWFpbiYmKG4ubWV0YT17YWR2ZXJ0aXNlckRvbWFpbnM6ZS5hZG9tYWlufSksYS5wdXNoKG4pfX0pKSxhfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyKXtpZihlLnBpeGVsRW5hYmxlZCl7dmFyIHQ9W107cmV0dXJuIHIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5ib2R5LmJpZC5mb3JFYWNoKChmdW5jdGlvbihlKXtpLmlzQXJyYXkoZS5zeW5jKSYmZS5zeW5jLmZvckVhY2goKGZ1bmN0aW9uKGUpey0xPT09dC5pbmRleE9mKGUpJiZ0LnB1c2goZSl9KSl9KSl9KSksdC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnt0eXBlOiJpbWFnZSIsdXJsOmV9fSkpfXJldHVybltdfX07ZnVuY3Rpb24geShlKXt2YXIgcj1PYmplY3Qua2V5cyhpLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcyIse30pKSx0PWkuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvIiksYT1pLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iik7cmV0dXJuInZpZGVvIj09PWUubWVkaWFUeXBlfHwxPT09ci5sZW5ndGgmJnQmJiJvdXRzdHJlYW0iIT09YX1mdW5jdGlvbiBoKGUpe3ZhciByPWkuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvIiksdD1pLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iik7cmV0dXJuIHImJiJvdXRzdHJlYW0iPT09dH1mdW5jdGlvbiBnKGUpe2UucmVuZGVyZXIucHVzaCgoZnVuY3Rpb24oKXt3aW5kb3cuQU5PdXRzdHJlYW1WaWRlby5yZW5kZXJBZCh7c2l6ZXM6W2Uud2lkdGgsZS5oZWlnaHRdLHRhcmdldElkOmUuYWRVbml0Q29kZSxhZFJlc3BvbnNlOmUuYWRSZXNwb25zZSxyZW5kZXJlck9wdGlvbnM6ZS5yZW5kZXJlci5nZXRDb25maWcoKX0sYi5iaW5kKG51bGwsZSkpfSkpfWZ1bmN0aW9uIGIoZSxyLHQpe2UucmVuZGVyZXIuaGFuZGxlVmlkZW9FdmVudCh7aWQ6cixldmVudE5hbWU6dH0pfWZ1bmN0aW9uIHYoZSl7dGhpcy5DT05TVEFOVFM9e0FEX1NFUlZFUl9CQVNFX1VSTDoiaWNlLjM2MHlpZWxkLmNvbSIsRU5EX1BPSU5UOmV8fCJoYiIsQURfU0VSVkVSX1VSTF9QQVJBTToianNvbnA9IixDTElFTlRfVkVSU0lPTjoiSlMtNi40LjAiLE1BWF9VUkxfTEVOR1RIOjIwODMsRVJST1JfQ09ERVM6e01JU1NJTkdfUExBQ0VNRU5UX1BBUkFNUzoyLExJQl9WRVJTSU9OX01JU1NJTkc6M30sUkVUVVJOX09CSl9UWVBFOntERUZBVUxUOjAsVVJMX1BBUkFNU19TUExJVDoxfX0sdGhpcy5nZXRFcnJvclJldHVybj1mdW5jdGlvbihlKXtyZXR1cm57aWRNYXBwaW5nczp7fSxyZXF1ZXN0czp7fSxlcnJvckNvZGU6ZX19LHRoaXMuY3JlYXRlUmVxdWVzdD1mdW5jdGlvbihlLHIsdCl7aWYoIXIubGliVmVyc2lvbilyZXR1cm4gdGhpcy5nZXRFcnJvclJldHVybih0aGlzLkNPTlNUQU5UUy5FUlJPUl9DT0RFUy5MSUJfVkVSU0lPTl9NSVNTSU5HKTtyLnJldHVybk9ialR5cGU9ci5yZXR1cm5PYmpUeXBlfHx0aGlzLkNPTlNUQU5UUy5SRVRVUk5fT0JKX1RZUEUuREVGQVVMVCxyLmFkU2VydmVyQmFzZVVybD0iaHR0cHM6Ly8iKyhyLmFkU2VydmVyQmFzZVVybHx8dGhpcy5DT05TVEFOVFMuQURfU0VSVkVSX0JBU0VfVVJMKTt2YXIgYSxuPVtdO2lmKGkuaXNBcnJheShlKSlmb3IodmFyIHM9MDtzPGUubGVuZ3RoO3MrKylhPXRoaXMuY3JlYXRlSW1wcmVzc2lvbk9iamVjdChlW3NdKSxuLnB1c2goYSk7ZWxzZSBhPXRoaXMuY3JlYXRlSW1wcmVzc2lvbk9iamVjdChlKSxuLnB1c2goYSk7dmFyIGQ9ITA7ci5yZXR1cm5PYmpUeXBlPT09dGhpcy5DT05TVEFOVFMuUkVUVVJOX09CSl9UWVBFLlVSTF9QQVJBTVNfU1BMSVQmJihkPSExKTt2YXIgYz17cmVxdWVzdHM6W119O2QmJihjLmlkTWFwcGluZ3M9W10pO2Zvcih2YXIgbz1udWxsLHU9IiIuY29uY2F0KHIuYWRTZXJ2ZXJCYXNlVXJsLCIvIikuY29uY2F0KHRoaXMuQ09OU1RBTlRTLkVORF9QT0lOVCwiPyIpLmNvbmNhdCh0aGlzLkNPTlNUQU5UUy5BRF9TRVJWRVJfVVJMX1BBUkFNKSxwPXtiaWRfcmVxdWVzdDp0aGlzLmNyZWF0ZUJhc2ljQmlkUmVxdWVzdE9iamVjdChyLHQpfSxsPTA7bDxuLmxlbmd0aDtsKyspaWYoKGE9bltsXSkuZXJyb3JDb2RlKShvPW98fFtdKS5wdXNoKHtlcnJvckNvZGU6YS5lcnJvckNvZGUsYWRVbml0SWQ6YS5hZFVuaXRJZH0pO2Vsc2V7ZCYmYy5pZE1hcHBpbmdzLnB1c2goe2FkVW5pdElkOmEuYWRVbml0SWQsaWQ6YS5pbXByZXNzaW9uT2JqZWN0LmlkfSkscC5iaWRfcmVxdWVzdC5pbXA9cC5iaWRfcmVxdWVzdC5pbXB8fFtdLHAuYmlkX3JlcXVlc3QuaW1wLnB1c2goYS5pbXByZXNzaW9uT2JqZWN0KTt2YXIgbT0hMTsodStlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkocCkpKS5sZW5ndGg+dGhpcy5DT05TVEFOVFMuTUFYX1VSTF9MRU5HVEgmJihtPSEwLHAuYmlkX3JlcXVlc3QuaW1wLmxlbmd0aD4xJiYocC5iaWRfcmVxdWVzdC5pbXAucG9wKCksZCYmYy5pZE1hcHBpbmdzLnBvcCgpLGwtLSkpLCFtJiZyLnNpbmdsZVJlcXVlc3RNb2RlJiZsIT09bi5sZW5ndGgtMXx8KGMucmVxdWVzdHMucHVzaCh0aGlzLmZvcm1hdFJlcXVlc3QocixwKSkscD17YmlkX3JlcXVlc3Q6dGhpcy5jcmVhdGVCYXNpY0JpZFJlcXVlc3RPYmplY3Qocix0KX0pfXJldHVybiBvJiYoYy5lcnJvcnM9byksY30sdGhpcy5mb3JtYXRSZXF1ZXN0PWZ1bmN0aW9uKGUscil7c3dpdGNoKGUucmV0dXJuT2JqVHlwZSl7Y2FzZSB0aGlzLkNPTlNUQU5UUy5SRVRVUk5fT0JKX1RZUEUuVVJMX1BBUkFNU19TUExJVDpyZXR1cm57bWV0aG9kOiJHRVQiLHVybDoiIi5jb25jYXQoZS5hZFNlcnZlckJhc2VVcmwsIi8iKS5jb25jYXQodGhpcy5DT05TVEFOVFMuRU5EX1BPSU5UKSxkYXRhOiIiLmNvbmNhdCh0aGlzLkNPTlNUQU5UUy5BRF9TRVJWRVJfVVJMX1BBUkFNKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHIpKSl9O2RlZmF1bHQ6cmV0dXJue3VybDoiIi5jb25jYXQoZS5hZFNlcnZlckJhc2VVcmwsIi8iKSsiIi5jb25jYXQodGhpcy5DT05TVEFOVFMuRU5EX1BPSU5ULCI/IikuY29uY2F0KHRoaXMuQ09OU1RBTlRTLkFEX1NFUlZFUl9VUkxfUEFSQU0pK2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShyKSl9fX0sdGhpcy5jcmVhdGVCYXNpY0JpZFJlcXVlc3RPYmplY3Q9ZnVuY3Rpb24oZSxyKXt2YXIgdD17c2VjdXJlOjF9O2lmKGUucmVxdWVzdElkP3QuaWQ9ZS5yZXF1ZXN0SWQ6dC5pZD1pLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIoKSxlLmRvbWFpbiYmKHQuZG9tYWluPWUuZG9tYWluKSxlLnBhZ2UmJih0LnBhZ2U9ZS5wYWdlKSxlLnJlZiYmKHQucmVmPWUucmVmKSxlLmNhbGxiYWNrJiYodC5jYWxsYmFjaz1lLmNhbGxiYWNrKSxlLmxpYlZlcnNpb24mJih0LnZlcnNpb249ZS5saWJWZXJzaW9uKyItIit0aGlzLkNPTlNUQU5UUy5DTElFTlRfVkVSU0lPTiksZS5yZWZlcnJlciYmKHQucmVmZXJyZXI9ZS5yZWZlcnJlciksKGUuZ2Rwcnx8MD09PWUuZ2RwcikmJih0LmdkcHI9ZS5nZHByKSxlLnVzUHJpdmFjeSYmKHQudXNfcHJpdmFjeT1lLnVzUHJpdmFjeSksZS5zY2hhaW4mJih0LnNjaGFpbj1lLnNjaGFpbiksZS51c2VyJiYodC51c2VyPWUudXNlcikscilmb3IodmFyIGEgaW4gcil0W2FdPXJbYV07cmV0dXJuIHR9LHRoaXMuY3JlYXRlSW1wcmVzc2lvbk9iamVjdD1mdW5jdGlvbihlKXt2YXIgcj17fSx0PXt9O2lmKHIuaW1wcmVzc2lvbk9iamVjdD10LGUuaWQ/dC5pZD1lLmlkOnQuaWQ9aS5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKCksZS5hZFR5cGVzJiYodC5hZF90eXBlcz1lLmFkVHlwZXMpLGUuYWRVbml0SWQmJihyLmFkVW5pdElkPWUuYWRVbml0SWQpLGUuY3VycmVuY3kmJih0LmN1cnJlbmN5PWUuY3VycmVuY3kudG9VcHBlckNhc2UoKSksZS5iaWRGbG9vciYmKHQuYmlkZmxvb3I9ZS5iaWRGbG9vciksZS5iaWRGbG9vckN1ciYmKHQuYmlkZmxvb3JjdXI9ZS5iaWRGbG9vckN1ci50b1VwcGVyQ2FzZSgpKSxlLnBsYWNlbWVudElkJiYodC5waWQ9ZS5wbGFjZW1lbnRJZCksZS5wdWJsaXNoZXJJZCYmKHQucHViaWQ9ZS5wdWJsaXNoZXJJZCksZS5wbGFjZW1lbnRLZXkmJih0LnBrZXk9ZS5wbGFjZW1lbnRLZXkpLGUudHJhbnNhY3Rpb25JZCYmKHQudGlkPWUudHJhbnNhY3Rpb25JZCksIWkuaXNFbXB0eShlLnZpZGVvKSl7dmFyIGE9cCh7fSxlLnZpZGVvKTsxIT09YS5za2lwJiYoZGVsZXRlIGEuc2tpcG1pbixkZWxldGUgYS5za2lwYWZ0ZXIsMCE9PWEuc2tpcCYmKGkubG9nV2FybigidmlkZW8uc2tpcDogaW52YWxpZCB2YWx1ZSAnIi5jb25jYXQoYS5za2lwLCInLiBFeHBlY3RlZCAwIG9yIDEiKSksZGVsZXRlIGEuc2tpcCkpLGkuaXNFbXB0eShhKXx8KHQudmlkZW89YSl9aWYoZS5rZXlWYWx1ZXMpZm9yKHZhciBuIGluIGUua2V5VmFsdWVzKWZvcih2YXIgcz0wO3M8ZS5rZXlWYWx1ZXNbbl0ubGVuZ3RoO3MrKyl0Lmt2dz10Lmt2d3x8e30sdC5rdndbbl09dC5rdndbbl18fFtdLHQua3Z3W25dLnB1c2goZS5rZXlWYWx1ZXNbbl1bc10pO2lmKHQuYmFubmVyPXt9LGUuc2l6ZSYmZS5zaXplLncmJmUuc2l6ZS5oJiYodC5iYW5uZXIudz1lLnNpemUudyx0LmJhbm5lci5oPWUuc2l6ZS5oKSxlLmZvcm1hdCYmaS5pc0FycmF5KGUuZm9ybWF0KSl7dmFyIGQ9ZS5mb3JtYXQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gMj09PWUubGVuZ3RoJiZpLmlzSW50ZWdlcihlWzBdKSYmaS5pc0ludGVnZXIoZVsxXSkmJmVbMF0+PTAmJmVbMV0+PTB9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dzplWzBdLGg6ZVsxXX19KSk7ZC5sZW5ndGg+MCYmKHQuYmFubmVyLmZvcm1hdD1kKX1yZXR1cm4gdC5waWR8fHQucHViaWR8fHQucGtleXx8dC5iYW5uZXImJnQuYmFubmVyLncmJnQuYmFubmVyLmh8fChyLmltcHJlc3Npb25PYmplY3Q9bnVsbCxyLmVycm9yQ29kZT10aGlzLkNPTlNUQU5UUy5FUlJPUl9DT0RFUy5NSVNTSU5HX1BMQUNFTUVOVF9QQVJBTVMpLHJ9fU9iamVjdChhLnJlZ2lzdGVyQmlkZGVyKShmKX19LFs0NzZdKTsKdXBianNDaHVuayhbMjA2XSx7NTA0OmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCg1MDUpfSw1MDU6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBWfSkpO3ZhciBpPXQoMCksbj10KDIpLGE9dCgzKSxvPXQoMTEpLHM9dC5uKG8pLGQ9dCgxKSxjPXQoMjIpO2Z1bmN0aW9uIHAoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIHYoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxiKGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIHUoZSxyKXt2YXIgdD1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3ImJihpPWkuZmlsdGVyKChmdW5jdGlvbihyKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHIpLmVudW1lcmFibGV9KSkpLHQucHVzaC5hcHBseSh0LGkpfXJldHVybiB0fWZ1bmN0aW9uIG0oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9bnVsbCE9YXJndW1lbnRzW3JdP2FyZ3VtZW50c1tyXTp7fTtyJTI/dShPYmplY3QodCksITApLmZvckVhY2goKGZ1bmN0aW9uKHIpe2woZSxyLHRbcl0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpOnUoT2JqZWN0KHQpKS5mb3JFYWNoKChmdW5jdGlvbihyKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gbChlLHIsdCl7cmV0dXJuIHIgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLHt2YWx1ZTp0LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVtyXT10LGV9ZnVuY3Rpb24gZihlKXtyZXR1cm4oZj0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIHkoZSxyKXt2YXIgdD0idW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYoIXQpe2lmKEFycmF5LmlzQXJyYXkoZSl8fCh0PWIoZSkpfHxyJiZlJiYibnVtYmVyIj09dHlwZW9mIGUubGVuZ3RoKXt0JiYoZT10KTt2YXIgaT0wLG49ZnVuY3Rpb24oKXt9O3JldHVybntzOm4sbjpmdW5jdGlvbigpe3JldHVybiBpPj1lLmxlbmd0aD97ZG9uZTohMH06e2RvbmU6ITEsdmFsdWU6ZVtpKytdfX0sZTpmdW5jdGlvbihlKXt0aHJvdyBlfSxmOm59fXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX12YXIgYSxvPSEwLHM9ITE7cmV0dXJue3M6ZnVuY3Rpb24oKXt0PXQuY2FsbChlKX0sbjpmdW5jdGlvbigpe3ZhciBlPXQubmV4dCgpO3JldHVybiBvPWUuZG9uZSxlfSxlOmZ1bmN0aW9uKGUpe3M9ITAsYT1lfSxmOmZ1bmN0aW9uKCl7dHJ5e298fG51bGw9PXQucmV0dXJufHx0LnJldHVybigpfWZpbmFsbHl7aWYocyl0aHJvdyBhfX19fWZ1bmN0aW9uIGIoZSxyKXtpZihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHYoZSxyKTt2YXIgdD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuIk9iamVjdCI9PT10JiZlLmNvbnN0cnVjdG9yJiYodD1lLmNvbnN0cnVjdG9yLm5hbWUpLCJNYXAiPT09dHx8IlNldCI9PT10P0FycmF5LmZyb20oZSk6IkFyZ3VtZW50cyI9PT10fHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KT92KGUscik6dm9pZCAwfX1mdW5jdGlvbiB2KGUscil7KG51bGw9PXJ8fHI+ZS5sZW5ndGgpJiYocj1lLmxlbmd0aCk7Zm9yKHZhciB0PTAsaT1uZXcgQXJyYXkocik7dDxyO3QrKylpW3RdPWVbdF07cmV0dXJuIGl9dmFyIGc9InJvdW5kZWwiLGg9W24uYixuLmRdLHg9OGUzLEk9e0pQWToxfSxPPSJwIix3PSJ4IixBPXtTSVRFOlsiaWQiLCJuYW1lIiwiZG9tYWluIiwiY2F0Iiwic2VjdGlvbmNhdCIsInBhZ2VjYXQiLCJwYWdlIiwicmVmIiwic2VhcmNoIiwibW9iaWxlIiwicHJpdmFjeXBvbGljeSIsInB1Ymxpc2hlciIsImNvbnRlbnQiLCJrZXl3b3JkcyIsImV4dCJdLFVTRVI6WyJpZCIsImJ1eWVydWlkIiwieW9iIiwiZ2VuZGVyIiwia2V5d29yZHMiLCJjdXN0b21kYXRhIiwiZ2VvIiwiZGF0YSIsImV4dCJdfSxTPXsibGl2ZXJhbXAuY29tIjoiaWRsIiwibmV0aWQuZGUiOiJORVRJRCIsIm5ldXN0YXIuYml6IjoiZmFicmlja0lkIiwiemVvdGFwLmNvbSI6Inplb3RhcElkUGx1cyIsInVpZGFwaS5jb20iOiJVSUQyIiwiYWRzZXJ2ZXIub3JnIjoiVERJRCJ9LFA9WyJicml0ZXBvb2xpZCIsImlkNWlkIiwibGlwYmlkIiwiaGFsb0lkIiwiY3JpdGVvSWQiLCJsb3RhbWVQYW5vcmFtYUlkIiwibWVya2xlSWQiLCJwYXJyYWJsZUlkIiwiY29ubmVjdGlkIiwidGFwYWRJZCIsInF1YW50Y2FzdElkIiwicHViY2lkIiwiVERJRCIsImZsb2NJZCJdLHo9WyJtaW1lcyIsIm1pbmR1cmF0aW9uIiwibWF4ZHVyYXRpb24iXSxUPVsibWltZXMiLCJtaW5kdXJhdGlvbiIsIm1heGR1cmF0aW9uIiwicHJvdG9jb2xzIiwicHJvdG9jb2wiLCJzdGFydGRlbGF5IiwicGxhY2VtZW50IiwibGluZWFyaXR5Iiwic2tpcCIsInNraXBtaW4iLCJza2lwYWZ0ZXIiLCJzZXF1ZW5jZSIsImJhdHRyIiwibWF4ZXh0ZW5kZWQiLCJtaW5iaXRyYXRlIiwibWF4Yml0cmF0ZSIsImJveGluZ2FsbG93ZWQiLCJwbGF5YmFja21ldGhvZCIsInBsYXliYWNrZW5kIiwiZGVsaXZlcnkiLCJwb3MiLCJjb21wYW5pb25hZCIsImFwaSIsImNvbXBhbmlvbnR5cGUiLCJleHQiLCJwbGF5ZXJTaXplIiwidyIsImgiXTtmdW5jdGlvbiBqKGUpe3ZhciByPWsoZSk7ci5iYW5uZXI9e307dmFyIHQ9aS5kZWVwQWNjZXNzKGUsInBhcmFtcy5zaXplIik7cmV0dXJuIHQmJihyLmJhbm5lci53PXRbMF0sci5iYW5uZXIuaD10WzFdLGkuZGVlcEFjY2VzcyhyLCJleHQuc2lkIil8fChyLmV4dC5zaWQ9aS5wYXJzZUdQVFNpbmdsZVNpemVBcnJheSh0KSkpLHIuYmFubmVyLnRvcGZyYW1lPWkuaW5JZnJhbWUoKT8wOjEsRShlLHIsbi5iKSxyfWZ1bmN0aW9uIEMoZSl7dmFyIHI9ayhlKSx0PWkuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvIiksYT1pLmRlZXBBY2Nlc3MoZSwicGFyYW1zLnZpZGVvIik7aWYoIXEoZSx0LGEpKXJldHVybnt9O2Zvcih2YXIgbyBpbiByLnZpZGVvPWE/aS5kZWVwQ2xvbmUoZS5wYXJhbXMudmlkZW8pOnt9LHQpLTE9PT1ULmluZGV4T2Yobyl8fHIudmlkZW8uaGFzT3duUHJvcGVydHkobyl8fChyLnZpZGVvW29dPXRbb10pO2lmKHIudmlkZW8ubWluZHVyYXRpb24+ci52aWRlby5tYXhkdXJhdGlvbilyZXR1cm4gaS5sb2dFcnJvcigiSVggQmlkIEFkYXB0ZXI6IHZpZGVvIG1pbmR1cmF0aW9uIFsiLmNvbmNhdChyLnZpZGVvLm1pbmR1cmF0aW9uLCJdIGNhbm5vdCBiZSBncmVhdGVyIHRoYW4gdmlkZW8gbWF4ZHVyYXRpb24gWyIpLmNvbmNhdChyLnZpZGVvLm1heGR1cmF0aW9uLCJdIikpLHt9O3ZhciBzPWEmJmEuY29udGV4dHx8dCYmdC5jb250ZXh0O2lmKHMmJiFyLnZpZGVvLmhhc093blByb3BlcnR5KCJwbGFjZW1lbnQiKSYmKHM9PT1jLmE/ci52aWRlby5wbGFjZW1lbnQ9MTpzPT09Yy5iP3IudmlkZW8ucGxhY2VtZW50PTQ6aS5sb2dXYXJuKCJJWCBCaWQgQWRhcHRlcjogVmlkZW8gY29udGV4dCAnIi5jb25jYXQocywiJyBpcyBub3Qgc3VwcG9ydGVkIikpKSwhci52aWRlby53fHwhci52aWRlby5oKXt2YXIgZD1VKGkuZGVlcEFjY2VzcyhyLCJ2aWRlby5wbGF5ZXJTaXplIikpfHxVKGkuZGVlcEFjY2VzcyhlLCJwYXJhbXMuc2l6ZSIpKTtpZighZClyZXR1cm4gaS5sb2dXYXJuKCJJWCBCaWQgQWRhcHRlcjogVmlkZW8gc2l6ZSBpcyBtaXNzaW5nIGluIFttZWRpYVR5cGVzLnZpZGVvXSBtaXNzaW5nIikse307ci52aWRlby53PWRbMF0sci52aWRlby5oPWRbMV0saS5kZWVwQWNjZXNzKHIsImV4dC5zaWQiKXx8KHIuZXh0LnNpZD1pLnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5KGQpKX1yZXR1cm4gRShlLHIsbi5kKSxyfWZ1bmN0aW9uIGsoZSl7dmFyIHI9e307ci5pZD1lLmJpZElkLHIuZXh0PXt9LHIuZXh0LnNpdGVJRD1lLnBhcmFtcy5zaXRlSWQsIWUucGFyYW1zLmhhc093blByb3BlcnR5KCJpZCIpfHwic3RyaW5nIiE9dHlwZW9mIGUucGFyYW1zLmlkJiYibnVtYmVyIiE9dHlwZW9mIGUucGFyYW1zLmlkfHwoci5leHQuc2lkPVN0cmluZyhlLnBhcmFtcy5pZCkpO3ZhciB0PWkuZGVlcEFjY2VzcyhlLCJvcnRiMkltcC5leHQuZGF0YS5hZHNlcnZlci5hZHNsb3QiKTtyZXR1cm4gdCYmKHIuZXh0LmRmcF9hZF91bml0X2NvZGU9dCkscn1mdW5jdGlvbiBFKGUscix0KXt2YXIgbj1udWxsLGE9bnVsbDtpZihlLnBhcmFtcy5iaWRGbG9vciYmZS5wYXJhbXMuYmlkRmxvb3JDdXImJihuPXtmbG9vcjplLnBhcmFtcy5iaWRGbG9vcixjdXJyZW5jeTplLnBhcmFtcy5iaWRGbG9vckN1cn0pLGkuaXNGbihlLmdldEZsb29yKSl7dmFyIG89IioiLHM9IioiO2lmKHQmJmkuY29udGFpbnMoaCx0KSl7dmFyIGQ9clt0XTtvPXQscz1bZC53LGQuaF19dHJ5e2E9ZS5nZXRGbG9vcih7bWVkaWFUeXBlOm8sc2l6ZTpzfSl9Y2F0Y2goZSl7aS5sb2dXYXJuKCJwcmljZUZsb29ycyBtb2R1bGUgY2FsbCBnZXRGbG9vciBmYWlsZWQsIGVycm9yIDogIixlKX19YT8oci5iaWRmbG9vcj1hLmZsb29yLHIuYmlkZmxvb3JjdXI9YS5jdXJyZW5jeSxyLmV4dC5mbD1PKTpuJiYoci5iaWRmbG9vcj1uLmZsb29yLHIuYmlkZmxvb3JjdXI9bi5jdXJyZW5jeSxyLmV4dC5mbD13KX1mdW5jdGlvbiBEKGUscix0KXt2YXIgYT17fSxvPSEoIWkuZGVlcEFjY2VzcyhlLCJleHAiKXx8IWkuaXNJbnRlZ2VyKGUuZXhwKSkscz1pLmRlZXBBY2Nlc3MoZSwiZGVhbGlkIil8fGkuZGVlcEFjY2VzcyhlLCJleHQuZGVhbGlkIik7cmV0dXJuIEkuaGFzT3duUHJvcGVydHkocik/YS5jcG09ZS5wcmljZS9JW3JdOmEuY3BtPWUucHJpY2UvMTAwLGEucmVxdWVzdElkPWUuaW1waWQscyYmKGEuZGVhbElkPXMpLGEubmV0UmV2ZW51ZT10cnVlLGEuY3VycmVuY3k9cixhLmNyZWF0aXZlSWQ9ZS5oYXNPd25Qcm9wZXJ0eSgiY3JpZCIpP2UuY3JpZDoiLSIsaS5kZWVwQWNjZXNzKGUsImV4dC52YXN0dXJsIik/KGEudmFzdFVybD1lLmV4dC52YXN0dXJsLGEud2lkdGg9dC52aWRlby53LGEuaGVpZ2h0PXQudmlkZW8uaCxhLm1lZGlhVHlwZT1uLmQsYS50dGw9bz9lLmV4cDozNjAwKTooYS5hZD1lLmFkbSxhLndpZHRoPWUudyxhLmhlaWdodD1lLmgsYS5tZWRpYVR5cGU9bi5iLGEudHRsPW8/ZS5leHA6MzAwKSxhLm1ldGE9e30sYS5tZXRhLm5ldHdvcmtJZD1pLmRlZXBBY2Nlc3MoZSwiZXh0LmRzcGlkIiksYS5tZXRhLmJyYW5kSWQ9aS5kZWVwQWNjZXNzKGUsImV4dC5hZHZicmFuZGlkIiksYS5tZXRhLmJyYW5kTmFtZT1pLmRlZXBBY2Nlc3MoZSwiZXh0LmFkdmJyYW5kIiksZS5hZG9tYWluJiZlLmFkb21haW4ubGVuZ3RoPjAmJihhLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnM9ZS5hZG9tYWluKSxhfWZ1bmN0aW9uIEYoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJjI9PT1lLmxlbmd0aCYmaS5pc0ludGVnZXIoZVswXSkmJmkuaXNJbnRlZ2VyKGVbMV0pfWZ1bmN0aW9uIFIoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06W10scj1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMDtpZihGKGUpKXJldHVybiBlWzBdPT09clswXSYmZVsxXT09PXJbMV07Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0KyspaWYoZVt0XVswXT09PXJbMF0mJmVbdF1bMV09PT1yWzFdKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIHEoZSxyLHQpe3ZhciBuPSEwO3J8fGkubG9nV2FybigiSVggQmlkIEFkYXB0ZXI6IG1lZGlhVHlwZXMudmlkZW8gaXMgdGhlIHByZWZlcnJlZCBsb2NhdGlvbiBmb3IgdmlkZW8gcGFyYW1zIGluIGFkIHVuaXQiKTt2YXIgYSxvPXkoeik7dHJ5e2ZvcihvLnMoKTshKGE9by5uKCkpLmRvbmU7KXt2YXIgcz1hLnZhbHVlLGQ9ciYmci5oYXNPd25Qcm9wZXJ0eShzKSxjPXQmJnQuaGFzT3duUHJvcGVydHkocyk7ZHx8Y3x8KGkubG9nRXJyb3IoIklYIEJpZCBBZGFwdGVyOiAiLmNvbmNhdChzLCIgaXMgbm90IGluY2x1ZGVkIGluIGVpdGhlciB0aGUgYWR1bml0IG9yIHBhcmFtcyBsZXZlbCIpKSxuPSExKX19Y2F0Y2goZSl7by5lKGUpfWZpbmFsbHl7by5mKCl9aWYoIW4pcmV0dXJuITE7dmFyIHA9ciYmci5oYXNPd25Qcm9wZXJ0eSgicHJvdG9jb2wiKSx1PXImJnIuaGFzT3duUHJvcGVydHkoInByb3RvY29scyIpLG09dCYmdC5oYXNPd25Qcm9wZXJ0eSgicHJvdG9jb2wiKSxsPXQmJnQuaGFzT3duUHJvcGVydHkoInByb3RvY29scyIpO3JldHVybiBwfHx1fHxtfHxsfWZ1bmN0aW9uIFUoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06W107cmV0dXJuIEYoZSk/ZTohIUYoZVswXSkmJmVbMF19ZnVuY3Rpb24gQihlLHIpe2lmKGUpcmV0dXJuIHMoKShyLChmdW5jdGlvbihyKXtyZXR1cm4gci5pZD09PWV9KSl9ZnVuY3Rpb24gTihlLHIsdCxvKXt2YXIgcz0iaHR0cHM6Ly9odGxiLmNhc2FsZW1lZGlhLmNvbS9jeWdudXMiLGQ9ZnVuY3Rpb24oZSxyKXt2YXIgdD1bXSxuPXt9O2lmKGkuaXNBcnJheShlKSl7dmFyIGEsbz15KGUpO3RyeXtmb3Ioby5zKCk7IShhPW8ubigpKS5kb25lOyl7dmFyIHM9YS52YWx1ZTtTW3Muc291cmNlXSYmaS5kZWVwQWNjZXNzKHMsInVpZHMuMCIpJiYobltzLnNvdXJjZV09ITAscy51aWRzWzBdLmV4dD17cnRpUGFydG5lcjpTW3Muc291cmNlXX0sZGVsZXRlIHMudWlkc1swXS5hdHlwZSx0LnB1c2gocykpfX1jYXRjaChlKXtvLmUoZSl9ZmluYWxseXtvLmYoKX19aWYociYmci5pZCYmci52ZXJzaW9uKXt2YXIgZD17c291cmNlOiJjaHJvbWUuY29tIix1aWRzOlt7aWQ6ci5pZCxleHQ6e3J0aVBhcnRuZXI6ImZsb2NJZCIsdmVyOnIudmVyc2lvbn19XX07dC5wdXNoKGQpLG5bImNocm9tZS5jb20iXT0hMH1yZXR1cm57dG9TZW5kOnQsc2VlblNvdXJjZXM6bn19KGkuZGVlcEFjY2VzcyhlLCIwLnVzZXJJZEFzRWlkcyIpLGkuZGVlcEFjY2VzcyhlLCIwLnVzZXJJZC5mbG9jSWQiKSksYz1kLnRvU2VuZDtpZih3aW5kb3cuaGVhZGVydGFnJiYiZnVuY3Rpb24iPT10eXBlb2Ygd2luZG93LmhlYWRlcnRhZy5nZXRJZGVudGl0eUluZm8pe3ZhciB1PXdpbmRvdy5oZWFkZXJ0YWcuZ2V0SWRlbnRpdHlJbmZvKCk7aWYodSYmIm9iamVjdCI9PT1mKHUpKWZvcih2YXIgbCBpbiB1KWlmKHUuaGFzT3duUHJvcGVydHkobCkpe3ZhciBiPXVbbF07IWIucmVzcG9uc2VQZW5kaW5nJiZiLmRhdGEmJiJvYmplY3QiPT09ZihiLmRhdGEpJiZPYmplY3Qua2V5cyhiLmRhdGEpLmxlbmd0aCYmIWQuc2VlblNvdXJjZXNbYi5kYXRhLnNvdXJjZV0mJmMucHVzaChiLmRhdGEpfX1pZihyJiZyLmJpZGRlckNvZGU9PT1nJiYhZC5zZWVuU291cmNlc1sibGl2ZXJhbXAuY29tIl0pcmV0dXJuW107dmFyIHY9e307di5pZD1lWzBdLmJpZGRlclJlcXVlc3RJZC50b1N0cmluZygpLHYuc2l0ZT17fSx2LmV4dD17fSx2LmV4dC5zb3VyY2U9InByZWJpZCIsdi5leHQuaXhkaWFnPXt9LHYuZXh0Lml4ZGlhZy5tc2Q9MCx2LmV4dC5peGRpYWcubXNpPTAsdi5pbXA9W107dmFyIGg9ZnVuY3Rpb24oZSl7Zm9yKHZhciByPWUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmFuc2FjdGlvbklkfSkpLmZpbHRlcigoZnVuY3Rpb24oZSxyLHQpe3JldHVybiB0LmluZGV4T2YoZSk9PT1yfSkpLHQ9e21mdTowLGJ1OjAsaXU6MCxudTowLG91OjAsYWxsdTowLHJlbjohMSx2ZXJzaW9uOiI1LjExLjAiLHVzZXJJZHM6XyhlWzBdKX0sbj1mdW5jdGlvbihuKXtpZihvPWUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmFuc2FjdGlvbklkPT09cltuXX0pKVswXSxpLmRlZXBBY2Nlc3MobywibWVkaWFUeXBlcyIpKXtpZihPYmplY3Qua2V5cyhvLm1lZGlhVHlwZXMpLmxlbmd0aD4xJiZ0Lm1mdSsrLGkuZGVlcEFjY2VzcyhvLCJtZWRpYVR5cGVzLm5hdGl2ZSIpJiZ0Lm51KyssaS5kZWVwQWNjZXNzKG8sIm1lZGlhVHlwZXMuYmFubmVyIikmJnQuYnUrKywib3V0c3RyZWFtIj09PWkuZGVlcEFjY2VzcyhvLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKSl7dC5vdSsrO3ZhciBhPSJvYmplY3QiPT09ZihpLmRlZXBBY2Nlc3MobywicmVuZGVyZXIiKXx8aS5kZWVwQWNjZXNzKG8sIm1lZGlhVHlwZXMudmlkZW8ucmVuZGVyZXIiKSk7dC5yZW49dC5yZW4mJmE/aS5kZWVwQWNjZXNzKHQsInJlbiIpOmF9Imluc3RyZWFtIj09PWkuZGVlcEFjY2VzcyhvLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKSYmdC5pdSsrLHQuYWxsdSsrfX0sYT0wO2E8ci5sZW5ndGg7YSsrKXt2YXIgbztuKGEpfXJldHVybiB0fShlKTtmb3IodmFyIEkgaW4gaCl2LmV4dC5peGRpYWdbSV09aFtJXTtpZihlWzBdLnNjaGFpbiYmKHYuc291cmNlPXtleHQ6e3NjaGFpbjplWzBdLnNjaGFpbn19KSxjLmxlbmd0aD4wJiYodi51c2VyPXt9LHYudXNlci5laWRzPWMpLGRvY3VtZW50LnJlZmVycmVyJiYiIiE9PWRvY3VtZW50LnJlZmVycmVyJiYodi5zaXRlLnJlZj1kb2N1bWVudC5yZWZlcnJlcikscil7aWYoci5nZHByQ29uc2VudCl7dmFyIE89ci5nZHByQ29uc2VudDtPLmhhc093blByb3BlcnR5KCJnZHByQXBwbGllcyIpJiYodi5yZWdzPXtleHQ6e2dkcHI6Ty5nZHByQXBwbGllcz8xOjB9fSksTy5oYXNPd25Qcm9wZXJ0eSgiY29uc2VudFN0cmluZyIpJiYodi51c2VyPXYudXNlcnx8e30sdi51c2VyLmV4dD17Y29uc2VudDpPLmNvbnNlbnRTdHJpbmd8fCIifSxPLmhhc093blByb3BlcnR5KCJhZGR0bENvbnNlbnQiKSYmTy5hZGR0bENvbnNlbnQmJih2LnVzZXIuZXh0LmNvbnNlbnRlZF9wcm92aWRlcnNfc2V0dGluZ3M9e2NvbnNlbnRlZF9wcm92aWRlcnM6Ty5hZGR0bENvbnNlbnR9KSl9ci51c3BDb25zZW50JiZpLmRlZXBTZXRWYWx1ZSh2LCJyZWdzLmV4dC51c19wcml2YWN5IixyLnVzcENvbnNlbnQpLHIucmVmZXJlckluZm8mJih2LnNpdGUucGFnZT1yLnJlZmVyZXJJbmZvLnJlZmVyZXIpfWEuYi5nZXRDb25maWcoImNvcHBhIikmJmkuZGVlcFNldFZhbHVlKHYsInJlZ3MuY29wcGEiLDEpO3ZhciB3PXt9O3cucz1lWzBdLnBhcmFtcy5zaXRlSWQsdy52PW8sdy5hYz0iaiIsdy5zZD0xLDguMT09PW8mJih3Lm5mPTEpO3ZhciBQPXImJnIuYmlkZGVyQ29kZXx8Iml4Iix6PWEuYi5nZXRDb25maWcoUCksVD1bXSxqPTAsQz1PYmplY3Qua2V5cyh0KSxrPSIiLmNvbmNhdChzKS5jb25jYXQoaS5wYXJzZVF1ZXJ5U3RyaW5nUGFyYW1ldGVycyhtKG0oe30sdykse30se3I6SlNPTi5zdHJpbmdpZnkodil9KSkpLmxlbmd0aDtpZihrPngpcmV0dXJuIGkubG9nRXJyb3IoIml4IGJpZGRlcjogQmFzZSByZXF1ZXN0IHNpemUgaGFzIGV4Y2VlZGVkIG1heGltdW0gcmVxdWVzdCBzaXplLiIpLFQ7dmFyIEU9ayxEPTAsRj0hMTtpZih6KXtpZigib2JqZWN0Ij09PWYoei5maXJzdFBhcnR5RGF0YSkpe3ZhciBSPXouZmlyc3RQYXJ0eURhdGEscT0iPyI7Zm9yKHZhciBVIGluIFIpUi5oYXNPd25Qcm9wZXJ0eShVKSYmKHErPSIiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoVSksIj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KFJbVV0pLCImIikpO3E9cS5zbGljZSgwLC0xKSwoRD1lbmNvZGVVUklDb21wb25lbnQocSkubGVuZ3RoKTx4PygicGFnZSJpbiB2LnNpdGU/di5zaXRlLnBhZ2UrPXE6di5zaXRlLnBhZ2U9cSxFKz1EKTppLmxvZ0Vycm9yKCJpeCBiaWRkZXI6IElYIGNvbmZpZyBGUEQgcmVxdWVzdCBzaXplIGhhcyBleGNlZWRlZCBtYXhpbXVtIHJlcXVlc3Qgc2l6ZS4iKX0ibnVtYmVyIj09dHlwZW9mIHoudGltZW91dCYmKHcudD16LnRpbWVvdXQpLCJib29sZWFuIj09dHlwZW9mIHouZGV0ZWN0TWlzc2luZ1NpemVzP3YuZXh0Lml4ZGlhZy5kbXM9ei5kZXRlY3RNaXNzaW5nU2l6ZXM6di5leHQuaXhkaWFnLmRtcz0hMH1mb3IodmFyIEI9ZnVuY3Rpb24oZSl7aWYoRT49eHx8VC5sZW5ndGg+PTQpcmV0dXJuImJyZWFrIjtmb3IodmFyIHI9dFtDW2VdXSxvPXIubWlzc2luZ0NvdW50LGQ9dm9pZCAwPT09bz8wOm8sYz1yLm1pc3NpbmdJbXBzLHU9dm9pZCAwPT09Yz9bXTpjLGw9ci5peEltcHMsZj0hMSx5PXgtRSxiPXtpeEltcHM6dm9pZCAwPT09bD9bXTpsLG1pc3NpbmdCYW5uZXJJbXByZXNzaW9uczp1fSxnPU9iamVjdC5rZXlzKGIpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGJbZV19KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7cmV0dXJuIGUuY29uY2F0LmFwcGx5KGUscChyKSl9KSxbXSksaD1lbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoe2ltcHJlc3Npb25PYmplY3RzOmd9KSkubGVuZ3RoO2g+eTspZj0hMCxnLnBvcCgpLGg9ZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHtpbXByZXNzaW9uT2JqZWN0czpnfSkpLmxlbmd0aDtpZihnLmxlbmd0aCYmbi5iIGluIGdbMF0pe3ZhciBJPWdbMF0sTz17aWQ6SS5pZCxiYW5uZXI6e3RvcGZyYW1lOkkuYmFubmVyLnRvcGZyYW1lLGZvcm1hdDpnLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHI9ZS5iYW5uZXI7cmV0dXJue3c6ci53LGg6ci5oLGV4dDplLmV4dH19KSl9fTsiYmlkZmxvb3IiaW4gZ1swXSYmKE8uYmlkZmxvb3I9Z1swXS5iaWRmbG9vciksImJpZGZsb29yY3VyImluIGdbMF0mJihPLmJpZGZsb29yY3VyPWdbMF0uYmlkZmxvb3JjdXIpLHYuaW1wLnB1c2goTyksdi5leHQuaXhkaWFnLm1zZCs9ZCx2LmV4dC5peGRpYWcubXNpKz11Lmxlbmd0aH1lbHNle3ZhciBTOyhTPXYuaW1wKS5wdXNoLmFwcGx5KFMscChnKSl9RSs9aDt2YXIgUD1hLmIuZ2V0Q29uZmlnKCJvcnRiMiIpfHx7fTtpZighaS5pc0VtcHR5KFApJiYhRil7di5leHQuaXhkaWFnLmZwZD0hMDt2YXIgej1tKHt9LFAuc2l0ZXx8UC5jb250ZXh0KTtPYmplY3Qua2V5cyh6KS5mb3JFYWNoKChmdW5jdGlvbihlKXstMT09PUEuU0lURS5pbmRleE9mKGUpJiZkZWxldGUgeltlXX0pKTt2YXIgRD1tKHt9LFAudXNlcik7T2JqZWN0LmtleXMoRCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7LTE9PT1BLlVTRVIuaW5kZXhPZihlKSYmZGVsZXRlIERbZV19KSk7dmFyIFI9aS5kZWVwQ2xvbmUodik7aWYoUi5zaXRlPWkubWVyZ2VEZWVwKHt9LFIuc2l0ZSx6KSxSLnVzZXI9aS5tZXJnZURlZXAoe30sUi51c2VyLEQpLCIiLmNvbmNhdChzKS5jb25jYXQoaS5wYXJzZVF1ZXJ5U3RyaW5nUGFyYW1ldGVycyhtKG0oe30sdykse30se3I6SlNPTi5zdHJpbmdpZnkoUil9KSkpLmxlbmd0aDx4KXt2LnNpdGU9aS5tZXJnZURlZXAoe30sdi5zaXRlLHopLHYudXNlcj1pLm1lcmdlRGVlcCh7fSx2LnVzZXIsRCksRj0hMDt2YXIgcT1lbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkobShtKHt9LHopLEQpKSkubGVuZ3RoO0UrPXF9ZWxzZSBpLmxvZ0Vycm9yKCJpeCBiaWRkZXI6IEZQRCByZXF1ZXN0IHNpemUgaGFzIGV4Y2VlZGVkIG1heGltdW0gcmVxdWVzdCBzaXplLiIpfXZhciBVPWU9PT1DLmxlbmd0aC0xO2lmKGZ8fFUpe3ZhciBCPWkuZGVlcENsb25lKHcpO1UmJiFqfHwodi5leHQuaXhkaWFnLnNuPWosQi5zbj1qKSxqKyssQi5yPUpTT04uc3RyaW5naWZ5KHYpLFQucHVzaCh7bWV0aG9kOiJHRVQiLHVybDpzLGRhdGE6Qn0pLEU9ayx2LmltcD1bXSx2LmV4dC5peGRpYWcubXNkPTAsdi5leHQuaXhkaWFnLm1zaT0wLEY9ITF9fSxOPTA7TjxDLmxlbmd0aDtOKyspe2lmKCJicmVhayI9PT1CKE4pKWJyZWFrfXJldHVybiBUfWZ1bmN0aW9uIF8oZSl7dmFyIHI9ZS51c2VySWR8fHt9O3JldHVybiBQLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHJbZV19KSl9ZnVuY3Rpb24gSihlLHIpe2lmKHIpZm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciBpPWVbdF07aWYoclswXT09PWlbMF0mJnJbMV09PT1pWzFdKXtlLnNwbGljZSh0LDEpO2JyZWFrfX19ZnVuY3Rpb24gTShlLHIsdCl7dmFyIG49ZS50cmFuc2FjdGlvbklkO2lmKHIuaGFzT3duUHJvcGVydHkobikpe3ZhciBhPVtdO3Jbbl0uaGFzT3duUHJvcGVydHkoIm1pc3NpbmdTaXplcyIpJiYoYT1yW25dLm1pc3NpbmdTaXplcyksSihhLGUucGFyYW1zLnNpemUpLHJbbl0ubWlzc2luZ1NpemVzPWF9ZWxzZSBpZihpLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKSl7dmFyIG89aS5kZWVwQ2xvbmUoZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcyk7SihvLGUucGFyYW1zLnNpemUpO3ZhciBzPXttaXNzaW5nU2l6ZXM6byxpbXByZXNzaW9uOnR9O3Jbbl09c319ZnVuY3Rpb24gWChlLHIsdCl7dmFyIGE9aS5kZWVwQ2xvbmUocik7cmV0dXJuIGEuZXh0LnNpZD1pLnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5KHQpLGEuYmFubmVyLnc9dFswXSxhLmJhbm5lci5oPXRbMV0sRShlLGEsbi5iKSxhfXZhciBWPXtjb2RlOiJpeCIsZ3ZsaWQ6MTAsYWxpYXNlczpbe2NvZGU6ZyxndmxpZDoxMCxza2lwUGJzQWxpYXNpbmc6ITF9XSxzdXBwb3J0ZWRNZWRpYVR5cGVzOmgsaXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7dmFyIHIsdCxuPWkuZGVlcEFjY2VzcyhlLCJwYXJhbXMudmlkZW8iKSxhPWkuZGVlcEFjY2VzcyhlLCJwYXJhbXMuc2l6ZSIpLG89aS5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIikscz1pLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlbyIpLGQ9aS5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpLGM9ZS5wYXJhbXMuaGFzT3duUHJvcGVydHkoImJpZEZsb29yIikscD1lLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgiYmlkRmxvb3JDdXIiKTtpZihlLmhhc093blByb3BlcnR5KCJtZWRpYVR5cGUiKSYmIWkuY29udGFpbnMoaCxlLm1lZGlhVHlwZSkpcmV0dXJuITE7aWYoaS5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuYmFubmVyIikmJiFvKXJldHVybiExO2lmKGEpe3ZhciB1PVUoYSk7aWYoIXUpcmV0dXJuIGkubG9nRXJyb3IoIml4IGJpZGRlciBwYXJhbXM6IHNpemUgaGFzIGludmFsaWQgZm9ybWF0LiIpLCExO2lmKCFSKGUuc2l6ZXMsdSkmJiFSKGQsdSkmJiFSKG8sdSkpcmV0dXJuIGkubG9nRXJyb3IoIml4IGJpZGRlciBwYXJhbXM6IGJpZCBzaXplIGlzIG5vdCBpbmNsdWRlZCBpbiBhZCB1bml0IHNpemVzIG9yIHBsYXllciBzaXplLiIpLCExfXJldHVybiJzdHJpbmciIT10eXBlb2YgZS5wYXJhbXMuc2l0ZUlkJiYibnVtYmVyIiE9dHlwZW9mIGUucGFyYW1zLnNpdGVJZD8oaS5sb2dFcnJvcigiaXggYmlkZGVyIHBhcmFtczogc2l0ZUlkIG11c3QgYmUgc3RyaW5nIG9yIG51bWJlciB2YWx1ZS4iKSwhMSk6IWMmJiFwfHxjJiZwJiYocj1lLnBhcmFtcy5iaWRGbG9vcix0PWUucGFyYW1zLmJpZEZsb29yQ3VyLEJvb2xlYW4oIm51bWJlciI9PXR5cGVvZiByJiYic3RyaW5nIj09dHlwZW9mIHQmJnQubWF0Y2goL15bQS1aXXszfSQvKSkpPyEoIW8mJihzfHxuKSl8fHEoMCxzLG4pOihpLmxvZ0Vycm9yKCJpeCBiaWRkZXIgcGFyYW1zOiBiaWRGbG9vciAvIGJpZEZsb29yQ3VyIHBhcmFtZXRlciBoYXMgaW52YWxpZCBmb3JtYXQuIiksITEpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7Zm9yKHZhciB0PVtdLG89e30scz17fSxkPW51bGwsYz17fSx1PW0obSh7fSx7ZGV0ZWN0TWlzc2luZ1NpemVzOiEwfSksYS5iLmdldENvbmZpZygiaXgiKSksbD0wO2w8ZS5sZW5ndGg7bCsrKXtkPWVbbF07dmFyIGY9aS5kZWVwQWNjZXNzKGQsIm1lZGlhVHlwZXMudmlkZW8iKSx5PWkuZGVlcEFjY2VzcyhkLCJwYXJhbXMudmlkZW8iKTtpZigoZC5tZWRpYVR5cGU9PT1uLmR8fGZ8fHkpJiYhcy5oYXNPd25Qcm9wZXJ0eShkLnRyYW5zYWN0aW9uSWQpKXt2YXIgYj1DKGQpOzAhPU9iamVjdC5rZXlzKGIpLmxlbmd0aCYmKHNbZC50cmFuc2FjdGlvbklkXT17fSxzW2QudHJhbnNhY3Rpb25JZF0uaXhJbXBzPVtdLHNbZC50cmFuc2FjdGlvbklkXS5peEltcHMucHVzaChiKSl9aWYoZC5tZWRpYVR5cGU9PT1uLmJ8fGkuZGVlcEFjY2VzcyhkLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcyIpfHwhZC5tZWRpYVR5cGUmJiFkLm1lZGlhVHlwZXMpe3ZhciB2PWooZCk7aS5kZWVwQWNjZXNzKGQsInBhcmFtcy5zaXplIikmJihvLmhhc093blByb3BlcnR5KGQudHJhbnNhY3Rpb25JZCl8fChvW2QudHJhbnNhY3Rpb25JZF09e30pLG9bZC50cmFuc2FjdGlvbklkXS5oYXNPd25Qcm9wZXJ0eSgiaXhJbXBzIil8fChvW2QudHJhbnNhY3Rpb25JZF0uaXhJbXBzPVtdKSxvW2QudHJhbnNhY3Rpb25JZF0uaXhJbXBzLnB1c2godikpLHUuaGFzT3duUHJvcGVydHkoImRldGVjdE1pc3NpbmdTaXplcyIpJiZ1LmRldGVjdE1pc3NpbmdTaXplcyYmTShkLGMsdil9fWZvcih2YXIgZyBpbiBjKWlmKGMuaGFzT3duUHJvcGVydHkoZykpe3ZhciBoPWNbZ10ubWlzc2luZ1NpemVzO28uaGFzT3duUHJvcGVydHkoZyl8fChvW2ddPXt9KSxvW2ddLmhhc093blByb3BlcnR5KCJtaXNzaW5nSW1wcyIpfHwob1tnXS5taXNzaW5nSW1wcz1bXSxvW2ddLm1pc3NpbmdDb3VudD0wKTtmb3IodmFyIHg9Y1tnXS5pbXByZXNzaW9uLEk9MDtJPGgubGVuZ3RoO0krKyl7dmFyIE89WChkLHgsaFtJXSk7b1tnXS5taXNzaW5nSW1wcy5wdXNoKE8pLG9bZ10ubWlzc2luZ0NvdW50Kyt9fXJldHVybiBPYmplY3Qua2V5cyhvKS5sZW5ndGg+MCYmdC5wdXNoLmFwcGx5KHQscChOKGUscixvLDcuMikpKSxPYmplY3Qua2V5cyhzKS5sZW5ndGg+MCYmdC5wdXNoLmFwcGx5KHQscChOKGUscixzLDguMSkpKSx0fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciB0PVtdLGk9bnVsbDtpZighZS5oYXNPd25Qcm9wZXJ0eSgiYm9keSIpfHwhZS5ib2R5Lmhhc093blByb3BlcnR5KCJzZWF0YmlkIikpcmV0dXJuIHQ7Zm9yKHZhciBuPWUuYm9keSxhPW4uc2VhdGJpZCxvPTA7bzxhLmxlbmd0aDtvKyspaWYoYVtvXS5oYXNPd25Qcm9wZXJ0eSgiYmlkIikpZm9yKHZhciBzPWFbb10uYmlkLGQ9SlNPTi5wYXJzZShyLmRhdGEuciksYz0wO2M8cy5sZW5ndGg7YysrKXt2YXIgcD1CKHNbY10uaW1waWQsZC5pbXApO2k9RChzW2NdLG4uY3VyLHApLHQucHVzaChpKX1yZXR1cm4gdH0sdHJhbnNmb3JtQmlkUGFyYW1zOmZ1bmN0aW9uKGUscil7cmV0dXJuIGkuY29udmVydFR5cGVzKHtzaXRlSUQ6Im51bWJlciJ9LGUpfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5pZnJhbWVFbmFibGVkP1t7dHlwZToiaWZyYW1lIix1cmw6Imh0dHBzOi8vanMtc2VjLmluZGV4d3cuY29tL3VtL2l4bWF0Y2guaHRtbCJ9XTpbXX19O09iamVjdChkLnJlZ2lzdGVyQmlkZGVyKShWKX19LFs1MDRdKTsKdXBianNDaHVuayhbMTk0XSx7NTQwOmZ1bmN0aW9uKGUsbixyKXtlLmV4cG9ydHM9cig1NDEpfSw1NDE6ZnVuY3Rpb24oZSxuLHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKG4sInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBzfSkpO3ZhciB0PXIoMCksZD1yKDIpLGk9cigxKSxzPXtjb2RlOiJsb2NrZXJkb21lIixzdXBwb3J0ZWRNZWRpYVR5cGVzOltkLmJdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJhbXMuYWRVbml0SWR9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxuKXt2YXIgcixkPWUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zY2hhaW4mJihyPXJ8fGUuc2NoYWluKSx7cmVxdWVzdElkOmUuYmlkSWQsYWRVbml0Q29kZTplLmFkVW5pdENvZGUsYWRVbml0SWQ6dC5nZXRCaWRJZFBhcmFtZXRlcigiYWRVbml0SWQiLGUucGFyYW1zKSxzaXplczplLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXImJmUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXN9fSkpLGk9biYmbi5yZWZlcmVySW5mbyYmbi5yZWZlcmVySW5mby5jYW5vbmljYWxVcmx8fCIiLHM9biYmbi5yZWZlcmVySW5mbyYmbi5yZWZlcmVySW5mby5yZWZlcmVyfHwiIixhPXtiaWRSZXF1ZXN0czpkLHVybDplbmNvZGVVUklDb21wb25lbnQoaSkscmVmZXJyZXI6ZW5jb2RlVVJJQ29tcG9uZW50KHMpfTtyZXR1cm4gciYmKGEuc2NoYWluPXIpLG4mJihuLmdkcHJDb25zZW50JiYoYS5nZHByPXthcHBsaWVzOm4uZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMsY29uc2VudDpuLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmd9KSxuLnVzcENvbnNlbnQmJihhLnVzX3ByaXZhY3k9e2NvbnNlbnQ6bi51c3BDb25zZW50fSkpLHttZXRob2Q6IlBPU1QiLHVybDoiaHR0cHM6Ly9sb2NrZXJkb21lLmNvbS9sYWRiaWQvcHJlYmlkIixkYXRhOkpTT04uc3RyaW5naWZ5KGEpfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gZSYmZS5ib2R5JiZlLmJvZHkuYmlkcz9lLmJvZHkuYmlkcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybntyZXF1ZXN0SWQ6ZS5yZXF1ZXN0SWQsY3BtOmUuY3BtLHdpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0LGNyZWF0aXZlSWQ6ZS5jcmVhdGl2ZUlkLGN1cnJlbmN5OmUuY3VycmVuY3ksbmV0UmV2ZW51ZTplLm5ldFJldmVudWUsYWQ6ZS5hZCx0dGw6ZS50dGwsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6ZS5hZG9tYWluJiZBcnJheS5pc0FycmF5KGUuYWRvbWFpbik/ZS5hZG9tYWluOltdfX19KSk6W119fTtPYmplY3QoaS5yZWdpc3RlckJpZGRlcikocyl9fSxbNTQwXSk7CnVwYmpzQ2h1bmsoWzE4Ml0sezU3MjpmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oNTczKX0sNTczOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gVX0pKTt2YXIgcj1uKDEpLGk9bigwKSxhPW4oMyksbz1uKDIpLGQ9bigyMCkscz1uKDEzKTtmdW5jdGlvbiBjKCl7cmV0dXJuKGM9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgdT0ibWVkaWFuZXQiLHA9Imh0dHBzOi8vcHJlYmlkLm1lZGlhLm5ldC92aWRlby9idW5kbGUuanMiLGw9MCxmPTEsbT0yLGc9ImNsaWVudF90aW1lb3V0IixiPSJjbGllbnRfYmlkX3dvbiIseT1PYmplY3QoZC5hKSgpLGg9e307ZnVuY3Rpb24gdigpe3RyeXtyZXR1cm4gd2luZG93LnRvcC5kb2N1bWVudC5yZWZlcnJlcn1jYXRjaChlKXtyZXR1cm4gZG9jdW1lbnQucmVmZXJyZXJ9fWZ1bmN0aW9uIHcoZSl7cmV0dXJuIGMoe2RvbWFpbjooZT1lfHx7fSkuZG9tYWlufHxoLnVybERhdGEuZG9tYWluLHBhZ2U6ZS5wYWdlfHxoLnVybERhdGEucGFnZSxyZWY6ZS5yZWZ8fHYoKSxpc1RvcDplLmlzVG9wfHxoLnVybERhdGEuaXNUb3B9LGZ1bmN0aW9uKCl7aWYoaC5wYWdlTWV0YSlyZXR1cm4gaC5wYWdlTWV0YTt2YXIgZT14KCdsaW5rW3JlbD0iY2Fub25pY2FsIl0nLCJocmVmIiksdD14KCdtZXRhW3Byb3BlcnR5PSJvZzp1cmwiXScsImNvbnRlbnQiKSxuPXgoJ21ldGFbbmFtZT0idHdpdHRlcjp1cmwiXScsImNvbnRlbnQiKTtyZXR1cm4gaC5wYWdlTWV0YT1jKHt9LGUmJntjYW5vbmljYWxfdXJsOmV9LHQmJntvZ191cmw6dH0sbiYme3R3aXR0ZXJfdXJsOm59KSxoLnBhZ2VNZXRhfSgpKX1mdW5jdGlvbiB4KGUsdCl7dmFyIG4scixhPWZ1bmN0aW9uKGUsdCl7dHJ5e3ZhciBuPWkuZ2V0V2luZG93VG9wKCkuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlKTtpZihudWxsIT09biYmblt0XSlyZXR1cm4gblt0XX1jYXRjaChlKXt9fShlLHQpO3JldHVybiBhJiYobj1hLChyPWkuZ2V0V2luZG93VG9wKCkuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpKS5ocmVmPW4sci5ocmVmKX1mdW5jdGlvbiBfKGUsdCl7cmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS50eXBlPT09dH0pKX1mdW5jdGlvbiBBKGUpe3JldHVybnt3OnBhcnNlSW50KGVbMF0sMTApLGg6cGFyc2VJbnQoZVsxXSwxMCl9fWZ1bmN0aW9uIFQoZSx0KXt2YXIgbj1pLmRlZXBBY2Nlc3MoZSwicGFyYW1zIikscj1pLmRlZXBBY2Nlc3ModCwiZ2RwckNvbnNlbnQiKSxvPWkuZGVlcEFjY2Vzcyh0LCJ1c3BDb25zZW50IiksZD1pLmRlZXBBY2Nlc3MoZSwidXNlcklkIikscz1pLmRlZXBBY2Nlc3MoZSwic2NoYWluIil8fHt9LHU9VS5nZXRXaW5kb3dTaXplKCkscD0hKCFyfHwhci5nZHByQXBwbGllcyksbD0hIW8sZj0hIWEuYi5nZXRDb25maWcoImNvcHBhIik7cmV0dXJuIGMoe30se2N1c3RvbWVyX2lkOm4uY2lkfSx7cHJlYmlkX3ZlcnNpb246dXBianMudmVyc2lvbn0se2dkcHJfYXBwbGllczpwfSxwJiZ7Z2Rwcl9jb25zZW50X3N0cmluZzpyLmNvbnNlbnRTdHJpbmd8fCIifSx7dXNwX2FwcGxpZXM6bH0sbCYme3VzcF9jb25zZW50X3N0cmluZzpvfHwiIn0se2NvcHBhX2FwcGxpZXM6Zn0sLTEhPT11LncmJi0xIT09dS5oJiZ7c2NyZWVuOnV9LGQmJnt1c2VyX2lkOmR9LHVwYmpzLm1lZGlhbmV0R2xvYmFscy5hbmFseXRpY3NFbmFibGVkJiZ7YW5hbHl0aWNzOiEwfSwhaS5pc0VtcHR5KHMpJiZ7c2NoYWluOnN9KX1mdW5jdGlvbiBqKGUpe3ZhciB0LG49e2lkOmUuYmlkSWQsZXh0OntkZnBfaWQ6ZS5hZFVuaXRDb2RlLGRpc3BsYXlfY291bnQ6ZS5iaWRSZXF1ZXN0c0NvdW50fSxhbGw6ZS5wYXJhbXN9LHI9aS5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIil8fFtdLGE9aS5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8iKXx8e30sZD1jKHt9LGkuZGVlcEFjY2VzcyhlLCJwYXJhbXMudmlkZW8iKXx8e30sYSk7aWYoaS5pc0VtcHR5KGQpfHwobi52aWRlbz1kKSxyLmxlbmd0aD4wJiYobi5iYW5uZXI9KHQ9cixpLmlzQXJyYXkodCkmJjI9PT10Lmxlbmd0aCYmIWkuaXNBcnJheSh0WzBdKT9bQSh0KV06dC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBBKGUpfSkpKSksZS5uYXRpdmVQYXJhbXMpdHJ5e24ubmF0aXZlPUpTT04uc3RyaW5naWZ5KGUubmF0aXZlUGFyYW1zKX1jYXRjaChlKXtpLmxvZ0Vycm9yKCIiLmNvbmNhdCh1LCIgOiBJbmNvcnJlY3QgSlNPTiA6IGJpZFJlcXVlc3QubmF0aXZlUGFyYW1zIikpfWUucGFyYW1zLmNyaWQmJihuLnRhZ2lkPWUucGFyYW1zLmNyaWQudG9TdHJpbmcoKSk7dmFyIHM9cGFyc2VGbG9hdChlLnBhcmFtcy5iaWRmbG9vcnx8ZS5wYXJhbXMuYmlkRmxvb3IpO3MmJihuLmJpZGZsb29yPXMpO3ZhciBwPWZ1bmN0aW9uKGUpe3ZhciB0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpO2lmKCF0JiYtMSE9PWUuaW5kZXhPZigiLyIpKXt2YXIgbj1pLmdldEdwdFNsb3RJbmZvRm9yQWRVbml0Q29kZShlKS5kaXZJZDtpLmlzU3RyKG4pJiYodD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChuKSl9aWYodCYmdC5nZXRCb3VuZGluZ0NsaWVudFJlY3Qpe3ZhciByPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksYT17fTtyZXR1cm4gYS50b3BfbGVmdD17eTpyLnRvcCx4OnIubGVmdH0sYS5ib3R0b21fcmlnaHQ9e3k6ci5ib3R0b20seDpyLnJpZ2h0fSxhfXJldHVybiBudWxsfShlLmFkVW5pdENvZGUpO2lmKHAmJm4uYmFubmVyJiYwIT09bi5iYW5uZXIubGVuZ3RoKXt2YXIgZz1mdW5jdGlvbihlKXtyZXR1cm57dG9wX2xlZnQ6e3g6ZS50b3BfbGVmdC54K3dpbmRvdy5wYWdlWE9mZnNldCx5OmUudG9wX2xlZnQueSt3aW5kb3cucGFnZVlPZmZzZXR9LGJvdHRvbV9yaWdodDp7eDplLmJvdHRvbV9yaWdodC54K3dpbmRvdy5wYWdlWE9mZnNldCx5OmUuYm90dG9tX3JpZ2h0Lnkrd2luZG93LnBhZ2VZT2Zmc2V0fX19KHApO24uZXh0LmNvb3JkaW5hdGVzPWcsbi5leHQudmlld2FiaWxpdHk9SShwLnRvcF9sZWZ0LEUobi5iYW5uZXIpKSxJKGcudG9wX2xlZnQsRShuLmJhbm5lcikpPi41P24uZXh0LnZpc2liaWxpdHk9ZjpuLmV4dC52aXNpYmlsaXR5PW19ZWxzZSBuLmV4dC52aXNpYmlsaXR5PWw7dmFyIGI9ZnVuY3Rpb24oZSl7dmFyIHQ9W107ImZ1bmN0aW9uIj09dHlwZW9mIGUuZ2V0Rmxvb3ImJltvLmIsby5kLG8uY10uZm9yRWFjaCgoZnVuY3Rpb24obil7ZS5tZWRpYVR5cGVzLmhhc093blByb3BlcnR5KG4pJiYobj09by5iP2UubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMuZm9yRWFjaCgoZnVuY3Rpb24ocil7UyhlLG4scix0KX0pKTpTKGUsbiwiKiIsdCkpfSkpO3JldHVybiB0fShlKTtyZXR1cm4gYiYmYi5sZW5ndGg+MCYmKG4uYmlkZmxvb3JzPWIpLG59ZnVuY3Rpb24gUyhlLHQsbixyKXt2YXIgaT1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6dCxzaXplOm59KTtuLmxlbmd0aD4xJiYoaS5zaXplPW4pLGkubWVkaWFUeXBlPXQsci5wdXNoKGkpfWZ1bmN0aW9uIEUoZSl7cmV0dXJuIGUucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiB0LmgqdC53PGUuaCplLnc/dDplfSkpfWZ1bmN0aW9uIEkoZSx0KXt2YXIgbj10LncqdC5oLHI9VS5nZXRXaW5kb3dTaXplKCksaT17eDplLngrdC53LHk6ZS55K3QuaH07cmV0dXJuIDA9PT1ufHwtMT09PXIud3x8LTE9PT1yLmg/MDpmdW5jdGlvbihlLHQsbixyKXtpZihlLng+ci54fHx0Lng8bi54fHxlLnk+ci55fHx0Lnk8bi55KXJldHVybiAwO3JldHVybihNYXRoLm1pbih0Lngsci54KS1NYXRoLm1heChlLngsbi54KSkqKE1hdGgubWluKHQueSxyLnkpLU1hdGgubWF4KGUueSxuLnkpKX0oZSxpLHt4OjAseTowfSx7eDpyLncseTpyLmh9KS9ufWZ1bmN0aW9uIE8oZSx0KXt0PWkuaXNBcnJheSh0KSYmdHx8W107dmFyIG49e2xvZ2lkOiJrZmsiLGV2dGlkOiJwcm9qZWN0ZXZlbnRzIixwcm9qZWN0OiJwcmViaWQifTtyZXR1cm4gbi5hY2lkPWkuZGVlcEFjY2Vzcyh0LCIwLmF1Y3Rpb25JZCIpfHwiIixuLmNpZD11cGJqcy5tZWRpYW5ldEdsb2JhbHMuY2lkfHwiIixuLmNyaWQ9dC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBpLmRlZXBBY2Nlc3MoZSwicGFyYW1zLjAuY3JpZCIpfHxlLmFkVW5pdENvZGV9KSkuam9pbigifCIpLG4uYWR1bml0X2NvdW50PXQubGVuZ3RofHwwLG4uZG49aC51cmxEYXRhLmRvbWFpbnx8IiIsbi5yZXF1cmw9aC51cmxEYXRhLnBhZ2V8fCIiLG4uaXN0b3A9aC51cmxEYXRhLmlzVG9wfHwiIixuLmV2ZW50PWUubmFtZXx8IiIsbi52YWx1ZT1lLnZhbHVlfHwiIixuLnJkPWUucmVsYXRlZF9kYXRhfHwiIixufWZ1bmN0aW9uIEMoZSx0KXt2YXIgbj17cHJvdG9jb2w6Imh0dHBzIixob3N0bmFtZToicXNlYXJjaC1hLmFrYW1haWhkLm5ldC9sb2ciLHNlYXJjaDpPKGUsdCl9O2kudHJpZ2dlclBpeGVsKGkuYnVpbGRVcmwobikpfWZ1bmN0aW9uIE0oZSl7dmFyIHQsbj1pLmRlZXBBY2Nlc3MoZSwiY29udGV4dCIpfHwiIixyPWkuZGVlcEFjY2VzcyhlLCJ2dG8iKTsib3V0c3RyZWFtIj09biYmciYmKGUucmVuZGVyZXI9KCh0PXMuYS5pbnN0YWxsKHt1cmw6cH0pKS5zZXRSZW5kZXIoKGZ1bmN0aW9uKGUpe3dpbmRvdy5tbmV0LnF1ZXVlLnB1c2goKGZ1bmN0aW9uKCl7dmFyIHQ9e3dpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0LHZhc3RUaW1lb3V0OmUudnRvLG1heEFsbG93ZWRWYXN0VGFnUmVkaXJlY3RzOmUubWF2dHIsYWxsb3dWcGFpZDplLmF2cCxhdXRvUGxheTplLmFwLHByZWxvYWQ6ZS5wbCxtdXRlOmUubXR9LG49ZS5kZnBfaWQscj1pLmdldEdwdFNsb3RJbmZvRm9yQWRVbml0Q29kZShuKS5kaXZJZHx8bjt3aW5kb3cubW5ldC5tZWRpYU5ldG91dHN0cmVhbVBsYXllcihlLHIsdCl9KSl9KSksdCkpfXdpbmRvdy5tbmV0PXdpbmRvdy5tbmV0fHx7fSx3aW5kb3cubW5ldC5xdWV1ZT13aW5kb3cubW5ldC5xdWV1ZXx8W10saC51cmxEYXRhPXtkb21haW46aS5wYXJzZVVybCh5LnJlZmVyZXIpLmhvc3RuYW1lLHBhZ2U6eS5yZWZlcmVyLGlzVG9wOnkucmVhY2hlZFRvcH0sdXBianMubWVkaWFuZXRHbG9iYWxzPXVwYmpzLm1lZGlhbmV0R2xvYmFsc3x8e307dmFyIFU9e2NvZGU6dSxndmxpZDoxNDIsc3VwcG9ydGVkTWVkaWFUeXBlczpbby5iLG8uYyxvLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmFtcz9lLnBhcmFtcy5jaWQmJmkuaXNTdHIoZS5wYXJhbXMuY2lkKSYmIWkuaXNFbXB0eVN0cihlLnBhcmFtcy5jaWQpPyhjKHVwYmpzLm1lZGlhbmV0R2xvYmFscywhdXBianMubWVkaWFuZXRHbG9iYWxzLmNpZCYme2NpZDplLnBhcmFtcy5jaWR9KSwhMCk6KGkubG9nRXJyb3IoIiIuY29uY2F0KHUsIiA6IGNpZCBzaG91bGQgYmUgYSBzdHJpbmciKSksITEpOihpLmxvZ0Vycm9yKCIiLmNvbmNhdCh1LCIgOiBNaXNzaW5nIGJpZCBwYXJhbWV0ZXJzIikpLCExKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciBuLHI9ZnVuY3Rpb24oZSx0KXtyZXR1cm57c2l0ZTp3KGVbMF0ucGFyYW1zLnNpdGUpLGV4dDpUKGVbMF0sdCksaWQ6ZVswXS5hdWN0aW9uSWQsaW1wOmUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gaihlKX0pKSx0bWF4OnQudGltZW91dHx8YS5iLmdldENvbmZpZygiYmlkZGVyVGltZW91dCIpfX0oZSx0KTtyZXR1cm57bWV0aG9kOiJQT1NUIix1cmw6KG49ci5leHQuY3VzdG9tZXJfaWQsImh0dHBzOi8vcHJlYmlkLm1lZGlhLm5ldC9ydGIvcHJlYmlkP2NpZD0iK2VuY29kZVVSSUNvbXBvbmVudChuKSksZGF0YTpKU09OLnN0cmluZ2lmeShyKX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIG49W107aWYoIWV8fCFlLmJvZHkpcmV0dXJuIGkubG9nSW5mbygiIi5jb25jYXQodSwiIDogcmVzcG9uc2UgaXMgZW1wdHkiKSksbjt2YXIgcj1lLmJvZHkuYmlkTGlzdDtyZXR1cm4gaS5pc0FycmF5KHIpJiYwIT09ci5sZW5ndGg/KChuPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuITE9PT1lLm5vX2JpZCYmcGFyc2VGbG9hdChlLmNwbSk+MH0oZSl9KSkpLmZvckVhY2goTSksbik6KGkubG9nSW5mbygiIi5jb25jYXQodSwiIDogbm8gYmlkcyIpKSxuKX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0obj10LCFpLmlzRW1wdHkobikmJm5bMF0uYm9keSYmblswXS5ib2R5LmV4dCYmaS5pc0FycmF5KG5bMF0uYm9keS5leHQuY3NVcmwpP25bMF0uYm9keS5leHQuY3NVcmw6W10pO3JldHVybiBlLmlmcmFtZUVuYWJsZWQ/XyhyLCJpZnJhbWUiKTplLnBpeGVsRW5hYmxlZD9fKHIsImltYWdlIik6dm9pZCAwfSxvblRpbWVvdXQ6ZnVuY3Rpb24oZSl7dHJ5e0Moe25hbWU6Zyx2YWx1ZTplLmxlbmd0aCxyZWxhdGVkX2RhdGE6ZVswXS50aW1lb3V0fHxhLmIuZ2V0Q29uZmlnKCJiaWRkZXJUaW1lb3V0Iil9LGUpfWNhdGNoKGUpe319LG9uQmlkV29uOmZ1bmN0aW9uKGUpe3RyeXtDKHtuYW1lOmIsdmFsdWU6ZS5jcG19LFtlXSl9Y2F0Y2goZSl7fX0sY2xlYXJNbkRhdGE6ZnVuY3Rpb24oKXtoPXt9fSxnZXRXaW5kb3dTaXplOmZ1bmN0aW9uKCl7cmV0dXJue3c6d2luZG93LnNjcmVlbi53aWR0aHx8LTEsaDp3aW5kb3cuc2NyZWVuLmhlaWdodHx8LTF9fX07T2JqZWN0KHIucmVnaXN0ZXJCaWRkZXIpKFUpfX0sWzU3Ml0pOwp1cGJqc0NodW5rKFsxNjNdLHs2MTY6ZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1uKDYxNyl9LDYxNzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQodCwiVVNFUl9JRF9DT0RFX1RPX1FVRVJZX0FSRyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSksbi5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBifSkpO3ZhciByPW4oMyksYT1uKDEpLGk9bigwKSxvPW4oMiksZD1uKDEyKSxzPW4ubihkKTtmdW5jdGlvbiBjKGUpe3JldHVybihjPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gcChlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgbj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PW4pcmV0dXJuO3ZhciByLGEsaT1bXSxvPSEwLGQ9ITE7dHJ5e2ZvcihuPW4uY2FsbChlKTshKG89KHI9bi5uZXh0KCkpLmRvbmUpJiYoaS5wdXNoKHIudmFsdWUpLCF0fHxpLmxlbmd0aCE9PXQpO289ITApO31jYXRjaChlKXtkPSEwLGE9ZX1maW5hbGx5e3RyeXtvfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKGQpdGhyb3cgYX19cmV0dXJuIGl9KGUsdCl8fGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gdShlLHQpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1ufHwiU2V0Ij09PW4pcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSlyZXR1cm4gdShlLHQpfShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gdShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfXZhciBtPVtvLmIsby5kXSxsPVsic3RhcnRkZWxheSIsIm1pbWVzIiwibWluZHVyYXRpb24iLCJtYXhkdXJhdGlvbiIsInN0YXJ0ZGVsYXkiLCJza2lwcGFibGUiLCJwbGF5YmFja21ldGhvZCIsImFwaSIsInByb3RvY29scyIsImJveGluZ2FsbG93ZWQiLCJsaW5lYXJpdHkiLCJkZWxpdmVyeSIsInByb3RvY29sIiwicGxhY2VtZW50IiwibWluYml0cmF0ZSIsIm1heGJpdHJhdGUiXSxmPXticml0ZXBvb2xpZDoiYnJpdGVwb29saWQiLGNyaXRlb0lkOiJjcml0ZW9pZCIsZmFicmlja0lkOiJudWVzdGFyaWQiLGhhbG9JZDoiYXVkaWdlbnRpZCIsaWQ1aWQ6ImlkNWlkIixpZGxfZW52OiJscmUiLElEUDoiemVvdGFwaWQiLGlkeElkOiJpZHhpZCIsaW50ZW50SXFJZDoiaW50ZW50aXFpZCIsbGlwYjoibGlwYmlkIixsb3RhbWVQYW5vcmFtYUlkOiJsb3RhbWVpZCIsbWVya2xlSWQ6Im1lcmtsZWlkIixuZXRJZDoibmV0aWQiLHBhcnJhYmxlSWQ6InBhcnJhYmxlaWQiLHB1YmNpZDoicHViY2lkIixxdWFudGNhc3RJZDoicXVhbnRjYXN0aWQiLHRhcGFkSWQ6InRhcGFkaWQiLHRkaWQ6InR0ZHV1aWQiLHVpZDI6InVpZDIiLGZsb2NJZDoiZmxvYyIsYWRtaXhlcklkOiJhZG1peGVyaWQiLGRlZXBpbnRlbnRJZDoiZGVlcGludGVudGlkIixkbWRJZDoiZG1kaWQiLG5leHRyb2xsSWQ6Im5leHRyb2xsaWQiLG5vdmF0aXE6Im5vdmF0aXFpZCIsbXdPcGVuTGlua0lkOiJtd29wZW5saW5raWQiLGRhcElkOiJkYXBpZCIsYW14SWQ6ImFteGlkIn0sYj17Y29kZToib3BlbngiLGd2bGlkOjY5LHN1cHBvcnRlZE1lZGlhVHlwZXM6bSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmFtcy5kZWxEb21haW58fGUucGFyYW1zLnBsYXRmb3JtO3JldHVybiBpLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy5iYW5uZXIiKSYmdD8hIWUucGFyYW1zLnVuaXR8fGkuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcy5sZW5ndGgiKT4wOiEoIWUucGFyYW1zLnVuaXR8fCF0KX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe2lmKDA9PT1lLmxlbmd0aClyZXR1cm5bXTt2YXIgbj1bXSxhPXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciBuO3JldHVybiBuPXQsaS5kZWVwQWNjZXNzKG4sIm1lZGlhVHlwZXMudmlkZW8iKSYmIWkuZGVlcEFjY2VzcyhuLCJtZWRpYVR5cGVzLmJhbm5lciIpfHxuLm1lZGlhVHlwZT09PW8uZD9lWzBdLnB1c2godCk6ZVsxXS5wdXNoKHQpLGV9KSxbW10sW11dKX0oZSksMiksZD1hWzBdLGM9YVsxXTtyZXR1cm4gYy5sZW5ndGg+MCYmbi5wdXNoKGZ1bmN0aW9uKGUsdCl7dmFyIG49W10sYT0hMSxkPXYoZSx0KSxzPWkuX21hcChlLChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXMudW5pdH0pKTtkLmF1cz1pLl9tYXAoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGkucGFyc2VTaXplc0lucHV0KGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMpLmpvaW4oIiwiKX0pKS5qb2luKCJ8IiksZC5kaXZpZHM9aS5fbWFwKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoZS5hZFVuaXRDb2RlKX0pKS5qb2luKCIsIiksZC5hdWNzPWkuX21hcChlLChmdW5jdGlvbihlKXt2YXIgdD1pLmRlZXBBY2Nlc3MoZSwib3J0YjJJbXAuZXh0LmRhdGEucGJhZHNsb3QiKTtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHR8fCIiKX0pKS5qb2luKCIsIikscy5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gZX0pKSYmKGQuYXVpZD1zLmpvaW4oIiwiKSk7ZS5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXMuZG9Ob3RUcmFja30pKSYmKGQubnM9MSk7KCEwPT09ci5iLmdldENvbmZpZygiY29wcGEiKXx8ZS5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXMuY29wcGF9KSkpJiYoZC50ZmNkPTEpO2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoZS5wYXJhbXMuY3VzdG9tUGFyYW1zKXt2YXIgdD1pLl9tYXAoT2JqZWN0LmtleXMoZS5wYXJhbXMuY3VzdG9tUGFyYW1zKSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7dmFyIG49dFtlXTtpLmlzQXJyYXkobikmJihuPW4uam9pbigiLCIpKTtyZXR1cm4oZS50b0xvd2VyQ2FzZSgpKyI9IituLnRvTG93ZXJDYXNlKCkpLnJlcGxhY2UoIisiLCIuIikucmVwbGFjZSgiLyIsIl8iKX0odCxlLnBhcmFtcy5jdXN0b21QYXJhbXMpfSkpLHI9d2luZG93LmJ0b2EodC5qb2luKCImIikpO2E9ITAsbi5wdXNoKHIpfWVsc2Ugbi5wdXNoKCIiKX0pKSxhJiYoZC50cHM9bi5qb2luKCIsIikpO3JldHVybiB5KGQsby5iLGUpLHttZXRob2Q6IkdFVCIsdXJsOmQucGg/Imh0dHBzOi8vdS5vcGVueC5uZXQvdy8xLjAvYXJqIjoiaHR0cHM6Ly8iLmNvbmNhdChlWzBdLnBhcmFtcy5kZWxEb21haW4sIi93LzEuMC9hcmoiKSxkYXRhOmQscGF5bG9hZDp7YmlkczplLHN0YXJ0VGltZTpuZXcgRGF0ZX19fShjLHQpKSxkLmxlbmd0aD4wJiZkLmZvckVhY2goKGZ1bmN0aW9uKGUpe24ucHVzaChmdW5jdGlvbihlLHQpe3ZhciBuPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixhPWkuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvIiksZD12KFtlXSx0KSxjPWkuZGVlcEFjY2VzcyhlLCJwYXJhbXMudmlkZW8iKXx8e30scD1pLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0IiksdT1pLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplIik7aS5pc0FycmF5KGUuc2l6ZXMpJiYyPT09ZS5zaXplcy5sZW5ndGgmJiFpLmlzQXJyYXkoZS5zaXplc1swXSk/KG49cGFyc2VJbnQoZS5zaXplc1swXSwxMCkscj1wYXJzZUludChlLnNpemVzWzFdLDEwKSk6aS5pc0FycmF5KGUuc2l6ZXMpJiZpLmlzQXJyYXkoZS5zaXplc1swXSkmJjI9PT1lLnNpemVzWzBdLmxlbmd0aD8obj1wYXJzZUludChlLnNpemVzWzBdWzBdLDEwKSxyPXBhcnNlSW50KGUuc2l6ZXNbMF1bMV0sMTApKTppLmlzQXJyYXkodSkmJjI9PT11Lmxlbmd0aCYmKG49cGFyc2VJbnQodVswXSwxMCkscj1wYXJzZUludCh1WzFdLDEwKSk7dmFyIG09e3c6bixoOnJ9LGY9ZS5wYXJhbXMudmlkZW98fGUucGFyYW1zLm9wZW5ydGJ8fHt9O2Yub3BlbnJ0YiYmKGY9Zi5vcGVucnRiKTtpLmlzQXJyYXkoZi5pbXApJiYoZj1mLmltcFswXS52aWRlbyk7T2JqZWN0LmtleXMoZikuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gcygpKGwsZSl9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIG1bZV09ZltlXX0pKSxPYmplY3Qua2V5cyhhKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBzKCkobCxlKX0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gbVtlXT1hW2VdfSkpO3ZhciBiPXtpbXA6W3t2aWRlbzptfV19O2Qub3BlbnJ0Yj1KU09OLnN0cmluZ2lmeShiKSxkLmF1aWQ9ZS5wYXJhbXMudW5pdCxkLnZ3ZD1ufHxjLnZ3ZCxkLnZodD1yfHxjLnZodCwib3V0c3RyZWFtIj09PXAmJihkLnZvcz0iMTAxIik7Yy5taW1lcyYmKGQudm1pbWVzPWMubWltZXMpO2UucGFyYW1zLnRlc3QmJihkLnZ0ZXN0PTEpO3ZhciBoPWkuZGVlcEFjY2VzcyhlLCJvcnRiMkltcC5leHQuZGF0YS5wYmFkc2xvdCIpO2gmJihkLmF1Y3M9ZW5jb2RlVVJJQ29tcG9uZW50KGgpKTtyZXR1cm4geShkLG8uZCxbZV0pLGR9KGUsdCk7cmV0dXJue21ldGhvZDoiR0VUIix1cmw6bi5waD8iaHR0cHM6Ly91Lm9wZW54Lm5ldC92LzEuMC9hdmpwIjoiaHR0cHM6Ly8iLmNvbmNhdChlLnBhcmFtcy5kZWxEb21haW4sIi92LzEuMC9hdmpwIiksZGF0YTpuLHBheWxvYWQ6e2JpZDplLHN0YXJ0VGltZTpuZXcgRGF0ZX19fShlLHQpKX0pKSxufSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciBuPWUuYm9keTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuL2F2anAkLy50ZXN0KGUudXJsKT9vLmQ6by5ifSh0KT09PW8uZD9mdW5jdGlvbihlLHQpe3ZhciBuPXQuYmlkLHI9KHQuc3RhcnRUaW1lLFtdKTtpZih2b2lkIDAhPT1lJiYiIiE9PWUudmFzdFVybCYmZS5wdWJfcmV2PjApe3ZhciBhPWkucGFyc2VVcmwoZS52YXN0VXJsKS5zZWFyY2h8fHt9LGQ9e307ZC5yZXF1ZXN0SWQ9bi5iaWRJZCxlLmRlYWxfaWQmJihkLmRlYWxJZD1lLmRlYWxfaWQpLGQudHRsPTMwMCxkLm5ldFJldmVudWU9ITAsZC5jdXJyZW5jeT1lLmN1cnJlbmN5LGQuY3BtPXBhcnNlSW50KGUucHViX3JldiwxMCkvMWUzLGQud2lkdGg9cGFyc2VJbnQoZS53aWR0aCwxMCksZC5oZWlnaHQ9cGFyc2VJbnQoZS5oZWlnaHQsMTApLGQuY3JlYXRpdmVJZD1lLmFkaWQsZC52YXN0VXJsPWUudmFzdFVybCxkLm1lZGlhVHlwZT1vLmQsZS5waD1hLnBoLGUuY29sbz1hLmNvbG8sZS50cz1hLnRzLHIucHVzaChkKX1yZXR1cm4gcn0obix0LnBheWxvYWQpOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXQuYmlkcyxyPSh0LnN0YXJ0VGltZSxlLmFkcy5hZCksYT1bXSxpPTA7aTxyLmxlbmd0aDtpKyspe3ZhciBvPXJbaV0sZD1wYXJzZUludChvLmlkeCwxMCkscz17fTtpZihzLnJlcXVlc3RJZD1uW2RdLmJpZElkLG8ucHViX3Jldil7cy5jcG09TnVtYmVyKG8ucHViX3JldikvMWUzO3ZhciBjPW8uY3JlYXRpdmVbMF07YyYmKHMud2lkdGg9Yy53aWR0aCxzLmhlaWdodD1jLmhlaWdodCkscy5jcmVhdGl2ZUlkPWMuaWQscy5hZD1vLmh0bWwsby5kZWFsX2lkJiYocy5kZWFsSWQ9by5kZWFsX2lkKSxzLnR0bD0zMDAscy5uZXRSZXZlbnVlPSEwLHMuY3VycmVuY3k9by5jdXJyZW5jeSxvLnRiZCYmKHMudGJkPW8udGJkKSxzLnRzPW8udHMscy5tZXRhPXt9LG8uYnJhbmRfaWQmJihzLm1ldGEuYnJhbmRJZD1vLmJyYW5kX2lkKSxvLmFkb21haW4mJmxlbmd0aChvLmFkb21haW4pPjA/cy5tZXRhLmFkdmVydGlzZXJEb21haW5zPW8uYWRvbWFpbjpzLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnM9W10sby5hZHZfaWQmJihzLm1ldGEuZHNwaWQ9by5hZHZfaWQpLGEucHVzaChzKX19cmV0dXJuIGF9KG4sdC5wYXlsb2FkKX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCxuLHIpe2lmKGUuaWZyYW1lRW5hYmxlZHx8ZS5waXhlbEVuYWJsZWQpcmV0dXJuW3t0eXBlOmUuaWZyYW1lRW5hYmxlZD8iaWZyYW1lIjoiaW1hZ2UiLHVybDppLmRlZXBBY2Nlc3ModCwiMC5ib2R5LmFkcy5waXhlbHMiKXx8aS5kZWVwQWNjZXNzKHQsIjAuYm9keS5waXhlbHMiKXx8ZnVuY3Rpb24oZSx0KXt2YXIgbj0iaHR0cHM6Ly91Lm9wZW54Lm5ldC93LzEuMC9wZCIscj1bXTtlJiYoci5wdXNoKCJnZHByPSIrKGUuZ2RwckFwcGxpZXM/MTowKSksci5wdXNoKCJnZHByX2NvbnNlbnQ9IitlbmNvZGVVUklDb21wb25lbnQoZS5jb25zZW50U3RyaW5nfHwiIikpKTt0JiZyLnB1c2goInVzX3ByaXZhY3k9IitlbmNvZGVVUklDb21wb25lbnQodCkpO3JldHVybiIiLmNvbmNhdChuKS5jb25jYXQoci5sZW5ndGg+MD8iPyIrci5qb2luKCImIik6IiIpfShuLHIpfV19LHRyYW5zZm9ybUJpZFBhcmFtczpmdW5jdGlvbihlLHQpe3JldHVybiBpLmNvbnZlcnRUeXBlcyh7dW5pdDoic3RyaW5nIixjdXN0b21GbG9vcjoibnVtYmVyIn0sZSl9fTtmdW5jdGlvbiBoKGUpe3ZhciB0LG4scixhPXdpbmRvdyxpPWRvY3VtZW50LG89aS5kb2N1bWVudEVsZW1lbnQ7aWYoZSl7dHJ5e2E9d2luZG93LnRvcCxpPXdpbmRvdy50b3AuZG9jdW1lbnR9Y2F0Y2goZSl7cmV0dXJufW89aS5kb2N1bWVudEVsZW1lbnQscj1pLmJvZHksdD1hLmlubmVyV2lkdGh8fG8uY2xpZW50V2lkdGh8fHIuY2xpZW50V2lkdGgsbj1hLmlubmVySGVpZ2h0fHxvLmNsaWVudEhlaWdodHx8ci5jbGllbnRIZWlnaHR9ZWxzZSBvPWkuZG9jdW1lbnRFbGVtZW50LHQ9YS5pbm5lcldpZHRofHxvLmNsaWVudFdpZHRoLG49YS5pbm5lckhlaWdodHx8by5jbGllbnRIZWlnaHQ7cmV0dXJuIiIuY29uY2F0KHQsIngiKS5jb25jYXQobil9ZnVuY3Rpb24gdihlLHQpe3ZhciBuLGE9aS5pbklmcmFtZSgpO249e2p1OnIuYi5nZXRDb25maWcoInBhZ2VVcmwiKXx8dC5yZWZlcmVySW5mby5yZWZlcmVyLGNoOmRvY3VtZW50LmNoYXJTZXR8fGRvY3VtZW50LmNoYXJhY3RlclNldCxyZXM6IiIuY29uY2F0KHNjcmVlbi53aWR0aCwieCIpLmNvbmNhdChzY3JlZW4uaGVpZ2h0LCJ4IikuY29uY2F0KHNjcmVlbi5jb2xvckRlcHRoKSxpZnI6YSx0ejoobmV3IERhdGUpLmdldFRpbWV6b25lT2Zmc2V0KCksdHdzOmgoYSksYmU6MSxiYzplWzBdLnBhcmFtcy5iY3x8IiIuY29uY2F0KCJoYl9wYiIsIl8iKS5jb25jYXQoIjMuMC4zIiksZGRkaWQ6aS5fbWFwKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyYW5zYWN0aW9uSWR9KSkuam9pbigiLCIpLG5vY2FjaGU6KG5ldyBEYXRlKS5nZXRUaW1lKCl9O3ZhciBvLGQscyxwLHUsbT1yLmIuZ2V0Q29uZmlnKCJvcnRiMi51c2VyLmRhdGEiKTtpZihBcnJheS5pc0FycmF5KG0pJiZtLmxlbmd0aD4wKXt2YXIgbD1tLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZS5zZWdtZW50KSYmZS5zZWdtZW50Lmxlbmd0aD4wJiZ2b2lkIDAhPT1lLm5hbWUmJmUubmFtZS5sZW5ndGg+MH0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIG49Im9iamVjdCI9PT1jKHQuZXh0KSYmdC5leHQuc2VndGF4PyIiLmNvbmNhdCh0Lm5hbWUsIi8iKS5jb25jYXQodC5leHQuc2VndGF4KTp0Lm5hbWU7cmV0dXJuIGVbbl09KGVbbl18fFtdKS5jb25jYXQodC5zZWdtZW50Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9KSkpLGV9KSx7fSksYj1PYmplY3Qua2V5cyhsKS5tYXAoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrIjoiK2xbZV0uam9pbigifCIpfSkpLmpvaW4oIiwiKTtiLmxlbmd0aD4wJiYobi5zbT1lbmNvZGVVUklDb21wb25lbnQoYikpfWlmKGVbMF0ucGFyYW1zLnBsYXRmb3JtJiYobi5waD1lWzBdLnBhcmFtcy5wbGF0Zm9ybSksdC5nZHByQ29uc2VudCl7dmFyIHY9dC5nZHByQ29uc2VudDt2b2lkIDAhPT12LmNvbnNlbnRTdHJpbmcmJihuLmdkcHJfY29uc2VudD12LmNvbnNlbnRTdHJpbmcpLHZvaWQgMCE9PXYuZ2RwckFwcGxpZXMmJihuLmdkcHI9di5nZHByQXBwbGllcz8xOjApLCJpYWIiPT09ci5iLmdldENvbmZpZygiY29uc2VudE1hbmFnZW1lbnQuY21wQXBpIikmJihuLnhfZ2Rwcl9mPTEpfXJldHVybiB0JiZ0LnVzcENvbnNlbnQmJihuLnVzX3ByaXZhY3k9dC51c3BDb25zZW50KSxpLmRlZXBBY2Nlc3MoZVswXSwiY3J1bWJzLnB1YmNpZCIpJiZpLmRlZXBTZXRWYWx1ZShlWzBdLCJ1c2VySWQucHViY2lkIixpLmRlZXBBY2Nlc3MoZVswXSwiY3J1bWJzLnB1YmNpZCIpKSxvPW4sZD1lWzBdLnVzZXJJZCxpLl9lYWNoKGQsKGZ1bmN0aW9uKGUsdCl7dmFyIG49Zlt0XTtpZihmLmhhc093blByb3BlcnR5KHQpKXN3aXRjaCh0KXtjYXNlImZsb2NJZCI6Y2FzZSJ1aWQyIjpvW25dPWUuaWQ7YnJlYWs7Y2FzZSJsaXBiIjppZihvW25dPWUubGlwYmlkLEFycmF5LmlzQXJyYXkoZS5zZWdtZW50cykmJmUuc2VnbWVudHMubGVuZ3RoPjApe3ZhciByPSJsaXZlaW50ZW50OiIrZS5zZWdtZW50cy5qb2luKCJ8Iik7by5zbT0iIi5jb25jYXQoby5zbT9vLnNtK2VuY29kZVVSSUNvbXBvbmVudCgiLCIpOiIiKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHIpKX1icmVhaztjYXNlInBhcnJhYmxlSWQiOm9bbl09ZS5laWQ7YnJlYWs7Y2FzZSJpZDVpZCI6b1tuXT1lLnVpZDticmVhaztjYXNlIm5vdmF0aXEiOm9bbl09ZS5zbm93Zmxha2U7YnJlYWs7ZGVmYXVsdDpvW25dPWV9fSkpLG49byxlWzBdLnNjaGFpbiYmKG4uc2NoYWluPShzPWVbMF0uc2NoYWluLCIiLmNvbmNhdChzLnZlciwiLCIpLmNvbmNhdChzLmNvbXBsZXRlLCIhIikuY29uY2F0KChwPXMubm9kZXMsdT1bImFzaSIsInNpZCIsImhwIiwicmlkIiwibmFtZSIsImRvbWFpbiJdLHAubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfHwiIn0pKS5qb2luKCIsIil9KSkuam9pbigiISIpKSkpKSxufWZ1bmN0aW9uIHkoZSx0LG4pe3ZhciBhPVtdLGk9ITE7bi5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1mdW5jdGlvbihlLHQpe3ZhciBuPXt9LGE9ci5iLmdldENvbmZpZygiY3VycmVuY3kuYWRTZXJ2ZXJDdXJyZW5jeSIpfHwiVVNEIjsiZnVuY3Rpb24iPT10eXBlb2YgZS5nZXRGbG9vciYmKG49ZS5nZXRGbG9vcih7Y3VycmVuY3k6YSxtZWRpYVR5cGU6dCxzaXplOiIqIn0pKTt2YXIgaT1uLmZsb29yfHxlLnBhcmFtcy5jdXN0b21GbG9vcnx8MDtyZXR1cm4gTWF0aC5yb3VuZCgxZTMqaSl9KGUsdCk7bj8oYS5wdXNoKG4pLGk9ITApOmEucHVzaCgwKX0pKSxpJiYoZS5hdW1mcz1hLmpvaW4oIiwiKSl9T2JqZWN0KGEucmVnaXN0ZXJCaWRkZXIpKGIpfX0sWzYxNl0pOwp1cGJqc0NodW5rKFsxNDldLHs2NTE6ZnVuY3Rpb24oZSxkLG4pe2UuZXhwb3J0cz1uKDY1Mil9LDY1MjpmdW5jdGlvbihlLGQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShkLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQoZCwicHViUHJvdmlkZWRJZFN1Ym1vZHVsZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSk7dmFyIG89bigxMCksdT1uKDApLGk9e25hbWU6InB1YlByb3ZpZGVkSWQiLGRlY29kZTpmdW5jdGlvbihlKXt2YXIgZD1lP3twdWJQcm92aWRlZElkOmV9OnZvaWQgMDtyZXR1cm4gdS5sb2dJbmZvKCJQdWJQcm92aWRlZElkOiBEZWNvZGVkIHZhbHVlICIrSlNPTi5zdHJpbmdpZnkoZCkpLGR9LGdldElkOmZ1bmN0aW9uKGUpe3ZhciBkPWUmJmUucGFyYW1zfHx7fSxuPVtdO3JldHVybiB1LmlzQXJyYXkoZC5laWRzKSYmKG49bi5jb25jYXQoZC5laWRzKSksImZ1bmN0aW9uIj09dHlwZW9mIGQuZWlkc0Z1bmN0aW9uJiYobj1uLmNvbmNhdChkLmVpZHNGdW5jdGlvbigpKSkse2lkOm59fX07T2JqZWN0KG8uZSkoInVzZXJJZCIsaSl9fSxbNjUxXSk7CnVwYmpzQ2h1bmsoWzE0N10sezY1NzpmdW5jdGlvbihlLHIsYSl7ZS5leHBvcnRzPWEoNjU4KX0sNjU4OmZ1bmN0aW9uKGUscixhKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGEuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gRn0pKTt2YXIgdD1hKDApLGk9YSgxKSxuPWEoMikscz1hKDMpLG89YSgxMyk7ZnVuY3Rpb24gZCgpe3JldHVybihkPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciBhPWFyZ3VtZW50c1tyXTtmb3IodmFyIHQgaW4gYSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSx0KSYmKGVbdF09YVt0XSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gcChlLHIpe3ZhciBhPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciB0PU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7ciYmKHQ9dC5maWx0ZXIoKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUscikuZW51bWVyYWJsZX0pKSksYS5wdXNoLmFwcGx5KGEsdCl9cmV0dXJuIGF9ZnVuY3Rpb24gYyhlLHIsYSl7cmV0dXJuIHIgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLHt2YWx1ZTphLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVtyXT1hLGV9ZnVuY3Rpb24gdShlKXtyZXR1cm4odT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfXZhciBsPSJwdWJtYXRpYyIsbT0iUHViTWF0aWM6ICIsZz0iVVNEIixiPXZvaWQgMCxoPSJodHRwczovL3B1Ym1hdGljLmJidm1zLmNvbS9yLyIuY29uY2F0KCIkUkVOREVSRVIiLCIuanMiKSxmPXtrYWRwYWdldXJsOiIiLGdlbmRlcjoiIix5b2I6IiIsbGF0OiIiLGxvbjoiIix3aWlkOiIiLHByb2ZJZDoiIix2ZXJJZDoiIn0seT0ibnVtYmVyIix2PSJzdHJpbmciLEU9ImJvb2xlYW4iLEk9ImFycmF5Iix3PXttaW1lczpJLG1pbmR1cmF0aW9uOnksbWF4ZHVyYXRpb246eSxzdGFydGRlbGF5OnkscGxheWJhY2ttZXRob2Q6SSxhcGk6SSxwcm90b2NvbHM6SSx3OnksaDp5LGJhdHRyOkksbGluZWFyaXR5OnkscGxhY2VtZW50OnksbWluYml0cmF0ZTp5LG1heGJpdHJhdGU6eSxza2lwOnl9LFA9e1RJVExFOntJRDoxLEtFWToidGl0bGUiLFRZUEU6MH0sSU1BR0U6e0lEOjIsS0VZOiJpbWFnZSIsVFlQRTowfSxJQ09OOntJRDozLEtFWToiaWNvbiIsVFlQRTowfSxTUE9OU09SRURCWTp7SUQ6NCxLRVk6InNwb25zb3JlZEJ5IixUWVBFOjF9LEJPRFk6e0lEOjUsS0VZOiJib2R5IixUWVBFOjJ9LENMSUNLVVJMOntJRDo2LEtFWToiY2xpY2tVcmwiLFRZUEU6MH0sVklERU86e0lEOjcsS0VZOiJ2aWRlbyIsVFlQRTowfSxFWFQ6e0lEOjgsS0VZOiJleHQiLFRZUEU6MH0sREFUQTp7SUQ6OSxLRVk6ImRhdGEiLFRZUEU6MH0sTE9HTzp7SUQ6MTAsS0VZOiJsb2dvIixUWVBFOjB9LFNQT05TT1JFRDp7SUQ6MTEsS0VZOiJzcG9uc29yZWQiLFRZUEU6MX0sREVTQzp7SUQ6MTIsS0VZOiJkYXRhIixUWVBFOjJ9LFJBVElORzp7SUQ6MTMsS0VZOiJyYXRpbmciLFRZUEU6M30sTElLRVM6e0lEOjE0LEtFWToibGlrZXMiLFRZUEU6NH0sRE9XTkxPQURTOntJRDoxNSxLRVk6ImRvd25sb2FkcyIsVFlQRTo1fSxQUklDRTp7SUQ6MTYsS0VZOiJwcmljZSIsVFlQRTo2fSxTQUxFUFJJQ0U6e0lEOjE3LEtFWToic2FsZXByaWNlIixUWVBFOjd9LFBIT05FOntJRDoxOCxLRVk6InBob25lIixUWVBFOjh9LEFERFJFU1M6e0lEOjE5LEtFWToiYWRkcmVzcyIsVFlQRTo5fSxERVNDMjp7SUQ6MjAsS0VZOiJkZXNjMiIsVFlQRToxMH0sRElTUExBWVVSTDp7SUQ6MjEsS0VZOiJkaXNwbGF5dXJsIixUWVBFOjExfSxDVEE6e0lEOjIyLEtFWToiY3RhIixUWVBFOjEyfX0sTz0xLFQ9MixTPTMsRD1be2lkOlAuU1BPTlNPUkVEQlkuSUQscmVxdWlyZWQ6ITAsZGF0YTp7dHlwZToxfX0se2lkOlAuVElUTEUuSUQscmVxdWlyZWQ6ITB9LHtpZDpQLklNQUdFLklELHJlcXVpcmVkOiEwfV0sWT17MToiUE1QIiw1OiJQUkVGIiw2OiJQTVBHIn0seD0xLFI9MixrPXtib290c3RyYXBQbGF5ZXI6ZnVuY3Rpb24oZSl7dmFyIHI9e2NvZGU6ZS5hZFVuaXRDb2RlfTtpZihlLnZhc3RYbWw/ci52YXN0WG1sPWUudmFzdFhtbDplLnZhc3RVcmwmJihyLnZhc3RVcmw9ZS52YXN0VXJsKSxlLnZhc3RYbWx8fGUudmFzdFVybCl7Zm9yKHZhciBhLGk9ay5nZXRSZW5kZXJlcklkKCJwdWJtYXRpYyIsZS5yZW5kZXJlckNvZGUpLG49ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZS5hZFVuaXRDb2RlKSxzPTA7czx3aW5kb3cuYmx1ZWJpbGx5d2lnLnJlbmRlcmVycy5sZW5ndGg7cysrKWlmKHdpbmRvdy5ibHVlYmlsbHl3aWcucmVuZGVyZXJzW3NdLl9pZD09PWkpe2E9d2luZG93LmJsdWViaWxseXdpZy5yZW5kZXJlcnNbc107YnJlYWt9YT9hLmJvb3RzdHJhcChyLG4pOnQubG9nV2FybigiIi5jb25jYXQobSwiOiBDb3VsZG4ndCBmaW5kIGEgcmVuZGVyZXIgd2l0aCAiKS5jb25jYXQoaSkpfWVsc2UgdC5sb2dXYXJuKCIiLmNvbmNhdChtLCI6IE5vIHZhc3RYbWwgb3IgdmFzdFVybCBvbiBiaWQsIGJhaWxpbmcuLi4iKSl9LG5ld1JlbmRlcmVyOmZ1bmN0aW9uKGUscil7dmFyIGE9aC5yZXBsYWNlKCIkUkVOREVSRVIiLGUpLGk9by5hLmluc3RhbGwoe3VybDphLGxvYWRlZDohMSxhZFVuaXRDb2RlOnJ9KTt0cnl7aS5zZXRSZW5kZXIoay5vdXRzdHJlYW1SZW5kZXIpfWNhdGNoKGUpe3QubG9nV2FybigiIi5jb25jYXQobSwiOiBFcnJvciB0eWluZyB0byBzZXRSZW5kZXIgb24gcmVuZGVyZXIiKSxlKX1yZXR1cm4gaX0sb3V0c3RyZWFtUmVuZGVyOmZ1bmN0aW9uKGUpe2UucmVuZGVyZXIucHVzaCgoZnVuY3Rpb24oKXtrLmJvb3RzdHJhcFBsYXllcihlKX0pKX0sZ2V0UmVuZGVyZXJJZDpmdW5jdGlvbihlLHIpe3JldHVybiIiLmNvbmNhdChlLCItIikuY29uY2F0KHIpfX0sQT1bbi5iLG4uZCxuLmNdLEM9MCx6PSExLEs9e30sTj17fTtmdW5jdGlvbiBVKGUscil7aWYoIXQuaXNTdHIocikpcmV0dXJuIHImJnQubG9nV2FybigiUHViTWF0aWM6IElnbm9yaW5nIHBhcmFtIGtleTogIitlKyIsIGV4cGVjdHMgc3RyaW5nLXZhbHVlLCBmb3VuZCAiK3UocikpLGI7c3dpdGNoKGUpe2Nhc2UicG16b25laWQiOnJldHVybiByLnNwbGl0KCIsIikuc2xpY2UoMCw1MCkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmltKCl9KSkuam9pbigpO2Nhc2Uia2FkZmxvb3IiOmNhc2UibGF0IjpjYXNlImxvbiI6cmV0dXJuIHBhcnNlRmxvYXQocil8fGI7Y2FzZSJ5b2IiOnJldHVybiBwYXJzZUludChyKXx8YjtkZWZhdWx0OnJldHVybiByfX1mdW5jdGlvbiBxKGUpe3ZhciByO2UucGFyYW1zLmFkVW5pdD0iIixlLnBhcmFtcy5hZFVuaXRJbmRleD0iMCIsZS5wYXJhbXMud2lkdGg9MCxlLnBhcmFtcy5oZWlnaHQ9MCxlLnBhcmFtcy5hZFNsb3Q9KHI9ZS5wYXJhbXMuYWRTbG90LHQuaXNTdHIocik/ci5yZXBsYWNlKC9eXHMrL2csIiIpLnJlcGxhY2UoL1xzKyQvZywiIik6KHImJnQubG9nV2FybigicHVibWF0aWM6IGFkU2xvdCBtdXN0IGJlIGEgc3RyaW5nLiBJZ25vcmluZyBhZFNsb3QiKSwiIikpO3ZhciBhPWUucGFyYW1zLmFkU2xvdCxpPWEuc3BsaXQoIjoiKTtpZihhPWlbMF0sMj09aS5sZW5ndGgmJihlLnBhcmFtcy5hZFVuaXRJbmRleD1pWzFdKSxpPWEuc3BsaXQoIkAiKSxlLnBhcmFtcy5hZFVuaXQ9aVswXSxpLmxlbmd0aD4xKXtpZigyIT0oaT1pWzFdLnNwbGl0KCJ4IikpLmxlbmd0aClyZXR1cm4gdm9pZCB0LmxvZ1dhcm4oIlB1Yk1hdGljOiBBZFNsb3QgRXJyb3I6IGFkU2xvdCBub3QgaW4gcmVxdWlyZWQgZm9ybWF0Iik7ZS5wYXJhbXMud2lkdGg9cGFyc2VJbnQoaVswXSwxMCksZS5wYXJhbXMuaGVpZ2h0PXBhcnNlSW50KGlbMV0sMTApfWVsc2UgaWYoZS5oYXNPd25Qcm9wZXJ0eSgibWVkaWFUeXBlcyIpJiZlLm1lZGlhVHlwZXMuaGFzT3duUHJvcGVydHkobi5iKSYmZS5tZWRpYVR5cGVzLmJhbm5lci5oYXNPd25Qcm9wZXJ0eSgic2l6ZXMiKSl7Zm9yKHZhciBzPTAsbz1bXTtzPGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMubGVuZ3RoO3MrKykyPT09ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc1tzXS5sZW5ndGgmJm8ucHVzaChlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzW3NdKTtlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzPW8sZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcy5sZW5ndGg+PTEmJihlLnBhcmFtcy53aWR0aD1lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzWzBdWzBdLGUucGFyYW1zLmhlaWdodD1lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzWzBdWzFdLGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM9ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcy5zcGxpY2UoMSxlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzLmxlbmd0aC0xKSl9fWZ1bmN0aW9uIE0oZSxyLGEpe3ZhciBpLG49Iklnbm9yaW5nIHBhcmFtIGtleTogIitlKyIsIGV4cGVjdHMgIithKyIsIGZvdW5kICIrdShyKTtzd2l0Y2goYSl7Y2FzZSBFOmk9dC5pc0Jvb2xlYW47YnJlYWs7Y2FzZSB5Omk9dC5pc051bWJlcjticmVhaztjYXNlIHY6aT10LmlzU3RyO2JyZWFrO2Nhc2UgSTppPXQuaXNBcnJheX1yZXR1cm4gaShyKT9yOih0LmxvZ1dhcm4obStuKSxiKX1mdW5jdGlvbiBqKGUscil7dmFyIGE9ZS5LRVk7cmV0dXJue2lkOmUuSUQscmVxdWlyZWQ6clthXS5yZXF1aXJlZD8xOjAsZGF0YTp7dHlwZTplLlRZUEUsbGVuOnJbYV0ubGVuLGV4dDpyW2FdLmV4dH19fWZ1bmN0aW9uIEwoZSl7dmFyIHI9e2Fzc2V0czpbXX07Zm9yKHZhciBhIGluIGUpe2lmKGUuaGFzT3duUHJvcGVydHkoYSkpe3ZhciBpPXt9O2lmKCEoci5hc3NldHMmJnIuYXNzZXRzLmxlbmd0aD4wJiZyLmFzc2V0cy5oYXNPd25Qcm9wZXJ0eShhKSkpc3dpdGNoKGEpe2Nhc2UgUC5USVRMRS5LRVk6ZVthXS5sZW58fGVbYV0ubGVuZ3RoP2k9e2lkOlAuVElUTEUuSUQscmVxdWlyZWQ6ZVthXS5yZXF1aXJlZD8xOjAsdGl0bGU6e2xlbjplW2FdLmxlbnx8ZVthXS5sZW5ndGgsZXh0OmVbYV0uZXh0fX06dC5sb2dXYXJuKCJQdWJNYXRpYzogRXJyb3I6IFRpdGxlIExlbmd0aCBpcyByZXF1aXJlZCBmb3IgbmF0aXZlIGFkOiAiK0pTT04uc3RyaW5naWZ5KGUpKTticmVhaztjYXNlIFAuSU1BR0UuS0VZOmVbYV0uc2l6ZXMmJmVbYV0uc2l6ZXMubGVuZ3RoPjA/aT17aWQ6UC5JTUFHRS5JRCxyZXF1aXJlZDplW2FdLnJlcXVpcmVkPzE6MCxpbWc6e3R5cGU6Uyx3OmVbYV0ud3x8ZVthXS53aWR0aHx8KGVbYV0uc2l6ZXM/ZVthXS5zaXplc1swXTpiKSxoOmVbYV0uaHx8ZVthXS5oZWlnaHR8fChlW2FdLnNpemVzP2VbYV0uc2l6ZXNbMV06Yiksd21pbjplW2FdLndtaW58fGVbYV0ubWluaW11bVdpZHRofHwoZVthXS5taW5zaXplcz9lW2FdLm1pbnNpemVzWzBdOmIpLGhtaW46ZVthXS5obWlufHxlW2FdLm1pbmltdW1IZWlnaHR8fChlW2FdLm1pbnNpemVzP2VbYV0ubWluc2l6ZXNbMV06YiksbWltZXM6ZVthXS5taW1lcyxleHQ6ZVthXS5leHR9fTp0LmxvZ1dhcm4oIlB1Yk1hdGljOiBFcnJvcjogSW1hZ2Ugc2l6ZXMgaXMgcmVxdWlyZWQgZm9yIG5hdGl2ZSBhZDogIitKU09OLnN0cmluZ2lmeShlKSk7YnJlYWs7Y2FzZSBQLklDT04uS0VZOmVbYV0uc2l6ZXMmJmVbYV0uc2l6ZXMubGVuZ3RoPjA/aT17aWQ6UC5JQ09OLklELHJlcXVpcmVkOmVbYV0ucmVxdWlyZWQ/MTowLGltZzp7dHlwZTpPLHc6ZVthXS53fHxlW2FdLndpZHRofHwoZVthXS5zaXplcz9lW2FdLnNpemVzWzBdOmIpLGg6ZVthXS5ofHxlW2FdLmhlaWdodHx8KGVbYV0uc2l6ZXM/ZVthXS5zaXplc1sxXTpiKX19OnQubG9nV2FybigiUHViTWF0aWM6IEVycm9yOiBJY29uIHNpemVzIGlzIHJlcXVpcmVkIGZvciBuYXRpdmUgYWQ6ICIrSlNPTi5zdHJpbmdpZnkoZSkpO2JyZWFrO2Nhc2UgUC5WSURFTy5LRVk6aT17aWQ6UC5WSURFTy5JRCxyZXF1aXJlZDplW2FdLnJlcXVpcmVkPzE6MCx2aWRlbzp7bWluZHVyYXRpb246ZVthXS5taW5kdXJhdGlvbixtYXhkdXJhdGlvbjplW2FdLm1heGR1cmF0aW9uLHByb3RvY29sczplW2FdLnByb3RvY29scyxtaW1lczplW2FdLm1pbWVzLGV4dDplW2FdLmV4dH19O2JyZWFrO2Nhc2UgUC5FWFQuS0VZOmk9e2lkOlAuRVhULklELHJlcXVpcmVkOmVbYV0ucmVxdWlyZWQ/MTowfTticmVhaztjYXNlIFAuTE9HTy5LRVk6aT17aWQ6UC5MT0dPLklELHJlcXVpcmVkOmVbYV0ucmVxdWlyZWQ/MTowLGltZzp7dHlwZTpULHc6ZVthXS53fHxlW2FdLndpZHRofHwoZVthXS5zaXplcz9lW2FdLnNpemVzWzBdOmIpLGg6ZVthXS5ofHxlW2FdLmhlaWdodHx8KGVbYV0uc2l6ZXM/ZVthXS5zaXplc1sxXTpiKX19O2JyZWFrO2Nhc2UgUC5TUE9OU09SRURCWS5LRVk6Y2FzZSBQLkJPRFkuS0VZOmNhc2UgUC5SQVRJTkcuS0VZOmNhc2UgUC5MSUtFUy5LRVk6Y2FzZSBQLkRPV05MT0FEUy5LRVk6Y2FzZSBQLlBSSUNFLktFWTpjYXNlIFAuU0FMRVBSSUNFLktFWTpjYXNlIFAuUEhPTkUuS0VZOmNhc2UgUC5BRERSRVNTLktFWTpjYXNlIFAuREVTQzIuS0VZOmNhc2UgUC5ESVNQTEFZVVJMLktFWTpjYXNlIFAuQ1RBLktFWTppPWooTlthXSxlKX19aSYmaS5pZCYmKHIuYXNzZXRzW3IuYXNzZXRzLmxlbmd0aF09aSl9dmFyIG49RC5sZW5ndGgscz0wO3JldHVybiBELmZvckVhY2goKGZ1bmN0aW9uKGUpe2Zvcih2YXIgYT1yLmFzc2V0cy5sZW5ndGgsdD0wO3Q8YTt0KyspaWYoZS5pZD09ci5hc3NldHNbdF0uaWQpe3MrKzticmVha319KSksej1uIT1zLHJ9ZnVuY3Rpb24gVyhlKXt2YXIgcixhPWUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMsaT1bXTtpZihhIT09YiYmdC5pc0FycmF5KGEpKXtpZihyPXt9LGUucGFyYW1zLndpZHRofHxlLnBhcmFtcy5oZWlnaHQpci53PWUucGFyYW1zLndpZHRoLHIuaD1lLnBhcmFtcy5oZWlnaHQ7ZWxzZXtpZigwPT09YS5sZW5ndGgpcmV0dXJuIHI9Yix0LmxvZ1dhcm4oIlB1Yk1hdGljOiBFcnJvcjogbWVkaWFUeXBlcy5iYW5uZXIuc2l6ZSBtaXNzaW5nIGZvciBhZHVuaXQ6ICIrZS5wYXJhbXMuYWRVbml0KyIuIElnbm9yaW5nIHRoZSBiYW5uZXIgaW1wcmVzc2lvbiBpbiB0aGUgYWR1bml0LiIpLHI7ci53PXBhcnNlSW50KGFbMF1bMF0sMTApLHIuaD1wYXJzZUludChhWzBdWzFdLDEwKSxhPWEuc3BsaWNlKDEsYS5sZW5ndGgtMSl9YS5sZW5ndGg+MCYmKGk9W10sYS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmxlbmd0aD4xJiZpLnB1c2goe3c6ZVswXSxoOmVbMV19KX0pKSxpLmxlbmd0aD4wJiYoci5mb3JtYXQ9aSkpLHIucG9zPTAsci50b3BmcmFtZT10LmluSWZyYW1lKCk/MDoxfWVsc2UgdC5sb2dXYXJuKCJQdWJNYXRpYzogRXJyb3I6IG1lZGlhVHlwZXMuYmFubmVyLnNpemUgbWlzc2luZyBmb3IgYWR1bml0OiAiK2UucGFyYW1zLmFkVW5pdCsiLiBJZ25vcmluZyB0aGUgYmFubmVyIGltcHJlc3Npb24gaW4gdGhlIGFkdW5pdC4iKSxyPWI7cmV0dXJuIHJ9ZnVuY3Rpb24gXyhlKXt2YXIgcixhPXQubWVyZ2VEZWVwKHQuZGVlcEFjY2VzcyhlLm1lZGlhVHlwZXMsInZpZGVvIiksZS5wYXJhbXMudmlkZW8pO2lmKGEhPT1iKXtmb3IodmFyIGkgaW4gcj17fSx3KWEuaGFzT3duUHJvcGVydHkoaSkmJihyW2ldPU0oaSxhW2ldLHdbaV0pKTt0LmlzQXJyYXkoZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF0pPyhyLnc9cGFyc2VJbnQoZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF1bMF0sMTApLHIuaD1wYXJzZUludChlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXVsxXSwxMCkpOnQuaXNOdW1iZXIoZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF0pJiYoci53PXBhcnNlSW50KGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdLDEwKSxyLmg9cGFyc2VJbnQoZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMV0sMTApKX1lbHNlIHI9Yix0LmxvZ1dhcm4oIlB1Yk1hdGljOiBFcnJvcjogVmlkZW8gY29uZmlnIHBhcmFtcyBtaXNzaW5nIGZvciBhZHVuaXQ6ICIrZS5wYXJhbXMuYWRVbml0KyIgd2l0aCBtZWRpYVR5cGUgc2V0IGFzIHZpZGVvLiBJZ25vcmluZyB2aWRlbyBpbXByZXNzaW9uIGluIHRoZSBhZHVuaXQuIik7cmV0dXJuIHJ9ZnVuY3Rpb24gQihlLHIpe3ZhciBhLGksbz17fSxkPXt9LGw9ZS5oYXNPd25Qcm9wZXJ0eSgic2l6ZXMiKT9lLnNpemVzOltdLG09IiIsaD1bXTtpZihmdW5jdGlvbihlLHIpe3IucGFyYW1zLmRlYWxzJiYodC5pc0FycmF5KHIucGFyYW1zLmRlYWxzKT9yLnBhcmFtcy5kZWFscy5mb3JFYWNoKChmdW5jdGlvbihyKXt0LmlzU3RyKHIpJiZyLmxlbmd0aD4zPyhlLnBtcHx8KGUucG1wPXtwcml2YXRlX2F1Y3Rpb246MCxkZWFsczpbXX0pLGUucG1wLmRlYWxzLnB1c2goe2lkOnJ9KSk6dC5sb2dXYXJuKCJQdWJNYXRpYzogRXJyb3I6IGRlYWwtaWQgcHJlc2VudCBpbiBhcnJheSBiaWQucGFyYW1zLmRlYWxzIHNob3VsZCBiZSBhIHN0cmluZ3Mgd2l0aCBtb3JlIHRoYW4gMyBjaGFyYXRlcnMgbGVuZ3RoLCBkZWFsLWlkIGlnbm9yZWQ6ICIrcil9KSk6dC5sb2dXYXJuKCJQdWJNYXRpYzogRXJyb3I6IGJpZC5wYXJhbXMuZGVhbHMgc2hvdWxkIGJlIGFuIGFycmF5IG9mIHN0cmluZ3MuIikpfShvPXtpZDplLmJpZElkLHRhZ2lkOmUucGFyYW1zLmFkVW5pdHx8dm9pZCAwLGJpZGZsb29yOlUoImthZGZsb29yIixlLnBhcmFtcy5rYWRmbG9vciksc2VjdXJlOjEsZXh0OntwbVpvbmVJZDpVKCJwbXpvbmVpZCIsZS5wYXJhbXMucG16b25laWQpfSxiaWRmbG9vcmN1cjplLnBhcmFtcy5jdXJyZW5jeT9VKCJjdXJyZW5jeSIsZS5wYXJhbXMuY3VycmVuY3kpOmd9LGUpLGZ1bmN0aW9uKGUscil7dmFyIGEsaT0iIjtpZihyLnBhcmFtcy5kY3RyKWlmKGk9ci5wYXJhbXMuZGN0cix0LmlzU3RyKGkpJiZpLmxlbmd0aD4wKXt2YXIgbj1pLnNwbGl0KCJ8Iik7aT0iIixuLmZvckVhY2goKGZ1bmN0aW9uKGUpe2krPWUubGVuZ3RoPjA/ZS50cmltKCkrInwiOiIifSkpLGE9aS5sZW5ndGgsInwiPT09aS5zdWJzdHJpbmcoYSxhLTEpJiYoaT1pLnN1YnN0cmluZygwLGEtMSkpLGUuZXh0LmtleV92YWw9aS50cmltKCl9ZWxzZSB0LmxvZ1dhcm4oIlB1Yk1hdGljOiBJZ25vcmluZyBwYXJhbSA6IGRjdHIgd2l0aCB2YWx1ZSA6ICIraSsiLCBleHBlY3RzIHN0cmluZy12YWx1ZSwgZm91bmQgZW1wdHkgb3Igbm9uLXN0cmluZyB2YWx1ZSIpfShvLGUpLGUuaGFzT3duUHJvcGVydHkoIm1lZGlhVHlwZXMiKSlmb3IobSBpbiBlLm1lZGlhVHlwZXMpc3dpdGNoKG0pe2Nhc2Ugbi5iOihhPVcoZSkpIT09YiYmKG8uYmFubmVyPWEpO2JyZWFrO2Nhc2Ugbi5jOmQucmVxdWVzdD1KU09OLnN0cmluZ2lmeShMKGUubmF0aXZlUGFyYW1zKSksej90LmxvZ1dhcm4oIlB1Yk1hdGljOiBFcnJvcjogRXJyb3IgaW4gTmF0aXZlIGFkdW5pdCAiK2UucGFyYW1zLmFkVW5pdCsiLiBJZ25vcmluZyB0aGUgYWR1bml0LiBSZWZlciB0byBodHRwOi8vcHJlYmlkLm9yZy9kZXYtZG9jcy9zaG93LW5hdGl2ZS1hZHMuaHRtbCBmb3IgbW9yZSBkZXRhaWxzLiIpOm8ubmF0aXZlPWQ7YnJlYWs7Y2FzZSBuLmQ6KGk9XyhlKSkhPT1iJiYoby52aWRlbz1pKX1lbHNlIGE9e3BvczowLHc6ZS5wYXJhbXMud2lkdGgsaDplLnBhcmFtcy5oZWlnaHQsdG9wZnJhbWU6dC5pbklmcmFtZSgpPzA6MX0sdC5pc0FycmF5KGwpJiZsLmxlbmd0aD4xJiYoKGw9bC5zcGxpY2UoMSxsLmxlbmd0aC0xKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aC5wdXNoKHt3OmVbMF0saDplWzFdfSl9KSksYS5mb3JtYXQ9aCksby5iYW5uZXI9YTtyZXR1cm4gZnVuY3Rpb24oZSxyKXt2YXIgYT1mdW5jdGlvbihlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgYT1udWxsIT1hcmd1bWVudHNbcl0/YXJndW1lbnRzW3JdOnt9O3IlMj9wKE9iamVjdChhKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24ocil7YyhlLHIsYVtyXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhhKSk6cChPYmplY3QoYSkpLmZvckVhY2goKGZ1bmN0aW9uKHIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLHIpKX0pKX1yZXR1cm4gZX0oe30sdC5kZWVwQWNjZXNzKHIsIm9ydGIySW1wLmV4dC5kYXRhIikpO09iamVjdC5rZXlzKGEpLmZvckVhY2goKGZ1bmN0aW9uKHIpeyJwYmFkc2xvdCI9PT1yPyJzdHJpbmciPT10eXBlb2YgYVtyXSYmYVtyXSYmdC5kZWVwU2V0VmFsdWUoZSwiZXh0LmRhdGEucGJhZHNsb3QiLGFbcl0pOiJhZHNlcnZlciI9PT1yP1sibmFtZSIsImFkc2xvdCJdLmZvckVhY2goKGZ1bmN0aW9uKHIpe3ZhciBpPXQuZGVlcEFjY2VzcyhhLCJhZHNlcnZlci4iLmNvbmNhdChyKSk7InN0cmluZyI9PXR5cGVvZiBpJiZpJiYodC5kZWVwU2V0VmFsdWUoZSwiZXh0LmRhdGEuYWRzZXJ2ZXIuIi5jb25jYXQoci50b0xvd2VyQ2FzZSgpKSxpKSwiYWRzbG90Ij09PXImJnQuZGVlcFNldFZhbHVlKGUsImV4dC5kZnBfYWRfdW5pdF9jb2RlIixpKSl9KSk6dC5kZWVwU2V0VmFsdWUoZSwiZXh0LmRhdGEuIi5jb25jYXQociksYVtyXSl9KSl9KG8sZSksZnVuY3Rpb24oZSxyKXt2YXIgYT0tMTsiZnVuY3Rpb24iIT10eXBlb2Ygci5nZXRGbG9vcnx8cy5iLmdldENvbmZpZygicHVibWF0aWMuZGlzYWJsZUZsb29ycyIpfHxbbi5iLG4uZCxuLmNdLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKGUuaGFzT3duUHJvcGVydHkodCkpe3ZhciBpPXIuZ2V0Rmxvb3Ioe2N1cnJlbmN5OmUuYmlkZmxvb3JjdXIsbWVkaWFUeXBlOnQsc2l6ZToiKiJ9KTtpZigib2JqZWN0Ij09PXUoaSkmJmkuY3VycmVuY3k9PT1lLmJpZGZsb29yY3VyJiYhaXNOYU4ocGFyc2VJbnQoaS5mbG9vcikpKXt2YXIgbj1wYXJzZUZsb2F0KGkuZmxvb3IpO2E9LTE9PWE/bjpNYXRoLm1pbihuLGEpfX19KSk7ZS5iaWRmbG9vciYmKGE9TWF0aC5tYXgoYSxlLmJpZGZsb29yKSk7ZS5iaWRmbG9vcj0haXNOYU4oYSkmJmE+MD9hOmJ9KG8sZSksby5oYXNPd25Qcm9wZXJ0eShuLmIpfHxvLmhhc093blByb3BlcnR5KG4uYyl8fG8uaGFzT3duUHJvcGVydHkobi5kKT9vOmJ9ZnVuY3Rpb24gVihlLHIpe3ZhciBhPW51bGwsaT10LmRlZXBBY2Nlc3MoZSwiMC51c2VySWQuZmxvY0lkIik7aWYoaSYmaS5pZClzd2l0Y2gocil7Y2FzZSBSOmE9e2lkOiJGTE9DIixuYW1lOiJGTE9DIixleHQ6e3ZlcjppLnZlcnNpb259LHNlZ21lbnQ6W3tpZDppLmlkLG5hbWU6ImNocm9tZS5jb20iLHZhbHVlOmkuaWQudG9TdHJpbmcoKX1dfTticmVhaztjYXNlIHg6ZGVmYXVsdDphPXtzb3VyY2U6ImNocm9tZS5jb20iLHVpZHM6W3thdHlwZToxLGlkOmkuaWQsZXh0Ont2ZXI6aS52ZXJzaW9ufX1dfX1yZXR1cm4gYX1mdW5jdGlvbiBHKGUpe3JldHVybiEwPT09dC5pc0FycmF5KGUpJiZlLmxlbmd0aD4wfXQuX2VhY2goUCwoZnVuY3Rpb24oZSl7S1tlLklEXT1lLktFWX0pKSx0Ll9lYWNoKFAsKGZ1bmN0aW9uKGUpe05bZS5LRVldPWV9KSk7dmFyIEY9e2NvZGU6bCxndmxpZDo3NixzdXBwb3J0ZWRNZWRpYVR5cGVzOltuLmIsbi5kLG4uY10saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7aWYoZSYmZS5wYXJhbXMpe2lmKCF0LmlzU3RyKGUucGFyYW1zLnB1Ymxpc2hlcklkKSlyZXR1cm4gdC5sb2dXYXJuKCJQdWJNYXRpYzogRXJyb3I6IHB1Ymxpc2hlcklkIGlzIG1hbmRhdG9yeSBhbmQgY2Fubm90IGJlIG51bWVyaWMgKHdyYXAgaXQgaW4gcXVvdGVzIGluIHlvdXIgY29uZmlnKS4gQ2FsbCB0byBPcGVuQmlkIHdpbGwgbm90IGJlIHNlbnQgZm9yIGFkIHVuaXQ6ICIrSlNPTi5zdHJpbmdpZnkoZSkpLCExO2lmKGUuaGFzT3duUHJvcGVydHkoIm1lZGlhVHlwZXMiKSYmZS5tZWRpYVR5cGVzLmhhc093blByb3BlcnR5KG4uZCkpe3ZhciByPXQuZGVlcEFjY2VzcyhlLm1lZGlhVHlwZXMsInZpZGVvLm1pbWVzIiksYT10LmRlZXBBY2Nlc3MoZSwicGFyYW1zLnZpZGVvLm1pbWVzIik7aWYoITE9PT1HKHIpJiYhMT09PUcoYSkpcmV0dXJuIHQubG9nV2FybigiUHViTWF0aWM6IEVycm9yOiBGb3IgdmlkZW8gYWRzLCBiaWQubWVkaWFUeXBlcy52aWRlby5taW1lcyBPUiBiaWQucGFyYW1zLnZpZGVvLm1pbWVzIHNob3VsZCBiZSBwcmVzZW50IGFuZCBtdXN0IGJlIGEgbm9uLWVtcHR5IGFycmF5LiBDYWxsIHRvIE9wZW5CaWQgd2lsbCBub3QgYmUgc2VudCBmb3IgYWQgdW5pdDoiK0pTT04uc3RyaW5naWZ5KGUpKSwhMTtpZighZS5tZWRpYVR5cGVzW24uZF0uaGFzT3duUHJvcGVydHkoImNvbnRleHQiKSlyZXR1cm4gdC5sb2dFcnJvcigiIi5jb25jYXQobSwiOiBubyBjb250ZXh0IHNwZWNpZmllZCBpbiBiaWQuIFJlamVjdGluZyBiaWQ6ICIpLGUpLCExO2lmKCJvdXRzdHJlYW0iPT09ZS5tZWRpYVR5cGVzW24uZF0uY29udGV4dCYmIXQuaXNTdHIoZS5wYXJhbXMub3V0c3RyZWFtQVUpJiYhZS5oYXNPd25Qcm9wZXJ0eSgicmVuZGVyZXIiKSYmIWUubWVkaWFUeXBlc1tuLmRdLmhhc093blByb3BlcnR5KCJyZW5kZXJlciIpKXJldHVybiBlLm1lZGlhVHlwZXMuaGFzT3duUHJvcGVydHkobi5iKXx8ZS5tZWRpYVR5cGVzLmhhc093blByb3BlcnR5KG4uYyk/KGRlbGV0ZSBlLm1lZGlhVHlwZXNbbi5kXSx0LmxvZ1dhcm4oIiIuY29uY2F0KG0sJzogZm9yICJvdXRzdHJlYW0iIGJpZHMgZWl0aGVyIG91dHN0cmVhbUFVIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkIG9yIGFkIHVuaXQgc3VwcGxpZWQgcmVuZGVyZXIgaXMgcmVxdWlyZWQuIFJlamVjdGluZyBtZWRpYXR5cGUgVmlkZW8gb2YgYmlkOiAnKSxlKSwhMCk6KHQubG9nRXJyb3IoIiIuY29uY2F0KG0sJzogZm9yICJvdXRzdHJlYW0iIGJpZHMgZWl0aGVyIG91dHN0cmVhbUFVIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkIG9yIGFkIHVuaXQgc3VwcGxpZWQgcmVuZGVyZXIgaXMgcmVxdWlyZWQuIFJlamVjdGluZyBiaWQ6ICcpLGUpLCExKX1yZXR1cm4hMH1yZXR1cm4hMX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciBhO3ImJnIucmVmZXJlckluZm8mJihhPXIucmVmZXJlckluZm8pO3ZhciBpLG89ZnVuY3Rpb24oZSl7cmV0dXJue3BhZ2VVUkw6ZSYmZS5yZWZlcmVyP2UucmVmZXJlcjp3aW5kb3cubG9jYXRpb24uaHJlZixyZWZVUkw6d2luZG93LmRvY3VtZW50LnJlZmVycmVyfX0oYSkscD1mdW5jdGlvbihlKXtyZXR1cm57aWQ6IiIrKG5ldyBEYXRlKS5nZXRUaW1lKCksYXQ6MSxjdXI6W2ddLGltcDpbXSxzaXRlOntwYWdlOmUucGFnZVVSTCxyZWY6ZS5yZWZVUkwscHVibGlzaGVyOnt9fSxkZXZpY2U6e3VhOm5hdmlnYXRvci51c2VyQWdlbnQsanM6MSxkbnQ6InllcyI9PW5hdmlnYXRvci5kb05vdFRyYWNrfHwiMSI9PW5hdmlnYXRvci5kb05vdFRyYWNrfHwiMSI9PW5hdmlnYXRvci5tc0RvTm90VHJhY2s/MTowLGg6c2NyZWVuLmhlaWdodCx3OnNjcmVlbi53aWR0aCxsYW5ndWFnZTpuYXZpZ2F0b3IubGFuZ3VhZ2V9LHVzZXI6e30sZXh0Ont9fX0obyksYz0iIixsPVtdLG09W107aWYoZS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZigoaT10LmRlZXBDbG9uZShlKSkucGFyYW1zLmFkU2xvdD1pLnBhcmFtcy5hZFNsb3R8fCIiLHEoaSksaS5wYXJhbXMuaGFzT3duUHJvcGVydHkoInZpZGVvIikpO2Vsc2UgaWYoIShpLmhhc093blByb3BlcnR5KCJtZWRpYVR5cGVzIikmJmkubWVkaWFUeXBlcy5oYXNPd25Qcm9wZXJ0eShuLmMpfHwwIT09aS5wYXJhbXMud2lkdGh8fDAhPT1pLnBhcmFtcy5oZWlnaHQpKXJldHVybiB2b2lkIHQubG9nV2FybigiUHViTWF0aWM6IFNraXBwaW5nIHRoZSBub24tc3RhbmRhcmQgYWRzbG90OiAiLGkucGFyYW1zLmFkU2xvdCxKU09OLnN0cmluZ2lmeShpKSk7by5wdWJJZD1vLnB1YklkfHxpLnBhcmFtcy5wdWJsaXNoZXJJZCwobz1mdW5jdGlvbihlLHIpe3ZhciBhLGksbjtmb3IoYSBpbiByLmthZHBhZ2V1cmx8fChyLmthZHBhZ2V1cmw9ci5wYWdlVVJMKSxmKWYuaGFzT3duUHJvcGVydHkoYSkmJihpPWVbYV0pJiYoIm9iamVjdCI9PT11KG49ZlthXSkmJihpPW4uZihpLHIpKSx0LmlzU3RyKGkpP3JbYV09aTp0LmxvZ1dhcm4oIlB1Yk1hdGljOiBJZ25vcmluZyBwYXJhbSA6ICIrYSsiIHdpdGggdmFsdWUgOiAiK2ZbYV0rIiwgZXhwZWN0cyBzdHJpbmctdmFsdWUsIGZvdW5kICIrdShpKSkpO3JldHVybiByfShpLnBhcmFtcyxvKSkudHJhbnNhY3Rpb25JZD1pLnRyYW5zYWN0aW9uSWQsIiI9PT1jP2M9aS5wYXJhbXMuY3VycmVuY3l8fGI6aS5wYXJhbXMuaGFzT3duUHJvcGVydHkoImN1cnJlbmN5IikmJmMhPT1pLnBhcmFtcy5jdXJyZW5jeSYmdC5sb2dXYXJuKCJQdWJNYXRpYzogQ3VycmVuY3kgc3BlY2lmaWVyIGlnbm9yZWQuIE9ubHkgb25lIGN1cnJlbmN5IHBlcm1pdHRlZC4iKSxpLnBhcmFtcy5jdXJyZW5jeT1jLGkucGFyYW1zLmhhc093blByb3BlcnR5KCJkY3RyIikmJnQuaXNTdHIoaS5wYXJhbXMuZGN0cikmJmwucHVzaChpLnBhcmFtcy5kY3RyKSxpLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgiYmNhdCIpJiZ0LmlzQXJyYXkoaS5wYXJhbXMuYmNhdCkmJihtPW0uY29uY2F0KGkucGFyYW1zLmJjYXQpKTt2YXIgcj1CKGkpO3ImJnAuaW1wLnB1c2gocil9KSksMCE9cC5pbXAubGVuZ3RoKXt2YXIgaCx5O3Auc2l0ZS5wdWJsaXNoZXIuaWQ9by5wdWJJZC50cmltKCksQz1vLnB1YklkLnRyaW0oKSxwLmV4dC53cmFwcGVyPXt9LHAuZXh0LndyYXBwZXIucHJvZmlsZT1wYXJzZUludChvLnByb2ZJZCl8fGIscC5leHQud3JhcHBlci52ZXJzaW9uPXBhcnNlSW50KG8udmVySWQpfHxiLHAuZXh0LndyYXBwZXIud2lpZD1vLndpaWR8fHIuYXVjdGlvbklkLHAuZXh0LndyYXBwZXIud3Y9InByZWJpZF9wcmViaWRfNS4xMS4wIixwLmV4dC53cmFwcGVyLnRyYW5zYWN0aW9uSWQ9by50cmFuc2FjdGlvbklkLHAuZXh0LndyYXBwZXIud3A9InBianMiLHAudXNlci5nZW5kZXI9by5nZW5kZXI/by5nZW5kZXIudHJpbSgpOmIscC51c2VyLmdlbz17fSxwLnVzZXIuZ2VvLmxhdD1VKCJsYXQiLG8ubGF0KSxwLnVzZXIuZ2VvLmxvbj1VKCJsb24iLG8ubG9uKSxwLnVzZXIueW9iPVUoInlvYiIsby55b2IpLHAuZGV2aWNlLmdlbz1wLnVzZXIuZ2VvLHAuc2l0ZS5wYWdlPW8ua2FkcGFnZXVybC50cmltKCl8fHAuc2l0ZS5wYWdlLnRyaW0oKSxwLnNpdGUuZG9tYWluPShoPXAuc2l0ZS5wYWdlLCh5PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKSkuaHJlZj1oLHkuaG9zdG5hbWUpLCJvYmplY3QiPT09dShzLmIuZ2V0Q29uZmlnKCJjb250ZW50IikpJiYocC5zaXRlLmNvbnRlbnQ9cy5iLmdldENvbmZpZygiY29udGVudCIpKSwib2JqZWN0Ij09PXUocy5iLmdldENvbmZpZygiZGV2aWNlIikpJiYocC5kZXZpY2U9ZChwLmRldmljZSxzLmIuZ2V0Q29uZmlnKCJkZXZpY2UiKSkpLHQuZGVlcFNldFZhbHVlKHAsInNvdXJjZS50aWQiLG8udHJhbnNhY3Rpb25JZCksLTEhPT13aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCJwdWJtYXRpY1Rlc3Q9dHJ1ZSIpJiYocC50ZXN0PTEpLGVbMF0uc2NoYWluJiZ0LmRlZXBTZXRWYWx1ZShwLCJzb3VyY2UuZXh0LnNjaGFpbiIsZVswXS5zY2hhaW4pLHImJnIuZ2RwckNvbnNlbnQmJih0LmRlZXBTZXRWYWx1ZShwLCJ1c2VyLmV4dC5jb25zZW50IixyLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpLHQuZGVlcFNldFZhbHVlKHAsInJlZ3MuZXh0LmdkcHIiLHIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/MTowKSksciYmci51c3BDb25zZW50JiZ0LmRlZXBTZXRWYWx1ZShwLCJyZWdzLmV4dC51c19wcml2YWN5IixyLnVzcENvbnNlbnQpLCEwPT09cy5iLmdldENvbmZpZygiY29wcGEiKSYmdC5kZWVwU2V0VmFsdWUocCwicmVncy5jb3BwYSIsMSksZnVuY3Rpb24oZSxyKXt2YXIgYT10LmRlZXBBY2Nlc3MociwiMC51c2VySWRBc0VpZHMiKSxpPVYocix4KTtpJiYoYXx8KGE9W10pLGEucHVzaChpKSksdC5pc0FycmF5KGEpJiZhLmxlbmd0aD4wJiZ0LmRlZXBTZXRWYWx1ZShlLCJ1c2VyLmVpZHMiLGEpfShwLGUpLGZ1bmN0aW9uKGUscil7KHI9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZXx8KHQubG9nV2FybigiUHViTWF0aWM6IGJjYXQ6IEVhY2ggY2F0ZWdvcnkgc2hvdWxkIGJlIGEgc3RyaW5nLCBpZ25vcmluZyBjYXRlZ29yeTogIitlKSwhMSl9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmltKCl9KSkuZmlsdGVyKChmdW5jdGlvbihlLHIsYSl7aWYoZS5sZW5ndGg+MylyZXR1cm4gYS5pbmRleE9mKGUpPT09cjt0LmxvZ1dhcm4oIlB1Yk1hdGljOiBiY2F0OiBFYWNoIGNhdGVnb3J5IHNob3VsZCBoYXZlIGEgdmFsdWUgb2YgYSBsZW5ndGggb2YgbW9yZSB0aGFuIDMgY2hhcmFjdGVycywgaWdub3JpbmcgY2F0ZWdvcnk6ICIrZSl9KSkpLmxlbmd0aD4wJiYodC5sb2dXYXJuKCJQdWJNYXRpYzogYmNhdDogU2VsZWN0ZWQ6ICIsciksZS5iY2F0PXIpfShwLG0pLGZ1bmN0aW9uKGUscil7dmFyIGE9VihyLFIpO2EmJihlLnVzZXJ8fChlLnVzZXI9e30pLGUudXNlci5kYXRhfHwoZS51c2VyLmRhdGE9W10pLGUudXNlci5kYXRhLnB1c2goYSkpfShwLGUpO3ZhciB2PXMuYi5nZXRDb25maWcoIm9ydGIyIil8fHt9O3JldHVybiB2LnNpdGUmJnQubWVyZ2VEZWVwKHAse3NpdGU6di5zaXRlfSksdi51c2VyJiZ0Lm1lcmdlRGVlcChwLHt1c2VyOnYudXNlcn0pLCJvYmplY3QiPT09dShzLmIuZ2V0Q29uZmlnKCJhcHAiKSkmJihwLmFwcD1zLmIuZ2V0Q29uZmlnKCJhcHAiKSxwLmFwcC5wdWJsaXNoZXI9cC5zaXRlLnB1Ymxpc2hlcixwLmFwcC5leHQ9cC5zaXRlLmV4dHx8Yiwib2JqZWN0IiE9PXUocC5hcHAuY29udGVudCkmJihwLmFwcC5jb250ZW50PXAuc2l0ZS5jb250ZW50fHxiKSxkZWxldGUgcC5zaXRlKSx7bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vaGJvcGVuYmlkLnB1Ym1hdGljLmNvbS90cmFuc2xhdG9yP3NvdXJjZT1wcmViaWQtY2xpZW50IixkYXRhOkpTT04uc3RyaW5naWZ5KHApLGJpZGRlclJlcXVlc3Q6cn19fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciBhPVtdLGk9ZyxzPUpTT04ucGFyc2Uoci5kYXRhKSxvPXMuc2l0ZSYmcy5zaXRlLnJlZj9zLnNpdGUucmVmOiIiO3RyeXtlLmJvZHkmJmUuYm9keS5zZWF0YmlkJiZ0LmlzQXJyYXkoZS5ib2R5LnNlYXRiaWQpJiYoaT1lLmJvZHkuY3VyfHxpLGUuYm9keS5zZWF0YmlkLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuYmlkJiZ0LmlzQXJyYXkoZS5iaWQpJiZlLmJpZC5mb3JFYWNoKChmdW5jdGlvbihkKXt2YXIgcD17cmVxdWVzdElkOmQuaW1waWQsY3BtOihwYXJzZUZsb2F0KGQucHJpY2UpfHwwKS50b0ZpeGVkKDIpLHdpZHRoOmQudyxoZWlnaHQ6ZC5oLGNyZWF0aXZlSWQ6ZC5jcmlkfHxkLmlkLGRlYWxJZDpkLmRlYWxpZCxjdXJyZW5jeTppLG5ldFJldmVudWU6dHJ1ZSx0dGw6MzAwLHJlZmVycmVyOm8sYWQ6ZC5hZG0scG1fc2VhdDplLnNlYXR8fG51bGwscG1fZHNwaWQ6ZC5leHQmJmQuZXh0LmRzcGlkP2QuZXh0LmRzcGlkOm51bGwscGFydG5lckltcElkOmQuaWR8fCIifTtzLmltcCYmcy5pbXAubGVuZ3RoPjAmJnMuaW1wLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKGQuaW1waWQ9PT1lLmlkKXN3aXRjaChmdW5jdGlvbihlLHIpe2lmKGUuZXh0JiZudWxsIT1lLmV4dC5CaWRUeXBlKXIubWVkaWFUeXBlPUFbZS5leHQuQmlkVHlwZV07ZWxzZXt0LmxvZ0luZm8oIlB1Yk1hdGljOiBiaWQuZXh0LkJpZFR5cGUgZG9lcyBub3QgZXhpc3QsIGNoZWNraW5nIGFsdGVybmF0aXZlbHkgZm9yIG1lZGlhVHlwZSIpO3ZhciBhPWUuYWRtLGk9IiIscz1uZXcgUmVnRXhwKC9WQVNUXHMrdmVyc2lvbi8pO2lmKGEuaW5kZXhPZignc3BhbiBjbGFzcz0iUHViQVBJQWQiJyk+PTApci5tZWRpYVR5cGU9bi5iO2Vsc2UgaWYocy50ZXN0KGEpKXIubWVkaWFUeXBlPW4uZDtlbHNlIHRyeXsoaT1KU09OLnBhcnNlKGEucmVwbGFjZSgvXFwvZywiIikpKSYmaS5uYXRpdmUmJihyLm1lZGlhVHlwZT1uLmMpfWNhdGNoKGUpe3QubG9nV2FybigiUHViTWF0aWM6IEVycm9yOiBDYW5ub3QgcGFyc2UgbmF0aXZlIHJlcG9uc2UgZm9yIGFkIHJlc3BvbnNlOiAiK2EpfX19KGQscCkscC5tZWRpYVR5cGUpe2Nhc2Ugbi5iOmJyZWFrO2Nhc2Ugbi5kOnAud2lkdGg9ZC5oYXNPd25Qcm9wZXJ0eSgidyIpP2QudzplLnZpZGVvLncscC5oZWlnaHQ9ZC5oYXNPd25Qcm9wZXJ0eSgiaCIpP2QuaDplLnZpZGVvLmgscC52YXN0WG1sPWQuYWRtLGZ1bmN0aW9uKGUscil7dmFyIGEsdCxpO2lmKHIuYmlkZGVyUmVxdWVzdCYmci5iaWRkZXJSZXF1ZXN0LmJpZHMpe2Zvcih2YXIgcz0wO3M8ci5iaWRkZXJSZXF1ZXN0LmJpZHMubGVuZ3RoO3MrKylyLmJpZGRlclJlcXVlc3QuYmlkc1tzXS5iaWRJZD09PWUucmVxdWVzdElkJiYoYT1yLmJpZGRlclJlcXVlc3QuYmlkc1tzXS5wYXJhbXMsdD1yLmJpZGRlclJlcXVlc3QuYmlkc1tzXS5tZWRpYVR5cGVzW24uZF0uY29udGV4dCxpPXIuYmlkZGVyUmVxdWVzdC5iaWRzW3NdLmFkVW5pdENvZGUpO3QmJiJvdXRzdHJlYW0iPT09dCYmYSYmYS5vdXRzdHJlYW1BVSYmaSYmKGUucmVuZGVyZXJDb2RlPWEub3V0c3RyZWFtQVUsZS5yZW5kZXJlcj1rLm5ld1JlbmRlcmVyKGUucmVuZGVyZXJDb2RlLGkpKX19KHAscik7YnJlYWs7Y2FzZSBuLmM6IWZ1bmN0aW9uKGUscil7aWYoci5uYXRpdmU9e30sZS5oYXNPd25Qcm9wZXJ0eSgiYWRtIikpe3ZhciBhPSIiO3RyeXthPUpTT04ucGFyc2UoZS5hZG0ucmVwbGFjZSgvXFwvZywiIikpfWNhdGNoKGUpe3JldHVybiB2b2lkIHQubG9nV2FybigiUHViTWF0aWM6IEVycm9yOiBDYW5ub3QgcGFyc2UgbmF0aXZlIHJlcG9uc2UgZm9yIGFkIHJlc3BvbnNlOiAiK3IuYWRtKX1pZihhJiZhLm5hdGl2ZSYmYS5uYXRpdmUuYXNzZXRzJiZhLm5hdGl2ZS5hc3NldHMubGVuZ3RoPjApe3IubWVkaWFUeXBlPW4uYztmb3IodmFyIGk9MCxzPWEubmF0aXZlLmFzc2V0cy5sZW5ndGg7aTxzO2krKylzd2l0Y2goYS5uYXRpdmUuYXNzZXRzW2ldLmlkKXtjYXNlIFAuVElUTEUuSUQ6ci5uYXRpdmUudGl0bGU9YS5uYXRpdmUuYXNzZXRzW2ldLnRpdGxlJiZhLm5hdGl2ZS5hc3NldHNbaV0udGl0bGUudGV4dDticmVhaztjYXNlIFAuSU1BR0UuSUQ6ci5uYXRpdmUuaW1hZ2U9e3VybDphLm5hdGl2ZS5hc3NldHNbaV0uaW1nJiZhLm5hdGl2ZS5hc3NldHNbaV0uaW1nLnVybCxoZWlnaHQ6YS5uYXRpdmUuYXNzZXRzW2ldLmltZyYmYS5uYXRpdmUuYXNzZXRzW2ldLmltZy5oLHdpZHRoOmEubmF0aXZlLmFzc2V0c1tpXS5pbWcmJmEubmF0aXZlLmFzc2V0c1tpXS5pbWcud307YnJlYWs7Y2FzZSBQLklDT04uSUQ6ci5uYXRpdmUuaWNvbj17dXJsOmEubmF0aXZlLmFzc2V0c1tpXS5pbWcmJmEubmF0aXZlLmFzc2V0c1tpXS5pbWcudXJsLGhlaWdodDphLm5hdGl2ZS5hc3NldHNbaV0uaW1nJiZhLm5hdGl2ZS5hc3NldHNbaV0uaW1nLmgsd2lkdGg6YS5uYXRpdmUuYXNzZXRzW2ldLmltZyYmYS5uYXRpdmUuYXNzZXRzW2ldLmltZy53fTticmVhaztjYXNlIFAuU1BPTlNPUkVEQlkuSUQ6Y2FzZSBQLkJPRFkuSUQ6Y2FzZSBQLkxJS0VTLklEOmNhc2UgUC5ET1dOTE9BRFMuSUQ6Y2FzZSBQLlBSSUNFOmNhc2UgUC5TQUxFUFJJQ0UuSUQ6Y2FzZSBQLlBIT05FLklEOmNhc2UgUC5BRERSRVNTLklEOmNhc2UgUC5ERVNDMi5JRDpjYXNlIFAuQ1RBLklEOmNhc2UgUC5SQVRJTkcuSUQ6Y2FzZSBQLkRJU1BMQVlVUkwuSUQ6ci5uYXRpdmVbS1thLm5hdGl2ZS5hc3NldHNbaV0uaWRdXT1hLm5hdGl2ZS5hc3NldHNbaV0uZGF0YSYmYS5uYXRpdmUuYXNzZXRzW2ldLmRhdGEudmFsdWV9ci5uYXRpdmUuY2xpY2tVcmw9YS5uYXRpdmUubGluayYmYS5uYXRpdmUubGluay51cmwsci5uYXRpdmUuY2xpY2tUcmFja2Vycz1hLm5hdGl2ZS5saW5rJiZhLm5hdGl2ZS5saW5rLmNsaWNrdHJhY2tlcnN8fFtdLHIubmF0aXZlLmltcHJlc3Npb25UcmFja2Vycz1hLm5hdGl2ZS5pbXB0cmFja2Vyc3x8W10sci5uYXRpdmUuanN0cmFja2VyPWEubmF0aXZlLmpzdHJhY2tlcnx8W10sci53aWR0aHx8KHIud2lkdGg9MCksci5oZWlnaHR8fChyLmhlaWdodD0wKX19fShkLHApfX0pKSxkLmV4dCYmZC5leHQuZGVhbF9jaGFubmVsJiYocC5kZWFsQ2hhbm5lbD1ZW2QuZXh0LmRlYWxfY2hhbm5lbF18fG51bGwpLHAubWV0YT17fSxkLmV4dCYmZC5leHQuZHNwaWQmJihwLm1ldGEubmV0d29ya0lkPWQuZXh0LmRzcGlkKSxkLmV4dCYmZC5leHQuYWR2aWQmJihwLm1ldGEuYnV5ZXJJZD1kLmV4dC5hZHZpZCksZC5hZG9tYWluJiZkLmFkb21haW4ubGVuZ3RoPjAmJihwLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnM9ZC5hZG9tYWluLHAubWV0YS5jbGlja1VybD1kLmFkb21haW5bMF0pLGUuZXh0JiZlLmV4dC5idXlpZCYmKHAuYWRzZXJ2ZXJUYXJnZXRpbmc9e2hiX2J1eWlkX3B1Ym1hdGljOmUuZXh0LmJ1eWlkfSksYS5wdXNoKHApfSkpfSkpKX1jYXRjaChlKXt0LmxvZ0Vycm9yKGUpfXJldHVybiBhfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyLGEsdCl7dmFyIGk9IiIrQztyZXR1cm4gYSYmKGkrPSImZ2Rwcj0iKyhhLmdkcHJBcHBsaWVzPzE6MCksaSs9IiZnZHByX2NvbnNlbnQ9IitlbmNvZGVVUklDb21wb25lbnQoYS5jb25zZW50U3RyaW5nfHwiIikpLHQmJihpKz0iJnVzX3ByaXZhY3k9IitlbmNvZGVVUklDb21wb25lbnQodCkpLCEwPT09cy5iLmdldENvbmZpZygiY29wcGEiKSYmKGkrPSImY29wcGE9MSIpLGUuaWZyYW1lRW5hYmxlZD9be3R5cGU6ImlmcmFtZSIsdXJsOiJodHRwczovL2Fkcy5wdWJtYXRpYy5jb20vQWRTZXJ2ZXIvanMvdXNlcl9zeW5jLmh0bWw/a2RudHVpZD0xJnA9IitpfV06W3t0eXBlOiJpbWFnZSIsdXJsOiJodHRwczovL2ltYWdlOC5wdWJtYXRpYy5jb20vQWRTZXJ2ZXIvSW1nU3luYz9wPSIraX1dfSx0cmFuc2Zvcm1CaWRQYXJhbXM6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gdC5jb252ZXJ0VHlwZXMoe3B1Ymxpc2hlcklkOiJzdHJpbmciLGFkU2xvdDoic3RyaW5nIn0sZSl9fTtPYmplY3QoaS5yZWdpc3RlckJpZGRlcikoRil9fSxbNjU3XSk7CnVwYmpzQ2h1bmsoWzI5XSx7NjpmdW5jdGlvbihlLG4sdCl7InVzZSBzdHJpY3QiO24uYT1mdW5jdGlvbihlKXt2YXIgbix0PWUudXJsLHI9ZS5hbmFseXRpY3NUeXBlLHU9ZS5nbG9iYWwsbD1lLmhhbmRsZXIsTz1bXSxtPTAsVT0hMDsoZnVuY3Rpb24oKXtpZihVKXtmb3IodmFyIGU9MDtlPE8ubGVuZ3RoO2UrKylPW2VdKCk7Ty5wdXNoPWZ1bmN0aW9uKGUpe2UoKX0sVT0hMX1zLmxvZ01lc3NhZ2UoImV2ZW50IGNvdW50IHNlbnQgdG8gIi5jb25jYXQodSwiOiAiKS5jb25jYXQobSkpfSkoKTtyZXR1cm57dHJhY2s6ZnVuY3Rpb24oZSl7dmFyIG49ZS5ldmVudFR5cGUsdD1lLmFyZ3M7dGhpcy5nZXRBZGFwdGVyVHlwZSgpPT09UyYmd2luZG93W3VdKGwsbix0KTt0aGlzLmdldEFkYXB0ZXJUeXBlKCk9PT1OJiZCLmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpfSxlbnF1ZXVlOlIsZW5hYmxlQW5hbHl0aWNzOmosZGlzYWJsZUFuYWx5dGljczpmdW5jdGlvbigpe3MuX2VhY2gobiwoZnVuY3Rpb24oZSxuKXtjLm9mZihuLGUpfSkpLHRoaXMuZW5hYmxlQW5hbHl0aWNzPXRoaXMuX29sZEVuYWJsZT90aGlzLl9vbGRFbmFibGU6an0sZ2V0QWRhcHRlclR5cGU6ZnVuY3Rpb24oKXtyZXR1cm4gcn0sZ2V0R2xvYmFsOmZ1bmN0aW9uKCl7cmV0dXJuIHV9LGdldEhhbmRsZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbH0sZ2V0VXJsOmZ1bmN0aW9uKCl7cmV0dXJuIHR9fTtmdW5jdGlvbiBCKGUpe3ZhciBuPWUuZXZlbnRUeXBlLHI9ZS5hcmdzLHU9ZS5jYWxsYmFjaztPYmplY3QoYS5hKSh0LHUsSlNPTi5zdHJpbmdpZnkoe2V2ZW50VHlwZTpuLGFyZ3M6cn0pKX1mdW5jdGlvbiBSKGUpe3ZhciBuPWUuZXZlbnRUeXBlLHQ9ZS5hcmdzLHI9dGhpczt1JiZ3aW5kb3dbdV0mJm4mJnQ/dGhpcy50cmFjayh7ZXZlbnRUeXBlOm4sYXJnczp0fSk6Ty5wdXNoKChmdW5jdGlvbigpe20rKyxyLnRyYWNrKHtldmVudFR5cGU6bixhcmdzOnR9KX0pKX1mdW5jdGlvbiBqKGUpe3ZhciB0LHI9dGhpcyxhPXRoaXM7Im9iamVjdCIhPT1pKGUpfHwib2JqZWN0IiE9PWkoZS5vcHRpb25zKXx8KHZvaWQgMD09PWUub3B0aW9ucy5zYW1wbGluZ3x8TWF0aC5yYW5kb20oKTxwYXJzZUZsb2F0KGUub3B0aW9ucy5zYW1wbGluZykpPyhjLmdldEV2ZW50cygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKGUpe3ZhciBuPWUuZXZlbnRUeXBlLHQ9ZS5hcmdzO24hPT1UJiZSLmNhbGwoYSx7ZXZlbnRUeXBlOm4sYXJnczp0fSl9fSkpLG8odD17fSx5LChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6eSxhcmdzOmV9KX0pKSxvKHQsZywoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOmcsYXJnczplfSl9KSksbyh0LHYsKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTp2LGFyZ3M6ZX0pfSkpLG8odCxiLChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6YixhcmdzOmV9KX0pKSxvKHQsVCwoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOlQsYXJnczplfSl9KSksbyh0LGQsKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpkLGFyZ3M6ZX0pfSkpLG8odCxFLChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6RSxhcmdzOmV9KX0pKSxvKHQsXywoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOl8sYXJnczplfSl9KSksbyh0LEEsKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpBLGFyZ3M6ZX0pfSkpLG8odCxwLChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6cCxhcmdzOmV9KX0pKSxvKHQsRCwoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOkQsYXJnczplfSl9KSksbyh0LGgsKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpoLGFyZ3M6ZX0pfSkpLG8odCxJLChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6SSxhcmdzOmV9KX0pKSxvKHQscSwoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOnEsYXJnczplfSl9KSksbyh0LGYsKGZ1bmN0aW9uKG4pe24uY29uZmlnPSJvYmplY3QiPT09aShlKSYmZS5vcHRpb25zfHx7fSxyLmVucXVldWUoe2V2ZW50VHlwZTpmLGFyZ3M6bn0pfSkpLG49dCxzLl9lYWNoKG4sKGZ1bmN0aW9uKGUsbil7Yy5vbihuLGUpfSkpKTpzLmxvZ01lc3NhZ2UoJ0FuYWx5dGljcyBhZGFwdGVyIGZvciAiJy5jb25jYXQodSwnIiBkaXNhYmxlZCBieSBzYW1wbGluZycpKTt0aGlzLl9vbGRFbmFibGU9dGhpcy5lbmFibGVBbmFseXRpY3MsdGhpcy5lbmFibGVBbmFseXRpY3M9ZnVuY3Rpb24oKXtyZXR1cm4gcy5sb2dNZXNzYWdlKCdBbmFseXRpY3MgYWRhcHRlciBmb3IgIicuY29uY2F0KHUsJyIgYWxyZWFkeSBlbmFibGVkLCB1bm5lY2Vzc2FyeSBjYWxsIHRvIGBlbmFibGVBbmFseXRpY3NgLicpKX19fTt2YXIgcj10KDUpLHU9dC5uKHIpLGE9dCg0KTtmdW5jdGlvbiBvKGUsbix0KXtyZXR1cm4gbiBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4se3ZhbHVlOnQsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW25dPXQsZX1mdW5jdGlvbiBpKGUpe3JldHVybihpPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIGM9dCg5KSxzPXQoMCksbD11LmEuRVZFTlRTLGY9bC5BVUNUSU9OX0lOSVQscD1sLkFVQ1RJT05fRU5ELHk9bC5SRVFVRVNUX0JJRFMsZz1sLkJJRF9SRVFVRVNURUQsVD1sLkJJRF9USU1FT1VULHY9bC5CSURfUkVTUE9OU0UsYj1sLk5PX0JJRCxkPWwuQklEX1dPTixFPWwuQklEX0FESlVTVE1FTlQsXz1sLkJJRERFUl9ET05FLEE9bC5TRVRfVEFSR0VUSU5HLEQ9bC5BRF9SRU5ERVJfRkFJTEVELGg9bC5BRF9SRU5ERVJfU1VDQ0VFREVELEk9bC5BVUNUSU9OX0RFQlVHLHE9bC5BRERfQURfVU5JVFMsTj0iZW5kcG9pbnQiLFM9ImJ1bmRsZSJ9LDY2MTpmdW5jdGlvbihlLG4sdCl7ZS5leHBvcnRzPXQoNjYyKX0sNjYyOmZ1bmN0aW9uKGUsbix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciByPXQoNiksdT10KDgpLGE9T2JqZWN0KHIuYSkoe2dsb2JhbDoiUHVic3RhY2tBbmFseXRpY3MiLGhhbmRsZXI6Im9uIixhbmFseXRpY3NUeXBlOiJidW5kbGUifSk7dS5kZWZhdWx0LnJlZ2lzdGVyQW5hbHl0aWNzQWRhcHRlcih7YWRhcHRlcjphLGNvZGU6InB1YnN0YWNrIn0pLG4uZGVmYXVsdD1hfX0sWzY2MV0pOwp1cGJqc0NodW5rKFsxNDRdLHs2NzM6ZnVuY3Rpb24oZSxyLHQpe2UuZXhwb3J0cz10KDY3NCl9LDY3NDpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQociwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIG19KSk7dmFyIG49dCgwKSxpPXQoMSksYT10KDEzKTtmdW5jdGlvbiBkKCl7cmV0dXJuKGQ9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9YXJndW1lbnRzW3JdO2Zvcih2YXIgbiBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiYoZVtuXT10W25dKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgcz0xMDAsdT0yMDAsbz01MCxjPTE1MCxwPTUwLGw9IlVTRCIsZj1bImNwIiwiY3QiLCJjZiIsInZpZGVvIiwiYmF0dHIiLCJiY2F0IiwiYmFkdiIsImJpZGZsb29yIl0sbT17Y29kZToicHVsc2Vwb2ludCIsZ3ZsaWQ6ODEsYWxpYXNlczpbInB1bHNlTGl0ZSIsInB1bHNlcG9pbnRMaXRlIl0sc3VwcG9ydGVkTWVkaWFUeXBlczpbImJhbm5lciIsIm5hdGl2ZSIsInZpZGVvIl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISEoZSYmZS5wYXJhbXMmJmUucGFyYW1zLmNwJiZlLnBhcmFtcy5jdCl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXtyZXR1cm57bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vYmlkLmNvbnRleHR3ZWIuY29tL2hlYWRlci9vcnRiP3NyYz1wcmViaWQiLGRhdGE6e2lkOmVbMF0uYmlkZGVyUmVxdWVzdElkLGltcDplLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybntpZDplLmJpZElkLGJhbm5lcjp2KGUpLG5hdGl2ZTpoKGUpLHRhZ2lkOmUucGFyYW1zLmN0LnRvU3RyaW5nKCksdmlkZW86YihlKSxiaWRmbG9vcjprKGUpLGV4dDpnKGUpfX0oZSl9KSksc2l0ZTpPKGUsciksYXBwOlQoZSksZGV2aWNlOnt1YTpuYXZpZ2F0b3IudXNlckFnZW50LGxhbmd1YWdlOm5hdmlnYXRvci5sYW5ndWFnZXx8bmF2aWdhdG9yLmJyb3dzZXJMYW5ndWFnZXx8bmF2aWdhdG9yLnVzZXJMYW5ndWFnZXx8bmF2aWdhdG9yLnN5c3RlbUxhbmd1YWdlfSxiY2F0OmVbMF0ucGFyYW1zLmJjYXQsYmFkdjplWzBdLnBhcmFtcy5iYWR2LHVzZXI6eChlWzBdLHIpLHJlZ3M6QyhyKSxzb3VyY2U6UChlWzBdLnNjaGFpbil9LGJpZGRlclJlcXVlc3Q6cn19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7cmV0dXJuIGZ1bmN0aW9uKGUscil7dmFyIHQ9e30saT17fSxkPXt9LHM9ci5ib2R5O2UuZGF0YS5pbXAuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dFtlLmlkXT1lfSkpLHMmJnMuc2VhdGJpZC5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aVtlLmltcGlkXT1lfSkpfSkpO2UuYmlkZGVyUmVxdWVzdCYmZS5iaWRkZXJSZXF1ZXN0LmJpZHMmJmUuYmlkZGVyUmVxdWVzdC5iaWRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2RbZS5iaWRJZF09ZX0pKTt2YXIgdT1bXTtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoaVtlXSl7dmFyIHI9e3JlcXVlc3RJZDplLGNwbTppW2VdLnByaWNlLGNyZWF0aXZlX2lkOmlbZV0uY3JpZCxjcmVhdGl2ZUlkOmlbZV0uY3JpZCxhZElkOmUsdHRsOmlbZV0uZXhwfHwyMCxuZXRSZXZlbnVlOnRydWUsY3VycmVuY3k6cy5jdXJ8fGwsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6aVtlXS5hZG9tYWlufHxbXX19O3RbZV0udmlkZW8/KGRbZV0mJiJvdXRzdHJlYW0iPT09bi5kZWVwQWNjZXNzKGRbZV0sIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpJiYoci5yZW5kZXJlcj0obz1uLmRlZXBBY2Nlc3MoZFtlXSwicmVuZGVyZXIub3B0aW9ucyIpLGM9bi5kZWVwQWNjZXNzKGlbZV0sImV4dC5vdXRzdHJlYW0iKSwocD1hLmEuaW5zdGFsbCh7dXJsOmMucmVuZGVyZXJVcmwsY29uZmlnOntkZWZhdWx0T3B0aW9uczpjLmNvbmZpZyxyZW5kZXJlck9wdGlvbnM6byx0eXBlOmMudHlwZX0sbG9hZGVkOiExfSkpLnNldFJlbmRlcigoZnVuY3Rpb24oZSl7ZS5yZW5kZXJlci5wdXNoKChmdW5jdGlvbigpe3ZhciByPWUucmVuZGVyZXIuZ2V0Q29uZmlnKCk7KG5ldyB3aW5kb3cuUHVsc2VQb2ludE91dHN0cmVhbVJlbmRlcmVyKS5yZW5kZXIoe2FkVW5pdENvZGU6ZS5hZFVuaXRDb2RlLHZhc3RYbWw6ZS52YXN0WG1sLHR5cGU6ci50eXBlLGRlZmF1bHRPcHRpb25zOnIuZGVmYXVsdE9wdGlvbnMscmVuZGVyZXJPcHRpb25zOm99KX0pKX0pKSxwKSksci52YXN0WG1sPWlbZV0uYWRtLHIubWVkaWFUeXBlPSJ2aWRlbyIsci53aWR0aD1pW2VdLncsci5oZWlnaHQ9aVtlXS5oKTp0W2VdLmJhbm5lcj8oci5hZD1pW2VdLmFkbSxyLndpZHRoPWlbZV0ud3x8dFtlXS5iYW5uZXIudyxyLmhlaWdodD1pW2VdLmh8fHRbZV0uYmFubmVyLmgpOnRbZV0ubmF0aXZlJiYoci5uYXRpdmU9ZnVuY3Rpb24oZSxyKXtpZihlLm5hdGl2ZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7dHJ5e2lmKGUpcmV0dXJuIEpTT04ucGFyc2UoZSl9Y2F0Y2goZSl7bi5sb2dFcnJvcigicHVsc2Vwb2ludExpdGUuc2FmZVBhcnNlIiwiRVJST1IiLGUpfXJldHVybiBudWxsfShyLmFkbSksaT17fTtpZih0JiZ0Lm5hdGl2ZSYmdC5uYXRpdmUuYXNzZXRzKXJldHVybiB0Lm5hdGl2ZS5hc3NldHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aS50aXRsZT1lLnRpdGxlP2UudGl0bGUudGV4dDppLnRpdGxlLGkuYm9keT1lLmRhdGEmJjI9PT1lLmRhdGEudHlwZT9lLmRhdGEudmFsdWU6aS5ib2R5LGkuc3BvbnNvcmVkQnk9ZS5kYXRhJiYxPT09ZS5kYXRhLnR5cGU/ZS5kYXRhLnZhbHVlOmkuc3BvbnNvcmVkQnksaS5pbWFnZT1lLmltZyYmMz09PWUuaW1nLnR5cGU/ZS5pbWcudXJsOmkuaW1hZ2UsaS5pY29uPWUuaW1nJiYxPT09ZS5pbWcudHlwZT9lLmltZy51cmw6aS5pY29ufSkpLHQubmF0aXZlLmxpbmsmJihpLmNsaWNrVXJsPWVuY29kZVVSSUNvbXBvbmVudCh0Lm5hdGl2ZS5saW5rLnVybCkpLGkuaW1wcmVzc2lvblRyYWNrZXJzPXQubmF0aXZlLmltcHRyYWNrZXJzLGl9cmV0dXJuIG51bGx9KHRbZV0saVtlXSksci5tZWRpYVR5cGU9Im5hdGl2ZSIpLHUucHVzaChyKX12YXIgbyxjLHB9KSksdX0ocixlKX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlmcmFtZUVuYWJsZWQ/W3t0eXBlOiJpZnJhbWUiLHVybDoiaHR0cHM6Ly9iaC5jb250ZXh0d2ViLmNvbS92aXNpdG9ybWF0Y2gifV06ZS5waXhlbEVuYWJsZWQ/W3t0eXBlOiJpbWFnZSIsdXJsOiJodHRwczovL2JoLmNvbnRleHR3ZWIuY29tL3Zpc2l0b3JtYXRjaC9wcmViaWQifV06dm9pZCAwfSx0cmFuc2Zvcm1CaWRQYXJhbXM6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gbi5jb252ZXJ0VHlwZXMoe2NmOiJzdHJpbmciLGNwOiJudW1iZXIiLGN0OiJudW1iZXIifSxlKX19O2Z1bmN0aW9uIHYoZSl7dmFyIHI9ZnVuY3Rpb24oZSl7dmFyIHI9bi5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIik7aWYociYmbi5pc0FycmF5KHIpKXJldHVybiByLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIG4uaXNBcnJheShlKSYmMj09PWUubGVuZ3RofSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSkpO3JldHVybiBudWxsfShlKSx0PWZ1bmN0aW9uKGUscil7aWYoZS5wYXJhbXMuY2Ype3ZhciB0PWUucGFyYW1zLmNmLnRvVXBwZXJDYXNlKCkuc3BsaXQoIlgiKTtyZXR1cm5bcGFyc2VJbnQoZS5wYXJhbXMuY3d8fHRbMF0sMTApLHBhcnNlSW50KGUucGFyYW1zLmNofHx0WzFdLDEwKV19aWYociYmci5sZW5ndGg+MClyZXR1cm5bclswXS53LHJbMF0uaF07cmV0dXJuWzEsMV19KGUscik7cmV0dXJuIGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lcj97dzp0WzBdLGg6dFsxXSxiYXR0cjplLnBhcmFtcy5iYXR0cixmb3JtYXQ6cn06bnVsbH1mdW5jdGlvbiBiKGUpe3JldHVybiBlLnBhcmFtcy52aWRlbz9kKHt9LGUucGFyYW1zLnZpZGVvLGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLnZpZGVvP2UubWVkaWFUeXBlcy52aWRlbzp7fSx7YmF0dHI6ZS5wYXJhbXMuYmF0dHJ9KTpudWxsfWZ1bmN0aW9uIGcoZSl7dmFyIHI9e30sdD17fTtyZXR1cm4gZi5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gdFtlXT0xfSkpLE9iamVjdC5rZXlzKGUucGFyYW1zKS5mb3JFYWNoKChmdW5jdGlvbihuKXt0W25dfHwocltuXT1lLnBhcmFtc1tuXSl9KSksT2JqZWN0LmtleXMocikubGVuZ3RoPjA/e3ByZWJpZDpyfTpudWxsfWZ1bmN0aW9uIGgoZSl7aWYoZS5uYXRpdmVQYXJhbXMpe3ZhciByPVtdO3JldHVybiB5KHIsZnVuY3Rpb24oZSxyLHQpe2lmKHIpcmV0dXJue2lkOmUscmVxdWlyZWQ6ci5yZXF1aXJlZD8xOjAsdGl0bGU6e2xlbjpyLmxlbnx8dH19O3JldHVybiBudWxsfShyLmxlbmd0aCsxLGUubmF0aXZlUGFyYW1zLnRpdGxlLHMpKSx5KHIsdyhyLmxlbmd0aCsxLGUubmF0aXZlUGFyYW1zLmJvZHksMix1KSkseShyLHcoci5sZW5ndGgrMSxlLm5hdGl2ZVBhcmFtcy5zcG9uc29yZWRCeSwxLG8pKSx5KHIsSShyLmxlbmd0aCsxLGUubmF0aXZlUGFyYW1zLmljb24sMSxwLHApKSx5KHIsSShyLmxlbmd0aCsxLGUubmF0aXZlUGFyYW1zLmltYWdlLDMsYyxjKSkse3JlcXVlc3Q6SlNPTi5zdHJpbmdpZnkoe2Fzc2V0czpyfSksdmVyOiIxLjEiLGJhdHRyOmUucGFyYW1zLmJhdHRyfX1yZXR1cm4gbnVsbH1mdW5jdGlvbiB5KGUscil7ciYmZS5wdXNoKHIpfWZ1bmN0aW9uIEkoZSxyLHQsbixpKXtyZXR1cm4gcj97aWQ6ZSxyZXF1aXJlZDpyLnJlcXVpcmVkPzE6MCxpbWc6e3R5cGU6dCx3bWluOnIud21pbnx8bixobWluOnIuaG1pbnx8aX19Om51bGx9ZnVuY3Rpb24gdyhlLHIsdCxuKXtyZXR1cm4gcj97aWQ6ZSxyZXF1aXJlZDpyLnJlcXVpcmVkPzE6MCxkYXRhOnt0eXBlOnQsbGVuOnIubGVufHxufX06bnVsbH1mdW5jdGlvbiBPKGUscil7dmFyIHQ9ZSYmZS5sZW5ndGg+MD9lWzBdLnBhcmFtcy5jcDoiMCI7cmV0dXJuIGVbMF0ucGFyYW1zLmFwcD9udWxsOntwdWJsaXNoZXI6e2lkOnQudG9TdHJpbmcoKX0scmVmOnEoKSxwYWdlOnImJnIucmVmZXJlckluZm8/ci5yZWZlcmVySW5mby5yZWZlcmVyOiIifX1mdW5jdGlvbiBUKGUpe3ZhciByPWUmJmUubGVuZ3RoPjA/ZVswXS5wYXJhbXMuY3A6IjAiLHQ9ZVswXS5wYXJhbXMuYXBwO3JldHVybiB0P3twdWJsaXNoZXI6e2lkOnIudG9TdHJpbmcoKX0sYnVuZGxlOnQuYnVuZGxlLHN0b3JldXJsOnQuc3RvcmVVcmwsZG9tYWluOnQuZG9tYWlufTpudWxsfWZ1bmN0aW9uIHEoKXt0cnl7cmV0dXJuIHdpbmRvdy50b3AuZG9jdW1lbnQucmVmZXJyZXJ9Y2F0Y2goZSl7cmV0dXJuIGRvY3VtZW50LnJlZmVycmVyfX1mdW5jdGlvbiB4KGUscil7dmFyIHQ9e307aWYociYmci5nZHByQ29uc2VudCYmKHQuY29uc2VudD1yLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpLGUmJmUudXNlcklkKXt0LmVpZHM9W10sUih0LmVpZHMsZS51c2VySWQucHViY2lkLCJwdWJjb21tb24iKSxSKHQuZWlkcyxlLnVzZXJJZC5icml0ZXBvb2xpZCwiYnJpdGVwb29sLmNvbSIpLFIodC5laWRzLGUudXNlcklkLmNyaXRlb0lkLCJjcml0ZW8iKSxSKHQuZWlkcyxlLnVzZXJJZC5pZGxfZW52LCJpZGVudGl0eUxpbmsiKSxSKHQuZWlkcyxuLmRlZXBBY2Nlc3MoZSwidXNlcklkLmlkNWlkLnVpZCIpLCJpZDUtc3luYy5jb20iLG4uZGVlcEFjY2VzcyhlLCJ1c2VySWQuaWQ1aWQuZXh0IikpLFIodC5laWRzLG4uZGVlcEFjY2VzcyhlLCJ1c2VySWQucGFycmFibGVJZC5laWQiKSwicGFycmFibGUuY29tIiksZS51c2VySWQubGlwYiYmZS51c2VySWQubGlwYi5saXBiaWQmJlIodC5laWRzLGUudXNlcklkLmxpcGIubGlwYmlkLCJsaXZlaW50ZW50LmNvbSIpLFIodC5laWRzLGUudXNlcklkLnRkaWQsImFkc2VydmVyLm9yZyIse3J0aVBhcnRuZXI6IlRESUQifSk7dmFyIGk9ZS51c2VySWQuZGlnaXRydXN0aWQ7aWYoaSYmaS5kYXRhKXt2YXIgYT17fTtpLmRhdGEuaWQmJihhLmlkPWkuZGF0YS5pZCksaS5kYXRhLmtleXYmJihhLmtleXY9aS5kYXRhLmtleXYpLHQuZGlnaXRydXN0PWF9fXJldHVybntleHQ6dH19ZnVuY3Rpb24gUihlLHIsdCxuKXtpZihyKXt2YXIgaT17aWQ6cn07biYmKGkuZXh0PW4pLGUucHVzaCh7c291cmNlOnQsdWlkczpbaV19KX19ZnVuY3Rpb24gQyhlKXtpZihlLmdkcHJDb25zZW50fHxlLnVzcENvbnNlbnQpe3ZhciByPXt9O3JldHVybiBlLmdkcHJDb25zZW50JiYoci5nZHByPWUuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/MTowKSxlLnVzcENvbnNlbnQmJihyLnVzX3ByaXZhY3k9ZS51c3BDb25zZW50KSx7ZXh0OnJ9fXJldHVybiBudWxsfWZ1bmN0aW9uIFAoZSl7cmV0dXJuIGU/e2V4dDp7c2NoYWluOmV9fTpudWxsfWZ1bmN0aW9uIGsoZSl7dmFyIHI9ZS5wYXJhbXMuYmlkZmxvb3I7aWYobi5pc0ZuKGUuZ2V0Rmxvb3IpKXt2YXIgdD1lLmdldEZsb29yKHttZWRpYVR5cGU6ZS5tZWRpYVR5cGVzLmJhbm5lcj8iYmFubmVyIjplLm1lZGlhVHlwZXMudmlkZW8/InZpZGVvIjoiTmF0aXZlIixzaXplOiIqIixjdXJyZW5jeTpsfSk7dCYmdC5mbG9vciYmKHI9dC5mbG9vcil9cmV0dXJuIHJ9T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKG0pfX0sWzY3M10pOwp1cGJqc0NodW5rKFsxMzJdLHs3MDE6ZnVuY3Rpb24oZSxyLGEpe2UuZXhwb3J0cz1hKDcwMil9LDcwMjpmdW5jdGlvbihlLHIsYSl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxhLmQociwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIG59KSk7dmFyIGk9YSgwKSx0PWEoMSkscz1hKDIpO3ZhciBuPW5ldyBmdW5jdGlvbigpe3RoaXMuY29kZT0icmh5dGhtb25lIix0aGlzLnN1cHBvcnRlZE1lZGlhVHlwZXM9W3MuZCxzLmJdO3ZhciBlPVsyLDMsNSw2XSxyPVsidmlkZW8vbXA0Il0sYT1bMSwyLDMsNF0sdD1bMV0sbj1bMSwyLDVdLGQ9e30scD10aGlzO2Z1bmN0aW9uIG8oZSxyKXt2YXIgYSx0PVtdLHM9MDtpZihyJiZyLnJlZmVyZXJJbmZvJiZyLnJlZmVyZXJJbmZvLnN0YWNrLmxlbmd0aCl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO24uaHJlZj1yLnJlZmVyZXJJbmZvLnN0YWNrWzBdLHM9Imh0dHBzOiI9PW4ucHJvdG9jb2w/MTowfWZvcih2YXIgcD0wO3A8ZS5sZW5ndGg7cCsrKXtkW2VbcF0uYWRVbml0Q29kZV09ZVtwXTt2YXIgbz17fTtpZihvLmlkPWVbcF0uYWRVbml0Q29kZSxvLmJpZGZsb29yPTAsby5zZWN1cmU9cyxpLmRlZXBBY2Nlc3MoZVtwXSwibWVkaWFUeXBlcy5iYW5uZXIiKXx8ImJhbm5lciI9PT1pLmRlZXBBY2Nlc3MoZVtwXSwibWVkaWFUeXBlIikpe3ZhciBjPXYoZVtwXSk7YyYmKG8uYmFubmVyPWMpfShpLmRlZXBBY2Nlc3MoZVtwXSwibWVkaWFUeXBlcy52aWRlbyIpfHwidmlkZW8iPT09aS5kZWVwQWNjZXNzKGVbcF0sIm1lZGlhVHlwZSIpKSYmKG8udmlkZW89dShlW3BdKSksKG8uYmFubmVyfHxvLnZpZGVvKSYmKG8uZXh0PXtiaWRkZXI6e3BsYWNlbWVudElkOihhPWVbcF0pLnBhcmFtcy5wbGFjZW1lbnRJZCx6b25lOmEucGFyYW1zJiZhLnBhcmFtcy56b25lP2EucGFyYW1zLnpvbmU6IjFyIixwYXRoOmEucGFyYW1zJiZhLnBhcmFtcy5wYXRoP2EucGFyYW1zLnBhdGg6Im12byJ9fSx0LnB1c2gobykpfXJldHVybiB0fWZ1bmN0aW9uIGMoZSl7dmFyIHI9e2RvbWFpbjoiIixwYWdlOiIiLHJlZjoiIn07aWYoZSYmZS5yZWZlcmVySW5mbyl7dmFyIGE9ZS5yZWZlcmVySW5mbztpZihyLnJlZj1hLnJlZmVyZXIsYS5zdGFjay5sZW5ndGgpe3IucGFnZT1hLnN0YWNrW2Euc3RhY2subGVuZ3RoLTFdO3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTtpLmhyZWY9YS5zdGFja1swXSxyLmRvbWFpbj1pLmhvc3RuYW1lfX1yZXR1cm4gcn1mdW5jdGlvbiBtKGUpe3ZhciByPXBhcnNlSW50KGVbMF0pLGE9cGFyc2VJbnQoZVsxXSk7cmV0dXJuIHI9PXImJmE9PWEmJltyLGFdfWZ1bmN0aW9uIHYoZSl7dmFyIHI9ZS5zaXplcztlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXImJihyPWUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMpO3ZhciBhPWkucGFyc2VTaXplc0lucHV0KHIpLHQ9W107cmV0dXJuIGEuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoZSl7dmFyIHI9bShlLnNwbGl0KCJ4IikpO3ImJnQucHVzaCh7dzpyWzBdLGg6clsxXX0pfX0pKSwhIXQubGVuZ3RoJiZ7Zm9ybWF0OnR9fWZ1bmN0aW9uIHUocyl7dmFyIGQ9W107aWYoaS5kZWVwQWNjZXNzKHMsIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpKXt2YXIgcD1zLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZTtpLmlzQXJyYXkocy5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF0pJiYocD1zLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXSk7dmFyIG89bShwKTtvJiYoZD1vKX1yZXR1cm57bWltZXM6aS5kZWVwQWNjZXNzKHMsIm1lZGlhVHlwZXMudmlkZW8ubWltZXMiKXx8cixwcm90b2NvbHM6aS5kZWVwQWNjZXNzKHMsIm1lZGlhVHlwZXMudmlkZW8ucHJvdG9jb2xzIil8fGUsdzpkWzBdLGg6ZFsxXSxzdGFydGRlbGF5OmkuZGVlcEFjY2VzcyhzLCJtZWRpYVR5cGVzLnZpZGVvLnN0YXJ0ZGVsYXkiKXx8MCxza2lwOmkuZGVlcEFjY2VzcyhzLCJtZWRpYVR5cGVzLnZpZGVvLnNraXAiKXx8MCxwbGF5YmFja21ldGhvZDppLmRlZXBBY2Nlc3MocywibWVkaWFUeXBlcy52aWRlby5wbGF5YmFja21ldGhvZCIpfHxhLGRlbGl2ZXJ5OmkuZGVlcEFjY2VzcyhzLCJtZWRpYVR5cGVzLnZpZGVvLmRlbGl2ZXJ5Iil8fHQsYXBpOmkuZGVlcEFjY2VzcyhzLCJtZWRpYVR5cGVzLnZpZGVvLmFwaSIpfHxufX1mdW5jdGlvbiBsKGUscil7Zm9yKHZhciBhPTA7YTxyLmxlbmd0aDthKyspaWYoclthXS5wYXJhbXMmJnJbYV0ucGFyYW1zW2VdKXJldHVybiByW2FdLnBhcmFtc1tlXX10aGlzLmlzQmlkUmVxdWVzdFZhbGlkPWZ1bmN0aW9uKGUpe3JldHVybiEoIWUucGFyYW1zfHwhZS5wYXJhbXMucGxhY2VtZW50SWQpfSx0aGlzLmdldFVzZXJTeW5jcz1mdW5jdGlvbihlLHIsYSl7cmV0dXJuW119LHRoaXMuYnVpbGRSZXF1ZXN0cz1mdW5jdGlvbihlLHIpe3ZhciBhPWwoInBsYWNlbWVudElkIixlKTtpZih2b2lkIDA9PT1hfHxlLmxlbmd0aDwxKXJldHVybltdO3ZhciB0PWwoImVuZHBvaW50IixlKXx8Imh0dHBzOi8vdGFnLjFyeC5pby9ybXAve3BsYWNlbWVudElkfS8wL3twYXRofT96PXt6b25lfSIscz1sKCJ6b25lIixlKXx8IjFyIixuPWwoInBhdGgiLGUpfHwibXZvIjt0PSh0PSh0PXQucmVwbGFjZSgvXHtwbGFjZW1lbnRJZFx9L2ksYSkpLnJlcGxhY2UoL1x7em9uZVx9L2kscykpLnJlcGxhY2UoL1x7cGF0aFx9L2ksbik7dmFyIGQ9LyhednwoXC4wKSskKS9naTt0Kz0iJmhidj0iKyI1LjExLjAiLnJlcGxhY2UoZCwiIikrIiwiKyIyLjEiLnJlcGxhY2UoZCwiIik7dmFyIHA9ZnVuY3Rpb24oZSxyKXt2YXIgYT17aWQ6ZVswXS5iaWRkZXJSZXF1ZXN0SWQsaW1wOm8oZSxyKSxzaXRlOmMociksZGV2aWNlOnt1YTpuYXZpZ2F0b3IudXNlckFnZW50LGlwOiIiLGRudDppLmdldEROVCgpPzE6MH0sdXNlcjp7ZXh0Ontjb25zZW50OmkuZGVlcEFjY2VzcyhyLCJnZHByQ29uc2VudC5nZHByQXBwbGllcyIpP3IuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZzoiIn19LGF0OjEsdG1heDoxZTMscmVnczp7ZXh0OntnZHByOiEhaS5kZWVwQWNjZXNzKHIsImdkcHJDb25zZW50LmdkcHJBcHBsaWVzIikmJkJvb2xlYW4oMSZyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKX19fTtyZXR1cm4gZVswXS5zY2hhaW4mJihhLnNvdXJjZT17ZXh0OntzY2hhaW46ZVswXS5zY2hhaW59fSksYX0oZSxyKTtyZXR1cm4gcC5pbXAubGVuZ3RoP3ttZXRob2Q6IlBPU1QiLHVybDp0LGRhdGE6SlNPTi5zdHJpbmdpZnkocCl9Ont9fSx0aGlzLmludGVycHJldFJlc3BvbnNlPWZ1bmN0aW9uKGUpe3ZhciByPWUuYm9keXx8W10sYT1bXSxpPTA7aWYoci5zZWF0YmlkKXt2YXIgdD1bXTtmb3IoaT0wO2k8ci5zZWF0YmlkLmxlbmd0aDtpKyspZm9yKHZhciBzPTA7czxyLnNlYXRiaWRbaV0uYmlkLmxlbmd0aDtzKyspdC5wdXNoKHIuc2VhdGJpZFtpXS5iaWRbc10pO3I9dH1mb3IoaT0wO2k8ci5sZW5ndGg7aSsrKXt2YXIgbj1yW2ldLG89ZFtuLmltcGlkXSxjPXtyZXF1ZXN0SWQ6by5iaWRJZCxiaWRkZXJDb2RlOnAuY29kZSxjcG06cGFyc2VGbG9hdChuLnByaWNlKSx3aWR0aDpuLncsaGVpZ2h0Om4uaCxtZXRhOnthZHZlcnRpc2VyRG9tYWluczpuLmFkb21haW59LGNyZWF0aXZlSWQ6bi5jcmlkLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITAsdHRsOjM1MH07by5tZWRpYVR5cGVzJiZvLm1lZGlhVHlwZXMudmlkZW8/KGMudmFzdFVybD1uLm51cmwsYy5tZWRpYVR5cGU9InZpZGVvIixjLnR0bD02MDApOmMuYWQ9bi5hZG0sYS5wdXNoKGMpfXJldHVybiBhfX07T2JqZWN0KHQucmVnaXN0ZXJCaWRkZXIpKG4pfX0sWzcwMV0pOwp1cGJqc0NodW5rKFsxMjZdLHs3MTk6ZnVuY3Rpb24oZSxyLHQpe2UuZXhwb3J0cz10KDcyMCl9LDcyMDpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQociwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIF99KSksci5oYXNWaWRlb01lZGlhVHlwZT1PLHQuZChyLCJyZXNldFJ1YmlDb25mIiwoZnVuY3Rpb24oKXtyZXR1cm4ga30pKSxyLm1hc1NpemVPcmRlcmluZz1SLHIuZGV0ZXJtaW5lUnViaWNvblZpZGVvU2l6ZUlkPXosci5nZXRQcmljZUdyYW51bGFyaXR5PVQsci5oYXNWYWxpZFZpZGVvUGFyYW1zPUUsci5oYXNWYWxpZFN1cHBseUNoYWluUGFyYW1zPVUsci5lbmNvZGVQYXJhbT1QLHIucmVzZXRVc2VyU3luYz1mdW5jdGlvbigpe049ITF9O3ZhciBuPXQoMCksaT10KDEpLG89dCgzKSxhPXQoMikscz10KDExKSxjPXQubihzKSxkPXQoMTMpLHU9dCgxNCk7ZnVuY3Rpb24gcChlLHIpe3ZhciB0PU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7ciYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUscikuZW51bWVyYWJsZX0pKSksdC5wdXNoLmFwcGx5KHQsbil9cmV0dXJuIHR9ZnVuY3Rpb24gbChlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgdD1udWxsIT1hcmd1bWVudHNbcl0/YXJndW1lbnRzW3JdOnt9O3IlMj9wKE9iamVjdCh0KSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24ocil7dihlLHIsdFtyXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSk6cChPYmplY3QodCkpLmZvckVhY2goKGZ1bmN0aW9uKHIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBmKCl7cmV0dXJuKGY9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9YXJndW1lbnRzW3JdO2Zvcih2YXIgbiBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiYoZVtuXT10W25dKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBtKGUscil7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHIpe3ZhciB0PW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09dClyZXR1cm47dmFyIG4saSxvPVtdLGE9ITAscz0hMTt0cnl7Zm9yKHQ9dC5jYWxsKGUpOyEoYT0obj10Lm5leHQoKSkuZG9uZSkmJihvLnB1c2gobi52YWx1ZSksIXJ8fG8ubGVuZ3RoIT09cik7YT0hMCk7fWNhdGNoKGUpe3M9ITAsaT1lfWZpbmFsbHl7dHJ5e2F8fG51bGw9PXQucmV0dXJufHx0LnJldHVybigpfWZpbmFsbHl7aWYocyl0aHJvdyBpfX1yZXR1cm4gb30oZSxyKXx8ZnVuY3Rpb24oZSxyKXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBnKGUscik7dmFyIHQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09dCYmZS5jb25zdHJ1Y3RvciYmKHQ9ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PXR8fCJTZXQiPT09dClyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PXR8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpKXJldHVybiBnKGUscil9KGUscil8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBnKGUscil7KG51bGw9PXJ8fHI+ZS5sZW5ndGgpJiYocj1lLmxlbmd0aCk7Zm9yKHZhciB0PTAsbj1uZXcgQXJyYXkocik7dDxyO3QrKyluW3RdPWVbdF07cmV0dXJuIG59ZnVuY3Rpb24gdihlLHIsdCl7cmV0dXJuIHIgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLHt2YWx1ZTp0LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVtyXT10LGV9ZnVuY3Rpb24gYihlKXtyZXR1cm4oYj0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfXZhciB5PSJodHRwczovL3ZpZGVvLW91dHN0cmVhbS5ydWJpY29ucHJvamVjdC5jb20vYXBleC0yLjAuMC5qcyIseD17fTtvLmIuZ2V0Q29uZmlnKCJydWJpY29uIiwoZnVuY3Rpb24oZSl7bi5tZXJnZURlZXAoeCxlLnJ1Ymljb24pfSkpO3ZhciBoPXsxOiI0Njh4NjAiLDI6IjcyOHg5MCIsNToiMTIweDkwIiw3OiIxMjV4MTI1Iiw4OiIxMjB4NjAwIiw5OiIxNjB4NjAwIiwxMDoiMzAweDYwMCIsMTM6IjIwMHgyMDAiLDE0OiIyNTB4MjUwIiwxNToiMzAweDI1MCIsMTY6IjMzNngyODAiLDE3OiIyNDB4NDAwIiwxOToiMzAweDEwMCIsMzE6Ijk4MHgxMjAiLDMyOiIyNTB4MzYwIiwzMzoiMTgweDUwMCIsMzU6Ijk4MHgxNTAiLDM3OiI0Njh4NDAwIiwzODoiOTMweDE4MCIsMzk6Ijc1MHgxMDAiLDQwOiI3NTB4MjAwIiw0MToiNzUweDMwMCIsNDI6IjJ4NCIsNDM6IjMyMHg1MCIsNDQ6IjMwMHg1MCIsNDg6IjMwMHgzMDAiLDUzOiIxMDI0eDc2OCIsNTQ6IjMwMHgxMDUwIiw1NToiOTcweDkwIiw1NzoiOTcweDI1MCIsNTg6IjEwMDB4OTAiLDU5OiIzMjB4ODAiLDYwOiIzMjB4MTUwIiw2MToiMTAwMHgxMDAwIiw2NDoiNTgweDUwMCIsNjU6IjY0MHg0ODAiLDY2OiI5MzB4NjAwIiw2NzoiMzIweDQ4MCIsNjg6IjE4MDB4MTAwMCIsNzI6IjMyMHgzMjAiLDczOiIzMjB4MTYwIiw3ODoiOTgweDI0MCIsNzk6Ijk4MHgzMDAiLDgwOiI5ODB4NDAwIiw4MzoiNDgweDMwMCIsODU6IjMwMHgxMjAiLDkwOiI1NDh4MTUwIiw5NDoiOTcweDMxMCIsOTU6Ijk3MHgxMDAiLDk2OiI5NzB4MjEwIiwxMDE6IjQ4MHgzMjAiLDEwMjoiNzY4eDEwMjQiLDEwMzoiNDgweDI4MCIsMTA1OiIyNTB4ODAwIiwxMDg6IjMyMHgyNDAiLDExMzoiMTAwMHgzMDAiLDExNzoiMzIweDEwMCIsMTI1OiI4MDB4MjUwIiwxMjY6IjIwMHg2MDAiLDE0NDoiOTgweDYwMCIsMTQ1OiI5ODB4MTUwIiwxNTI6IjEwMDB4MjUwIiwxNTY6IjY0MHgzMjAiLDE1OToiMzIweDI1MCIsMTc5OiIyNTB4NjAwIiwxOTU6IjYwMHgzMDAiLDE5ODoiNjQweDM2MCIsMTk5OiI2NDB4MjAwIiwyMTM6IjEwMzB4NTkwIiwyMTQ6Ijk4MHgzNjAiLDIyMToiMXgxIiwyMjk6IjMyMHgxODAiLDIzMDoiMjAwMHgxNDAwIiwyMzI6IjU4MHg0MDAiLDIzNDoiNng2IiwyNTE6IjJ4MiIsMjU2OiI0ODB4ODIwIiwyNTc6IjQwMHg2MDAiLDI1ODoiNTAweDIwMCIsMjU5OiI5OTh4MjAwIiwyNjQ6Ijk3MHgxMDAwIiwyNjU6IjE5MjB4MTA4MCIsMjc0OiIxODAweDIwMCIsMjc4OiIzMjB4NTAwIiwyODI6IjMyMHg0MDAiLDI4ODoiNjQweDM4MCIsNTQ4OiI1MDB4MTAwMCIsNTUwOiI5ODB4NDgwIiw1NTI6IjMwMHgyMDAiLDU1ODoiNjQweDY0MCJ9O24uX2VhY2goaCwoZnVuY3Rpb24oZSxyKXtyZXR1cm4gaFtlXT1yfSkpO3ZhciBfPXtjb2RlOiJydWJpY29uIixndmxpZDo1MixzdXBwb3J0ZWRNZWRpYVR5cGVzOlthLmIsYS5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtpZigib2JqZWN0IiE9PWIoZS5wYXJhbXMpKXJldHVybiExO2Zvcih2YXIgcj0wLHQ9WyJhY2NvdW50SWQiLCJzaXRlSWQiLCJ6b25lSWQiXTtyPHQubGVuZ3RoO3IrKylpZihlLnBhcmFtc1t0W3JdXT1wYXJzZUludChlLnBhcmFtc1t0W3JdXSksaXNOYU4oZS5wYXJhbXNbdFtyXV0pKXJldHVybiBuLmxvZ0Vycm9yKCJSdWJpY29uOiB3cm9uZyBmb3JtYXQgb2YgYWNjb3VudElkIG9yIHNpdGVJZCBvciB6b25lSWQuIiksITE7dmFyIGk9dyhlLCEwKTtyZXR1cm4hIWkmJigidmlkZW8iIT09aXx8RShlKSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgdD1bXSxpPWUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4idmlkZW8iPT09dyhlKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe2Uuc3RhcnRUaW1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpO3ZhciB0PXtpZDplLnRyYW5zYWN0aW9uSWQsdGVzdDpvLmIuZ2V0Q29uZmlnKCJkZWJ1ZyIpPzE6MCxjdXI6WyJVU0QiXSxzb3VyY2U6e3RpZDplLnRyYW5zYWN0aW9uSWR9LHRtYXg6ci50aW1lb3V0LGltcDpbe2V4cDpvLmIuZ2V0Q29uZmlnKCJzMnNDb25maWcuZGVmYXVsdFR0bCIpLGlkOmUuYWRVbml0Q29kZSxzZWN1cmU6MSxleHQ6dih7fSxlLmJpZGRlcixlLnBhcmFtcyksdmlkZW86bi5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8iKXx8e319XSxleHQ6e3ByZWJpZDp7Y2hhbm5lbDp7bmFtZToicGJqcyIsdmVyc2lvbjp1cGJqcy52ZXJzaW9ufSxjYWNoZTp7dmFzdHhtbDp7cmV0dXJuQ3JlYXRpdmU6ITA9PT14LnJldHVyblZhc3R9fSx0YXJnZXRpbmc6e2luY2x1ZGV3aW5uZXJzOiEwLGluY2x1ZGViaWRkZXJrZXlzOiExLHByaWNlZ3JhbnVsYXJpdHk6VChvLmIpfSxiaWRkZXJzOntydWJpY29uOntpbnRlZ3JhdGlvbjp4LmludF90eXBlfHwicGJqcyJ9fX19fTsicnViaWNvbiIhPT1lLmJpZGRlciYmKHQuZXh0LnByZWJpZC5hbGlhc2VzPXYoe30sZS5iaWRkZXIsInJ1Ymljb24iKSk7dmFyIGkscyxjPU9iamVjdCh1LmEpKCkuaW5zdGFsbGVkTW9kdWxlcztpZighY3x8Yy5sZW5ndGgmJi0xPT09Yy5pbmRleE9mKCJydWJpY29uQW5hbHl0aWNzQWRhcHRlciIpfHxuLmRlZXBTZXRWYWx1ZSh0LCJleHQucHJlYmlkLmFuYWx5dGljcyIse3J1Ymljb246eyJjbGllbnQtYW5hbHl0aWNzIjohMH19KSwiZnVuY3Rpb24iIT10eXBlb2YgZS5nZXRGbG9vcnx8eC5kaXNhYmxlRmxvb3JzKWk9cGFyc2VGbG9hdChuLmRlZXBBY2Nlc3MoZSwicGFyYW1zLmZsb29yIikpO2Vsc2V7dmFyIGQ7dHJ5e2Q9ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOiJ2aWRlbyIsc2l6ZTpTKGUsInZpZGVvIil9KX1jYXRjaChlKXtuLmxvZ0Vycm9yKCJSdWJpY29uOiBnZXRGbG9vciB0aHJldyBhbiBlcnJvcjogIixlKX1pPSJvYmplY3QiIT09YihkKXx8IlVTRCIhPT1kLmN1cnJlbmN5fHxpc05hTihwYXJzZUludChkLmZsb29yKSk/dm9pZCAwOnBhcnNlRmxvYXQoZC5mbG9vcil9KGlzTmFOKGkpfHwodC5pbXBbMF0uYmlkZmxvb3I9aSksdC5pbXBbMF0uZXh0W2UuYmlkZGVyXS52aWRlby5zaXplX2lkPXooZSksZnVuY3Rpb24oZSxyLHQpe2lmKCFlKXJldHVybjsib2JqZWN0Ij09PWIoby5iLmdldENvbmZpZygiYXBwIikpP2UuYXBwPW8uYi5nZXRDb25maWcoImFwcCIpOmUuc2l0ZT17cGFnZTpBKHIsdCl9OyJvYmplY3QiPT09YihvLmIuZ2V0Q29uZmlnKCJkZXZpY2UiKSkmJihlLmRldmljZT1vLmIuZ2V0Q29uZmlnKCJkZXZpY2UiKSk7ci5wYXJhbXMudmlkZW8ubGFuZ3VhZ2UmJlsic2l0ZSIsImRldmljZSJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe2VbdF0mJihlW3RdLmNvbnRlbnQ9Zih7bGFuZ3VhZ2U6ci5wYXJhbXMudmlkZW8ubGFuZ3VhZ2V9LGVbdF0uY29udGVudCkpfSkpfSh0LGUsciksZnVuY3Rpb24oZSxyKXsib2JqZWN0Ij09PWIoZS5pbXBbMF0udmlkZW8pJiZ2b2lkIDA9PT1lLmltcFswXS52aWRlby5za2lwJiYoZS5pbXBbMF0udmlkZW8uc2tpcD1yLnBhcmFtcy52aWRlby5za2lwKTsib2JqZWN0Ij09PWIoZS5pbXBbMF0udmlkZW8pJiZ2b2lkIDA9PT1lLmltcFswXS52aWRlby5za2lwYWZ0ZXImJihlLmltcFswXS52aWRlby5za2lwYWZ0ZXI9ci5wYXJhbXMudmlkZW8uc2tpcGRlbGF5KTsib2JqZWN0Ij09PWIoZS5pbXBbMF0udmlkZW8pJiZ2b2lkIDA9PT1lLmltcFswXS52aWRlby5wb3MmJigiYXRmIj09PXIucGFyYW1zLnBvc2l0aW9uP2UuaW1wWzBdLnZpZGVvLnBvcz0xOiJidGYiPT09ci5wYXJhbXMucG9zaXRpb24mJihlLmltcFswXS52aWRlby5wb3M9MykpO3ZhciB0PVMociwidmlkZW8iKTtlLmltcFswXS52aWRlby53PXRbMF0sZS5pbXBbMF0udmlkZW8uaD10WzFdfSh0LGUpLHIuZ2RwckNvbnNlbnQpJiYoImJvb2xlYW4iPT10eXBlb2Ygci5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmKHM9ci5nZHByQ29uc2VudC5nZHByQXBwbGllcz8xOjApLG4uZGVlcFNldFZhbHVlKHQsInJlZ3MuZXh0LmdkcHIiLHMpLG4uZGVlcFNldFZhbHVlKHQsInVzZXIuZXh0LmNvbnNlbnQiLHIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZykpO3IudXNwQ29uc2VudCYmbi5kZWVwU2V0VmFsdWUodCwicmVncy5leHQudXNfcHJpdmFjeSIsci51c3BDb25zZW50KTt2YXIgcD1uLmRlZXBBY2Nlc3MociwiYmlkcy4wLnVzZXJJZEFzRWlkcyIpO3AmJnAubGVuZ3RoJiZuLmRlZXBTZXRWYWx1ZSh0LCJ1c2VyLmV4dC5laWRzIixwKTt2YXIgbD1vLmIuZ2V0Q29uZmlnKCJ1c2VyLmlkIik7bCYmbi5kZWVwU2V0VmFsdWUodCwidXNlci5pZCIsbCksITA9PT1vLmIuZ2V0Q29uZmlnKCJjb3BwYSIpJiZuLmRlZXBTZXRWYWx1ZSh0LCJyZWdzLmNvcHBhIiwxKSxlLnNjaGFpbiYmVShlLnNjaGFpbikmJm4uZGVlcFNldFZhbHVlKHQsInNvdXJjZS5leHQuc2NoYWluIixlLnNjaGFpbik7dmFyIG09by5iLmdldENvbmZpZygibXVsdGliaWQiKTtyZXR1cm4gbSYmbi5kZWVwU2V0VmFsdWUodCwiZXh0LnByZWJpZC5tdWx0aWJpZCIsbS5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7dmFyIHQ9e307cmV0dXJuIE9iamVjdC5rZXlzKHIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3RbZS50b0xvd2VyQ2FzZSgpXT1yW2VdfSkpLGUucHVzaCh0KSxlfSksW10pKSxDKGUsYS5kLHQpLGUuc3RvcmVkQXVjdGlvblJlc3BvbnNlJiZuLmRlZXBTZXRWYWx1ZSh0LmltcFswXSwiZXh0LnByZWJpZC5zdG9yZWRhdWN0aW9ucmVzcG9uc2UuaWQiLGUuc3RvcmVkQXVjdGlvblJlc3BvbnNlLnRvU3RyaW5nKCkpLG4uZGVlcFNldFZhbHVlKHQuaW1wWzBdLCJleHQucHJlYmlkLmF1Y3Rpb250aW1lc3RhbXAiLHIuYXVjdGlvblN0YXJ0KSx7bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vIi5jb25jYXQoeC52aWRlb0hvc3R8fCJwcmViaWQtc2VydmVyIiwiLnJ1Ymljb25wcm9qZWN0LmNvbS9vcGVucnRiMi9hdWN0aW9uIiksZGF0YTp0LGJpZFJlcXVlc3Q6ZX19KSk7aWYoITAhPT14LnNpbmdsZVJlcXVlc3QpdD1pLmNvbmNhdChlLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuImJhbm5lciI9PT13KGUpfSkpLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9Xy5jcmVhdGVTbG90UGFyYW1zKGUscik7cmV0dXJue21ldGhvZDoiR0VUIix1cmw6Imh0dHBzOi8vIi5jb25jYXQoeC5iYW5uZXJIb3N0fHwiZmFzdGxhbmUiLCIucnViaWNvbnByb2plY3QuY29tL2EvYXBpL2Zhc3RsYW5lLmpzb24iKSxkYXRhOl8uZ2V0T3JkZXJlZFBhcmFtcyh0KS5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7dmFyIGk9dFtyXTtyZXR1cm4gbi5pc1N0cihpKSYmIiIhPT1pfHxuLmlzTnVtYmVyKGkpPyIiLmNvbmNhdChlKS5jb25jYXQoUChyLGkpLCImIik6ZX0pLCIiKSsic2xvdHM9MSZyYW5kPSIuY29uY2F0KE1hdGgucmFuZG9tKCkpLGJpZFJlcXVlc3Q6ZX19KSkpO2Vsc2V7dmFyIHM9ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiJiYW5uZXIiPT09dyhlKX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7cmV0dXJuKGVbci5wYXJhbXMuc2l0ZUlkXT1lW3IucGFyYW1zLnNpdGVJZF18fFtdKS5wdXNoKHIpLGV9KSx7fSk7dD1pLmNvbmNhdChPYmplY3Qua2V5cyhzKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIGksbztyZXR1cm4oaT1zW3RdLG89MTAsaS5tYXAoKGZ1bmN0aW9uKGUscil7cmV0dXJuIHIlbz09MD9pLnNsaWNlKHIscitvKTpudWxsfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBpPV8uY29tYmluZVNsb3RVcmxQYXJhbXModC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBfLmNyZWF0ZVNsb3RQYXJhbXMoZSxyKX0pKSk7ZS5wdXNoKHttZXRob2Q6IkdFVCIsdXJsOiJodHRwczovLyIuY29uY2F0KHguYmFubmVySG9zdHx8ImZhc3RsYW5lIiwiLnJ1Ymljb25wcm9qZWN0LmNvbS9hL2FwaS9mYXN0bGFuZS5qc29uIiksZGF0YTpfLmdldE9yZGVyZWRQYXJhbXMoaSkucmVkdWNlKChmdW5jdGlvbihlLHIpe3ZhciB0PWlbcl07cmV0dXJuIG4uaXNTdHIodCkmJiIiIT09dHx8bi5pc051bWJlcih0KT8iIi5jb25jYXQoZSkuY29uY2F0KFAocix0KSwiJiIpOmV9KSwiIikrInNsb3RzPSIuY29uY2F0KHQubGVuZ3RoLCImcmFuZD0iKS5jb25jYXQoTWF0aC5yYW5kb20oKSksYmlkUmVxdWVzdDp0fSl9KSksZX0pLFtdKSl9cmV0dXJuIHR9LGdldE9yZGVyZWRQYXJhbXM6ZnVuY3Rpb24oZSl7dmFyIHI9L150Z192Lyx0PS9edGdfaS8sbj0vXmVpZF98XnRwaWRfLyxpPVsiYWNjb3VudF9pZCIsInNpdGVfaWQiLCJ6b25lX2lkIiwic2l6ZV9pZCIsImFsdF9zaXplX2lkcyIsInBfcG9zIiwiZ2RwciIsImdkcHJfY29uc2VudCIsInVzX3ByaXZhY3kiLCJycF9zY2hhaW4iXS5jb25jYXQoT2JqZWN0LmtleXMoZSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbi50ZXN0KGUpfSkpKS5jb25jYXQoWyJ4X2xpdmVyYW1waWRsIiwicHB1aWQiLCJyZiIsInBfZ2VvLmxhdGl0dWRlIiwicF9nZW8ubG9uZ2l0dWRlIiwia3ciXSkuY29uY2F0KE9iamVjdC5rZXlzKGUpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHIudGVzdChlKX0pKSkuY29uY2F0KE9iamVjdC5rZXlzKGUpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHQudGVzdChlKX0pKSkuY29uY2F0KFsidGtfZmxpbnQiLCJ4X3NvdXJjZS50aWQiLCJ4X3NvdXJjZS5wY2hhaW4iLCJwX3NjcmVlbl9yZXMiLCJycF9mbG9vciIsInJwX3NlY3VyZSIsInRrX3VzZXJfa2V5Il0pO3JldHVybiBpLmNvbmNhdChPYmplY3Qua2V5cyhlKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybi0xPT09aS5pbmRleE9mKGUpfSkpKX0sY29tYmluZVNsb3RVcmxQYXJhbXM6ZnVuY3Rpb24oZSl7aWYoMT09PWUubGVuZ3RoKXJldHVybiBlWzBdO3ZhciByPWUucmVkdWNlKChmdW5jdGlvbihyLHQsbil7cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKGkpe3IuaGFzT3duUHJvcGVydHkoaSl8fChyW2ldPW5ldyBBcnJheShlLmxlbmd0aCkpLHJbaV0uc3BsaWNlKG4sMSx0W2ldKX0pKSxyfSkse30pLHQ9bmV3IFJlZ0V4cCgiXihbXjtdKikoO1xcMSkrJCIpO3JldHVybiBPYmplY3Qua2V5cyhyKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1yW2VdLmpvaW4oIjsiKSxpPW4ubWF0Y2godCk7cltlXT1pP2lbMV06bn0pKSxyfSxjcmVhdGVTbG90UGFyYW1zOmZ1bmN0aW9uKGUscil7ZS5zdGFydFRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCk7dmFyIHQ9ZS5wYXJhbXMsaT1TKGUsImJhbm5lciIpLHM9bSh0LmxhdExvbmd8fFtdLDIpLGQ9c1swXSx1PXNbMV0scD17YWNjb3VudF9pZDp0LmFjY291bnRJZCxzaXRlX2lkOnQuc2l0ZUlkLHpvbmVfaWQ6dC56b25lSWQsc2l6ZV9pZDppWzBdLGFsdF9zaXplX2lkczppLnNsaWNlKDEpLmpvaW4oIiwiKXx8dm9pZCAwLHJwX2Zsb29yOih0LmZsb29yPXBhcnNlRmxvYXQodC5mbG9vcikpPj0uMDE/dC5mbG9vcjp2b2lkIDAscnBfc2VjdXJlOiIxIix0a19mbGludDoiIi5jb25jYXQoeC5pbnRfdHlwZXx8InBianNfbGl0ZSIsIl92NS4xMS4wIiksInhfc291cmNlLnRpZCI6ZS50cmFuc2FjdGlvbklkLCJ4X3NvdXJjZS5wY2hhaW4iOnQucGNoYWluLHBfc2NyZWVuX3Jlczpbd2luZG93LnNjcmVlbi53aWR0aCx3aW5kb3cuc2NyZWVuLmhlaWdodF0uam9pbigieCIpLHRrX3VzZXJfa2V5OnQudXNlcklkLCJwX2dlby5sYXRpdHVkZSI6aXNOYU4ocGFyc2VGbG9hdChkKSk/dm9pZCAwOnBhcnNlRmxvYXQoZCkudG9GaXhlZCg0KSwicF9nZW8ubG9uZ2l0dWRlIjppc05hTihwYXJzZUZsb2F0KHUpKT92b2lkIDA6cGFyc2VGbG9hdCh1KS50b0ZpeGVkKDQpLCJ0Z19mbC5laWQiOmUuY29kZSxyZjpBKGUscil9O2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLmdldEZsb29yJiYheC5kaXNhYmxlRmxvb3JzKXt2YXIgbDt0cnl7bD1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6ImJhbm5lciIsc2l6ZToiKiJ9KX1jYXRjaChlKXtuLmxvZ0Vycm9yKCJSdWJpY29uOiBnZXRGbG9vciB0aHJldyBhbiBlcnJvcjogIixlKX1wLnJwX2hhcmRfZmxvb3I9Im9iamVjdCIhPT1iKGwpfHwiVVNEIiE9PWwuY3VycmVuY3l8fGlzTmFOKHBhcnNlSW50KGwuZmxvb3IpKT92b2lkIDA6bC5mbG9vcn12YXIgZj17MToiYXRmIiwzOiJidGYifVtuLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy5iYW5uZXIucG9zIildfHwiIjtwLnBfcG9zPSJhdGYiPT09dC5wb3NpdGlvbnx8ImJ0ZiI9PT10LnBvc2l0aW9uP3QucG9zaXRpb246Zjt2YXIgZz1vLmIuZ2V0Q29uZmlnKCJ1c2VyLmlkIik7cmV0dXJuIGcmJihwLnBwdWlkPWcpLGUudXNlcklkQXNFaWRzJiZlLnVzZXJJZEFzRWlkcy5mb3JFYWNoKChmdW5jdGlvbihlKXt0cnl7aWYoImFkc2VydmVyLm9yZyI9PT1lLnNvdXJjZT8ocC50cGlkX3RkaWQ9ZS51aWRzWzBdLmlkLHBbImVpZF9hZHNlcnZlci5vcmciXT1lLnVpZHNbMF0uaWQpOiJsaXZlaW50ZW50LmNvbSI9PT1lLnNvdXJjZT8ocFsidHBpZF9saXZlaW50ZW50LmNvbSJdPWUudWlkc1swXS5pZCxwWyJlaWRfbGl2ZWludGVudC5jb20iXT1lLnVpZHNbMF0uaWQsZS5leHQmJkFycmF5LmlzQXJyYXkoZS5leHQuc2VnbWVudHMpJiZlLmV4dC5zZWdtZW50cy5sZW5ndGgmJihwWyJ0Z192LkxJc2VnIl09ZS5leHQuc2VnbWVudHMuam9pbigiLCIpKSk6ImxpdmVyYW1wLmNvbSI9PT1lLnNvdXJjZT9wLnhfbGl2ZXJhbXBpZGw9ZS51aWRzWzBdLmlkOiJpZDUtc3luYy5jb20iPT09ZS5zb3VyY2U/cFsiZWlkX2lkNS1zeW5jLmNvbSJdPSIiLmNvbmNhdChlLnVpZHNbMF0uaWQsIl4iKS5jb25jYXQoZS51aWRzWzBdLmF0eXBlLCJeIikuY29uY2F0KGUudWlkc1swXS5leHQmJmUudWlkc1swXS5leHQubGlua1R5cGV8fCIiKTpwWyJlaWRfIi5jb25jYXQoZS5zb3VyY2UpXT0iIi5jb25jYXQoZS51aWRzWzBdLmlkLCJeIikuY29uY2F0KGUudWlkc1swXS5hdHlwZXx8IiIpLCFwLnBwdWlkKXt2YXIgcj1jKCkoZS51aWRzLChmdW5jdGlvbihlKXtyZXR1cm4gZS5leHQmJiJwcHVpZCI9PT1lLmV4dC5zdHlwZX0pKTtyJiZyLmlkJiYocC5wcHVpZD1yLmlkKX19Y2F0Y2gocil7bi5sb2dXYXJuKCJSdWJpY29uOiBlcnJvciByZWFkaW5nIGVpZDoiLGUscil9fSkpLHIuZ2RwckNvbnNlbnQmJigiYm9vbGVhbiI9PXR5cGVvZiByLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYocC5nZHByPU51bWJlcihyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKSkscC5nZHByX2NvbnNlbnQ9ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSxyLnVzcENvbnNlbnQmJihwLnVzX3ByaXZhY3k9ZW5jb2RlVVJJQ29tcG9uZW50KHIudXNwQ29uc2VudCkpLHAucnBfbWF4Ymlkcz1yLmJpZExpbWl0fHwxLEMoZSxhLmIscCksITA9PT1vLmIuZ2V0Q29uZmlnKCJjb3BwYSIpJiYocC5jb3BwYT0xKSxlLnNjaGFpbiYmVShlLnNjaGFpbikmJihwLnJwX3NjaGFpbj1fLnNlcmlhbGl6ZVN1cHBseUNoYWluKGUuc2NoYWluKSkscH0sc2VyaWFsaXplU3VwcGx5Q2hhaW46ZnVuY3Rpb24oZSl7aWYoIVUoZSkpcmV0dXJuIiI7dmFyIHI9ZS52ZXIsdD1lLmNvbXBsZXRlLG49ZS5ub2RlcztyZXR1cm4iIi5jb25jYXQociwiLCIpLmNvbmNhdCh0LCIhIikuY29uY2F0KF8uc2VyaWFsaXplU3VwcGx5Q2hhaW5Ob2RlcyhuKSl9LHNlcmlhbGl6ZVN1cHBseUNoYWluTm9kZXM6ZnVuY3Rpb24oZSl7dmFyIHI9WyJhc2kiLCJzaWQiLCJocCIsInJpZCIsIm5hbWUiLCJkb21haW4iXTtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiByLm1hcCgoZnVuY3Rpb24ocil7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChlW3JdfHwiIil9KSkuam9pbigiLCIpfSkpLmpvaW4oIiEiKX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgdD1yLmJpZFJlcXVlc3Q7aWYoIShlPWUuYm9keSl8fCJvYmplY3QiIT09YihlKSlyZXR1cm5bXTtpZihlLnNlYXRiaWQpe3ZhciBpPW4uZGVlcEFjY2VzcyhlLCJleHQuZXJyb3JzLnJ1Ymljb24iKTtBcnJheS5pc0FycmF5KGkpJiZpLmxlbmd0aD4wJiZuLmxvZ1dhcm4oIlJ1Ymljb246IEVycm9yIGluIHZpZGVvIHJlc3BvbnNlIik7dmFyIG89W107cmV0dXJuIGUuc2VhdGJpZC5mb3JFYWNoKChmdW5jdGlvbihyKXsoci5iaWR8fFtdKS5mb3JFYWNoKChmdW5jdGlvbihpKXt2YXIgcz17cmVxdWVzdElkOnQuYmlkSWQsY3VycmVuY3k6ZS5jdXJ8fCJVU0QiLGNyZWF0aXZlSWQ6aS5jcmlkLGNwbTppLnByaWNlfHwwLGJpZGRlckNvZGU6ci5zZWF0LHR0bDozMDAsbmV0UmV2ZW51ZTohMSE9PXgubmV0UmV2ZW51ZSx3aWR0aDppLnd8fG4uZGVlcEFjY2Vzcyh0LCJtZWRpYVR5cGVzLnZpZGVvLnciKXx8bi5kZWVwQWNjZXNzKHQsInBhcmFtcy52aWRlby5wbGF5ZXJXaWR0aCIpLGhlaWdodDppLmh8fG4uZGVlcEFjY2Vzcyh0LCJtZWRpYVR5cGVzLnZpZGVvLmgiKXx8bi5kZWVwQWNjZXNzKHQsInBhcmFtcy52aWRlby5wbGF5ZXJIZWlnaHQiKX07aS5pZCYmKHMuc2VhdEJpZElkPWkuaWQpLGkuZGVhbGlkJiYocy5kZWFsSWQ9aS5kZWFsaWQpLGkuYWRvbWFpbiYmbi5kZWVwU2V0VmFsdWUocywibWV0YS5hZHZlcnRpc2VyRG9tYWlucyIsQXJyYXkuaXNBcnJheShpLmFkb21haW4pP2kuYWRvbWFpbjpbaS5hZG9tYWluXSksbi5kZWVwQWNjZXNzKGksImV4dC5iaWRkZXIucnAuYWR2aWQiKSYmbi5kZWVwU2V0VmFsdWUocywibWV0YS5hZHZlcnRpc2VySWQiLGkuZXh0LmJpZGRlci5ycC5hZHZpZCk7dmFyIGM9bi5kZWVwQWNjZXNzKGUsImV4dC5yZXNwb25zZXRpbWVtaWxsaXMucnViaWNvbiIpO2lmKHQmJmMmJih0LnNlcnZlclJlc3BvbnNlVGltZU1zPWMpLG4uZGVlcEFjY2VzcyhpLCJleHQucHJlYmlkLnR5cGUiKT09PWEuZCl7cy5tZWRpYVR5cGU9YS5kLG4uZGVlcFNldFZhbHVlKHMsIm1ldGEubWVkaWFUeXBlIixhLmQpO3ZhciB1PW4uZGVlcEFjY2VzcyhpLCJleHQucHJlYmlkLnRhcmdldGluZyIpO3UmJiJvYmplY3QiPT09Yih1KSYmKHMuYWRzZXJ2ZXJUYXJnZXRpbmc9dSksaS5leHQucHJlYmlkLmNhY2hlJiYib2JqZWN0Ij09PWIoaS5leHQucHJlYmlkLmNhY2hlLnZhc3RYbWwpJiZpLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbC5jYWNoZUlkJiZpLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbC51cmw/KHMudmlkZW9DYWNoZUtleT1pLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbC5jYWNoZUlkLHMudmFzdFVybD1pLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbC51cmwpOnUmJnUuaGJfdXVpZCYmdS5oYl9jYWNoZV9ob3N0JiZ1LmhiX2NhY2hlX3BhdGgmJihzLnZpZGVvQ2FjaGVLZXk9dS5oYl91dWlkLHMudmFzdFVybD0iaHR0cHM6Ly8iLmNvbmNhdCh1LmhiX2NhY2hlX2hvc3QpLmNvbmNhdCh1LmhiX2NhY2hlX3BhdGgsIj91dWlkPSIpLmNvbmNhdCh1LmhiX3V1aWQpKSxpLmFkbSYmKHMudmFzdFhtbD1pLmFkbSksaS5udXJsJiYocy52YXN0VXJsPWkubnVybCksIXMudmFzdFVybCYmaS5udXJsJiYocy52YXN0VXJsPWkubnVybCksIm91dHN0cmVhbSI9PT1uLmRlZXBBY2Nlc3ModCwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0IikudG9Mb3dlckNhc2UoKSYmKHMucmVuZGVyZXI9ZnVuY3Rpb24oZSl7dmFyIHI9ZC5hLmluc3RhbGwoe2lkOmUuYWRJZCx1cmw6eC5yZW5kZXJlclVybHx8eSxjb25maWc6eC5yZW5kZXJlckNvbmZpZ3x8e30sbG9hZGVkOiExLGFkVW5pdENvZGU6ZS5hZFVuaXRDb2RlfSk7dHJ5e3Iuc2V0UmVuZGVyKGopfWNhdGNoKGUpe24ubG9nV2FybigiUHJlYmlkIEVycm9yIGNhbGxpbmcgc2V0UmVuZGVyIG9uIHJlbmRlcmVyIixlKX1yZXR1cm4gcn0ocykpfWVsc2Ugbi5sb2dXYXJuKCJSdWJpY29uOiB2aWRlbyByZXNwb25zZSByZWNlaXZlZCBub24tdmlkZW8gbWVkaWEgdHlwZSIpO28ucHVzaChzKX0pKX0pKSxvfXZhciBzLGM9ZS5hZHMsdT0wO3JldHVybiJvYmplY3QiIT09Yih0KXx8QXJyYXkuaXNBcnJheSh0KXx8InZpZGVvIiE9PXcodCl8fCJvYmplY3QiIT09YihjKXx8KGM9Y1t0LmFkVW5pdENvZGVdKSwhQXJyYXkuaXNBcnJheShjKXx8Yy5sZW5ndGg8MT9bXTpjLnJlZHVjZSgoZnVuY3Rpb24ocixpLG8pe2lmKGkuaW1wcmVzc2lvbl9pZCYmcz09PWkuaW1wcmVzc2lvbl9pZD91Kys6cz1pLmltcHJlc3Npb25faWQsIm9rIiE9PWkuc3RhdHVzKXJldHVybiByO3ZhciBjLGQscD1BcnJheS5pc0FycmF5KHQpP3Rbby11XTp0O2lmKHAmJiJvYmplY3QiPT09YihwKSl7dmFyIGw9e3JlcXVlc3RJZDpwLmJpZElkLGN1cnJlbmN5OiJVU0QiLGNyZWF0aXZlSWQ6aS5jcmVhdGl2ZV9pZHx8IiIuY29uY2F0KGkubmV0d29ya3x8IiIsIi0iKS5jb25jYXQoaS5hZHZlcnRpc2VyfHwiIiksY3BtOmkuY3BtfHwwLGRlYWxJZDppLmRlYWwsdHRsOjMwMCxuZXRSZXZlbnVlOiExIT09eC5uZXRSZXZlbnVlLHJ1Ymljb246e2FkdmVydGlzZXJJZDppLmFkdmVydGlzZXIsbmV0d29ya0lkOmkubmV0d29ya30sbWV0YTp7YWR2ZXJ0aXNlcklkOmkuYWR2ZXJ0aXNlcixuZXR3b3JrSWQ6aS5uZXR3b3JrLG1lZGlhVHlwZTphLmJ9fTtpZihpLmNyZWF0aXZlX3R5cGUmJihsLm1lZGlhVHlwZT1pLmNyZWF0aXZlX3R5cGUpLGkuYWRvbWFpbiYmKGwubWV0YS5hZHZlcnRpc2VyRG9tYWlucz1BcnJheS5pc0FycmF5KGkuYWRvbWFpbik/aS5hZG9tYWluOltpLmFkb21haW5dKSxpLmNyZWF0aXZlX3R5cGU9PT1hLmQpbC53aWR0aD1wLnBhcmFtcy52aWRlby5wbGF5ZXJXaWR0aCxsLmhlaWdodD1wLnBhcmFtcy52aWRlby5wbGF5ZXJIZWlnaHQsbC52YXN0VXJsPWkuY3JlYXRpdmVfZGVwb3RfdXJsLGwuaW1wcmVzc2lvbl9pZD1pLmltcHJlc3Npb25faWQsbC52aWRlb0NhY2hlS2V5PWkuaW1wcmVzc2lvbl9pZDtlbHNle2wuYWQ9KGM9aS5zY3JpcHQsZD1pLmltcHJlc3Npb25faWQsIjxodG1sPlxuPGhlYWQ+PHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPmluRGFwSUY9dHJ1ZTs8XC9zY3JpcHQ+PC9oZWFkPlxuPGJvZHkgc3R5bGU9J21hcmdpbiA6IDA7IHBhZGRpbmc6IDA7Jz5cblx4M2MhLS0gUnViaWNvbiBQcm9qZWN0IEFkIFRhZyAtLVx4M2VcbjxkaXYgZGF0YS1ycC1pbXByZXNzaW9uLWlkPSciLmNvbmNhdChkLCInPlxuPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPiIpLmNvbmNhdChjLCI8XC9zY3JpcHQ+XG48L2Rpdj5cbjwvYm9keT5cbjwvaHRtbD4iKSk7dmFyIGY9bShoW2kuc2l6ZV9pZF0uc3BsaXQoIngiKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBOdW1iZXIoZSl9KSksMik7bC53aWR0aD1mWzBdLGwuaGVpZ2h0PWZbMV19bC5ydWJpY29uVGFyZ2V0aW5nPShBcnJheS5pc0FycmF5KGkudGFyZ2V0aW5nKT9pLnRhcmdldGluZzpbXSkucmVkdWNlKChmdW5jdGlvbihlLHIpe3JldHVybiBlW3Iua2V5XT1yLnZhbHVlc1swXSxlfSkse3JwZmxfZWxlbWlkOnAuYWRVbml0Q29kZX0pLHIucHVzaChsKX1lbHNlIG4ubG9nRXJyb3IoIlJ1Ymljb246IGJpZFJlcXVlc3QgdW5kZWZpbmVkIGF0IGluZGV4IHBvc2l0aW9uOiIuY29uY2F0KG8pLHQsZSk7cmV0dXJuIHJ9KSxbXSkuc29ydCgoZnVuY3Rpb24oZSxyKXtyZXR1cm4oci5jcG18fDApLShlLmNwbXx8MCl9KSl9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIsdCxuKXtpZighTiYmZS5pZnJhbWVFbmFibGVkKXt2YXIgaT0iIjtyZXR1cm4gdCYmInN0cmluZyI9PXR5cGVvZiB0LmNvbnNlbnRTdHJpbmcmJigiYm9vbGVhbiI9PXR5cGVvZiB0LmdkcHJBcHBsaWVzP2krPSI/Z2Rwcj0iLmNvbmNhdChOdW1iZXIodC5nZHByQXBwbGllcyksIiZnZHByX2NvbnNlbnQ9IikuY29uY2F0KHQuY29uc2VudFN0cmluZyk6aSs9Ij9nZHByX2NvbnNlbnQ9Ii5jb25jYXQodC5jb25zZW50U3RyaW5nKSksbiYmKGkrPSIiLmNvbmNhdChpPyImIjoiPyIsInVzX3ByaXZhY3k9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChuKSkpLE49ITAse3R5cGU6ImlmcmFtZSIsdXJsOiJodHRwczovLyIuY29uY2F0KHguc3luY0hvc3R8fCJldXMiLCIucnViaWNvbnByb2plY3QuY29tL3VzeW5jLmh0bWwiKStpfX19LHRyYW5zZm9ybUJpZFBhcmFtczpmdW5jdGlvbihlLHIpe3JldHVybiBuLmNvbnZlcnRUeXBlcyh7YWNjb3VudElkOiJudW1iZXIiLHNpdGVJZDoibnVtYmVyIix6b25lSWQ6Im51bWJlciJ9LGUpfX07ZnVuY3Rpb24gQShlLHIpe3ZhciB0PW8uYi5nZXRDb25maWcoInBhZ2VVcmwiKTtyZXR1cm4gZS5wYXJhbXMucmVmZXJyZXI/dD1lLnBhcmFtcy5yZWZlcnJlcjp0fHwodD1yLnJlZmVyZXJJbmZvLnJlZmVyZXIpLGUucGFyYW1zLnNlY3VyZT90LnJlcGxhY2UoL15odHRwOi9pLCJodHRwczoiKTp0fWZ1bmN0aW9uIGooZSl7dmFyIHIsdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlLmFkVW5pdENvZGUpOyhyPXQucXVlcnlTZWxlY3RvcigiZGl2W2lkXj0nZ29vZ2xlX2FkcyddIikpJiZyLnN0eWxlLnNldFByb3BlcnR5KCJkaXNwbGF5Iiwibm9uZSIpLGZ1bmN0aW9uKGUpe3ZhciByPWUucXVlcnlTZWxlY3Rvcigic2NyaXB0W2lkXj0nc2FzX3NjcmlwdCddIiksdD1yJiZyLm5leHRTaWJsaW5nO3QmJiJpZnJhbWUiPT09dC5sb2NhbE5hbWUmJnQuc3R5bGUuc2V0UHJvcGVydHkoImRpc3BsYXkiLCJub25lIil9KHQpO3ZhciBuPWUucmVuZGVyZXIuZ2V0Q29uZmlnKCk7ZS5yZW5kZXJlci5wdXNoKChmdW5jdGlvbigpe3dpbmRvdy5NYWduaXRlQXBleC5yZW5kZXJBZCh7d2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHQsdmFzdFVybDplLnZhc3RVcmwscGxhY2VtZW50OnthdHRhY2hUbzoiIyIuY29uY2F0KGUuYWRVbml0Q29kZSksYWxpZ246bi5hbGlnbnx8ImNlbnRlciIscG9zaXRpb246bi5wb3NpdGlvbnx8ImFwcGVuZCJ9LGNsb3NlQnV0dG9uOm4uY2xvc2VCdXR0b258fCExLGxhYmVsOm4ubGFiZWx8fHZvaWQgMCxjb2xsYXBzZTpuLmNvbGxhcHNlfHwhMH0pfSkpfWZ1bmN0aW9uIFMoZSxyKXt2YXIgdD1lLnBhcmFtcztpZigidmlkZW8iPT09cil7dmFyIGk9W107cmV0dXJuIHQudmlkZW8mJnQudmlkZW8ucGxheWVyV2lkdGgmJnQudmlkZW8ucGxheWVySGVpZ2h0P2k9W3QudmlkZW8ucGxheWVyV2lkdGgsdC52aWRlby5wbGF5ZXJIZWlnaHRdOkFycmF5LmlzQXJyYXkobi5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpKSYmMT09PWUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplLmxlbmd0aD9pPWUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdOkFycmF5LmlzQXJyYXkoZS5zaXplcykmJmUuc2l6ZXMubGVuZ3RoPjAmJkFycmF5LmlzQXJyYXkoZS5zaXplc1swXSkmJmUuc2l6ZXNbMF0ubGVuZ3RoPjEmJihpPWUuc2l6ZXNbMF0pLGl9dmFyIG89W107cmV0dXJuIEFycmF5LmlzQXJyYXkodC5zaXplcyk/bz10LnNpemVzOnZvaWQgMCE9PW4uZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcyIpP289SShlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzKTpBcnJheS5pc0FycmF5KGUuc2l6ZXMpJiZlLnNpemVzLmxlbmd0aD4wP289SShlLnNpemVzKTpuLmxvZ1dhcm4oIlJ1Ymljb246IG5vIHNpemVzIGFyZSBzZXR1cCBvciBmb3VuZCIpLFIobyl9ZnVuY3Rpb24gQyhlLHIsdCl7dmFyIGk9e3VzZXI6e2V4dDp7ZGF0YTpsKHt9LGUucGFyYW1zLnZpc2l0b3IpfX0sc2l0ZTp7ZXh0OntkYXRhOmwoe30sZS5wYXJhbXMuaW52ZW50b3J5KX19fTtlLnBhcmFtcy5rZXl3b3JkcyYmKGkuc2l0ZS5rZXl3b3Jkcz1uLmlzQXJyYXkoZS5wYXJhbXMua2V5d29yZHMpP2UucGFyYW1zLmtleXdvcmRzLmpvaW4oIiwiKTplLnBhcmFtcy5rZXl3b3Jkcyk7dmFyIHM9bi5tZXJnZURlZXAoe30sby5iLmdldENvbmZpZygib3J0YjIiKXx8e30saSksYz1uLmRlZXBBY2Nlc3MoZS5vcnRiMkltcCwiZXh0LmRhdGEiKXx8e30sZD17dXNlcjpbNF0sc2l0ZTpbMSwyLDUsNl19LHU9e3VzZXI6InRnX3YuIixzaXRlOiJ0Z19pLiIsYWRzZXJ2ZXI6InRnX2kuZGZwX2FkX3VuaXRfY29kZSIscGJhZHNsb3Q6InRnX2kucGJhZHNsb3QiLGtleXdvcmRzOiJrdyJ9LHA9ZnVuY3Rpb24oZSxyLHQpe2lmKCJkYXRhIj09PXImJkFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zZWdtZW50JiZuLmRlZXBBY2Nlc3MoZSwiZXh0LnNlZ3RheCIpJiZkW3RdJiYtMSE9PWRbdF0uaW5kZXhPZihuLmRlZXBBY2Nlc3MoZSwiZXh0LnNlZ3RheCIpKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciByPWUuc2VnbWVudC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSkpLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5wdXNoKHIuaWQpLGV9KSxbXSk7aWYoci5sZW5ndGg+MClyZXR1cm4gci50b1N0cmluZygpfSkpLnRvU3RyaW5nKCk7aWYoIm9iamVjdCIhPT1iKGUpfHxBcnJheS5pc0FycmF5KGUpKXtpZih2b2lkIDAhPT1lKXJldHVybiBBcnJheS5pc0FycmF5KGUpP2UuZmlsdGVyKChmdW5jdGlvbihlKXtpZigib2JqZWN0IiE9PWIoZSkmJnZvaWQgMCE9PWUpcmV0dXJuIGUudG9TdHJpbmcoKTtuLmxvZ1dhcm4oIlJ1Ymljb246IEZpbHRlcmVkIHZhbHVlOiAiLGUsImZvciBrZXkiLHIsIjogRXhwZWN0ZWQgdmFsdWUgdG8gYmUgc3RyaW5nLCBpbnRlZ2VyLCBvciBhbiBhcnJheSBvZiBzdHJpbmdzL2ludHMiKX0pKS50b1N0cmluZygpOmUudG9TdHJpbmcoKX1lbHNlIG4ubG9nV2FybigiUnViaWNvbjogRmlsdGVyZWQgRlBEIGtleTogIixyLCI6IEV4cGVjdGVkIHZhbHVlIHRvIGJlIHN0cmluZywgaW50ZWdlciwgb3IgYW4gYXJyYXkgb2Ygc3RyaW5ncy9pbnRzIil9LGY9ZnVuY3Rpb24oZSxyLG4pe3ZhciBpPSEoYXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10pfHxhcmd1bWVudHNbM10sbz1wKGUsbixyKSxhPXVbbl0mJmk/IiIuY29uY2F0KHVbbl0pOiJkYXRhIj09PW4/IiIuY29uY2F0KHVbcl0sImlhYiIpOiIiLmNvbmNhdCh1W3JdKS5jb25jYXQobik7dFthXT10W2FdP3RbYV0uY29uY2F0KCIsIixvKTpvfTtPYmplY3Qua2V5cyhjKS5mb3JFYWNoKChmdW5jdGlvbihlKXsiYWRzZXJ2ZXIiPT09ZT9bIm5hbWUiLCJhZHNsb3QiXS5mb3JFYWNoKChmdW5jdGlvbihyKXtjW2VdW3JdJiYoY1tlXVtyXT1jW2VdW3JdLnRvU3RyaW5nKCkucmVwbGFjZSgvXlwvKy8sIiIpKX0pKToicGJhZHNsb3QiPT09ZSYmKGNbZV09Y1tlXS50b1N0cmluZygpLnJlcGxhY2UoL15cLysvLCIiKSl9KSkscj09PWEuYj8oWyJzaXRlIiwidXNlciJdLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKHNbZV0pLmZvckVhY2goKGZ1bmN0aW9uKHIpeyJzaXRlIj09PWUmJiJjb250ZW50Ij09PXImJnNbZV1bcl0uZGF0YT9mKHNbZV1bcl0uZGF0YSxlLCJkYXRhIik6ImV4dCIhPT1yP2Yoc1tlXVtyXSxlLHIpOnNbZV1bcl0uZGF0YSYmT2JqZWN0LmtleXMoc1tlXS5leHQuZGF0YSkuZm9yRWFjaCgoZnVuY3Rpb24ocil7ZihzW2VdLmV4dC5kYXRhW3JdLGUsciwhMSl9KSl9KSl9KSksT2JqZWN0LmtleXMoYykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ImFkc2VydmVyIj09PWU/ZihjW2VdLmFkc2xvdCxuYW1lLGUpOmYoY1tlXSwic2l0ZSIsZSl9KSkpOihPYmplY3Qua2V5cyhjKS5sZW5ndGgmJm4ubWVyZ2VEZWVwKHQuaW1wWzBdLmV4dCx7ZGF0YTpjfSksbi5tZXJnZURlZXAodCxzKSl9ZnVuY3Rpb24gSShlKXtyZXR1cm4gbi5wYXJzZVNpemVzSW5wdXQoZSkucmVkdWNlKChmdW5jdGlvbihlLHIpe3ZhciB0PXBhcnNlSW50KGhbcl0sMTApO3JldHVybiB0JiZlLnB1c2godCksZX0pLFtdKX1mdW5jdGlvbiBPKGUpe3JldHVybiJvYmplY3QiPT09YihuLmRlZXBBY2Nlc3MoZSwicGFyYW1zLnZpZGVvIikpJiZ2b2lkIDAhPT1uLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy4iLmNvbmNhdChhLmQpKX1mdW5jdGlvbiB3KGUpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07cmV0dXJuIE8oZSk/LTE9PT1bIm91dHN0cmVhbSIsImluc3RyZWFtIl0uaW5kZXhPZihuLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy4iLmNvbmNhdChhLmQsIi5jb250ZXh0IikpKT92b2lkKHImJm4ubG9nRXJyb3IoIlJ1Ymljb246IG1lZGlhVHlwZXMudmlkZW8uY29udGV4dCBtdXN0IGJlIG91dHN0cmVhbSBvciBpbnN0cmVhbSIpKTpTKGUsInZpZGVvIikubGVuZ3RoPDI/dm9pZChyJiZuLmxvZ0Vycm9yKCJSdWJpY29uOiBjb3VsZCBub3QgZGV0ZXJtaW5lIHRoZSBwbGF5ZXJTaXplIG9mIHRoZSB2aWRlbyIpKToociYmbi5sb2dNZXNzYWdlKCJSdWJpY29uOiBtYWtpbmcgdmlkZW8gcmVxdWVzdCBmb3IgYWRVbml0IixlLmFkVW5pdENvZGUpLCJ2aWRlbyIpOjA9PT1TKGUsImJhbm5lciIpLmxlbmd0aD92b2lkKHImJm4ubG9nRXJyb3IoIlJ1Ymljb246IGNvdWxkIG5vdCBkZXRlcm1pbmUgdGhlIHNpemVzIGZvciBiYW5uZXIgcmVxdWVzdCIpKToociYmbi5sb2dNZXNzYWdlKCJSdWJpY29uOiBtYWtpbmcgYmFubmVyIHJlcXVlc3QgZm9yIGFkVW5pdCIsZS5hZFVuaXRDb2RlKSwiYmFubmVyIil9dmFyIGs9ZnVuY3Rpb24oKXtyZXR1cm4geD17fX07ZnVuY3Rpb24gUihlKXt2YXIgcj1bMTUsMiw5XTtyZXR1cm4gZS5zb3J0KChmdW5jdGlvbihlLHQpe3ZhciBuPXIuaW5kZXhPZihlKSxpPXIuaW5kZXhPZih0KTtyZXR1cm4gbj4tMXx8aT4tMT8tMT09PW4/MTotMT09PWk/LTE6bi1pOmUtdH0pKX1mdW5jdGlvbiB6KGUpe3ZhciByPXBhcnNlSW50KG4uZGVlcEFjY2VzcyhlLCJwYXJhbXMudmlkZW8uc2l6ZV9pZCIpKTtyZXR1cm4gaXNOYU4ocik/Im91dHN0cmVhbSI9PT1uLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy4iLmNvbmNhdChhLmQsIi5jb250ZXh0IikpPzIwMzoyMDE6cn1mdW5jdGlvbiBUKGUpe3JldHVybntyYW5nZXM6e2xvdzpbe21heDo1LGluY3JlbWVudDouNX1dLG1lZGl1bTpbe21heDoyMCxpbmNyZW1lbnQ6LjF9XSxoaWdoOlt7bWF4OjIwLGluY3JlbWVudDouMDF9XSxhdXRvOlt7bWF4OjUsaW5jcmVtZW50Oi4wNX0se21pbjo1LG1heDoxMCxpbmNyZW1lbnQ6LjF9LHttaW46MTAsbWF4OjIwLGluY3JlbWVudDouNX1dLGRlbnNlOlt7bWF4OjMsaW5jcmVtZW50Oi4wMX0se21pbjozLG1heDo4LGluY3JlbWVudDouMDV9LHttaW46OCxtYXg6MjAsaW5jcmVtZW50Oi41fV0sY3VzdG9tOmUuZ2V0Q29uZmlnKCJjdXN0b21QcmljZUJ1Y2tldCIpJiZlLmdldENvbmZpZygiY3VzdG9tUHJpY2VCdWNrZXQiKS5idWNrZXRzfVtlLmdldENvbmZpZygicHJpY2VHcmFudWxhcml0eSIpXX19ZnVuY3Rpb24gRShlKXt2YXIgcj0hMCx0PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChbXSksaT17bWltZXM6dCxwcm90b2NvbHM6dCxsaW5lYXJpdHk6T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKDApLGFwaTp0fTtyZXR1cm4gT2JqZWN0LmtleXMoaSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG4uZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvLiIrdCkpIT09aVt0XSYmKHI9ITEsbi5sb2dFcnJvcigiUnViaWNvbjogbWVkaWFUeXBlcy52aWRlby4iK3QrIiBpcyByZXF1aXJlZCBhbmQgbXVzdCBiZSBvZiB0eXBlOiAiK2lbdF0pKX0pKSxyfWZ1bmN0aW9uIFUoZSl7dmFyIHI9ITEsdD1bImFzaSIsInNpZCIsImhwIl07cmV0dXJuIGUubm9kZXM/KChyPWUubm9kZXMucmVkdWNlKChmdW5jdGlvbihlLHIpe3JldHVybiBlP3QuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiByLmhhc093blByb3BlcnR5KGUpfSkpOmV9KSwhMCkpfHxuLmxvZ0Vycm9yKCJSdWJpY29uOiByZXF1aXJlZCBzY2hhaW4gcGFyYW1zIG1pc3NpbmciKSxyKTpyfWZ1bmN0aW9uIFAoZSxyKXtyZXR1cm4icnBfc2NoYWluIj09PWU/InJwX3NjaGFpbj0iLmNvbmNhdChyKToiIi5jb25jYXQoZSwiPSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQocikpfXZhciBOPSExO09iamVjdChpLnJlZ2lzdGVyQmlkZGVyKShfKX19LFs3MTldKTsKdXBianNDaHVuayhbMTI0XSx7NzI1OmZ1bmN0aW9uKG4saSxlKXtuLmV4cG9ydHM9ZSg3MjYpfSw3MjY6ZnVuY3Rpb24obixpLGUpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksaS5pc1NjaGFpbk9iamVjdFZhbGlkPWgsaS5pc1ZhbGlkU2NoYWluQ29uZmlnPXUsaS5tYWtlQmlkUmVxdWVzdHNIb29rPU8saS5pbml0PWw7dmFyIHQ9ZSgzKSxjPWUoOCksbz1lKDApLGE9IkludmFsaWQgc2NoYWluIG9iamVjdCBmb3VuZDogIixzPSIgc2hvdWxkIGJlIGEgc3RyaW5nIixyPSIgc2hvdWxkIGJlIGFuIEludGVnZXIiLGY9IiBzaG91bGQgYmUgYW4gb2JqZWN0IixkPXtTVFJJQ1Q6InN0cmljdCIsUkVMQVhFRDoicmVsYXhlZCIsT0ZGOiJvZmYifSxiPVtdO2Z1bmN0aW9uIGgobixpKXt2YXIgZT0iRGV0ZWN0ZWQgc29tZXRoaW5nIHdyb25nIHdpdGhpbiBhbiBzY2hhaW4gY29uZmlnOiIsdD0iIjtmdW5jdGlvbiBjKG4pe3QrPSJcbiIrbn1mdW5jdGlvbiBhKCl7ITA9PT1pP09iamVjdChvLmxvZ0Vycm9yKShlLG4sdCk6T2JqZWN0KG8ubG9nV2FybikoZSxuLHQpfWlmKCFPYmplY3Qoby5pc1BsYWluT2JqZWN0KShuKSYmKGMoInNjaGFpbi5jb25maWciK2YpLGEoKSxpKSlyZXR1cm4hMTtpZihPYmplY3Qoby5pc051bWJlcikobi5jb21wbGV0ZSkmJk9iamVjdChvLmlzSW50ZWdlcikobi5jb21wbGV0ZSl8fGMoInNjaGFpbi5jb25maWcuY29tcGxldGUiK3IpLE9iamVjdChvLmlzU3RyKShuLnZlcil8fGMoInNjaGFpbi5jb25maWcudmVyIitzKSxPYmplY3Qoby5oYXNPd24pKG4sImV4dCIpJiYoT2JqZWN0KG8uaXNQbGFpbk9iamVjdCkobi5leHQpfHxjKCJzY2hhaW4uY29uZmlnLmV4dCIrZikpLE9iamVjdChvLmlzQXJyYXkpKG4ubm9kZXMpKW4ubm9kZXMuZm9yRWFjaCgoZnVuY3Rpb24obixpKXtPYmplY3Qoby5pc1N0cikobi5hc2kpfHxjKCJzY2hhaW4uY29uZmlnLm5vZGVzWyIuY29uY2F0KGksIl0uYXNpIikrcyksT2JqZWN0KG8uaXNTdHIpKG4uc2lkKXx8Yygic2NoYWluLmNvbmZpZy5ub2Rlc1siLmNvbmNhdChpLCJdLnNpZCIpK3MpLE9iamVjdChvLmlzTnVtYmVyKShuLmhwKSYmT2JqZWN0KG8uaXNJbnRlZ2VyKShuLmhwKXx8Yygic2NoYWluLmNvbmZpZy5ub2Rlc1siLmNvbmNhdChpLCJdLmhwIikrciksT2JqZWN0KG8uaGFzT3duKShuLCJyaWQiKSYmKE9iamVjdChvLmlzU3RyKShuLnJpZCl8fGMoInNjaGFpbi5jb25maWcubm9kZXNbIi5jb25jYXQoaSwiXS5yaWQiKStzKSksT2JqZWN0KG8uaGFzT3duKShuLCJuYW1lIikmJihPYmplY3Qoby5pc1N0cikobi5uYW1lKXx8Yygic2NoYWluLmNvbmZpZy5ub2Rlc1siLmNvbmNhdChpLCJdLm5hbWUiKStzKSksT2JqZWN0KG8uaGFzT3duKShuLCJkb21haW4iKSYmKE9iamVjdChvLmlzU3RyKShuLmRvbWFpbil8fGMoInNjaGFpbi5jb25maWcubm9kZXNbIi5jb25jYXQoaSwiXS5kb21haW4iKStzKSksT2JqZWN0KG8uaGFzT3duKShuLCJleHQiKSYmKE9iamVjdChvLmlzUGxhaW5PYmplY3QpKG4uZXh0KXx8Yygic2NoYWluLmNvbmZpZy5ub2Rlc1siLmNvbmNhdChpLCJdLmV4dCIpK2YpKX0pKTtlbHNlIGlmKGMoInNjaGFpbi5jb25maWcubm9kZXMgc2hvdWxkIGJlIGFuIEFycmF5IiksYSgpLGkpcmV0dXJuITE7cmV0dXJuISh0Lmxlbmd0aD4wJiYoYSgpLGkpKX1mdW5jdGlvbiB1KG4pe3JldHVybiB2b2lkIDAhPT1uJiYoISFPYmplY3Qoby5pc1BsYWluT2JqZWN0KShuKXx8KE9iamVjdChvLmxvZ0Vycm9yKShhKyJ0aGUgZm9sbG93aW5nIHNjaGFpbiBjb25maWcgd2lsbCBub3QgYmUgdXNlZCBhcyBzY2hhaW4gaXMgbm90IGFuIG9iamVjdC4iLG4pLCExKSl9ZnVuY3Rpb24gTyhuLGkpe3ZhciBlPXQuYi5nZXRDb25maWcoInNjaGFpbiIpLGM9dC5iLmdldEJpZGRlckNvbmZpZygpO2kuZm9yRWFjaCgoZnVuY3Rpb24obil7dmFyIGk9bi5iaWRkZXJDb2RlLHQ9ZnVuY3Rpb24obil7cmV0dXJuIGNbbl0mJmNbbl0uc2NoYWlufHxlfShpKTtuLmJpZHMuZm9yRWFjaCgoZnVuY3Rpb24obil7dmFyIGU9ZnVuY3Rpb24obixpKXt2YXIgZT1kLlNUUklDVDtpZih1KG4pKXtpZihPYmplY3Qoby5pc1N0cikobi52YWxpZGF0aW9uKSYmLTEhPWIuaW5kZXhPZihuLnZhbGlkYXRpb24pJiYoZT1uLnZhbGlkYXRpb24pLGU9PT1kLk9GRilyZXR1cm4gbi5jb25maWc7aWYoaChuLmNvbmZpZywhKGUhPT1kLlNUUklDVCkpKXJldHVybiBuLmNvbmZpZztPYmplY3Qoby5sb2dFcnJvcikoYSsiZHVlIHRvIHRoZSAnc3RyaWN0JyB2YWxpZGF0aW9uIHNldHRpbmcsIHRoaXMgc2NoYWluIGNvbmZpZyB3aWxsIG5vdCBiZSBwYXNzZWQgdG8gYmlkZGVyICciLmNvbmNhdChpLCInLiAgU2VlIGFib3ZlIGVycm9yIGZvciBkZXRhaWxzLiIpKX1yZXR1cm4gbnVsbH0odCxpKTtlJiYobi5zY2hhaW49ZSl9KSl9KSksbihpKX1mdW5jdGlvbiBsKCl7Yy5kZWZhdWx0Lm1ha2VCaWRSZXF1ZXN0cy5hZnRlcihPKX1PYmplY3Qoby5fZWFjaCkoZCwoZnVuY3Rpb24obil7cmV0dXJuIGIucHVzaChuKX0pKSxsKCl9fSxbNzI1XSk7CnVwYmpzQ2h1bmsoWzEyMV0sezczMzpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoNzM0KX0sNzM0OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJzaGFyZXRocm91Z2hJbnRlcm5hbCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSksci5kKHQsInNoYXJldGhyb3VnaEFkYXB0ZXJTcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKTt2YXIgbj1yKDEpLGk9cigwKSxhPXIoMyk7ZnVuY3Rpb24gcygpe3JldHVybihzPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIG89InNoYXJldGhyb3VnaCIsYz1bMSwxXSxkPXtiNjRFbmNvZGVVbmljb2RlOmwsaGFuZGxlSWZyYW1lOmZ1bmN0aW9uKCl7dmFyIGU9ITE7aWYoIXdpbmRvdy5sb2NrZWRJbkZyYW1lKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTt0LnNyYz0iaHR0cHM6Ly9uYXRpdmUuc2hhcmV0aHJvdWdoLmNvbS9hc3NldHMvc2ZwLXNldC10YXJnZXRpbmcuanMiLHQudHlwZT0idGV4dC9qYXZhc2NyaXB0Ijt0cnl7d2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF0uYXBwZW5kQ2hpbGQodCksZT0hMH1jYXRjaChlKXtpLmxvZ0Vycm9yKCJUcm91YmxlIHdyaXRpbmcgZnJhbWUgYnVzdGVyIHNjcmlwdCwgZXJyb3IgZGV0YWlsczoiLGUpfX1pZighKGU/d2luZG93LnRvcC5TVFImJndpbmRvdy50b3AuU1RSLlRhZzp3aW5kb3cuU1RSJiZ3aW5kb3cuU1RSLlRhZykpe3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO3Iuc3JjPSJodHRwczovL25hdGl2ZS5zaGFyZXRocm91Z2guY29tL2Fzc2V0cy9zZnAuanMiLHIudHlwZT0idGV4dC9qYXZhc2NyaXB0Ijt0cnl7ZT93aW5kb3cudG9wLmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF0uYXBwZW5kQ2hpbGQocik6d2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF0uYXBwZW5kQ2hpbGQocil9Y2F0Y2goZSl7aS5sb2dFcnJvcigiVHJvdWJsZSB3cml0aW5nIHNmcCBzY3JpcHQsIGVycm9yIGRldGFpbHM6IixlKX19fSxpc0xvY2tlZEluRnJhbWU6ZnVuY3Rpb24oKXt3aW5kb3cubG9ja2VkSW5GcmFtZT0hMTt0cnl7d2luZG93LmxvY2tlZEluRnJhbWU9IXdpbmRvdy50b3AuZG9jdW1lbnR9Y2F0Y2goZSl7d2luZG93LmxvY2tlZEluRnJhbWU9ZSBpbnN0YW5jZW9mIERPTUV4Y2VwdGlvbn19LGdldFByb3RvY29sOmZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sfX0scD17Y29kZTpvLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJhbXMucGtleSYmZS5iaWRkZXI9PT1vfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXt2YXIgcj17cGxhY2VtZW50X2tleTplLnBhcmFtcy5wa2V5LGJpZElkOmUuYmlkSWQsY29uc2VudF9yZXF1aXJlZDohMSxpbnN0YW50X3BsYXlfY2FwYWJsZTpmKCksaGJTb3VyY2U6InByZWJpZCIsaGJWZXJzaW9uOiI1LjExLjAiLHN0clZlcnNpb246IjMuNC4xIn0sbj1pLmRlZXBBY2Nlc3MoZSwib3J0YjJJbXAuZXh0LmRhdGEucGJhZHNsb3QiKTtuJiYoci5ncGlkPW4pLHMocixmdW5jdGlvbihlKXtpZighZS51c2VySWQpcmV0dXJue307dmFyIHQ9e30scj1pLmRlZXBBY2Nlc3MoZSwidXNlcklkLnRkaWQiKTtyJiYodC50dGR1aWQ9cik7dmFyIG49aS5kZWVwQWNjZXNzKGUsInVzZXJJZC5wdWJjaWQiKXx8aS5kZWVwQWNjZXNzKGUsImNydW1icy5wdWJjaWQiKTtuJiYodC5wdWJjaWQ9bik7dmFyIGE9aS5kZWVwQWNjZXNzKGUsInVzZXJJZC5pZGxfZW52Iik7YSYmKHQuaWRsdWlkPWEpO3ZhciBzPWkuZGVlcEFjY2VzcyhlLCJ1c2VySWQuaWQ1aWQudWlkIik7aWYocyl7dC5pZDV1aWQ9e2lkOnN9O3ZhciBvPWkuZGVlcEFjY2VzcyhlLCJ1c2VySWQuaWQ1aWQuZXh0LmxpbmtUeXBlIik7byYmKHQuaWQ1dWlkLmxpbmtUeXBlPW8pfXZhciBjPWkuZGVlcEFjY2VzcyhlLCJ1c2VySWQubGlwYi5saXBiaWQiKTtjJiYodC5saXVpZD1jKTtyZXR1cm4gdH0oZSkpO3ZhciBvPWQuZ2V0UHJvdG9jb2woKS5pbmRleE9mKCJodHRwIik8MDtyLnNlY3VyZT1vfHxkLmdldFByb3RvY29sKCkuaW5kZXhPZigiaHR0cHMiKT4tMSx0JiZ0LmdkcHJDb25zZW50JiZ0LmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcmJihyLmNvbnNlbnRfc3RyaW5nPXQuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyksdCYmdC5nZHByQ29uc2VudCYmKHIuY29uc2VudF9yZXF1aXJlZD0hIXQuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMpLHQmJnQudXNwQ29uc2VudCYmKHIudXNfcHJpdmFjeT10LnVzcENvbnNlbnQpLCEwPT09YS5iLmdldENvbmZpZygiY29wcGEiKSYmKHIuY29wcGE9ITApLGUuc2NoYWluJiYoci5zY2hhaW49SlNPTi5zdHJpbmdpZnkoZS5zY2hhaW4pKTt2YXIgYz1mdW5jdGlvbihlKXtpZihpLmlzRm4oZS5nZXRGbG9vcikpe3ZhciB0PWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZToiYmFubmVyIixzaXplOmUuc2l6ZXMubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dzplWzBdLGg6ZVsxXX19KSl9KTtpZihpLmlzUGxhaW5PYmplY3QodCkmJiFpc05hTih0LmZsb29yKSYmIlVTRCI9PT10LmN1cnJlbmN5KXJldHVybiBwYXJzZUZsb2F0KHQuZmxvb3IpfXJldHVybiBudWxsfShlKTtyZXR1cm4gYyYmKHIuYmlkZmxvb3I9YyksZS5wYXJhbXMuYmFkdiYmKHIuYmFkdj1lLnBhcmFtcy5iYWR2KSxlLnBhcmFtcy5iY2F0JiYoci5iY2F0PWUucGFyYW1zLmJjYXQpLHttZXRob2Q6IlBPU1QiLHVybDoiaHR0cHM6Ly9idGxyLnNoYXJldGhyb3VnaC5jb20vV1l1MkJYdjEvdjEiLGRhdGE6cixzdHJEYXRhOntza2lwSWZyYW1lQnVzdGluZzplLnBhcmFtcy5pZnJhbWUsaWZyYW1lU2l6ZTplLnBhcmFtcy5pZnJhbWVTaXplLHNpemVzOmUuc2l6ZXN9fX0pKX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmJvZHk7aWYoIXJ8fCFyLmNyZWF0aXZlc3x8IXIuY3JlYXRpdmVzLmxlbmd0aClyZXR1cm5bXTt2YXIgbj1yLmNyZWF0aXZlc1swXSxpPWM7cmV0dXJuKHQuc3RyRGF0YS5pZnJhbWVTaXplfHx0LnN0ckRhdGEuc2l6ZXMubGVuZ3RoKSYmKGk9dC5zdHJEYXRhLmlmcmFtZVNpemU/dC5zdHJEYXRhLmlmcmFtZVNpemU6ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXtyZXR1cm4gZVswXSplWzFdfXJldHVybiBlLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXtyZXR1cm4gdChyKT50KGUpP3I6ZX0pKX0odC5zdHJEYXRhLnNpemVzKSksW3tyZXF1ZXN0SWQ6dC5kYXRhLmJpZElkLHdpZHRoOmlbMF0saGVpZ2h0OmlbMV0sY3BtOm4uY3BtLGNyZWF0aXZlSWQ6bi5jcmVhdGl2ZS5jcmVhdGl2ZV9rZXksZGVhbElkOm4uY3JlYXRpdmUuZGVhbF9pZCxjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiEwLHR0bDozNjAsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6bi5jcmVhdGl2ZSYmbi5jcmVhdGl2ZS5hZG9tYWluP24uY3JlYXRpdmUuYWRvbWFpbjpbXX0sYWQ6dShyLHQpfV19LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQscixuKXt2YXIgaT1uPyImdXNfcHJpdmFjeT0iLmNvbmNhdChuKToiIixhPVtdO3JldHVybiBlLnBpeGVsRW5hYmxlZCYmdC5sZW5ndGg+MCYmdFswXS5ib2R5JiZ0WzBdLmJvZHkuY29va2llU3luY1VybHMmJnRbMF0uYm9keS5jb29raWVTeW5jVXJscy5mb3JFYWNoKChmdW5jdGlvbihlKXthLnB1c2goe3R5cGU6ImltYWdlIix1cmw6ZStpfSl9KSksYX0sb25UaW1lb3V0OmZ1bmN0aW9uKGUpe30sb25CaWRXb246ZnVuY3Rpb24oZSl7fSxvblNldFRhcmdldGluZzpmdW5jdGlvbihlKXt9fTtmdW5jdGlvbiB1KGUsdCl7dmFyIHI9InN0cl9yZXNwb25zZV8iLmNvbmNhdCh0LmRhdGEuYmlkSWQpLG49J1xuICAgIDxkaXYgZGF0YS1zdHItbmF0aXZlLWtleT0iJy5jb25jYXQodC5kYXRhLnBsYWNlbWVudF9rZXksJyIgZGF0YS1zdHgtcmVzcG9uc2UtbmFtZT0iJykuY29uY2F0KHIsJyI+XG4gICAgPC9kaXY+XG4gICAgPHNjcmlwdD52YXIgJykuY29uY2F0KHIsJyA9ICInKS5jb25jYXQobChKU09OLnN0cmluZ2lmeShlKSksJyI8XC9zY3JpcHQ+XG4gICcpO3JldHVybiB0LnN0ckRhdGEuc2tpcElmcmFtZUJ1c3Rpbmc/bis9JzxzY3JpcHQgc3JjPSJodHRwczovL25hdGl2ZS5zaGFyZXRocm91Z2guY29tL2Fzc2V0cy9zZnAuanMiPjxcL3NjcmlwdD4nOm4rPSJcbiAgICAgIDxzY3JpcHQ+XG4gICAgICAgICgiLmNvbmNhdChkLmlzTG9ja2VkSW5GcmFtZS50b1N0cmluZygpLCIpKClcbiAgICAgIDxcL3NjcmlwdD5cbiAgICAgIDxzY3JpcHQ+XG4gICAgICAgICgiKS5jb25jYXQoZC5oYW5kbGVJZnJhbWUudG9TdHJpbmcoKSwiKSgpXG4gICAgICA8XC9zY3JpcHQ+Iiksbn1mdW5jdGlvbiBsKGUpe3JldHVybiBidG9hKGVuY29kZVVSSUNvbXBvbmVudChlKS5yZXBsYWNlKC8lKFswLTlBLUZdezJ9KS9nLChmdW5jdGlvbihlLHQpe3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKCIweCIrdCl9KSkpfWZ1bmN0aW9uIGYoKXt2YXIgZT1uYXZpZ2F0b3IudXNlckFnZW50O2lmKCFlKXJldHVybiExO3ZhciB0PS9BbmRyb2lkL2kudGVzdChlKSxyPS9pUGhvbmV8aVBhZHxpUG9kL2kudGVzdChlKSxuPXBhcnNlSW50KCgvQ2hyb21lXC8oWzAtOV0rKS8uZXhlYyhlKXx8WzAsMF0pWzFdKSxpPXBhcnNlSW50KCgvQ3JpT1NcLyhbMC05XSspLy5leGVjKGUpfHxbMCwwXSlbMV0pLGE9cGFyc2VJbnQoKC9WZXJzaW9uXC8oWzAtOV0rKS8uZXhlYyhlKXx8WzAsMF0pWzFdKTtyZXR1cm4hISh0JiZuPj01M3x8ciYmKGE+PTEwfHxpPj01Myl8fCF0JiYhcil9T2JqZWN0KG4ucmVnaXN0ZXJCaWRkZXIpKHApfX0sWzczM10pOwp1cGJqc0NodW5rKFsxN10sezE4OmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7ci5iPWZ1bmN0aW9uKGUpe3ZhciByPVtdO2Zvcih2YXIgdCBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkodCkpaWYoInB1YlByb3ZpZGVkSWQiPT09dClyPXIuY29uY2F0KGUucHViUHJvdmlkZWRJZCk7ZWxzZXt2YXIgYT1uKGVbdF0sdCk7YSYmci5wdXNoKGEpfXJldHVybiByfSxyLmE9ZnVuY3Rpb24oZSl7dmFyIHI9W107cmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gYS5pc1BsYWluT2JqZWN0KGUuaWRPYmopJiZPYmplY3Qua2V5cyhlLmlkT2JqKS5sZW5ndGh9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZS5pZE9iaikuZm9yRWFjaCgoZnVuY3Rpb24odCl7YS5kZWVwQWNjZXNzKGUsImNvbmZpZy5iaWRkZXJzIikmJkFycmF5LmlzQXJyYXkoZS5jb25maWcuYmlkZGVycykmJmEuZGVlcEFjY2VzcyhpLHQrIi5zb3VyY2UiKSYmci5wdXNoKHtzb3VyY2U6aVt0XS5zb3VyY2UsYmlkZGVyczplLmNvbmZpZy5iaWRkZXJzfSl9KSl9KSkscn07dmFyIGE9dCgwKSxpPXtpbnRlbnRJcUlkOntzb3VyY2U6ImludGVudGlxLmNvbSIsYXR5cGU6MX0scHViY2lkOntzb3VyY2U6InB1YmNpZC5vcmciLGF0eXBlOjF9LHRkaWQ6e3NvdXJjZToiYWRzZXJ2ZXIub3JnIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbigpe3JldHVybntydGlQYXJ0bmVyOiJURElEIn19fSxpZDVpZDp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudWlkfSxzb3VyY2U6ImlkNS1zeW5jLmNvbSIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoZS5leHQpcmV0dXJuIGUuZXh0fX0scGFycmFibGVJZDp7c291cmNlOiJwYXJyYWJsZS5jb20iLGF0eXBlOjEsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZWlkP2UuZWlkOmUuY2NwYU9wdG91dD8iIjpudWxsfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7dmFyIHI9YS5waWNrKGUsWyJpYmFPcHRvdXQiLCJjY3BhT3B0b3V0Il0pO2lmKE9iamVjdC5rZXlzKHIpLmxlbmd0aClyZXR1cm4gcn19LGlkbF9lbnY6e3NvdXJjZToibGl2ZXJhbXAuY29tIixhdHlwZTozfSxsaXBiOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5saXBiaWR9LHNvdXJjZToibGl2ZWludGVudC5jb20iLGF0eXBlOjMsZ2V0RWlkRXh0OmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZS5zZWdtZW50cykmJmUuc2VnbWVudHMubGVuZ3RoKXJldHVybntzZWdtZW50czplLnNlZ21lbnRzfX19LGJyaXRlcG9vbGlkOntzb3VyY2U6ImJyaXRlcG9vbC5jb20iLGF0eXBlOjN9LGRtZElkOntzb3VyY2U6Imhjbi5oZWFsdGgiLGF0eXBlOjN9LGxvdGFtZVBhbm9yYW1hSWQ6e3NvdXJjZToiY3J3ZGNudHJsLm5ldCIsYXR5cGU6MX0sY3JpdGVvSWQ6e3NvdXJjZToiY3JpdGVvLmNvbSIsYXR5cGU6MX0sbWVya2xlSWQ6e3NvdXJjZToibWVya2xlaW5jLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmtleUlEP3trZXlJRDplLmtleUlEfTp2b2lkIDB9fSxuZXRJZDp7c291cmNlOiJuZXRpZC5kZSIsYXR5cGU6MX0sSURQOntzb3VyY2U6Inplb3RhcC5jb20iLGF0eXBlOjF9LGhhbG9JZDp7c291cmNlOiJhdWRpZ2VudC5jb20iLGF0eXBlOjF9LHF1YW50Y2FzdElkOntzb3VyY2U6InF1YW50Y2FzdC5jb20iLGF0eXBlOjF9LG5leHRyb2xsSWQ6e3NvdXJjZToibmV4dHJvbGwuY29tIixhdHlwZToxfSxpZHg6e3NvdXJjZToiaWR4LmxhdCIsYXR5cGU6MX0sY29ubmVjdGlkOntzb3VyY2U6InZlcml6b25tZWRpYS5jb20iLGF0eXBlOjN9LGZhYnJpY2tJZDp7c291cmNlOiJuZXVzdGFyLmJpeiIsYXR5cGU6MX0sbXdPcGVuTGlua0lkOntzb3VyY2U6Im1lZGlhd2FsbGFoc2NyaXB0LmNvbSIsYXR5cGU6MX0sdGFwYWRJZDp7c291cmNlOiJ0YXBhZC5jb20iLGF0eXBlOjF9LG5vdmF0aXE6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnNub3dmbGFrZX0sc291cmNlOiJub3ZhdGlxLmNvbSIsYXR5cGU6MX0sdWlkMjp7c291cmNlOiJ1aWRhcGkuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfX0sZGVlcGludGVudElkOntzb3VyY2U6ImRlZXBpbnRlbnQuY29tIixhdHlwZTozfSxkYXBJZDp7c291cmNlOiJha2FtYWkuY29tIixhdHlwZToxfSxhZG1peGVySWQ6e3NvdXJjZToiYWRtaXhlci5uZXQiLGF0eXBlOjN9LGFkdGVsbGlnZW50SWQ6e3NvdXJjZToiYWR0ZWxsaWdlbnQuY29tIixhdHlwZTozfSxhbXhJZDp7c291cmNlOiJhbXhydGIuY29tIixhdHlwZToxfSxrcHVpZDp7c291cmNlOiJrcHVpZC5jb20iLGF0eXBlOjN9LGltdWlkOntzb3VyY2U6ImludGltYXRlbWVyZ2VyLmNvbSIsYXR5cGU6MX19O2Z1bmN0aW9uIG4oZSxyKXt2YXIgdD1pW3JdO2lmKHQmJmUpe3ZhciBuPXt9O24uc291cmNlPXQuc291cmNlO3ZhciBvPWEuaXNGbih0LmdldFZhbHVlKT90LmdldFZhbHVlKGUpOmU7aWYoYS5pc1N0cihvKSl7dmFyIGQ9e2lkOm8sYXR5cGU6dC5hdHlwZX07aWYoYS5pc0ZuKHQuZ2V0VWlkRXh0KSl7dmFyIHM9dC5nZXRVaWRFeHQoZSk7cyYmKGQuZXh0PXMpfWlmKG4udWlkcz1bZF0sYS5pc0ZuKHQuZ2V0RWlkRXh0KSl7dmFyIGM9dC5nZXRFaWRFeHQoZSk7YyYmKG4uZXh0PWMpfXJldHVybiBufX1yZXR1cm4gbnVsbH19LDc0NTpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoNzQ2KX0sNzQ2OmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKTt2YXIgYT10KDApLGk9dCgyKSxuPXQoMyksbz10KDE4KSxkPXQoMSkscz17Y29kZToic21hcnRhZHNlcnZlciIsZ3ZsaWQ6NDUsYWxpYXNlczpbInNtYXJ0Il0sc3VwcG9ydGVkTWVkaWFUeXBlczpbaS5iLGkuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISEoZS5wYXJhbXMmJmUucGFyYW1zLnNpdGVJZCYmZS5wYXJhbXMucGFnZUlkJiZlLnBhcmFtcy5mb3JtYXRJZCl9LHNlcmlhbGl6ZVN1cHBseUNoYWluOmZ1bmN0aW9uKGUpe2lmKCFlfHwhZS5ub2RlcylyZXR1cm4gbnVsbDt2YXIgcj1bImFzaSIsInNpZCIsImhwIiwicmlkIiwibmFtZSIsImRvbWFpbiJdO3JldHVybiIiLmNvbmNhdChlLnZlciwiLCIpLmNvbmNhdChlLmNvbXBsZXRlLCIhIikrZS5ub2Rlcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiByLm1hcCgoZnVuY3Rpb24ocil7cmV0dXJuIGVbcl0/ZW5jb2RlVVJJQ29tcG9uZW50KGVbcl0pOiIifSkpLmpvaW4oIiwiKX0pKS5qb2luKCIhIil9LGFkYXB0QmFubmVyU2l6ZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dzplWzBdLGg6ZVsxXX19KSl9LGZpbGxQYXlsb2FkRm9yVmlkZW9CaWRSZXF1ZXN0OmZ1bmN0aW9uKGUscix0KXt2YXIgYT1yLnBsYXllclNpemVbMF07ZS5pc1ZpZGVvPSJpbnN0cmVhbSI9PT1yLmNvbnRleHQsZS5tZWRpYVR5cGU9aS5kLGUudmlkZW9EYXRhPXt2aWRlb1Byb3RvY29sOnRoaXMuZ2V0UHJvdG9jb2xGb3JWaWRlb0JpZFJlcXVlc3Qocix0KSxwbGF5ZXJXaWR0aDphWzBdLHBsYXllckhlaWdodDphWzFdLGFkQnJlYWs6dGhpcy5nZXRTdGFydERlbGF5Rm9yVmlkZW9CaWRSZXF1ZXN0KHIsdCl9fSxnZXRQcm90b2NvbEZvclZpZGVvQmlkUmVxdWVzdDpmdW5jdGlvbihlLHIpe3JldHVybiB2b2lkIDAhPT1yJiZyLnByb3RvY29sP3IucHJvdG9jb2w6dm9pZCAwIT09ZSYmQXJyYXkuaXNBcnJheShlLnByb3RvY29scyk/TWF0aC5tYXguYXBwbHkoTWF0aCxlLnByb3RvY29scyk6bnVsbH0sZ2V0U3RhcnREZWxheUZvclZpZGVvQmlkUmVxdWVzdDpmdW5jdGlvbihlLHIpe2lmKHZvaWQgMCE9PXImJnIuc3RhcnREZWxheSlyZXR1cm4gci5zdGFydERlbGF5O2lmKHZvaWQgMCE9PWUpe2lmKDA9PWUuc3RhcnRkZWxheSlyZXR1cm4gMTtpZigtMT09ZS5zdGFydGRlbGF5KXJldHVybiAyO2lmKC0yPT1lLnN0YXJ0ZGVsYXkpcmV0dXJuIDN9cmV0dXJuIDJ9LGNyZWF0ZVNlcnZlclJlcXVlc3Q6ZnVuY3Rpb24oZSxyKXtyZXR1cm57bWV0aG9kOiJQT1NUIix1cmw6KHZvaWQgMCE9PXI/cjoiaHR0cHM6Ly9wcmcuc21hcnRhZHNlcnZlci5jb20iKSsiL3ByZWJpZC92MSIsZGF0YTpKU09OLnN0cmluZ2lmeShlKX19LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgdD1uLmIuZ2V0Q29uZmlnKCJjdXJyZW5jeS5hZFNlcnZlckN1cnJlbmN5Iik7cmV0dXJuIGUucmVkdWNlKChmdW5jdGlvbihlLGkpe3ZhciBkPXtzaXRlaWQ6aS5wYXJhbXMuc2l0ZUlkLHBhZ2VpZDppLnBhcmFtcy5wYWdlSWQsZm9ybWF0aWQ6aS5wYXJhbXMuZm9ybWF0SWQsY3VycmVuY3lDb2RlOnQsYmlkZmxvb3I6aS5wYXJhbXMuYmlkZmxvb3J8fHMuZ2V0QmlkRmxvb3IoaSx0KSx0YXJnZXRpbmc6aS5wYXJhbXMudGFyZ2V0JiYiIiE9PWkucGFyYW1zLnRhcmdldD9pLnBhcmFtcy50YXJnZXQ6dm9pZCAwLGJ1aWQ6aS5wYXJhbXMuYnVJZCYmIiIhPT1pLnBhcmFtcy5idUlkP2kucGFyYW1zLmJ1SWQ6dm9pZCAwLGFwcG5hbWU6aS5wYXJhbXMuYXBwTmFtZSYmIiIhPT1pLnBhcmFtcy5hcHBOYW1lP2kucGFyYW1zLmFwcE5hbWU6dm9pZCAwLGNraWQ6aS5wYXJhbXMuY2tJZHx8MCx0YWdJZDppLmFkVW5pdENvZGUscGFnZURvbWFpbjpyJiZyLnJlZmVyZXJJbmZvJiZyLnJlZmVyZXJJbmZvLnJlZmVyZXI/ci5yZWZlcmVySW5mby5yZWZlcmVyOnZvaWQgMCx0cmFuc2FjdGlvbklkOmkudHJhbnNhY3Rpb25JZCx0aW1lb3V0Om4uYi5nZXRDb25maWcoImJpZGRlclRpbWVvdXQiKSxiaWRJZDppLmJpZElkLHByZWJpZFZlcnNpb246IjUuMTEuMCIsc2NoYWluOnMuc2VyaWFsaXplU3VwcGx5Q2hhaW4oaS5zY2hhaW4pfTtyJiZyLmdkcHJDb25zZW50JiYoZC5hZGR0bF9jb25zZW50PXIuZ2RwckNvbnNlbnQuYWRkdGxDb25zZW50LGQuZ2Rwcl9jb25zZW50PXIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyxkLmdkcHI9ci5nZHByQ29uc2VudC5nZHByQXBwbGllcyksaSYmaS51c2VySWQmJihkLmVpZHM9T2JqZWN0KG8uYikoaS51c2VySWQpKSxyJiZyLnVzcENvbnNlbnQmJihkLnVzX3ByaXZhY3k9ci51c3BDb25zZW50KTt2YXIgYz1hLmRlZXBBY2Nlc3MoaSwibWVkaWFUeXBlcy52aWRlbyIpLHU9YS5kZWVwQWNjZXNzKGksIm1lZGlhVHlwZXMuYmFubmVyIikscD1jJiYoImluc3RyZWFtIj09PWMuY29udGV4dHx8Im91dHN0cmVhbSI9PT1jLmNvbnRleHQpO2lmKCFwJiZ1KWQuc2l6ZXM9cy5hZGFwdEJhbm5lclNpemVzKHUuc2l6ZXMpLGUucHVzaChzLmNyZWF0ZVNlcnZlclJlcXVlc3QoZCxpLnBhcmFtcy5kb21haW4pKTtlbHNlIGlmKHAmJiF1KXMuZmlsbFBheWxvYWRGb3JWaWRlb0JpZFJlcXVlc3QoZCxjLGkucGFyYW1zLnZpZGVvKSxlLnB1c2gocy5jcmVhdGVTZXJ2ZXJSZXF1ZXN0KGQsaS5wYXJhbXMuZG9tYWluKSk7ZWxzZSBpZihwJiZ1KXt2YXIgbD1hLmRlZXBDbG9uZShkKTtzLmZpbGxQYXlsb2FkRm9yVmlkZW9CaWRSZXF1ZXN0KGwsYyxpLnBhcmFtcy52aWRlbyksZS5wdXNoKHMuY3JlYXRlU2VydmVyUmVxdWVzdChsLGkucGFyYW1zLmRvbWFpbikpLGQuc2l6ZXM9cy5hZGFwdEJhbm5lclNpemVzKHUuc2l6ZXMpLGUucHVzaChzLmNyZWF0ZVNlcnZlclJlcXVlc3QoZCxpLnBhcmFtcy5kb21haW4pKX1lbHNlIGUucHVzaCh7fSk7cmV0dXJuIGV9KSxbXSl9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIHQ9W10sbj1lLmJvZHk7dHJ5e2lmKG4mJiFuLmlzTm9BZCl7dmFyIG89SlNPTi5wYXJzZShyLmRhdGEpLGQ9e3JlcXVlc3RJZDpvLmJpZElkLGNwbTpuLmNwbSx3aWR0aDpuLndpZHRoLGhlaWdodDpuLmhlaWdodCxjcmVhdGl2ZUlkOm4uY3JlYXRpdmVJZCxkZWFsSWQ6bi5kZWFsSWQsY3VycmVuY3k6bi5jdXJyZW5jeSxuZXRSZXZlbnVlOm4uaXNOZXRDcG0sdHRsOm4udHRsLGRzcFBpeGVsczpuLmRzcFBpeGVscyxtZXRhOnthZHZlcnRpc2VyRG9tYWluczpuLmFkb21haW4/bi5hZG9tYWluOltdfX07by5tZWRpYVR5cGU9PT1pLmQ/KGQubWVkaWFUeXBlPWkuZCxkLnZhc3RVcmw9bi5hZFVybCxkLnZhc3RYbWw9bi5hZCxkLmNvbnRlbnQ9bi5hZCk6KGQuYWRVcmw9bi5hZFVybCxkLmFkPW4uYWQpLHQucHVzaChkKX19Y2F0Y2goZSl7YS5sb2dFcnJvcigiRXJyb3Igd2hpbGUgcGFyc2luZyBzbWFydCBzZXJ2ZXIgcmVzcG9uc2UiLGUpfXJldHVybiB0fSxnZXRCaWRGbG9vcjpmdW5jdGlvbihlLHIpe2lmKCFhLmlzRm4oZS5nZXRGbG9vcikpcmV0dXJuIDA7dmFyIHQ9ZS5nZXRGbG9vcih7Y3VycmVuY3k6cnx8IlVTRCIsbWVkaWFUeXBlOiIqIixzaXplOiIqIn0pO3JldHVybiBhLmlzUGxhaW5PYmplY3QodCkmJiFpc05hTih0LmZsb29yKT90LmZsb29yOjB9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIpe3ZhciB0PVtdO3JldHVybiBlLmlmcmFtZUVuYWJsZWQmJnIubGVuZ3RoPjAmJm51bGwhPXJbMF0uYm9keS5jU3luY1VybD90LnB1c2goe3R5cGU6ImlmcmFtZSIsdXJsOnJbMF0uYm9keS5jU3luY1VybH0pOmUucGl4ZWxFbmFibGVkJiZyLmxlbmd0aD4wJiZ2b2lkIDAhPT1yWzBdLmJvZHkuZHNwUGl4ZWxzJiZyWzBdLmJvZHkuZHNwUGl4ZWxzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QucHVzaCh7dHlwZToiaW1hZ2UiLHVybDplfSl9KSksdH19O09iamVjdChkLnJlZ2lzdGVyQmlkZGVyKShzKX19LFs3NDVdKTsKdXBianNDaHVuayhbMTEyXSx7NzU3OmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cig3NTgpfSw3NTg6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiB2fSkpLHIuZCh0LCJfaXNJbmJvdW5kcyIsKGZ1bmN0aW9uKCl7cmV0dXJuIE99KSksdC5fZ2V0UGxhdGZvcm09Xzt2YXIgbj1yKDEpLGk9cigwKSxzPXIoMiksYT1yKDMpLG89cigxMyksYz1yKDU2KTtmdW5jdGlvbiBkKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciByPW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09cilyZXR1cm47dmFyIG4saSxzPVtdLGE9ITAsbz0hMTt0cnl7Zm9yKHI9ci5jYWxsKGUpOyEoYT0obj1yLm5leHQoKSkuZG9uZSkmJihzLnB1c2gobi52YWx1ZSksIXR8fHMubGVuZ3RoIT09dCk7YT0hMCk7fWNhdGNoKGUpe289ITAsaT1lfWZpbmFsbHl7dHJ5e2F8fG51bGw9PXIucmV0dXJufHxyLnJldHVybigpfWZpbmFsbHl7aWYobyl0aHJvdyBpfX1yZXR1cm4gc30oZSx0KXx8ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiB1KGUsdCk7dmFyIHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09ciYmZS5jb25zdHJ1Y3RvciYmKHI9ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PXJ8fCJTZXQiPT09cilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PXJ8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHIpKXJldHVybiB1KGUsdCl9KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiB1KGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciByPTAsbj1uZXcgQXJyYXkodCk7cjx0O3IrKyluW3JdPWVbcl07cmV0dXJuIG59ZnVuY3Rpb24gcCgpe3JldHVybihwPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gbChlLHQscil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1yLGV9dmFyIGI9InNvbm9iaSIsZj1PYmplY3QoaS5nZW5lcmF0ZVVVSUQpKCksbT0iaHR0cHM6Ly9tdHJ4LmdvLnNvbm9iaS5jb20vc2JpX291dHN0cmVhbV9yZW5kZXJlci5qcyIsdj17Y29kZTpiLHN1cHBvcnRlZE1lZGlhVHlwZXM6W3MuYixzLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe2lmKCFlLnBhcmFtcylyZXR1cm4hMTtpZighZS5wYXJhbXMuYWRfdW5pdCYmIWUucGFyYW1zLnBsYWNlbWVudF9pZClyZXR1cm4hMTtpZighT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIiKSYmIU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKSlyZXR1cm4hMTtpZihPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lciIpKXtpZighT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKSYmIWUucGFyYW1zLnNpemVzKXJldHVybiExfWVsc2UgaWYoT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIpKXtpZigib3V0c3RyZWFtIj09PU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpJiYhZS5wYXJhbXMuc2l6ZXMpcmV0dXJuITE7aWYoImluc3RyZWFtIj09PU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpJiYhT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplIikpcmV0dXJuITF9cmV0dXJuITB9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7aWYoZS5wYXJhbXMuYWRfdW5pdClyZXR1cm4gZS5wYXJhbXMuYWRfdW5pdDtyZXR1cm4gZS5wYXJhbXMucGxhY2VtZW50X2lkfShlKTtyZXR1cm4vXltcL10/W1xkXStbW1wvXS4rW1wvXT9dPyQvLnRlc3QodCk/KHQ9Ii8iPT09dC5jaGFyQXQoMCk/dDoiLyIrdCxsKHt9LCIiLmNvbmNhdCh0LCJ8IikuY29uY2F0KGUuYmlkSWQpLCIiLmNvbmNhdCh5KGUpKS5jb25jYXQoZyhlKSkuY29uY2F0KGgoZSkpKSk6L15bMC05YS1mQS1GXXsyMH0kLy50ZXN0KHQpJiYyMD09PXQubGVuZ3RoP2woe30sZS5iaWRJZCwiIi5jb25jYXQodCwifCIpLmNvbmNhdCh5KGUpKS5jb25jYXQoZyhlKSkuY29uY2F0KGgoZSkpKTp2b2lkIE9iamVjdChpLmxvZ0Vycm9yKSgiVGhlIGFkIHVuaXQgY29kZSBvciBTb25vYmkgUGxhY2VtZW50IGlkIGZvciBzbG90ICIuY29uY2F0KGUuYmlkSWQsIiBpcyBpbnZhbGlkIikpfSkpLG49e307ci5mb3JFYWNoKChmdW5jdGlvbihlKXtwKG4sZSl9KSk7dmFyIHM9e2tleV9tYWtlcjpKU09OLnN0cmluZ2lmeShuKSxyZWY6dC5yZWZlcmVySW5mby5yZWZlcmVyLHM6T2JqZWN0KGkuZ2VuZXJhdGVVVUlEKSgpLHB2OmYsdnA6XygpLGxpYl9uYW1lOiJwcmViaWQiLGxpYl92OiI1LjExLjAiLHVzOjB9O2lmKGEuYi5nZXRDb25maWcoInVzZXJTeW5jIikmJmEuYi5nZXRDb25maWcoInVzZXJTeW5jIikuc3luY3NQZXJCaWRkZXImJihzLnVzPWEuYi5nZXRDb25maWcoInVzZXJTeW5jIikuc3luY3NQZXJCaWRkZXIpLGMuYS5jYW5CaWRkZXJSZWdpc3RlclN5bmMoImlmcmFtZSIsYik/cy5pdXM9MTpzLml1cz0wLE9iamVjdChpLmRlZXBBY2Nlc3MpKGVbMF0sInBhcmFtcy5oZmEiKSYmKHMuaGZhPU9iamVjdChpLmRlZXBBY2Nlc3MpKGVbMF0sInBhcmFtcy5oZmEiKSksZVswXS5wYXJhbXMucmVmZXJyZXImJihzLnJlZj1lWzBdLnBhcmFtcy5yZWZlcnJlciksdCYmdC5nZHByQ29uc2VudCYmKHMuZ2Rwcj10LmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPyJ0cnVlIjoiZmFsc2UiLHQuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyYmKHMuY29uc2VudF9zdHJpbmc9dC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSksZVswXS5zY2hhaW4mJihzLnNjaGFpbj1KU09OLnN0cmluZ2lmeShlWzBdLnNjaGFpbikpLE9iamVjdChpLmRlZXBBY2Nlc3MpKGVbMF0sInVzZXJJZCIpJiZPYmplY3Qua2V5cyhlWzBdLnVzZXJJZCkubGVuZ3RoPjApe3ZhciBvPU9iamVjdChpLmRlZXBDbG9uZSkoZVswXS51c2VySWQpO28uaWQ1aWQmJihvLmlkNWlkPU9iamVjdChpLmRlZXBBY2Nlc3MpKG8sImlkNWlkLnVpZCIpKSxzLnVzZXJpZD1KU09OLnN0cmluZ2lmeShvKX12YXIgZD1PYmplY3QoaS5kZWVwQWNjZXNzKShlWzBdLCJ1c2VySWRBc0VpZHMiKTtBcnJheS5pc0FycmF5KGQpJiZkLmxlbmd0aD4wJiYocy5laWRzPUpTT04uc3RyaW5naWZ5KGQpKTt2YXIgdT1lWzBdLnBhcmFtcy5rZXl3b3JkcztpZih1JiYocy5rdz11KSx0JiZ0LnVzcENvbnNlbnQmJihzLnVzX3ByaXZhY3k9dC51c3BDb25zZW50KSwhMD09PWEuYi5nZXRDb25maWcoImNvcHBhIik/cy5jb3BwYT0xOnMuY29wcGE9MCxPYmplY3QoaS5pc0VtcHR5KShuKSlyZXR1cm4gbnVsbDt2YXIgbT0iaHR0cHM6Ly9hcGV4LmdvLnNvbm9iaS5jb20vdHJpbml0eS5qc29uIjtyZXR1cm4gT2JqZWN0KGkuZGVlcEFjY2VzcykoZVswXSwicGFyYW1zLmJpZF9yZXF1ZXN0X3VybCIpJiYobT1PYmplY3QoaS5kZWVwQWNjZXNzKShlWzBdLCJwYXJhbXMuYmlkX3JlcXVlc3RfdXJsIikpLHttZXRob2Q6IkdFVCIsdXJsOm0sd2l0aENyZWRlbnRpYWxzOiEwLGRhdGE6cyxiaWRkZXJSZXF1ZXN0czplfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmJvZHksbj1bXSxzPXQuZGF0YS5yZWY7cmV0dXJuIDA9PT1PYmplY3Qua2V5cyhyLnNsb3RzKS5sZW5ndGh8fE9iamVjdC5rZXlzKHIuc2xvdHMpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBhPXIuc2xvdHNbZV0sYz1lLnNwbGl0KCJ8Iikuc2xpY2UoLTEpWzBdLHU9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKylpZihlW3JdLmJpZElkPT09dClyZXR1cm4gZVtyXX0odC5iaWRkZXJSZXF1ZXN0cyxjKSxwPW51bGw7InZpZGVvIj09PWEuc2JpX2N0JiYocD0idmlkZW8iLCJvdXRzdHJlYW0iPT09T2JqZWN0KGkuZGVlcEFjY2VzcykodSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0IikmJihwPSJvdXRzdHJlYW0iKSk7dmFyIGw9aihwLHMpO2lmKGEuc2JpX2FpZCYmYS5zYmlfbW91c2UmJmEuc2JpX3NpemUpe3ZhciBiPWQoYS5zYmlfc2l6ZS5zcGxpdCgieCIpLDIpLGY9YlswXSx2PXZvaWQgMD09PWY/MTpmLHk9YlsxXSxnPXZvaWQgMD09PXk/MTp5LGg9W107YS5zYmlfYWRvbWFpbiYmKGg9W2Euc2JpX2Fkb21haW5dKTt2YXIgTz17cmVxdWVzdElkOmMsY3BtOk51bWJlcihhLnNiaV9tb3VzZSksd2lkdGg6TnVtYmVyKHYpLGhlaWdodDpOdW1iZXIoZyksYWQ6bChyLnNiaV9kYyxhLnNiaV9haWQpLHR0bDo1MDAsY3JlYXRpdmVJZDphLnNiaV9jcmlkfHxhLnNiaV9haWQsYWlkOmEuc2JpX2FpZCxuZXRSZXZlbnVlOiEwLGN1cnJlbmN5OiJVU0QiLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOmh9fTtpZihhLnNiaV9kb3plciYmKE8uZGVhbElkPWEuc2JpX2RvemVyKSwidmlkZW8iPT09cClPLm1lZGlhVHlwZT0idmlkZW8iLE8udmFzdFVybD1sKHIuc2JpX2RjLGEuc2JpX2FpZCksZGVsZXRlIE8uYWQsZGVsZXRlIE8ud2lkdGgsZGVsZXRlIE8uaGVpZ2h0O2Vsc2UgaWYoIm91dHN0cmVhbSI9PT1wJiZ1KXtPLm1lZGlhVHlwZT0idmlkZW8iLE8udmFzdFVybD1sKHIuc2JpX2RjLGEuc2JpX2FpZCksTy5yZW5kZXJlcj1mdW5jdGlvbihlLHQpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxuPW8uYS5pbnN0YWxsKHtpZDp0LmFpZCx1cmw6bSxjb25maWc6cixsb2FkZWQ6ITEsYWRVbml0Q29kZTplfSk7dHJ5e24uc2V0UmVuZGVyKEEpfWNhdGNoKGUpe09iamVjdChpLmxvZ1dhcm4pKCJQcmViaWQgRXJyb3IgY2FsbGluZyBzZXRSZW5kZXIgb24gcmVuZGVyZXIiLGUpfXJldHVybiBuLnNldEV2ZW50SGFuZGxlcnMoe2ltcHJlc3Npb246ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGkubG9nTWVzc2FnZSkoIlNvbm9iaSBvdXRzdHJlYW0gdmlkZW8gaW1wcmVzc2lvbiBldmVudCIpfSxsb2FkZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGkubG9nTWVzc2FnZSkoIlNvbm9iaSBvdXRzdHJlYW0gdmlkZW8gbG9hZGVkIGV2ZW50Iil9LGVuZGVkOmZ1bmN0aW9uKCl7T2JqZWN0KGkubG9nTWVzc2FnZSkoIlNvbm9iaSBvdXRzdHJlYW0gcmVuZGVyZXIgdmlkZW8gZXZlbnQiKX19KSxufSh1LmFkVW5pdENvZGUsTyxPYmplY3QoaS5kZWVwQWNjZXNzKSh1LCJyZW5kZXJlci5vcHRpb25zIikpO3ZhciBfPU9iamVjdChpLmRlZXBBY2Nlc3MpKHUsInBhcmFtcy5zaXplcyIpO0FycmF5LmlzQXJyYXkoXykmJkFycmF5LmlzQXJyYXkoX1swXSkmJihfPV9bMF0pLF8mJihPLndpZHRoPV9bMF0sTy5oZWlnaHQ9X1sxXSl9bi5wdXNoKE8pfX0pKSxufSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9W107dHJ5e2UucGl4ZWxFbmFibGVkJiZ0WzBdLmJvZHkuc2JpX3B4LmZvckVhY2goKGZ1bmN0aW9uKGUpe2kucHVzaCh7dHlwZTplLnR5cGUsdXJsOmUudXJsfSl9KSl9Y2F0Y2goZSl7fXJldHVybiBpfX07ZnVuY3Rpb24geShlKXtyZXR1cm4gT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIpPyIiOmUucGFyYW1zLnNpemVzP09iamVjdChpLnBhcnNlU2l6ZXNJbnB1dCkoZS5wYXJhbXMuc2l6ZXMpLmpvaW4oIiwiKTpPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcyIpP09iamVjdChpLnBhcnNlU2l6ZXNJbnB1dCkoT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKSkuam9pbigiLCIpOmUuc2l6ZXM/T2JqZWN0KGkucGFyc2VTaXplc0lucHV0KShlLnNpemVzKS5qb2luKCIsIik6dm9pZCAwfWZ1bmN0aW9uIGcoZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7aWYoIU9iamVjdChpLmlzRm4pKGUuZ2V0Rmxvb3IpKXJldHVybiBlLnBhcmFtcy5mbG9vcj9lLnBhcmFtcy5mbG9vcjpudWxsO3ZhciB0PWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZToiKiIsc2l6ZToiKiJ9KTtpZihPYmplY3QoaS5pc1BsYWluT2JqZWN0KSh0KSYmIWlzTmFOKHQuZmxvb3IpJiYiVVNEIj09PXQuY3VycmVuY3kpcmV0dXJuIHQuZmxvb3I7cmV0dXJuIiJ9KGUpO3JldHVybiB0PyJ8Zj0iLmNvbmNhdCh0KToiIn1mdW5jdGlvbiBoKGUpe3ZhciB0PU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm9ydGIySW1wLmV4dC5kYXRhLnBiYWRzbG90Iil8fE9iamVjdChpLmRlZXBBY2Nlc3MpKE9iamVjdChpLmdldEdwdFNsb3RJbmZvRm9yQWRVbml0Q29kZSkoZS5hZFVuaXRDb2RlKSwiZ3B0U2xvdCIpfHxlLnBhcmFtcy5hZF91bml0O3JldHVybiB0PyJ8Z3BpZD0iLmNvbmNhdCh0KToiIn12YXIgaj1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihyLG4pe3JldHVybiJ2aWRlbyI9PT1lfHwib3V0c3RyZWFtIj09PWU/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiJodHRwczovLyIuY29uY2F0KGUsImFwZXguZ28uc29ub2JpLmNvbS92YXN0LnhtbD92aWQ9IikuY29uY2F0KHQsIiZyZWY9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChyKSl9KHIsbix0KTonPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iJysiaHR0cHM6Ly8iLmNvbmNhdChyLCJhcGV4LmdvLnNvbm9iaS5jb20vc2JpLmpzP2FpZD0iKS5jb25jYXQobiwiJmFzPW51bGwmcmVmPSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQodCkpKyciPjxcL3NjcmlwdD4nfX07dmFyIE89ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06d2luZG93O3JldHVybiBmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowLHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOk51bWJlci5NQVhfU0FGRV9JTlRFR0VSO3JldHVybiBlLmlubmVyV2lkdGg+PXQmJmUuaW5uZXJXaWR0aDxyfX07ZnVuY3Rpb24gXygpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp3aW5kb3csdD1PKGUpLHI9e2x0Ojc2OH0sbj17bHQ6OTkyLGdlOjc2OH07cmV0dXJuIHQoMCxyLmx0KT8ibW9iaWxlIjp0KG4uZ2Usbi5sdCk/InRhYmxldCI6ImRlc2t0b3AifWZ1bmN0aW9uIEEoZSl7ZS5yZW5kZXJlci5wdXNoKChmdW5jdGlvbigpe3ZhciB0PWQoZS5nZXRTaXplKCkuc3BsaXQoIngiKSwyKSxyPXRbMF0sbj10WzFdLGk9bmV3IHdpbmRvdy5TYmlPdXRzdHJlYW1SZW5kZXJlcjtpLmluaXQoe3Zhc3RVcmw6ZS52YXN0VXJsLGhlaWdodDpuLHdpZHRoOnJ9KSxpLnNldFJvb3RFbGVtZW50KGUuYWRVbml0Q29kZSl9KSl9T2JqZWN0KG4ucmVnaXN0ZXJCaWRkZXIpKHYpfX0sWzc1N10pOwp1cGJqc0NodW5rKFsxMl0sezE4OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5iPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgciBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkocikpaWYoInB1YlByb3ZpZGVkSWQiPT09cil0PXQuY29uY2F0KGUucHViUHJvdmlkZWRJZCk7ZWxzZXt2YXIgaT1hKGVbcl0scik7aSYmdC5wdXNoKGkpfXJldHVybiB0fSx0LmE9ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gaS5pc1BsYWluT2JqZWN0KGUuaWRPYmopJiZPYmplY3Qua2V5cyhlLmlkT2JqKS5sZW5ndGh9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZS5pZE9iaikuZm9yRWFjaCgoZnVuY3Rpb24ocil7aS5kZWVwQWNjZXNzKGUsImNvbmZpZy5iaWRkZXJzIikmJkFycmF5LmlzQXJyYXkoZS5jb25maWcuYmlkZGVycykmJmkuZGVlcEFjY2VzcyhuLHIrIi5zb3VyY2UiKSYmdC5wdXNoKHtzb3VyY2U6bltyXS5zb3VyY2UsYmlkZGVyczplLmNvbmZpZy5iaWRkZXJzfSl9KSl9KSksdH07dmFyIGk9cigwKSxuPXtpbnRlbnRJcUlkOntzb3VyY2U6ImludGVudGlxLmNvbSIsYXR5cGU6MX0scHViY2lkOntzb3VyY2U6InB1YmNpZC5vcmciLGF0eXBlOjF9LHRkaWQ6e3NvdXJjZToiYWRzZXJ2ZXIub3JnIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbigpe3JldHVybntydGlQYXJ0bmVyOiJURElEIn19fSxpZDVpZDp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudWlkfSxzb3VyY2U6ImlkNS1zeW5jLmNvbSIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoZS5leHQpcmV0dXJuIGUuZXh0fX0scGFycmFibGVJZDp7c291cmNlOiJwYXJyYWJsZS5jb20iLGF0eXBlOjEsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZWlkP2UuZWlkOmUuY2NwYU9wdG91dD8iIjpudWxsfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7dmFyIHQ9aS5waWNrKGUsWyJpYmFPcHRvdXQiLCJjY3BhT3B0b3V0Il0pO2lmKE9iamVjdC5rZXlzKHQpLmxlbmd0aClyZXR1cm4gdH19LGlkbF9lbnY6e3NvdXJjZToibGl2ZXJhbXAuY29tIixhdHlwZTozfSxsaXBiOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5saXBiaWR9LHNvdXJjZToibGl2ZWludGVudC5jb20iLGF0eXBlOjMsZ2V0RWlkRXh0OmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZS5zZWdtZW50cykmJmUuc2VnbWVudHMubGVuZ3RoKXJldHVybntzZWdtZW50czplLnNlZ21lbnRzfX19LGJyaXRlcG9vbGlkOntzb3VyY2U6ImJyaXRlcG9vbC5jb20iLGF0eXBlOjN9LGRtZElkOntzb3VyY2U6Imhjbi5oZWFsdGgiLGF0eXBlOjN9LGxvdGFtZVBhbm9yYW1hSWQ6e3NvdXJjZToiY3J3ZGNudHJsLm5ldCIsYXR5cGU6MX0sY3JpdGVvSWQ6e3NvdXJjZToiY3JpdGVvLmNvbSIsYXR5cGU6MX0sbWVya2xlSWQ6e3NvdXJjZToibWVya2xlaW5jLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmtleUlEP3trZXlJRDplLmtleUlEfTp2b2lkIDB9fSxuZXRJZDp7c291cmNlOiJuZXRpZC5kZSIsYXR5cGU6MX0sSURQOntzb3VyY2U6Inplb3RhcC5jb20iLGF0eXBlOjF9LGhhbG9JZDp7c291cmNlOiJhdWRpZ2VudC5jb20iLGF0eXBlOjF9LHF1YW50Y2FzdElkOntzb3VyY2U6InF1YW50Y2FzdC5jb20iLGF0eXBlOjF9LG5leHRyb2xsSWQ6e3NvdXJjZToibmV4dHJvbGwuY29tIixhdHlwZToxfSxpZHg6e3NvdXJjZToiaWR4LmxhdCIsYXR5cGU6MX0sY29ubmVjdGlkOntzb3VyY2U6InZlcml6b25tZWRpYS5jb20iLGF0eXBlOjN9LGZhYnJpY2tJZDp7c291cmNlOiJuZXVzdGFyLmJpeiIsYXR5cGU6MX0sbXdPcGVuTGlua0lkOntzb3VyY2U6Im1lZGlhd2FsbGFoc2NyaXB0LmNvbSIsYXR5cGU6MX0sdGFwYWRJZDp7c291cmNlOiJ0YXBhZC5jb20iLGF0eXBlOjF9LG5vdmF0aXE6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnNub3dmbGFrZX0sc291cmNlOiJub3ZhdGlxLmNvbSIsYXR5cGU6MX0sdWlkMjp7c291cmNlOiJ1aWRhcGkuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfX0sZGVlcGludGVudElkOntzb3VyY2U6ImRlZXBpbnRlbnQuY29tIixhdHlwZTozfSxkYXBJZDp7c291cmNlOiJha2FtYWkuY29tIixhdHlwZToxfSxhZG1peGVySWQ6e3NvdXJjZToiYWRtaXhlci5uZXQiLGF0eXBlOjN9LGFkdGVsbGlnZW50SWQ6e3NvdXJjZToiYWR0ZWxsaWdlbnQuY29tIixhdHlwZTozfSxhbXhJZDp7c291cmNlOiJhbXhydGIuY29tIixhdHlwZToxfSxrcHVpZDp7c291cmNlOiJrcHVpZC5jb20iLGF0eXBlOjN9LGltdWlkOntzb3VyY2U6ImludGltYXRlbWVyZ2VyLmNvbSIsYXR5cGU6MX19O2Z1bmN0aW9uIGEoZSx0KXt2YXIgcj1uW3RdO2lmKHImJmUpe3ZhciBhPXt9O2Euc291cmNlPXIuc291cmNlO3ZhciBvPWkuaXNGbihyLmdldFZhbHVlKT9yLmdldFZhbHVlKGUpOmU7aWYoaS5pc1N0cihvKSl7dmFyIGQ9e2lkOm8sYXR5cGU6ci5hdHlwZX07aWYoaS5pc0ZuKHIuZ2V0VWlkRXh0KSl7dmFyIHU9ci5nZXRVaWRFeHQoZSk7dSYmKGQuZXh0PXUpfWlmKGEudWlkcz1bZF0saS5pc0ZuKHIuZ2V0RWlkRXh0KSl7dmFyIGM9ci5nZXRFaWRFeHQoZSk7YyYmKGEuZXh0PWMpfXJldHVybiBhfX1yZXR1cm4gbnVsbH19LDc2NTpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoNzY2KX0sNzY2OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKTt2YXIgaT1yKDApLG49cigxKSxhPXIoMiksbz1yKDE4KSxkPXIoMyksdT17Y29kZToic292cm4iLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2EuYl0sZ3ZsaWQ6MTMsaXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISghZS5wYXJhbXMudGFnaWR8fGlzTmFOKHBhcnNlRmxvYXQoZS5wYXJhbXMudGFnaWQpKXx8IWlzRmluaXRlKGUucGFyYW1zLnRhZ2lkKSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXt0cnl7dmFyIHIsbixhLHUsYz1bXSxzPVtdO2kuX2VhY2goZSwoZnVuY3Rpb24oZSl7IWEmJmUudXNlcklkJiYoYT1PYmplY3Qoby5iKShlLnVzZXJJZCkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UudWlkcyYmZS51aWRzWzBdJiYoImNyaXRlby5jb20iPT09ZS5zb3VyY2UmJih1PWUudWlkc1swXS5pZCkscy5wdXNoKHtzb3VyY2U6ZS5zb3VyY2UsdWlkOmUudWlkc1swXS5pZH0pKX0pKSxlLnNjaGFpbiYmKG49bnx8ZS5zY2hhaW4pLHI9cnx8aS5nZXRCaWRJZFBhcmFtZXRlcigiaXYiLGUucGFyYW1zKTt2YXIgdD1lLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXImJmUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXN8fGUuc2l6ZXMsZD0odD0odD1pLmlzQXJyYXkodCkmJmkuaXNBcnJheSh0WzBdKT90Olt0XSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gaS5pc0FycmF5KGUpfSkpKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnt3OnBhcnNlSW50KGVbMF0sMTApLGg6cGFyc2VJbnQoZVsxXSwxMCl9fSkpLHA9ZS5nZXRGbG9vciYmImZ1bmN0aW9uIj09dHlwZW9mIGUuZ2V0Rmxvb3I/ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOiJiYW5uZXIiLHNpemU6IioifSk6e307cC5mbG9vcj1wLmZsb29yfHxpLmdldEJpZElkUGFyYW1ldGVyKCJiaWRmbG9vciIsZS5wYXJhbXMpO3ZhciBsPXthZHVuaXRjb2RlOmUuYWRVbml0Q29kZSxpZDplLmJpZElkLGJhbm5lcjp7Zm9ybWF0OmQsdzoxLGg6MX0sdGFnaWQ6U3RyaW5nKGkuZ2V0QmlkSWRQYXJhbWV0ZXIoInRhZ2lkIixlLnBhcmFtcykpLGJpZGZsb29yOnAuZmxvb3J9O2wuZXh0PWkuZ2V0QmlkSWRQYXJhbWV0ZXIoImV4dCIsZS5vcnRiMkltcCl8fHZvaWQgMDt2YXIgbT1pLmdldEJpZElkUGFyYW1ldGVyKCJzZWdtZW50cyIsZS5wYXJhbXMpO20mJihsLmV4dD1sLmV4dHx8e30sbC5leHQuZGVhbHM9bS5zcGxpdCgiLCIpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJpbSgpfSkpKSxjLnB1c2gobCl9KSk7dmFyIHA9aS5kZWVwQ2xvbmUoZC5iLmdldENvbmZpZygib3J0YjIiKSksbD1wLnNpdGV8fHt9O2wucGFnZT10LnJlZmVyZXJJbmZvLnJlZmVyZXIsbC5kb21haW49aS5wYXJzZVVybChsLnBhZ2UpLmhvc3RuYW1lO3ZhciBtPXtpZDppLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIoKSxpbXA6YyxzaXRlOmwsdXNlcjpwLnVzZXJ8fHt9fTtuJiYobS5zb3VyY2U9e2V4dDp7c2NoYWluOm59fSksdC5nZHByQ29uc2VudCYmKGkuZGVlcFNldFZhbHVlKG0sInJlZ3MuZXh0LmdkcHIiLCt0LmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKSxpLmRlZXBTZXRWYWx1ZShtLCJ1c2VyLmV4dC5jb25zZW50Iix0LmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKSx0LnVzcENvbnNlbnQmJmkuZGVlcFNldFZhbHVlKG0sInJlZ3MuZXh0LnVzX3ByaXZhY3kiLHQudXNwQ29uc2VudCksYSYmKGkuZGVlcFNldFZhbHVlKG0sInVzZXIuZXh0LmVpZHMiLGEpLGkuZGVlcFNldFZhbHVlKG0sInVzZXIuZXh0LnRwaWQiLHMpLHUmJmkuZGVlcFNldFZhbHVlKG0sInVzZXIuZXh0LnByZWJpZF9jcml0ZW9pZCIsdSkpO3ZhciBmPSJodHRwczovL2FwLmxpaml0LmNvbS9ydGIvYmlkP3NyYz1wcmViaWRfcHJlYmlkXzUuMTEuMCI7cmV0dXJuIHImJihmKz0iJml2PSIuY29uY2F0KHIpKSx7bWV0aG9kOiJQT1NUIix1cmw6ZixkYXRhOkpTT04uc3RyaW5naWZ5KG0pLG9wdGlvbnM6e2NvbnRlbnRUeXBlOiJ0ZXh0L3BsYWluIn19fWNhdGNoKGUpe2kubG9nRXJyb3IoIkNvdWxkIG5vdCBidWlsZCBiaWRyZXF1ZXN0LCBlcnJvciBkZWF0aWxzOiIsZSl9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlKXt2YXIgdD1lLmJvZHkscj10LmlkLG49dC5zZWF0YmlkO3RyeXt2YXIgbz1bXTtyZXR1cm4gciYmbiYmbi5sZW5ndGg+MCYmblswXS5iaWQmJm5bMF0uYmlkLmxlbmd0aD4wJiZuWzBdLmJpZC5tYXAoKGZ1bmN0aW9uKGUpe28ucHVzaCh7cmVxdWVzdElkOmUuaW1waWQsY3BtOnBhcnNlRmxvYXQoZS5wcmljZSksd2lkdGg6cGFyc2VJbnQoZS53KSxoZWlnaHQ6cGFyc2VJbnQoZS5oKSxjcmVhdGl2ZUlkOmUuY3JpZHx8ZS5pZCxkZWFsSWQ6ZS5kZWFsaWR8fG51bGwsY3VycmVuY3k6IlVTRCIsbmV0UmV2ZW51ZTohMCxtZWRpYVR5cGU6YS5iLGFkOmRlY29kZVVSSUNvbXBvbmVudCgiIi5jb25jYXQoZS5hZG0sJzxpbWcgc3JjPSInKS5jb25jYXQoZS5udXJsLCciPicpKSx0dGw6ZS5leHQmJmUuZXh0LnR0bHx8OTAsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6ZSYmZS5hZG9tYWluP2UuYWRvbWFpbjpbXX19KX0pKSxvfWNhdGNoKGUpe2kubG9nRXJyb3IoIkNvdWxkIG5vdCBpbnRyZXByZXQgYmlkcmVzcG9uc2UsIGVycm9yIGRlYXRpbHM6IixlKX19LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQscixuKXt0cnl7dmFyIGE9W107aWYodCYmMCE9PXQubGVuZ3RoKXtpZihlLmlmcmFtZUVuYWJsZWQpe3ZhciBvPXQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gaS5kZWVwQWNjZXNzKGUsImJvZHkuZXh0LmlpZCIpfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYm9keS5leHQuaWlkfSkpLGQ9W107ciYmci5nZHByQXBwbGllcyYmInN0cmluZyI9PXR5cGVvZiByLmNvbnNlbnRTdHJpbmcmJmQucHVzaChbImdkcHJfY29uc2VudCIsci5jb25zZW50U3RyaW5nXSksbiYmZC5wdXNoKFsidXNfcHJpdmFjeSIsbl0pLG9bMF0mJihkLnB1c2goWyJpbmZvcm1lciIsb1swXV0pLGEucHVzaCh7dHlwZToiaWZyYW1lIix1cmw6Imh0dHBzOi8vYXAubGlqaXQuY29tL2JlYWNvbj8iK2QubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5qb2luKCI9Iil9KSkuam9pbigiJiIpfSkpfWUucGl4ZWxFbmFibGVkJiZ0LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGkuZGVlcEFjY2VzcyhlLCJib2R5LmV4dC5zeW5jLnBpeGVscyIpfSkpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jb25jYXQodC5ib2R5LmV4dC5zeW5jLnBpeGVscyl9KSxbXSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS51cmx9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGEucHVzaCh7dHlwZToiaW1hZ2UiLHVybDplfSl9KSl9cmV0dXJuIGF9Y2F0Y2goZSl7cmV0dXJuW119fX07T2JqZWN0KG4ucmVnaXN0ZXJCaWRkZXIpKHUpfX0sWzc2NV0pOwp1cGJqc0NodW5rKFs5OF0sezc5NzpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoNzk4KX0sNzk4OmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJ0cmlwbGVsaWZ0QWRhcHRlclNwZWMiLChmdW5jdGlvbigpe3JldHVybiBifSkpO3ZhciBuPXQoMiksaT10KDEpLG89dCgwKSx1PXQoMyk7ZnVuY3Rpb24gYSgpe3JldHVybihhPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciB0PWFyZ3VtZW50c1tyXTtmb3IodmFyIG4gaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKSYmKGVbbl09dFtuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gcChlKXtyZXR1cm4ocD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIGMoZSxyKXt2YXIgdD1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3ImJihuPW4uZmlsdGVyKChmdW5jdGlvbihyKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHIpLmVudW1lcmFibGV9KSkpLHQucHVzaC5hcHBseSh0LG4pfXJldHVybiB0fWZ1bmN0aW9uIGQoZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9bnVsbCE9YXJndW1lbnRzW3JdP2FyZ3VtZW50c1tyXTp7fTtyJTI/YyhPYmplY3QodCksITApLmZvckVhY2goKGZ1bmN0aW9uKHIpe3MoZSxyLHRbcl0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpOmMoT2JqZWN0KHQpKS5mb3JFYWNoKChmdW5jdGlvbihyKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gcyhlLHIsdCl7cmV0dXJuIHIgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLHt2YWx1ZTp0LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVtyXT10LGV9ZnVuY3Rpb24gZihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gbChlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fGZ1bmN0aW9uKGUscil7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gbChlLHIpO3ZhciB0PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PXQmJmUuY29uc3RydWN0b3ImJih0PWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT10fHwiU2V0Ij09PXQpcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT10fHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KSlyZXR1cm4gbChlLHIpfShlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBsKGUscil7KG51bGw9PXJ8fHI+ZS5sZW5ndGgpJiYocj1lLmxlbmd0aCk7Zm9yKHZhciB0PTAsbj1uZXcgQXJyYXkocik7dDxyO3QrKyluW3RdPWVbdF07cmV0dXJuIG59dmFyIHk9ITAsbT1udWxsLGI9e2d2bGlkOjI4LGNvZGU6InRyaXBsZWxpZnQiLHN1cHBvcnRlZE1lZGlhVHlwZXM6W24uYixuLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lLnBhcmFtcy5pbnZlbnRvcnlDb2RlfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIHQ9Imh0dHBzOi8vdGx4LjNsaWZ0LmNvbS9oZWFkZXIvYXVjdGlvbj8iLG49ZnVuY3Rpb24oZSl7dmFyIHI9e30sdD1lWzBdLnNjaGFpbixuPWZ1bmN0aW9uKCl7dmFyIGU9e30scj17fSx0PXt9LG49dS5iLmdldExlZ2FjeUZwZCh1LmIuZ2V0Q29uZmlnKCJvcnRiMiIpKXx8e30saT1hKHt9LG4uY29udGV4dCkscD1hKHt9LG4udXNlcik7UyhyLGkpLFModCxwKSxvLmlzRW1wdHkocil8fChlLmNvbnRleHQ9cik7by5pc0VtcHR5KHQpfHwoZS51c2VyPXQpO3JldHVybiBlfSgpO3IuaW1wPWUubWFwKChmdW5jdGlvbihlLHIpe3ZhciB0PXtpZDpyLHRhZ2lkOmUucGFyYW1zLmludmVudG9yeUNvZGUsZmxvb3I6dihlKX07cmV0dXJuIGcoZSk/dC52aWRlbz1mdW5jdGlvbihlKXt2YXIgcj1kKGQoe30sZS5wYXJhbXMudmlkZW8pLGUubWVkaWFUeXBlcy52aWRlbyk7ci53fHwoci53PXIucGxheWVyU2l6ZVswXVswXSk7ci5ofHwoci5oPXIucGxheWVyU2l6ZVswXVsxXSk7Imluc3RyZWFtIj09PXIuY29udGV4dCYmKHIucGxhY2VtZW50PTEpO3JldHVybiBkZWxldGUgci5wbGF5ZXJTaXplLHJ9KGUpOmUubWVkaWFUeXBlcy5iYW5uZXImJih0LmJhbm5lcj17Zm9ybWF0Ok8oZS5zaXplcyl9KSxvLmlzRW1wdHkoZS5vcnRiMkltcCl8fCh0LmZwZD1mdW5jdGlvbihlKXt2YXIgcj17fSx0PXt9O1ModCxlLmV4dCksby5pc0VtcHR5KHQpfHwoci5jb250ZXh0PXQpO3JldHVybiByfShlLm9ydGIySW1wKSksdH0pKTt2YXIgaT1bXS5jb25jYXQoZigocD1bZVswXV0saChwLCJ0ZGlkIiwiYWRzZXJ2ZXIub3JnIiwiVERJRCIpKSksZihmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJpZGxfZW52IiwibGl2ZXJhbXAuY29tIiwiaWRsIil9KFtlWzBdXSkpLGYoZnVuY3Rpb24oZSl7cmV0dXJuIGgoZSwiY3JpdGVvSWQiLCJjcml0ZW8uY29tIiwiY3JpdGVvSWQiKX0oW2VbMF1dKSksZihmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJwdWJjaWQiLCJwdWJjaWQub3JnIiwicHViY2lkIil9KFtlWzBdXSkpKTt2YXIgcDtpLmxlbmd0aD4wJiYoci51c2VyPXtleHQ6e2VpZHM6aX19KTt2YXIgYz1mdW5jdGlvbihlLHIpe3ZhciB0PXt9O28uaXNFbXB0eShlKXx8KHQuc2NoYWluPWQoe30sZSkpO28uaXNFbXB0eShyKXx8KHQuZnBkPWQoe30scikpO3JldHVybiB0fSh0LG4pO28uaXNFbXB0eShjKXx8KHIuZXh0PWMpO3JldHVybiByfShlKTtpZih0PW8udHJ5QXBwZW5kUXVlcnlTdHJpbmcodCwibGliIiwicHJlYmlkIiksdD1vLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKHQsInYiLCI1LjExLjAiKSxyJiZyLnJlZmVyZXJJbmZvKXt2YXIgaT1yLnJlZmVyZXJJbmZvLnJlZmVyZXI7dD1vLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKHQsInJlZmVycmVyIixpKX1yZXR1cm4gciYmci50aW1lb3V0JiYodD1vLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKHQsInRtYXgiLHIudGltZW91dCkpLHImJnIuZ2RwckNvbnNlbnQmJih2b2lkIDAhPT1yLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYoeT1yLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzLHQ9by50cnlBcHBlbmRRdWVyeVN0cmluZyh0LCJnZHByIix5LnRvU3RyaW5nKCkpKSx2b2lkIDAhPT1yLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcmJihtPXIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyx0PW8udHJ5QXBwZW5kUXVlcnlTdHJpbmcodCwiY21wX2NzIixtKSkpLHImJnIudXNwQ29uc2VudCYmKHQ9by50cnlBcHBlbmRRdWVyeVN0cmluZyh0LCJ1c19wcml2YWN5IixyLnVzcENvbnNlbnQpKSwhMD09PXUuYi5nZXRDb25maWcoImNvcHBhIikmJih0PW8udHJ5QXBwZW5kUXVlcnlTdHJpbmcodCwiY29wcGEiLCEwKSksdC5sYXN0SW5kZXhPZigiJiIpPT09dC5sZW5ndGgtMSYmKHQ9dC5zdWJzdHJpbmcoMCx0Lmxlbmd0aC0xKSksby5sb2dNZXNzYWdlKCJ0bENhbGwgcmVxdWVzdCBidWlsdDogIit0KSx7bWV0aG9kOiJQT1NUIix1cmw6dCxkYXRhOm4sYmlkZGVyUmVxdWVzdDpyfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgdD1yLmJpZGRlclJlcXVlc3Q7cmV0dXJuKGUuYm9keS5iaWRzfHxbXSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSxyKXt2YXIgdD17fSxuPXIud2lkdGh8fDEsaT1yLmhlaWdodHx8MSxvPXIuZGVhbF9pZHx8IiIsdT1yLmNyaWR8fCIiLGE9ZS5iaWRzW3IuaW1wX2lkXTswIT1yLmNwbSYmci5hZCYmKHQ9e3JlcXVlc3RJZDphLmJpZElkLGNwbTpyLmNwbSx3aWR0aDpuLGhlaWdodDppLG5ldFJldmVudWU6ITAsYWQ6ci5hZCxjcmVhdGl2ZUlkOnUsZGVhbElkOm8sY3VycmVuY3k6IlVTRCIsdHRsOjMwMCx0bF9zb3VyY2U6ci50bF9zb3VyY2UsbWV0YTp7fX0sZyhhKSYmKHQudmFzdFhtbD1yLmFkLHQubWVkaWFUeXBlPSJ2aWRlbyIpLHIuYWR2ZXJ0aXNlcl9uYW1lJiYodC5tZXRhLmFkdmVydGlzZXJOYW1lPXIuYWR2ZXJ0aXNlcl9uYW1lKSxyLmFkb21haW4mJnIuYWRvbWFpbi5sZW5ndGgmJih0Lm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnM9ci5hZG9tYWluKSxyLnRsX3NvdXJjZSYmImhkeCI9PXIudGxfc291cmNlJiYodC5tZXRhLm1lZGlhVHlwZT0iYmFubmVyIiksci50bF9zb3VyY2UmJiJ0bHgiPT1yLnRsX3NvdXJjZSYmKHQubWV0YS5tZWRpYVR5cGU9Im5hdGl2ZSIpKTtyZXR1cm4gdH0odCxlKX0pKX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUscix0LG4pe3ZhciBpPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybjtpZihlLmlmcmFtZUVuYWJsZWQpcmV0dXJuImlmcmFtZSI7aWYoZS5waXhlbEVuYWJsZWQpcmV0dXJuImltYWdlIn0oZSk7aWYoaSl7dmFyIHU9Imh0dHBzOi8vZWIyLjNsaWZ0LmNvbS9zeW5jPyI7cmV0dXJuImltYWdlIj09PWkmJih1PW8udHJ5QXBwZW5kUXVlcnlTdHJpbmcodSwicHgiLDEpLHU9by50cnlBcHBlbmRRdWVyeVN0cmluZyh1LCJzcmMiLCJwcmViaWQiKSksbnVsbCE9PW0mJih1PW8udHJ5QXBwZW5kUXVlcnlTdHJpbmcodSwiZ2RwciIseSksdT1vLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKHUsImNtcF9jcyIsbSkpLG4mJih1PW8udHJ5QXBwZW5kUXVlcnlTdHJpbmcodSwidXNfcHJpdmFjeSIsbikpLFt7dHlwZTppLHVybDp1fV19fX07ZnVuY3Rpb24gZyhlKXtyZXR1cm4hIWUubWVkaWFUeXBlcy52aWRlbyYmKCEhZS5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQmJiJpbnN0cmVhbSI9PT1lLm1lZGlhVHlwZXMudmlkZW8uY29udGV4dC50b0xvd2VyQ2FzZSgpKX1mdW5jdGlvbiB2KGUpe3ZhciByPW51bGw7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUuZ2V0Rmxvb3Ipe3ZhciB0PWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZTpnKGUpPyJ2aWRlbyI6ImJhbm5lciIsc2l6ZToiKiJ9KTsib2JqZWN0IiE9PXAodCl8fCJVU0QiIT09dC5jdXJyZW5jeXx8aXNOYU4ocGFyc2VGbG9hdCh0LmZsb29yKSl8fChyPXBhcnNlRmxvYXQodC5mbG9vcikpfXJldHVybiBudWxsIT09cj9yOmUucGFyYW1zLmZsb29yfWZ1bmN0aW9uIFMoZSxyKXtvLmlzRW1wdHkocil8fE9iamVjdC5rZXlzKHIpLmZvckVhY2goKGZ1bmN0aW9uKHQpe251bGwhPXJbdF0mJihlW3RdPXJbdF0pfSkpfWZ1bmN0aW9uIGgoZSxyLHQsbil7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gciYmci51c2VySWQmJnIudXNlcklkW2VdfX0ocikpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuISFlfSkpLm1hcChmdW5jdGlvbihlLHIpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm57c291cmNlOmUsdWlkczpbe2lkOnQsZXh0OntydGlQYXJ0bmVyOnJ9fV19fX0odCxuKSl9ZnVuY3Rpb24gTyhlKXtyZXR1cm4gZS5maWx0ZXIoQSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dzplWzBdLGg6ZVsxXX19KSl9ZnVuY3Rpb24gQShlKXtyZXR1cm4gMj09PWUubGVuZ3RoJiYibnVtYmVyIj09dHlwZW9mIGVbMF0mJiJudW1iZXIiPT10eXBlb2YgZVsxXX1PYmplY3QoaS5yZWdpc3RlckJpZGRlcikoYil9fSxbNzk3XSk7CnVwYmpzQ2h1bmsoWzkzXSx7ODA5OmZ1bmN0aW9uKGUsbix0KXtlLmV4cG9ydHM9dCg4MTApfSw4MTA6ZnVuY3Rpb24oZSxuLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5yZXNldFVzZXJTeW5jPWZ1bmN0aW9uKCl7ZD0hMX0sdC5kKG4sInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBvfSkpO3ZhciBzPXQoMCksaT10KDMpLHI9dCgxKSxhPSIzLjVWIixkPSExO3MubG9nTWVzc2FnZSgiSW5pdGlhbGl6aW5nIFVETSBBZGFwdGVyLiBQQkpTIFZlcnNpb246ICIuY29uY2F0KCI1LjExLjAiLCIgd2l0aCBhZGFwdGVyIHZlcnNpb246ICIpLmNvbmNhdChhLCIgIFVwZGF0ZWQgMjAxOTEwMjgiKSk7dmFyIG89e2NvZGU6InVuZGVyZG9nbWVkaWEiLGJpZFBhcmFtczpbXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXt2YXIgbj1lLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXImJmUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM/ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplczplLnNpemVzO3JldHVybiEhKGUucGFyYW1zJiZlLnBhcmFtcy5zaXRlSWQmJm4mJm4ubGVuZ3RoPjApfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsbil7dmFyIHQ9W10saT0wO2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49ZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiZlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzP2UubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM6ZS5zaXplczt0PXMuZmxhdHRlbih0LHMucGFyc2VTaXplc0lucHV0KG4pKSxpPWUucGFyYW1zLnNpdGVJZH0pKTt2YXIgcj17dGlkOjEsZHQ6MTAsc2lkOmksc2l6ZXM6dC5qb2luKCIsIiksdmVyc2lvbjphfTtpZihuJiZuLmdkcHJDb25zZW50JiYodm9pZCAwIT09bi5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmKHIuZ2RwckFwcGxpZXM9ISFuLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKSxuLmdkcHJDb25zZW50LnZlbmRvckRhdGEmJm4uZ2RwckNvbnNlbnQudmVuZG9yRGF0YS52ZW5kb3JDb25zZW50cyYmdm9pZCAwIT09bi5nZHByQ29uc2VudC52ZW5kb3JEYXRhLnZlbmRvckNvbnNlbnRzWzE1OV0mJihyLmNvbnNlbnRHaXZlbj0hIW4uZ2RwckNvbnNlbnQudmVuZG9yRGF0YS52ZW5kb3JDb25zZW50c1sxNTldKSx2b2lkIDAhPT1uLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcmJihyLmNvbnNlbnREYXRhPW4uZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZykpLG4udXNwQ29uc2VudCYmKHIudXNwQ29uc2VudD1uLnVzcENvbnNlbnQpLCFyLmdkcHJBcHBsaWVzfHxyLmNvbnNlbnRHaXZlbilyZXR1cm57bWV0aG9kOiJHRVQiLHVybDoiaHR0cHM6Ly91ZG1zZXJ2ZS5uZXQvdWRtL2ltZy5mZXRjaCIsZGF0YTpyLGJpZFBhcmFtczplfX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsbil7aWYoIWQmJm4ubGVuZ3RoPjAmJm5bMF0uYm9keSYmblswXS5ib2R5LnVzZXJTeW5jcyYmblswXS5ib2R5LnVzZXJTeW5jcy5sZW5ndGg+MClyZXR1cm4gZD0hMCxuWzBdLmJvZHkudXNlclN5bmNzLmZpbHRlcigoZnVuY3Rpb24obil7dmFyIHQ9bi50eXBlO3JldHVybiEoIWUuaWZyYW1lRW5hYmxlZHx8ImlmcmFtZSIhPT10KXx8KCEoIWUucGl4ZWxFbmFibGVkfHwiaW1hZ2UiIT09dCl8fHZvaWQgMCl9KSl9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsbil7dmFyIHQ9W107cmV0dXJuIG4uYmlkUGFyYW1zLmZvckVhY2goKGZ1bmN0aW9uKG4pe2UuYm9keS5taWRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKCEoZS51c2VDb3VudD4wKSl7ZS51c2VDb3VudHx8KGUudXNlQ291bnQ9MCk7dmFyIHI9ITAsZD1uLm1lZGlhVHlwZXMmJm4ubWVkaWFUeXBlcy5iYW5uZXImJm4ubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM/bi5tZWRpYVR5cGVzLmJhbm5lci5zaXplczpuLnNpemVzO2lmKHMucGFyc2VTaXplc0lucHV0KGQpLmZvckVhY2goKGZ1bmN0aW9uKG4pe249PT1lLndpZHRoKyJ4IitlLmhlaWdodCYmKHI9ITEpfSkpLCFyKXt2YXIgcD17cmVxdWVzdElkOm4uYmlkSWQsYmlkZGVyQ29kZTpvLmNvZGUsY3BtOnBhcnNlRmxvYXQoZS5jcG0pLHdpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0LGFkOmUuYWRfY29kZV9odG1sLGNyZWF0aXZlSWQ6ZS5taWQsY3VycmVuY3k6IlVTRCIsbmV0UmV2ZW51ZTohMSx0dGw6ZS50dGx8fDYwLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOmUuYWR2ZXJ0aXNlcl9kb21haW5zfHxbXX19O3AuY3BtPD0wfHxwLmFkLmxlbmd0aDw9MHx8KGUudXNlQ291bnQrKyxwLmFkKz1mdW5jdGlvbihlLG4sdCl7dmFyIHM9bi5ub3RpZmljYXRpb25fdXJsLHI9cy5pbmRleE9mKCI7dmVyc2lvbj0iKTtyKzEmJihzPXMuc3Vic3RyaW5nKDAscikpO3MrPSI7dmVyc2lvbj0iLmNvbmNhdChhKSxzKz0iO2NiPSIrTWF0aC5yYW5kb20oKSxzKz0iO3FxcT0iKzEvZS5jcG0scys9IjtoYnQ9IitpLmIuZ2V0Q29uZmlnKCJfYmlkZGVyVGltZW91dCIpLHMrPSI7c3R5bGU9YWRhcHRlciIscys9Ijt2aXM9IitlbmNvZGVVUklDb21wb25lbnQoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlKSxzKz0iO3RyYWZmaWNfaW5mbz0iK2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShmdW5jdGlvbigpe2Zvcih2YXIgZSxuPXt9LHQ9d2luZG93LmxvY2F0aW9uLmhyZWYuc2xpY2Uod2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZigiPyIpKzEpLnNwbGl0KCImIikscz0wO3M8dC5sZW5ndGg7cysrKShlPXRbc10uc3BsaXQoIj0iKSlbMF0ubWF0Y2goL151dG1fLykmJihuW2VbMF1dPWVbMV0uc3Vic3RyKDAsMTUwKSk7cmV0dXJuIG59KCkpKSx0LnBhcmFtcy5zdWJJZCYmKHMrPSI7c3ViaWQ9IitlbmNvZGVVUklDb21wb25lbnQodC5wYXJhbXMuc3ViSWQpKTtyZXR1cm4nPHNjcmlwdCBhc3luYyBzcmM9IicrcysnIj48XC9zY3JpcHQ+J30ocCxlLG4pLHQucHVzaChwKSl9fX0pKX0pKSx0fX07T2JqZWN0KHIucmVnaXN0ZXJCaWRkZXIpKG8pfX0sWzgwOV0pOwp1cGJqc0NodW5rKFs4XSx7MTg6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmI9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciBuIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShuKSlpZigicHViUHJvdmlkZWRJZCI9PT1uKXQ9dC5jb25jYXQoZS5wdWJQcm92aWRlZElkKTtlbHNle3ZhciByPWEoZVtuXSxuKTtyJiZ0LnB1c2gocil9cmV0dXJuIHR9LHQuYT1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiByLmlzUGxhaW5PYmplY3QoZS5pZE9iaikmJk9iamVjdC5rZXlzKGUuaWRPYmopLmxlbmd0aH0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3Qua2V5cyhlLmlkT2JqKS5mb3JFYWNoKChmdW5jdGlvbihuKXtyLmRlZXBBY2Nlc3MoZSwiY29uZmlnLmJpZGRlcnMiKSYmQXJyYXkuaXNBcnJheShlLmNvbmZpZy5iaWRkZXJzKSYmci5kZWVwQWNjZXNzKG8sbisiLnNvdXJjZSIpJiZ0LnB1c2goe3NvdXJjZTpvW25dLnNvdXJjZSxiaWRkZXJzOmUuY29uZmlnLmJpZGRlcnN9KX0pKX0pKSx0fTt2YXIgcj1uKDApLG89e2ludGVudElxSWQ6e3NvdXJjZToiaW50ZW50aXEuY29tIixhdHlwZToxfSxwdWJjaWQ6e3NvdXJjZToicHViY2lkLm9yZyIsYXR5cGU6MX0sdGRpZDp7c291cmNlOiJhZHNlcnZlci5vcmciLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKCl7cmV0dXJue3J0aVBhcnRuZXI6IlRESUQifX19LGlkNWlkOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS51aWR9LHNvdXJjZToiaWQ1LXN5bmMuY29tIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbihlKXtpZihlLmV4dClyZXR1cm4gZS5leHR9fSxwYXJyYWJsZUlkOntzb3VyY2U6InBhcnJhYmxlLmNvbSIsYXR5cGU6MSxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5laWQ/ZS5laWQ6ZS5jY3BhT3B0b3V0PyIiOm51bGx9LGdldFVpZEV4dDpmdW5jdGlvbihlKXt2YXIgdD1yLnBpY2soZSxbImliYU9wdG91dCIsImNjcGFPcHRvdXQiXSk7aWYoT2JqZWN0LmtleXModCkubGVuZ3RoKXJldHVybiB0fX0saWRsX2Vudjp7c291cmNlOiJsaXZlcmFtcC5jb20iLGF0eXBlOjN9LGxpcGI6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmxpcGJpZH0sc291cmNlOiJsaXZlaW50ZW50LmNvbSIsYXR5cGU6MyxnZXRFaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlLnNlZ21lbnRzKSYmZS5zZWdtZW50cy5sZW5ndGgpcmV0dXJue3NlZ21lbnRzOmUuc2VnbWVudHN9fX0sYnJpdGVwb29saWQ6e3NvdXJjZToiYnJpdGVwb29sLmNvbSIsYXR5cGU6M30sZG1kSWQ6e3NvdXJjZToiaGNuLmhlYWx0aCIsYXR5cGU6M30sbG90YW1lUGFub3JhbWFJZDp7c291cmNlOiJjcndkY250cmwubmV0IixhdHlwZToxfSxjcml0ZW9JZDp7c291cmNlOiJjcml0ZW8uY29tIixhdHlwZToxfSxtZXJrbGVJZDp7c291cmNlOiJtZXJrbGVpbmMuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUua2V5SUQ/e2tleUlEOmUua2V5SUR9OnZvaWQgMH19LG5ldElkOntzb3VyY2U6Im5ldGlkLmRlIixhdHlwZToxfSxJRFA6e3NvdXJjZToiemVvdGFwLmNvbSIsYXR5cGU6MX0saGFsb0lkOntzb3VyY2U6ImF1ZGlnZW50LmNvbSIsYXR5cGU6MX0scXVhbnRjYXN0SWQ6e3NvdXJjZToicXVhbnRjYXN0LmNvbSIsYXR5cGU6MX0sbmV4dHJvbGxJZDp7c291cmNlOiJuZXh0cm9sbC5jb20iLGF0eXBlOjF9LGlkeDp7c291cmNlOiJpZHgubGF0IixhdHlwZToxfSxjb25uZWN0aWQ6e3NvdXJjZToidmVyaXpvbm1lZGlhLmNvbSIsYXR5cGU6M30sZmFicmlja0lkOntzb3VyY2U6Im5ldXN0YXIuYml6IixhdHlwZToxfSxtd09wZW5MaW5rSWQ6e3NvdXJjZToibWVkaWF3YWxsYWhzY3JpcHQuY29tIixhdHlwZToxfSx0YXBhZElkOntzb3VyY2U6InRhcGFkLmNvbSIsYXR5cGU6MX0sbm92YXRpcTp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc25vd2ZsYWtlfSxzb3VyY2U6Im5vdmF0aXEuY29tIixhdHlwZToxfSx1aWQyOntzb3VyY2U6InVpZGFwaS5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9fSxkZWVwaW50ZW50SWQ6e3NvdXJjZToiZGVlcGludGVudC5jb20iLGF0eXBlOjN9LGRhcElkOntzb3VyY2U6ImFrYW1haS5jb20iLGF0eXBlOjF9LGFkbWl4ZXJJZDp7c291cmNlOiJhZG1peGVyLm5ldCIsYXR5cGU6M30sYWR0ZWxsaWdlbnRJZDp7c291cmNlOiJhZHRlbGxpZ2VudC5jb20iLGF0eXBlOjN9LGFteElkOntzb3VyY2U6ImFteHJ0Yi5jb20iLGF0eXBlOjF9LGtwdWlkOntzb3VyY2U6ImtwdWlkLmNvbSIsYXR5cGU6M30saW11aWQ6e3NvdXJjZToiaW50aW1hdGVtZXJnZXIuY29tIixhdHlwZToxfX07ZnVuY3Rpb24gYShlLHQpe3ZhciBuPW9bdF07aWYobiYmZSl7dmFyIGE9e307YS5zb3VyY2U9bi5zb3VyY2U7dmFyIGk9ci5pc0ZuKG4uZ2V0VmFsdWUpP24uZ2V0VmFsdWUoZSk6ZTtpZihyLmlzU3RyKGkpKXt2YXIgYz17aWQ6aSxhdHlwZTpuLmF0eXBlfTtpZihyLmlzRm4obi5nZXRVaWRFeHQpKXt2YXIgdT1uLmdldFVpZEV4dChlKTt1JiYoYy5leHQ9dSl9aWYoYS51aWRzPVtjXSxyLmlzRm4obi5nZXRFaWRFeHQpKXt2YXIgcz1uLmdldEVpZEV4dChlKTtzJiYoYS5leHQ9cyl9cmV0dXJuIGF9fXJldHVybiBudWxsfX0sODE5OmZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9big4MjApfSw4MjA6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKHQsIlBCSlNfVVNFUl9JRF9PUFRPVVRfTkFNRSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHd9KSksbi5kKHQsImNvcmVTdG9yYWdlIiwoZnVuY3Rpb24oKXtyZXR1cm4gQ30pKSxuLmQodCwic3luY0RlbGF5IiwoZnVuY3Rpb24oKXtyZXR1cm4gan0pKSxuLmQodCwiYXVjdGlvbkRlbGF5IiwoZnVuY3Rpb24oKXtyZXR1cm4ga30pKSx0LnNldFN1Ym1vZHVsZVJlZ2lzdHJ5PWZ1bmN0aW9uKGUpe0w9ZX0sdC5zZXRTdG9yZWRWYWx1ZT1QLHQuc2V0U3RvcmVkQ29uc2VudERhdGE9TSx0LmZpbmRSb290RG9tYWluPUgsdC5yZXF1ZXN0Qmlkc0hvb2s9JCxuLmQodCwidmFsaWRhdGVHZHByRW5mb3JjZW1lbnQiLChmdW5jdGlvbigpe3JldHVybiBZfSkpLHQuYXR0YWNoSWRTeXN0ZW09bmUsdC5pbml0PXJlO3ZhciByPW4oMTEpLG89bi5uKHIpLGE9bigzKSxpPW4oOSksYz1uLm4oaSksdT1uKDApLHM9bigxNCksZD1uKDgpLGw9big1KSxmPW4ubihsKSxnPW4oMTApLHA9bigxOCksbT1uKDcpLGI9bigxMikseT1uLm4oYik7ZnVuY3Rpb24gdihlLHQpe3ZhciBuPSJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZighbil7aWYoQXJyYXkuaXNBcnJheShlKXx8KG49ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBoKGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PW58fCJTZXQiPT09bilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKXJldHVybiBoKGUsdCl9KGUpKXx8dCYmZSYmIm51bWJlciI9PXR5cGVvZiBlLmxlbmd0aCl7biYmKGU9bik7dmFyIHI9MCxvPWZ1bmN0aW9uKCl7fTtyZXR1cm57czpvLG46ZnVuY3Rpb24oKXtyZXR1cm4gcj49ZS5sZW5ndGg/e2RvbmU6ITB9Ontkb25lOiExLHZhbHVlOmVbcisrXX19LGU6ZnVuY3Rpb24oZSl7dGhyb3cgZX0sZjpvfX10aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9dmFyIGEsaT0hMCxjPSExO3JldHVybntzOmZ1bmN0aW9uKCl7bj1uLmNhbGwoZSl9LG46ZnVuY3Rpb24oKXt2YXIgZT1uLm5leHQoKTtyZXR1cm4gaT1lLmRvbmUsZX0sZTpmdW5jdGlvbihlKXtjPSEwLGE9ZX0sZjpmdW5jdGlvbigpe3RyeXtpfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgYX19fX1mdW5jdGlvbiBoKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9dmFyIEksTyxqLGssRD0iVXNlciBJRCIsRT0iY29va2llIixTPSJodG1sNSIseD0iX3BianNfdXNlcmlkX2NvbnNlbnRfZGF0YSIsQT0zMCx3PSJfcGJqc19pZF9vcHRvdXQiLEM9T2JqZWN0KG0uYSkoInVzZXJpZCIpLFU9W10sXz0hMSxUPVtdLFY9W10sTD1bXTtmdW5jdGlvbiBQKGUsdCl7dmFyIG49ZS5jb25maWcuc3RvcmFnZSxyPSJmdW5jdGlvbiI9PXR5cGVvZiBlLnN1Ym1vZHVsZS5kb21haW5PdmVycmlkZT9lLnN1Ym1vZHVsZS5kb21haW5PdmVycmlkZSgpOm51bGw7dHJ5e3ZhciBvPXUuaXNQbGFpbk9iamVjdCh0KT9KU09OLnN0cmluZ2lmeSh0KTp0LGE9bmV3IERhdGUoRGF0ZS5ub3coKSs4NjRlNSpuLmV4cGlyZXMpLnRvVVRDU3RyaW5nKCk7bi50eXBlPT09RT8oQy5zZXRDb29raWUobi5uYW1lLG8sYSwiTGF4IixyKSwibnVtYmVyIj09dHlwZW9mIG4ucmVmcmVzaEluU2Vjb25kcyYmQy5zZXRDb29raWUoIiIuY29uY2F0KG4ubmFtZSwiX2xhc3QiKSwobmV3IERhdGUpLnRvVVRDU3RyaW5nKCksYSwiTGF4IixyKSk6bi50eXBlPT09UyYmKEMuc2V0RGF0YUluTG9jYWxTdG9yYWdlKCIiLmNvbmNhdChuLm5hbWUsIl9leHAiKSxhKSxDLnNldERhdGFJbkxvY2FsU3RvcmFnZShuLm5hbWUsZW5jb2RlVVJJQ29tcG9uZW50KG8pKSwibnVtYmVyIj09dHlwZW9mIG4ucmVmcmVzaEluU2Vjb25kcyYmQy5zZXREYXRhSW5Mb2NhbFN0b3JhZ2UoIiIuY29uY2F0KG4ubmFtZSwiX2xhc3QiKSwobmV3IERhdGUpLnRvVVRDU3RyaW5nKCkpKX1jYXRjaChlKXt1LmxvZ0Vycm9yKGUpfX1mdW5jdGlvbiBOKGUpe3ZhciB0PU9iamVjdCh1LmdldFByZWJpZEludGVybmFsKSgpLnNldEVpZFBlcm1pc3Npb25zOyJmdW5jdGlvbiI9PXR5cGVvZiB0JiZ1LmlzQXJyYXkoZSkmJnQoT2JqZWN0KHAuYSkoZSkpfWZ1bmN0aW9uIHEoZSl7dmFyIHQsbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dm9pZCAwLHI9bj8iIi5jb25jYXQoZS5uYW1lLCJfIikuY29uY2F0KG4pOmUubmFtZTt0cnl7aWYoZS50eXBlPT09RSl0PUMuZ2V0Q29va2llKHIpO2Vsc2UgaWYoZS50eXBlPT09Uyl7dmFyIG89Qy5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZSgiIi5jb25jYXQoZS5uYW1lLCJfZXhwIikpOyIiPT09bz90PUMuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2Uocik6byYmbmV3IERhdGUobykuZ2V0VGltZSgpLURhdGUubm93KCk+MCYmKHQ9ZGVjb2RlVVJJQ29tcG9uZW50KEMuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UocikpKX0ic3RyaW5nIj09dHlwZW9mIHQmJiJ7Ij09PXQudHJpbSgpLmNoYXJBdCgwKSYmKHQ9SlNPTi5wYXJzZSh0KSl9Y2F0Y2goZSl7dS5sb2dFcnJvcihlKX1yZXR1cm4gdH1mdW5jdGlvbiBGKGUpe3ZhciB0PXtjb25zZW50U3RyaW5nOiIiLGdkcHJBcHBsaWVzOiExLGFwaVZlcnNpb246MH07cmV0dXJuIGUmJih0LmNvbnNlbnRTdHJpbmc9ZS5jb25zZW50U3RyaW5nLHQuZ2RwckFwcGxpZXM9ZS5nZHByQXBwbGllcyx0LmFwaVZlcnNpb249ZS5hcGlWZXJzaW9uKSx1LmN5cmI1M0hhc2goSlNPTi5zdHJpbmdpZnkodCkpfWZ1bmN0aW9uIE0oZSl7dHJ5e3ZhciB0PW5ldyBEYXRlKERhdGUubm93KCkrODY0ZTUqQSkudG9VVENTdHJpbmcoKTtDLnNldENvb2tpZSh4LEYoZSksdCwiTGF4Iil9Y2F0Y2goZSl7dS5sb2dFcnJvcihlKX19ZnVuY3Rpb24gUigpe3RyeXtyZXR1cm4gQy5nZXRDb29raWUoeCl9Y2F0Y2goZSl7dS5sb2dFcnJvcihlKX19ZnVuY3Rpb24gSihlKXtpZihlJiYiYm9vbGVhbiI9PXR5cGVvZiBlLmdkcHJBcHBsaWVzJiZlLmdkcHJBcHBsaWVzKXtpZighZS5jb25zZW50U3RyaW5nKXJldHVybiExO2lmKDE9PT1lLmFwaVZlcnNpb24mJiExPT09dS5kZWVwQWNjZXNzKGUsInZlbmRvckRhdGEucHVycG9zZUNvbnNlbnRzLjEiKSlyZXR1cm4hMTtpZigyPT09ZS5hcGlWZXJzaW9uJiYhMT09PXUuZGVlcEFjY2VzcyhlLCJ2ZW5kb3JEYXRhLnB1cnBvc2UuY29uc2VudHMuMSIpKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIEgoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lO2lmKCFDLmNvb2tpZXNBcmVFbmFibGVkKCkpcmV0dXJuIGU7dmFyIHQsbixyPWUuc3BsaXQoIi4iKTtpZigyPT1yLmxlbmd0aClyZXR1cm4gZTt2YXIgbz0tMixhPSJfcmRjIi5jb25jYXQoRGF0ZS5ub3coKSksaT0id3JpdGVhYmxlIjtkb3t0PXIuc2xpY2Uobykuam9pbigiLiIpO3ZhciBjPW5ldyBEYXRlKHUudGltZXN0YW1wKCkrMWU0KS50b1VUQ1N0cmluZygpO0Muc2V0Q29va2llKGEsaSxjLCJMYXgiLHQsdm9pZCAwKTt2YXIgcz1DLmdldENvb2tpZShhLHZvaWQgMCk7cz09PWk/KG49ITEsQy5zZXRDb29raWUoYSwiIiwiVGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMSBHTVQiLHZvaWQgMCx0LHZvaWQgMCkpOihvKz0tMSxuPU1hdGguYWJzKG8pPD1yLmxlbmd0aCl9d2hpbGUobik7cmV0dXJuIHR9ZnVuY3Rpb24geihlLHQpe3ZhciBuPWZ1bmN0aW9uKCl7fTt0JiYobj11LmRlbGF5RXhlY3V0aW9uKChmdW5jdGlvbigpe2NsZWFyVGltZW91dChPKSx0KCl9KSxlLmxlbmd0aCkpLGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5jYWxsYmFjaygoZnVuY3Rpb24odCl7dD8oZS5jb25maWcuc3RvcmFnZSYmUChlLHQpLGUuaWRPYmo9ZS5zdWJtb2R1bGUuZGVjb2RlKHQsZS5jb25maWcpKTp1LmxvZ0luZm8oIiIuY29uY2F0KEQsIjogIikuY29uY2F0KGUuc3VibW9kdWxlLm5hbWUsIiAtIHJlcXVlc3QgaWQgcmVzcG9uZGVkIHdpdGggYW4gZW1wdHkgdmFsdWUiKSksbigpfSkpLGUuY2FsbGJhY2s9dm9pZCAwfSkpfWZ1bmN0aW9uIEIoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJmUubGVuZ3RoP2UuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gdS5pc1BsYWluT2JqZWN0KGUuaWRPYmopJiZPYmplY3Qua2V5cyhlLmlkT2JqKS5sZW5ndGh9KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3Qua2V5cyh0LmlkT2JqKS5mb3JFYWNoKChmdW5jdGlvbihuKXtlW25dPXQuaWRPYmpbbl19KSksZX0pLHt9KTp7fX1mdW5jdGlvbiBHKGUsdCl7W2VdLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiFBcnJheS5pc0FycmF5KGUpfHwhZS5sZW5ndGh9KSl8fGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5iaWRzJiZ1LmlzQXJyYXkoZS5iaWRzKSYmZS5iaWRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJmUubGVuZ3RoJiZ0P2UuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hZS5jb25maWcuYmlkZGVyc3x8IXUuaXNBcnJheShlLmNvbmZpZy5iaWRkZXJzKXx8eSgpKGUuY29uZmlnLmJpZGRlcnMsdCl9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gdS5pc1BsYWluT2JqZWN0KGUuaWRPYmopJiZPYmplY3Qua2V5cyhlLmlkT2JqKS5sZW5ndGh9KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3Qua2V5cyh0LmlkT2JqKS5mb3JFYWNoKChmdW5jdGlvbihuKXtlW25dPXQuaWRPYmpbbl19KSksZX0pLHt9KTp7fX0odCxlLmJpZGRlcik7T2JqZWN0LmtleXMobikubGVuZ3RoJiYoZS51c2VySWQ9bixlLnVzZXJJZEFzRWlkcz1PYmplY3QocC5iKShuKSl9KSl9KSl9ZnVuY3Rpb24gVyhlKXt2YXIgdD0hMTtpZih2b2lkIDA9PT1JJiYoST1mdW5jdGlvbihlLHQpe3ZhciBuPVkoZSx0KSxyPW4udXNlcklkTW9kdWxlcztpZighbi5oYXNWYWxpZGF0ZWQmJiFKKHQpKXJldHVybiB1LmxvZ1dhcm4oIiIuY29uY2F0KEQsIiAtIGdkcHIgcGVybWlzc2lvbiBub3QgdmFsaWQgZm9yIGxvY2FsIHN0b3JhZ2Ugb3IgY29va2llcywgZXhpdCBtb2R1bGUiKSksW107dmFyIG89UigpO3JldHVybiBNKHQpLHIucmVkdWNlKChmdW5jdGlvbihlLG4pe3JldHVybiBaKG4sdCxvLCExKSxlLnB1c2gobiksZX0pLFtdKX0oVCxkLmdkcHJEYXRhSGFuZGxlci5nZXRDb25zZW50RGF0YSgpKSkubGVuZ3RoKXtOKEkpO3ZhciBuPUkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gdS5pc0ZuKGUuY2FsbGJhY2spfSkpO2lmKG4ubGVuZ3RoKWlmKGUmJms+MCl7dD0hMDt2YXIgcj0hMSxvPWZ1bmN0aW9uKCl7cnx8KHI9ITAsZSgpKX07dS5sb2dJbmZvKCIiLmNvbmNhdChELCIgLSBhdWN0aW9uIGRlbGF5ZWQgYnkgIikuY29uY2F0KGssIiBhdCBtb3N0IHRvIGZldGNoIGlkcyIpKSxPPXNldFRpbWVvdXQobyxrKSx6KG4sbyl9ZWxzZSBjLmEub24oZi5hLkVWRU5UUy5BVUNUSU9OX0VORCwoZnVuY3Rpb24gZSgpe2MuYS5vZmYoZi5hLkVWRU5UUy5BVUNUSU9OX0VORCxlKSxqPjA/c2V0VGltZW91dCgoZnVuY3Rpb24oKXt6KG4pfSksaik6eihuKX0pKX1lJiYhdCYmZSgpfWZ1bmN0aW9uICQoZSx0KXtXKChmdW5jdGlvbigpe0codC5hZFVuaXRzfHxPYmplY3Qocy5hKSgpLmFkVW5pdHMsSSksZS5jYWxsKHRoaXMsdCl9KSl9ZnVuY3Rpb24gSygpe3JldHVybiBXKCksQihJKX1mdW5jdGlvbiBRKCl7cmV0dXJuIFcoKSxPYmplY3QocC5iKShCKEkpKX1mdW5jdGlvbiBYKGUsdCl7dmFyIG49ZT9lLnN1Ym1vZHVsZU5hbWVzOm51bGw7bnx8KG49W10pLFcoKGZ1bmN0aW9uKCl7dmFyIGU9ZC5nZHByRGF0YUhhbmRsZXIuZ2V0Q29uc2VudERhdGEoKSxyPVkoVCxlKSxvPXIudXNlcklkTW9kdWxlcztpZihyLmhhc1ZhbGlkYXRlZHx8SihlKSl7dmFyIGE9UigpO00oZSk7dmFyIGksYz1bXSxzPXYobyk7dHJ5e2ZvcihzLnMoKTshKGk9cy5uKCkpLmRvbmU7KXt2YXIgbD1pLnZhbHVlO24ubGVuZ3RoPjAmJi0xPT09bi5pbmRleE9mKGwuc3VibW9kdWxlLm5hbWUpfHwodS5sb2dJbmZvKCIiLmNvbmNhdChELCIgLSByZWZyZXNoaW5nICIpLmNvbmNhdChsLnN1Ym1vZHVsZS5uYW1lKSksWihsLGUsYSwhMCksZWUobCksSS5sZW5ndGgmJk4oSSksdS5pc0ZuKGwuY2FsbGJhY2spJiZjLnB1c2gobCkpfX1jYXRjaChlKXtzLmUoZSl9ZmluYWxseXtzLmYoKX1jLmxlbmd0aD4wJiZ6KGMpLHQmJnQoKX1lbHNlIHUubG9nV2FybigiIi5jb25jYXQoRCwiIC0gZ2RwciBwZXJtaXNzaW9uIG5vdCB2YWxpZCBmb3IgbG9jYWwgc3RvcmFnZSBvciBjb29raWVzLCBleGl0IG1vZHVsZSIpKX0pKX12YXIgWT1PYmplY3QoZy5iKSgic3luYyIsKGZ1bmN0aW9uKGUsdCl7cmV0dXJue3VzZXJJZE1vZHVsZXM6ZSxoYXNWYWxpZGF0ZWQ6dCYmdC5oYXNWYWxpZGF0ZWR9fSksInZhbGlkYXRlR2RwckVuZm9yY2VtZW50Iik7ZnVuY3Rpb24gWihlLHQsbixyKXtpZihlLmNvbmZpZy5zdG9yYWdlKXt2YXIgbyxhPXEoZS5jb25maWcuc3RvcmFnZSksaT0hMTtpZigibnVtYmVyIj09dHlwZW9mIGUuY29uZmlnLnN0b3JhZ2UucmVmcmVzaEluU2Vjb25kcyl7dmFyIGM9bmV3IERhdGUocShlLmNvbmZpZy5zdG9yYWdlLCJsYXN0IikpO2k9YyYmRGF0ZS5ub3coKS1jLmdldFRpbWUoKT4xZTMqZS5jb25maWcuc3RvcmFnZS5yZWZyZXNoSW5TZWNvbmRzfSFhfHxpfHxyfHwhZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbCE9ZSYmZT09PUYodCl9KG4sdCk/bz1lLnN1Ym1vZHVsZS5nZXRJZChlLmNvbmZpZyx0LGEpOiJmdW5jdGlvbiI9PXR5cGVvZiBlLnN1Ym1vZHVsZS5leHRlbmRJZCYmKG89ZS5zdWJtb2R1bGUuZXh0ZW5kSWQoZS5jb25maWcsdCxhKSksdS5pc1BsYWluT2JqZWN0KG8pJiYoby5pZCYmKFAoZSxvLmlkKSxhPW8uaWQpLCJmdW5jdGlvbiI9PXR5cGVvZiBvLmNhbGxiYWNrJiYoZS5jYWxsYmFjaz1vLmNhbGxiYWNrKSksYSYmKGUuaWRPYmo9ZS5zdWJtb2R1bGUuZGVjb2RlKGEsZS5jb25maWcpKX1lbHNlIGlmKGUuY29uZmlnLnZhbHVlKWUuaWRPYmo9ZS5jb25maWcudmFsdWU7ZWxzZXt2YXIgcz1lLnN1Ym1vZHVsZS5nZXRJZChlLmNvbmZpZyx0LHZvaWQgMCk7dS5pc1BsYWluT2JqZWN0KHMpJiYoImZ1bmN0aW9uIj09dHlwZW9mIHMuY2FsbGJhY2smJihlLmNhbGxiYWNrPXMuY2FsbGJhY2spLHMuaWQmJihlLmlkT2JqPWUuc3VibW9kdWxlLmRlY29kZShzLmlkLGUuY29uZmlnKSkpfX1mdW5jdGlvbiBlZShlKXtmb3IodmFyIHQ9ITEsbj0wO248SS5sZW5ndGg7bisrKWlmKGUuY29uZmlnLm5hbWUudG9Mb3dlckNhc2UoKT09PUlbbl0uY29uZmlnLm5hbWUudG9Mb3dlckNhc2UoKSl7dD0hMCxJW25dPWU7YnJlYWt9dHx8SS5wdXNoKGUpfWZ1bmN0aW9uIHRlKCl7dmFyIGU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBBcnJheS5pc0FycmF5KGUpP2UucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiF0fHx1LmlzRW1wdHlTdHIodC5uYW1lKXx8KCF0LnN0b3JhZ2V8fHUuaXNFbXB0eVN0cih0LnN0b3JhZ2UudHlwZSl8fHUuaXNFbXB0eVN0cih0LnN0b3JhZ2UubmFtZSl8fC0xPT09bi5pbmRleE9mKHQuc3RvcmFnZS50eXBlKT91LmlzUGxhaW5PYmplY3QodC52YWx1ZSk/ZS5wdXNoKHQpOnQuc3RvcmFnZXx8dC52YWx1ZXx8ZS5wdXNoKHQpOmUucHVzaCh0KSksZX0pLFtdKTpbXX0oViwwLFUpO2lmKGUubGVuZ3RoKXt2YXIgdD1MLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIW8oKShULChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lPT09ZS5uYW1lfSkpfSkpO1Q9dC5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBuPW8oKShlLChmdW5jdGlvbihlKXtyZXR1cm4gZS5uYW1lJiYoZS5uYW1lLnRvTG93ZXJDYXNlKCk9PT10Lm5hbWUudG9Mb3dlckNhc2UoKXx8dC5hbGlhc05hbWUmJmUubmFtZS50b0xvd2VyQ2FzZSgpPT09dC5hbGlhc05hbWUudG9Mb3dlckNhc2UoKSl9KSk7cmV0dXJuIG4mJnQubmFtZSE9PW4ubmFtZSYmKG4ubmFtZT10Lm5hbWUpLHQuZmluZFJvb3REb21haW49SCxuP3tzdWJtb2R1bGU6dCxjb25maWc6bixjYWxsYmFjazp2b2lkIDAsaWRPYmo6dm9pZCAwfTpudWxsfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPT1lfSkpLCFfJiZULmxlbmd0aCYmKE9iamVjdChzLmEpKCkucmVxdWVzdEJpZHMuYmVmb3JlKCQsNDApLHUubG9nSW5mbygiIi5jb25jYXQoRCwiIC0gdXNlcnN5bmMgY29uZmlnIHVwZGF0ZWQgZm9yICIpLmNvbmNhdChULmxlbmd0aCwiIHN1Ym1vZHVsZXM6ICIpLFQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zdWJtb2R1bGUubmFtZX0pKSksXz0hMCl9fWZ1bmN0aW9uIG5lKGUpe28oKShMLChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lPT09ZS5uYW1lfSkpfHwoTC5wdXNoKGUpLHRlKCkpfWZ1bmN0aW9uIHJlKGUpe1Q9W10sVj1bXSxfPSExLEk9dm9pZCAwLC0xIT09KFU9W0MubG9jYWxTdG9yYWdlSXNFbmFibGVkKCk/UzpudWxsLEMuY29va2llc0FyZUVuYWJsZWQoKT9FOm51bGxdLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPT1lfSkpKS5pbmRleE9mKEUpJiZDLmdldENvb2tpZSh3KT91LmxvZ0luZm8oIiIuY29uY2F0KEQsIiAtIG9wdC1vdXQgY29va2llIGZvdW5kLCBleGl0IG1vZHVsZSIpKTotMSE9PVUuaW5kZXhPZihTKSYmQy5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZSh3KT91LmxvZ0luZm8oIiIuY29uY2F0KEQsIiAtIG9wdC1vdXQgbG9jYWxTdG9yYWdlIGZvdW5kLCBleGl0IG1vZHVsZSIpKTooZS5nZXRDb25maWcoKGZ1bmN0aW9uKGUpe3ZhciB0PWUudXNlclN5bmM7dCYmdC51c2VySWRzJiYoVj10LnVzZXJJZHMsaj11LmlzTnVtYmVyKHQuc3luY0RlbGF5KT90LnN5bmNEZWxheTo1MDAsaz11LmlzTnVtYmVyKHQuYXVjdGlvbkRlbGF5KT90LmF1Y3Rpb25EZWxheTowLHRlKCkpfSkpLE9iamVjdChzLmEpKCkuZ2V0VXNlcklkcz1LLE9iamVjdChzLmEpKCkuZ2V0VXNlcklkc0FzRWlkcz1RLE9iamVjdChzLmEpKCkucmVmcmVzaFVzZXJJZHM9WCl9cmUoYS5iKSxPYmplY3QoZy5jKSgidXNlcklkIixuZSl9fSxbODE5XSk7CnVwYmpzQ2h1bmsoWzcxXSx7ODU4OmZ1bmN0aW9uKGUsYSxyKXtlLmV4cG9ydHM9cig4NTkpfSw4NTk6ZnVuY3Rpb24oZSxhLHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKGEsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBwfSkpO3ZhciBuPXIoMCksdD1yKDEpLGk9cigxMSkscz1yLm4oaSksZD1yKDIpLG89cigxMyksYz0iaHR0cHM6Ly9hZC55aWVsZGxhYi5uZXQiLHA9e2NvZGU6InlpZWxkbGFiIixndmxpZDo3MCxzdXBwb3J0ZWRNZWRpYVR5cGVzOltkLmQsZC5iXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIShlJiZlLnBhcmFtcyYmZS5wYXJhbXMuYWRzbG90SWQmJmUucGFyYW1zLnN1cHBseUlkKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLGEpe3ZhciByPVtdLHQ9e3RzOkRhdGUubm93KCksanNvbjohMH07bi5fZWFjaChlLChmdW5jdGlvbihlKXtpZihyLnB1c2goZS5wYXJhbXMuYWRzbG90SWQpLGUucGFyYW1zLnRhcmdldGluZyYmKHQudD1mdW5jdGlvbihlKXt2YXIgYT1bXTtmb3IodmFyIHIgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHIpKXt2YXIgbj1yLHQ9ZVtyXTthLnB1c2gobisiPSIrdCl9cmV0dXJuIGEuam9pbigiJiIpfShlLnBhcmFtcy50YXJnZXRpbmcpKSxlLnVzZXJJZEFzRWlkcyYmQXJyYXkuaXNBcnJheShlLnVzZXJJZEFzRWlkcykmJih0Lmlkcz1mdW5jdGlvbihlKXtmb3IodmFyIGE9W10scj0wO3I8ZS5sZW5ndGg7cisrKWEucHVzaChlW3JdLnNvdXJjZSsiOiIrZVtyXS51aWRzWzBdLmlkKTtyZXR1cm4gYS5qb2luKCIsIil9KGUudXNlcklkQXNFaWRzKSksZS5wYXJhbXMuY3VzdG9tUGFyYW1zJiZuLmlzUGxhaW5PYmplY3QoZS5wYXJhbXMuY3VzdG9tUGFyYW1zKSlmb3IodmFyIGEgaW4gZS5wYXJhbXMuY3VzdG9tUGFyYW1zKXRbYV09ZS5wYXJhbXMuY3VzdG9tUGFyYW1zW2FdO3ZhciBpLHMsZCxvLGM7ZS5zY2hhaW4mJm4uaXNQbGFpbk9iamVjdChlLnNjaGFpbikmJkFycmF5LmlzQXJyYXkoZS5zY2hhaW4ubm9kZXMpJiYodC5zY2hhaW49KGk9ZS5zY2hhaW4scz1pLnZlcnx8IiIsZD0xPT09aS5jb21wbGV0ZXx8MD09PWkuY29tcGxldGU/aS5jb21wbGV0ZToiIixvPVsiYXNpIiwic2lkIiwiaHAiLCJyaWQiLCJuYW1lIiwiZG9tYWluIiwiZXh0Il0sYz1pLm5vZGVzLnJlZHVjZSgoZnVuY3Rpb24oZSxhKXtyZXR1cm4gZSsiISIuY29uY2F0KG8ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gYVtlXT8ocj1hW2VdLGVuY29kZVVSSUNvbXBvbmVudChyKS5yZXBsYWNlKC8hL2csIiUyMSIpKToiIjt2YXIgcn0pKS5qb2luKCIsIikpfSksIiIpLCIiLmNvbmNhdChzLCIsIikuY29uY2F0KGQpLmNvbmNhdChjKSkpfSkpLGEmJihhLnJlZmVyZXJJbmZvJiZhLnJlZmVyZXJJbmZvLnJlZmVyZXImJih0LnB1YnJlZj1hLnJlZmVyZXJJbmZvLnJlZmVyZXIpLGEuZ2RwckNvbnNlbnQmJih0LmdkcHI9ImJvb2xlYW4iIT10eXBlb2YgYS5nZHByQ29uc2VudC5nZHByQXBwbGllc3x8YS5nZHByQ29uc2VudC5nZHByQXBwbGllcyx0LmdkcHImJih0LmNvbnNlbnQ9YS5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSkpO3ZhciBpPXIuam9pbigiLCIpLHM9ZnVuY3Rpb24oZSl7dmFyIGE9W107Zm9yKHZhciByIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShyKSl7dmFyIG49ZVtyXTsic2NoYWluIiE9PXI/YS5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChyKSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KG4pKTphLnB1c2gocisiPSIrbil9cmV0dXJuIGEuam9pbigiJiIpfSh0KTtyZXR1cm57bWV0aG9kOiJHRVQiLHVybDoiIi5jb25jYXQoYywiL3lwLyIpLmNvbmNhdChpLCI/IikuY29uY2F0KHMpLHZhbGlkQmlkUmVxdWVzdHM6ZSxxdWVyeVBhcmFtczp0fX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxhKXt2YXIgcj1bXSx0PURhdGUubm93KCksaT1hLnF1ZXJ5UGFyYW1zO3JldHVybiBhLnZhbGlkQmlkUmVxdWVzdHMuZm9yRWFjaCgoZnVuY3Rpb24oYSl7aWYoZS5ib2R5KXt2YXIgcCx2LGY9cygpKGUuYm9keSwoZnVuY3Rpb24oZSl7cmV0dXJuIGEucGFyYW1zLmFkc2xvdElkPT1lLmlkfSkpO2lmKGYpe3ZhciBsPTIhPT1hLnNpemVzLmxlbmd0aHx8bi5pc0FycmF5KGEuc2l6ZXNbMF0pP2Euc2l6ZXNbMF06YS5zaXplcyxoPXZvaWQgMCE9PWEucGFyYW1zLmFkU2l6ZT91KGEucGFyYW1zLmFkU2l6ZSk6dm9pZCAwIT09Zi5hZHNpemU/dShmLmFkc2l6ZSk6bCx5PXZvaWQgMCE9PWEucGFyYW1zLmV4dElkPyImaWQ9IithLnBhcmFtcy5leHRJZDoiIixnPXZvaWQgMCE9PWYuYWR0eXBlP2YuYWR0eXBlOiIiLEk9aS5nZHByPyImZ2Rwcj0iK2kuZ2RwcjoiIix3PWkuY29uc2VudD8iJmNvbnNlbnQ9IitpLmNvbnNlbnQ6IiIsYj12b2lkIDAhPT1mLnB2aWQ/IiZwdmlkPSIrZi5wdmlkOiIiLEE9e3JlcXVlc3RJZDphLmJpZElkLGNwbTpmLnByaWNlLzEwMCx3aWR0aDpoWzBdLGhlaWdodDpoWzFdLGNyZWF0aXZlSWQ6IiIrZi5pZCxkZWFsSWQ6ZlsiYy5kZWFsaWQiXT9mWyJjLmRlYWxpZCJdOmYucGlkLGN1cnJlbmN5OiJFVVIiLG5ldFJldmVudWU6ITEsdHRsOjMwMCxyZWZlcnJlcjoiIixhZDonPHNjcmlwdCBzcmM9IicuY29uY2F0KGMsIi9kLyIpLmNvbmNhdChmLmlkLCIvIikuY29uY2F0KGEucGFyYW1zLnN1cHBseUlkLCIvP3RzPSIpLmNvbmNhdCh0KS5jb25jYXQoeSkuY29uY2F0KEkpLmNvbmNhdCh3KS5jb25jYXQoYiwnIj48XC9zY3JpcHQ+JyksbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6Zi5hZHZlcnRpc2VyP2YuYWR2ZXJ0aXNlcjoibi9hIn19O2lmKHA9YSx2PWcsbi5kZWVwQWNjZXNzKHAsIm1lZGlhVHlwZXMudmlkZW8iKSYmInZpZGVvIj09PXYudG9Mb3dlckNhc2UoKSl7dmFyIGo9ZnVuY3Rpb24oZSl7dmFyIGE9bi5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpO3JldHVybiBhJiZuLmlzQXJyYXkoYVswXSk/YVswXTphfShhKTtpZihqJiYoQS53aWR0aD1qWzBdLEEuaGVpZ2h0PWpbMV0pLEEubWVkaWFUeXBlPWQuZCxBLnZhc3RVcmw9IiIuY29uY2F0KGMsIi9kLyIpLmNvbmNhdChmLmlkLCIvIikuY29uY2F0KGEucGFyYW1zLnN1cHBseUlkLCIvP3RzPSIpLmNvbmNhdCh0KS5jb25jYXQoeSkuY29uY2F0KEkpLmNvbmNhdCh3KS5jb25jYXQoYiksZnVuY3Rpb24oZSl7cmV0dXJuIm91dHN0cmVhbSI9PT1uLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iil9KGEpKXt2YXIgUD1vLmEuaW5zdGFsbCh7aWQ6YS5iaWRJZCx1cmw6Imh0dHBzOi8vYWQuYWRpdGlvbi5jb20vZHluYW1pYy5hZD9hPW8xOTMwOTImbWFfbG9hZEV2ZW50PW1hLXN0YXJ0LWV2ZW50Iixsb2FkZWQ6ITF9KTtQLnNldFJlbmRlcihtKSxBLnJlbmRlcmVyPVB9fXIucHVzaChBKX19fSkpLHJ9fTtmdW5jdGlvbiB1KGUpe3JldHVybiBlLnNwbGl0KCJ4IikubWFwKE51bWJlcil9ZnVuY3Rpb24gbShlKXtlLnJlbmRlcmVyLnB1c2goKGZ1bmN0aW9uKCl7d2luZG93Lm1hX3dpZHRoPWUud2lkdGgsd2luZG93Lm1hX2hlaWdodD1lLmhlaWdodCx3aW5kb3cubWFfdmFzdFVybD1lLnZhc3RVcmwsd2luZG93Lm1hX2NvbnRhaW5lcj1lLmFkVW5pdENvZGUsd2luZG93LmRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCJtYS1zdGFydC1ldmVudCIpKX0pKX1PYmplY3QodC5yZWdpc3RlckJpZGRlcikocCl9fSxbODU4XSk7CnVwYmpzLnByb2Nlc3NRdWV1ZSgpOw==";try{var decodedCode=atob(prebidjsCode);eval(decodedCode)}catch(e){}_shared__WEBPACK_IMPORTED_MODULE_1__.Z.cpbjs=window.upbjs};this.load=function(){_shared__WEBPACK_IMPORTED_MODULE_1__.Z.cpbjs||(initPbjs(),subscriptionLayer.invokeEventCallbacks("postset"))}}},713:(e,t,i)=>{i.d(t,{Z:()=>a});var n=function(e,t,i){for(var n=[],r=0;r<e.length;r++)t.call(i,e[r],r,e)&&n.push(e[r]);return n},r=function(e){return"[object Array]"===Object.prototype.toString.call(e)};const a={map:function(e,t){for(var i=[],n=0;n<e.length;n++)i.push(t(e[n],n,e));return i},filter:n,reject:function(e,t,i){for(var n=[],r=0;r<e.length;r++)t.call(i,e[r],r,e)||n.push(e[r]);return n},forEach:function(e,t){if(e)for(var i=0;i<e.length;i++)t(e[i],i,e)},find:function(e,t){for(var i=0;i<e.length;i++){var n=e[i];if(t(n,i,e))return n}},flat:function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];if(r(n))for(var a=0;a<n.length;a++){var o=n[a];t.push(o)}else t.push(n)}return t},isArray:r,distinct:function(e){return n(e,(function(e,t,i){return i.indexOf(e)===t}))},reduce:function(e,t){if(null===e)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var i,n=Object(e),r=n.length>>>0,a=0;if(arguments.length>=3)i=arguments[2];else{for(;a<r&&!(a in n);)a++;if(a>=r)throw new TypeError("Reduce of empty array with no initial value");i=n[a++]}for(;a<r;)a in n&&(i=t(i,n[a],a,n)),a++;return i},addClass:function(e,t){if(t&&e){var i=t.className;-1==i.indexOf(e)&&(""!=i&&(e=" "+e),t.className=i+e)}},removeClass:function(e,t){if(t&&e){var i=t.className,n=new RegExp("\\b"+e+"\\b","g");i=i.replace(n,""),t.className=i}},hasClass:function(e,t){if(e&&t)return(" "+e.className+" ").indexOf(" "+t+" ")>-1},objectAssign:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])}return i},CDefer:function(){var e,t;this.fate="unresolved",this.state="pending",this.promise=new Promise((function(i,n){e=i,t=n})),this.promise.then((e=>(this.state="fulfilled",e)),(e=>(this.state="rejected",e))),this.resolve=function(t){if("resolved"===this.fate)throw"Deferred cannot be resolved twice";this.fate="resolved",e(t)},this.reject=function(e){if("resolved"===this.fate)throw"Deferred cannot be resolved twice";this.fate="resolved",t(e)},this.isResolved=function(){return"resolved"===this.fate},this.isPending=function(){return"pending"===this.state},this.isFulfilled=function(){return"fulfilled"===this.state},this.isRejected=function(){return"rejected"===this.state}}}},34:(e,t,i)=>{i.d(t,{Z:()=>Y});var n={};i.r(n),i.d(n,{deepClone:()=>s,escapeSelector:()=>h,extractQueryParamFromUrl:()=>f,extractVariableFromString:()=>g,getRandomInt:()=>m,getTopmostAccessibleWindow:()=>p,getTrueByProbability:()=>b,isFirstViewPortElement:()=>u,isNil:()=>d,matchStringsOnString:()=>v,truncateString:()=>w});var r={};i.r(r),i.d(r,{getSizeType:()=>x,isUnacceptable:()=>Z,isUnacceptableFirstViewPortSize:()=>H});var a=i(149),o=i(713),s=function(e){if(!e)return e;var t,i=[Number,String,Boolean];try{if(o.Z.forEach(i,(function(i){e instanceof i&&(t=i(e))})),void 0===t)if("[object Array]"===Object.prototype.toString.call(e))t=[],o.Z.forEach(e,(function(e,i,n){t[i]=s(e)}));else if("object"==typeof e)if(e.nodeType&&"function"==typeof e.cloneNode)t=e.cloneNode(!0);else if(e.prototype)t=e;else if(e instanceof Date)t=new Date(e);else for(var n in t={},e)t[n]=s(e[n]);else t=e}catch(i){t=e}return t};function d(e){return null==e}var c=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function l(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}function h(e){var t=e.charAt(0);return"#"===t||"."===t?t+e.substring(1).replace(c,l):e}var u=function(e){try{if(!e)return;var t,i,n=!1;"none"===window.getComputedStyle(e).display&&(t=e.style.getPropertyValue("display"),i=e.style.getPropertyPriority("display"),e.style.setProperty("display","block","important"),n=!0);var r=e.getBoundingClientRect().top+window.scrollY;return n&&e.style.setProperty("display",t,i),r<=a.Z.consts.acceptableStandardScreenSize.height}catch(e){}},f=function(e,t){e=e.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null},p=function(){var e=window;try{for(;e!==e.parent;)e.parent.document,e=e.parent}catch(e){}return e},g=function(e,t){if(e){for(var i=t.split("."),n=e,r=0;r<i.length;r++){var a=i[r];if(!n[a])return;n=n[a]}return n}};function m(e){return Math.floor(Math.random()*Math.floor(e))}function b(e){return m(100)<e}function w(e,t){return e.length>t?e.substring(0,t):e}function v(e,t){return e.every((e=>t.includes(e)))}var N=new function(){this.insertElement=function(e,t,i){switch(i){case"appendChild":t.appendChild(e);break;case"insertBefore":t.parentElement.insertBefore(e,t);break;case"insertAfter":t.nextElementSibling?this.insertElement(e,t.nextElementSibling,"insertBefore"):this.insertElement(e,t.parentElement,"appendChild")}}},_=i(896),D=[{width:300,height:250},{width:336,height:280},{width:300,height:600},{width:160,height:600},{width:120,height:600},{width:120,height:240},{width:250,height:250},{width:200,height:200},{width:180,height:150},{width:125,height:125},{width:728,height:90},{width:970,height:90},{width:970,height:250},{width:468,height:60},{width:234,height:60}],X=function(e,t){var i=function(e,t){return o.Z.filter(e,(function(e){return Y.sizeValidation.getSizeType(e)===t}))}(D,e);return i=o.Z.filter(i,(function(e){return!Y.sizeValidation.isUnacceptableFirstViewPortSize(e)||!t}))},y=function(e,t,i){for(var n=function(e){for(var t=0,i=0,n=0;n<e.length;n++){var r=e[n];r&&r.width&&r.height&&(r.width>t&&(t=r.width),r.height>i&&(i=r.height))}return{width:t,height:i}}(e),r=Y.sizeValidation.getSizeType(t),a=X(r,i),o=0;o<a.length;o++){var s=a[o];if(s.width<=n.width&&s.height<=n.height){for(var d=!0,c=0;c<e.length;c++){var l=e[c];if(l&&l.width===s.width&&l.height===s.height){d=!1;break}}if(d)return s}}},V=function(e){var t=document.createElement("a");return t.setAttribute("href",e),t},M=function(e,t){if(e&&e.length>0)for(var i=0;i<e.length;i++){for(var n=e[i],r=!0,a=0;a<n.length;a++){var o=n[a];if(t[o.type].indexOf(o.string)<0){r=!1;break}}if(r)return!0}};var E=1,z=2,x=function(e){return e.width>350?E:z},H=function(e){var t=x(e),i=a.Z.consts.acceptableStandardScreenSize.width*a.Z.consts.acceptableStandardScreenSize.height,n=e.height,r=e.width,o=r*n/i*100>=16;return t==z?o||r>350:o||e.height>200},I=function(e,t){var i,n,r=x(t),o=!1,s=!0,d=!1,c=t.height,l=t.width;if(e){"none"===window.getComputedStyle(e).display&&(i=e.style.getPropertyValue("display"),n=e.style.getPropertyPriority("display"),e.style.setProperty("display","block","important"),o=!0);var h=e.getBoundingClientRect().top;c=(d=h+t.height>a.Z.consts.acceptableStandardScreenSize.height)?a.Z.consts.acceptableStandardScreenSize.height-h:t.height}return s=r==z&&d?I(e,{width:l,height:c})&&S(t):H(t),o&&e.style.setProperty("display",i,n),s},S=function(e){var t=a.Z.consts.acceptableStandardScreenSize.width*a.Z.consts.acceptableStandardScreenSize.height,i=x(e);return e.width*e.height/t*100>=26||i==E&&e.height>400},Z=function(e,t){return!e||Y.commonUtils.isFirstViewPortElement(e)?I(e,t):S(t)};const Y={addAcceptableParam:function(e){return e.indexOf(a.Z.upoSettings.acceptableURLParam)>-1?e:e=(e=e.indexOf("?")>-1?e+"&"+a.Z.upoSettings.acceptableURLParam:e+"?"+a.Z.upoSettings.acceptableURLParam).replace("&&upapi=true","&upapi=true")},commonUtils:n,ElementInsertion:N,sizesRemover:function(e,t){const i=[],n=_.Y.fireEvent("enableLegacySizesReplacer");o.Z.forEach(t,(function(e){e.width&&e.height&&i.push({width:e.width,height:e.height})}));for(var r=0;r<i.length;r++){var a=i[r];if(Y.sizeValidation.isUnacceptable(e,a))if(n){const t=Y.commonUtils.isFirstViewPortElement(e);i[r]=y(i,a,t)}else i.splice(r,1)}return i},SubscriptionLayer:function(){var e={};this.subscribeForEvent=function(t,i){e[t]=e[t]||[],e[t].indexOf(i)<0&&e[t].push(i)},this.invokeEventCallbacks=function(t,i){var n=e[t]||[];o.Z.forEach(n,(function(e){e.call(void 0,i)}))}},urlValidations:{isSyncUrl:function(e,t){if("IMG"!==t)return!1;for(var i=V(e),n=[[{string:"/sync",type:"pathname"}],[{string:"/cookiesync",type:"pathname"}],[{string:"/rset",type:"pathname"}],[{string:"/getuid",type:"pathname"}],[{string:"/track",type:"pathname"}],[{string:"/pixel",type:"pathname"}],[{string:"/Pixel",type:"pathname"}],[{string:".pixel",type:"pathname"}],[{string:"pixel.",type:"pathname"}],[{string:"/match",type:"pathname"}],[{string:"/partner",type:"pathname"}],[{string:"/visitormatch",type:"pathname"}],[{string:"/ping_match",type:"pathname"}],[{string:"/ImgSync",type:"pathname"}],[{string:"/identify",type:"pathname"}],[{string:"/usync/",type:"pathname"}],[{string:"/usersync",type:"pathname"}],[{string:"/user-sync",type:"pathname"}],[{string:"/ddm/trackimp",type:"pathname"}],[{string:"/user_sync.php",type:"pathname"}],[{string:"/bh/rtset",type:"pathname"}],[{string:"%2Fsync",type:"pathname"}],[{string:"cksync.php",type:"pathname"}],[{string:".sync",type:"hostname"}],[{string:"sync-",type:"hostname"}],[{string:"storygize.net",type:"hostname"},{string:"/ccm",type:"href"}],[{string:"geo-um.btrll.com",type:"hostname"}],[{string:"nexac.com",type:"hostname"},{string:"/e/sr",type:"href"}],[{string:"api.bttrack.com",type:"hostname"}],[{string:"postrelease.com",type:"hostname"}],[{string:"sitescout.com",type:"hostname"}],[{string:"criteo.net",type:"hostname"}],[{string:"3lift.com",type:"hostname"},{string:"/sync",type:"href"}]],r=0;r<n.length;r++){for(var a=n[r],o=!0,s=0;s<a.length;s++){var d=a[s];if(i[d.type].indexOf(d.string)<0){o=!1;break}}if(o)return!0}return!1},isWhitelistURL:function(e,t){var i=V(e);return!M({SCRIPT:[[{string:"3lift.com",type:"hostname"},{string:"/header",type:"href"}]]}[t],i)&&!!M({IMG:[[{string:"adsafeprotected.com",type:"hostname"}],[{string:"doubleclick.net",type:"hostname"}],[{string:"moatads.com",type:"hostname"}],[{string:"postrelease.com",type:"hostname"}],[{string:"mynativeplatform.com",type:"hostname"}],[{string:"360yield.com",type:"hostname"}],[{string:"sharethrough.com",type:"hostname"}],[{string:"doubleverify.com",type:"hostname"}],[{string:"zemanta.com",type:"hostname"}],[{string:"adnxs.com",type:"hostname"}],[{string:"sonobi.com",type:"hostname"}],[{string:"insight.adsrvr.org",type:"hostname"}],[{string:"serving-sys.com",type:"hostname"}],[{string:"advertising.com",type:"hostname"}],[{string:"openx.net",type:"hostname"}],[{string:"3lift.com",type:"hostname"}],[{string:"flashtalking.com",type:"hostname"},{string:"/imp",type:"href"}],[{string:"adroll.com",type:"hostname"}],[{string:"33across.com",type:"hostname"},{string:"/ps",type:"href"}],[{string:"adsrvr.org/bid",type:"href"}],[{string:"imrworldwide.com",type:"hostname"}],[{string:"criteo.com",type:"hostname"},{string:"/delivery",type:"href"}],[{string:"ad_overlays",type:"pathname"}]],IFRAME:[[{string:"googlesyndication.com/safeframe",type:"href"}],[{string:"ad.doubleclick.net/ddm",type:"hostname"}],[{string:"rubiconproject.com",type:"hostname"},{string:"multi-sync.html",type:"href"}],[{string:"3lift.com",type:"hostname"},{string:"sync?",type:"href"}],[{string:"ca-pub-15988",type:"href"}],[{string:"ff.doubleclick.net",type:"hostname"}]],SCRIPT:[[{string:"adnxs.com",type:"hostname"},{string:"trk.js",type:"href"}],[{string:"/sync",type:"pathname"}],[{string:"pagead2.googlesyndication.com",type:"hostname"}],[{string:"adservice.google.",type:"hostname"}],[{string:"doubleclick.net/gpt/pubads_impl_",type:"href"}],[{string:"native.sharethrough.com/assets/sfp.js",type:"href"}],[{string:"sharethrough.com/api",type:"href"}],[{string:"moatads.com",type:"hostname"}],[{string:"3lift.com",type:"hostname"}],[{string:"adsafeprotected.com",type:"hostname"}],[{string:"doubleverify.com",type:"hostname"}],[{string:"match.adsrvr.org",type:"hostname"}],[{string:".adnxs.com/getuidp",type:"href"}],[{string:"pubads_impl_rendering_",type:"href"}],[{string:"cdn.ampproject.org",type:"href"}]],LINK:[[{string:"//tpc.googlesyndication.com/safeframe",type:"href"}],[{string:"ntv.io",type:"hostname"}],[{string:"moatads.com",type:"hostname"}],[{string:"adservice.google.",type:"hostname"}]]}[t],i)}},sizeValidation:r}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var i=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](i,i.exports,__webpack_require__),i.exports}__webpack_require__.d=(e,t)=>{for(var i in t)__webpack_require__.o(t,i)&&!__webpack_require__.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{var e={};__webpack_require__.r(e),__webpack_require__.d(e,{getElementWithSelector:()=>Ri,getSpaceElement:()=>Li,refreshTypeDecoder:()=>ki});var t=__webpack_require__(149),i=__webpack_require__(713),n=__webpack_require__(896),r=__webpack_require__(34),a=function(e){for(var t={},i=Object.keys(e),n=0;n<i.length;n++)t[i[n].toLowerCase()]=e[i[n]];return t},o=function(e){var t={};for(var i in e)if(e.hasOwnProperty(i)){t[i]=[];for(var n=0;n<e[i].length;n++){var r=e[i][n];t[i].push(r)}}return t},s=function(e,t,i){if((i=i||{}).merge&&i.override)throw new TypeError;this.tr=e,this.headers=a(t),this.merge=i.merge||!1,this.override=i.override||!1};s.prototype.$fetch=function(e,t,i){if(i=i||{},"object"!=typeof t||"string"!=typeof t.url)throw new TypeError;t=this.addHeaders(t),this.tr.$fetch(e,t,i)},s.prototype.addHeaders=function(e){e=function(e){return{url:e.url,headers:a(o(e.headers||{})),body:e.body,method:e.method}}(e);var t=this.headers,i=e.headers;for(var n in t)if(t.hasOwnProperty(n)){if(this.override)i[n]=[];else if(!this.merge&&i[n])continue;i[n]||(i[n]=[]);for(var r=0;r<t[n].length;r++){var s=t[n][r];i[n].push(s)}}return e};var d=function(e,t){return e.substr(0,t.length)===t},c=function(e){if(e=e.toLowerCase(),d(e,"proxy-"))return!1;if(d(e,"sec-"))return!1;switch(e){case"accept-charset":case"accept-encoding":case"access-control-request-headers":case"access-control-request-method":case"connection":case"content-length":case"cookie":case"cookie2":case"date":case"dnt":case"expect":case"host":case"keep-alive":case"origin":case"te":case"trailer":case"transfer-encoding":case"upgrade":case"via":return!1;case"x-client-version":case"x-cookie":case"x-referer":return!1}return!0},l=new function(){this.init=function(e,t){if(t=t||{},!e||"string"!=typeof e)throw new TypeError;this.host=e;var i=void 0===t.secure||t.secure;this.protocol=i?"https":"http",this.suffix=void 0!==t.suffix?t.suffix:""},this.$fetch=function(e){return new Promise(function(t,i){if("object"!=typeof e||"string"!=typeof e.url)throw new TypeError;var n=!1,r=e.url||"";(r.length<1||"/"!=r[0])&&(r="/"+r);var o=this.protocol+"://"+this.host+r;o+=this.suffix?"#"+this.suffix:"";var s=e.method||"GET",d=e.headers||{},l=e.body?e.body:null,h=new XMLHttpRequest;for(var u in h.onreadystatechange=function(e){if(4==h.readyState){if(0==h.status){if(n)return;return n=!0,void i("status -> "+h.status)}var r=a(function(e){var t={};if(!e)return t;for(var i=e.split("\r\n"),n=0;n<i.length;n++){var r=i[n],a=r.indexOf(": ");if(a>0){var o=r.substring(0,a),s=r.substring(a+2);t[o]||(t[o]=[]),t[o].push(s)}}return t}(h.getAllResponseHeaders()));if(r["x-content-type"]&&(r["content-type"]=r["x-content-type"],delete r["x-content-type"]),h.status>=200&&h.status<300){var o={status:h.status,headers:r,body:h.response};t(o)}else i("status -> "+h.status)}},h.onerror=function(e){n||(n=!0,i(e))},h.open(s,o,!0),h.responseType="arraybuffer",d)d.hasOwnProperty(u)&&0!=d[u].length&&(c(u)||h.setRequestHeader(u,d[u][0]));h.send(l)}.bind(this))}},h=function(e,t,i){if(!e||"number"!=typeof t||"number"!=typeof i||t<=0||i<=0||t>i)throw new TypeError;for(var n=Math.floor(Math.random()*(i+1-t))+t,r="",a=0;a<n;a++)r+=e.charAt(Math.floor(Math.random()*e.length));return r},u=function(e,t){return h("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e,t)};const f=u;function p(e){let t=e.length;for(;--t>=0;)e[t]=0}const g=256,m=286,b=30,w=15,v=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),N=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),_=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),X=new Array(576);p(X);const y=new Array(60);p(y);const V=new Array(512);p(V);const M=new Array(256);p(M);const E=new Array(29);p(E);const z=new Array(b);function x(e,t,i,n,r){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=n,this.max_length=r,this.has_stree=e&&e.length}let H,I,S;function Z(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}p(z);const Y=e=>e<256?V[e]:V[256+(e>>>7)],T=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},B=(e,t,i)=>{e.bi_valid>16-i?(e.bi_buf|=t<<e.bi_valid&65535,T(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=i-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)},F=(e,t,i)=>{B(e,i[2*t],i[2*t+1])},O=(e,t)=>{let i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1},k=(e,t,i)=>{const n=new Array(16);let r,a,o=0;for(r=1;r<=w;r++)n[r]=o=o+i[r-1]<<1;for(a=0;a<=t;a++){let t=e[2*a+1];0!==t&&(e[2*a]=O(n[t]++,t))}},R=e=>{let t;for(t=0;t<m;t++)e.dyn_ltree[2*t]=0;for(t=0;t<b;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},L=e=>{e.bi_valid>8?T(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},C=(e,t,i,n)=>{const r=2*t,a=2*i;return e[r]<e[a]||e[r]===e[a]&&n[t]<=n[i]},G=(e,t,i)=>{const n=e.heap[i];let r=i<<1;for(;r<=e.heap_len&&(r<e.heap_len&&C(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!C(t,n,e.heap[r],e.depth));)e.heap[i]=e.heap[r],i=r,r<<=1;e.heap[i]=n},W=(e,t,i)=>{let n,r,a,o,s=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],r=e.pending_buf[e.l_buf+s],s++,0===n?F(e,r,t):(a=M[r],F(e,a+g+1,t),o=v[a],0!==o&&(r-=E[a],B(e,r,o)),n--,a=Y(n),F(e,a,i),o=N[a],0!==o&&(n-=z[a],B(e,n,o)))}while(s<e.last_lit);F(e,256,t)},A=(e,t)=>{const i=t.dyn_tree,n=t.stat_desc.static_tree,r=t.stat_desc.has_stree,a=t.stat_desc.elems;let o,s,d,c=-1;for(e.heap_len=0,e.heap_max=573,o=0;o<a;o++)0!==i[2*o]?(e.heap[++e.heap_len]=c=o,e.depth[o]=0):i[2*o+1]=0;for(;e.heap_len<2;)d=e.heap[++e.heap_len]=c<2?++c:0,i[2*d]=1,e.depth[d]=0,e.opt_len--,r&&(e.static_len-=n[2*d+1]);for(t.max_code=c,o=e.heap_len>>1;o>=1;o--)G(e,i,o);d=a;do{o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],G(e,i,1),s=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=s,i[2*d]=i[2*o]+i[2*s],e.depth[d]=(e.depth[o]>=e.depth[s]?e.depth[o]:e.depth[s])+1,i[2*o+1]=i[2*s+1]=d,e.heap[1]=d++,G(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const i=t.dyn_tree,n=t.max_code,r=t.stat_desc.static_tree,a=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,d=t.stat_desc.max_length;let c,l,h,u,f,p,g=0;for(u=0;u<=w;u++)e.bl_count[u]=0;for(i[2*e.heap[e.heap_max]+1]=0,c=e.heap_max+1;c<573;c++)l=e.heap[c],u=i[2*i[2*l+1]+1]+1,u>d&&(u=d,g++),i[2*l+1]=u,l>n||(e.bl_count[u]++,f=0,l>=s&&(f=o[l-s]),p=i[2*l],e.opt_len+=p*(u+f),a&&(e.static_len+=p*(r[2*l+1]+f)));if(0!==g){do{for(u=d-1;0===e.bl_count[u];)u--;e.bl_count[u]--,e.bl_count[u+1]+=2,e.bl_count[d]--,g-=2}while(g>0);for(u=d;0!==u;u--)for(l=e.bl_count[u];0!==l;)h=e.heap[--c],h>n||(i[2*h+1]!==u&&(e.opt_len+=(u-i[2*h+1])*i[2*h],i[2*h+1]=u),l--)}})(e,t),k(i,c,e.bl_count)},P=(e,t,i)=>{let n,r,a=-1,o=t[1],s=0,d=7,c=4;for(0===o&&(d=138,c=3),t[2*(i+1)+1]=65535,n=0;n<=i;n++)r=o,o=t[2*(n+1)+1],++s<d&&r===o||(s<c?e.bl_tree[2*r]+=s:0!==r?(r!==a&&e.bl_tree[2*r]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,a=r,0===o?(d=138,c=3):r===o?(d=6,c=3):(d=7,c=4))},j=(e,t,i)=>{let n,r,a=-1,o=t[1],s=0,d=7,c=4;for(0===o&&(d=138,c=3),n=0;n<=i;n++)if(r=o,o=t[2*(n+1)+1],!(++s<d&&r===o)){if(s<c)do{F(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==a&&(F(e,r,e.bl_tree),s--),F(e,16,e.bl_tree),B(e,s-3,2)):s<=10?(F(e,17,e.bl_tree),B(e,s-3,3)):(F(e,18,e.bl_tree),B(e,s-11,7));s=0,a=r,0===o?(d=138,c=3):r===o?(d=6,c=3):(d=7,c=4)}};let J=!1;const K=(e,t,i,n)=>{B(e,0+(n?1:0),3),((e,t,i,n)=>{L(e),n&&(T(e,i),T(e,~i)),e.pending_buf.set(e.window.subarray(t,t+i),e.pending),e.pending+=i})(e,t,i,!0)};var U={_tr_init:e=>{J||((()=>{let e,t,i,n,r;const a=new Array(16);for(i=0,n=0;n<28;n++)for(E[n]=i,e=0;e<1<<v[n];e++)M[i++]=n;for(M[i-1]=n,r=0,n=0;n<16;n++)for(z[n]=r,e=0;e<1<<N[n];e++)V[r++]=n;for(r>>=7;n<b;n++)for(z[n]=r<<7,e=0;e<1<<N[n]-7;e++)V[256+r++]=n;for(t=0;t<=w;t++)a[t]=0;for(e=0;e<=143;)X[2*e+1]=8,e++,a[8]++;for(;e<=255;)X[2*e+1]=9,e++,a[9]++;for(;e<=279;)X[2*e+1]=7,e++,a[7]++;for(;e<=287;)X[2*e+1]=8,e++,a[8]++;for(k(X,287,a),e=0;e<b;e++)y[2*e+1]=5,y[2*e]=O(e,5);H=new x(X,v,257,m,w),I=new x(y,N,0,b,w),S=new x(new Array(0),_,0,19,7)})(),J=!0),e.l_desc=new Z(e.dyn_ltree,H),e.d_desc=new Z(e.dyn_dtree,I),e.bl_desc=new Z(e.bl_tree,S),e.bi_buf=0,e.bi_valid=0,R(e)},_tr_stored_block:K,_tr_flush_block:(e,t,i,n)=>{let r,a,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<g;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),A(e,e.l_desc),A(e,e.d_desc),o=(e=>{let t;for(P(e,e.dyn_ltree,e.l_desc.max_code),P(e,e.dyn_dtree,e.d_desc.max_code),A(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*D[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),r=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=r&&(r=a)):r=a=i+5,i+4<=r&&-1!==t?K(e,t,i,n):4===e.strategy||a===r?(B(e,2+(n?1:0),3),W(e,X,y)):(B(e,4+(n?1:0),3),((e,t,i,n)=>{let r;for(B(e,t-257,5),B(e,i-1,5),B(e,n-4,4),r=0;r<n;r++)B(e,e.bl_tree[2*D[r]+1],3);j(e,e.dyn_ltree,t-1),j(e,e.dyn_dtree,i-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),W(e,e.dyn_ltree,e.dyn_dtree)),R(e),n&&L(e)},_tr_tally:(e,t,i)=>(e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&i,e.last_lit++,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(M[i]+g+1)]++,e.dyn_dtree[2*Y(t)]++),e.last_lit===e.lit_bufsize-1),_tr_align:e=>{B(e,2,3),F(e,256,X),(e=>{16===e.bi_valid?(T(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}};var Q=(e,t,i,n)=>{let r=65535&e|0,a=e>>>16&65535|0,o=0;for(;0!==i;){o=i>2e3?2e3:i,i-=o;do{r=r+t[n++]|0,a=a+r|0}while(--o);r%=65521,a%=65521}return r|a<<16|0};const q=new Uint32Array((()=>{let e,t=[];for(var i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t})());var $=(e,t,i,n)=>{const r=q,a=n+i;e^=-1;for(let i=n;i<a;i++)e=e>>>8^r[255&(e^t[i])];return-1^e},ee={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},te={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:ie,_tr_stored_block:ne,_tr_flush_block:re,_tr_tally:ae,_tr_align:oe}=U,{Z_NO_FLUSH:se,Z_PARTIAL_FLUSH:de,Z_FULL_FLUSH:ce,Z_FINISH:le,Z_BLOCK:he,Z_OK:ue,Z_STREAM_END:fe,Z_STREAM_ERROR:pe,Z_DATA_ERROR:ge,Z_BUF_ERROR:me,Z_DEFAULT_COMPRESSION:be,Z_FILTERED:we,Z_HUFFMAN_ONLY:ve,Z_RLE:Ne,Z_FIXED:_e,Z_DEFAULT_STRATEGY:De,Z_UNKNOWN:Xe,Z_DEFLATED:ye}=te,Ve=258,Me=262,Ee=103,ze=113,xe=666,He=(e,t)=>(e.msg=ee[t],t),Ie=e=>(e<<1)-(e>4?9:0),Se=e=>{let t=e.length;for(;--t>=0;)e[t]=0};let Ze=(e,t,i)=>(t<<e.hash_shift^i)&e.hash_mask;const Ye=e=>{const t=e.state;let i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+i),e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))},Te=(e,t)=>{re(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Ye(e.strm)},Be=(e,t)=>{e.pending_buf[e.pending++]=t},Fe=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Oe=(e,t,i,n)=>{let r=e.avail_in;return r>n&&(r=n),0===r?0:(e.avail_in-=r,t.set(e.input.subarray(e.next_in,e.next_in+r),i),1===e.state.wrap?e.adler=Q(e.adler,t,r,i):2===e.state.wrap&&(e.adler=$(e.adler,t,r,i)),e.next_in+=r,e.total_in+=r,r)},ke=(e,t)=>{let i,n,r=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match;const d=e.strstart>e.w_size-Me?e.strstart-(e.w_size-Me):0,c=e.window,l=e.w_mask,h=e.prev,u=e.strstart+Ve;let f=c[a+o-1],p=c[a+o];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(i=t,c[i+o]===p&&c[i+o-1]===f&&c[i]===c[a]&&c[++i]===c[a+1]){a+=2,i++;do{}while(c[++a]===c[++i]&&c[++a]===c[++i]&&c[++a]===c[++i]&&c[++a]===c[++i]&&c[++a]===c[++i]&&c[++a]===c[++i]&&c[++a]===c[++i]&&c[++a]===c[++i]&&a<u);if(n=Ve-(u-a),a=u-Ve,n>o){if(e.match_start=t,o=n,n>=s)break;f=c[a+o-1],p=c[a+o]}}}while((t=h[t&l])>d&&0!=--r);return o<=e.lookahead?o:e.lookahead},Re=e=>{const t=e.w_size;let i,n,r,a,o;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Me)){e.window.set(e.window.subarray(t,t+t),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,n=e.hash_size,i=n;do{r=e.head[--i],e.head[i]=r>=t?r-t:0}while(--n);n=t,i=n;do{r=e.prev[--i],e.prev[i]=r>=t?r-t:0}while(--n);a+=t}if(0===e.strm.avail_in)break;if(n=Oe(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=n,e.lookahead+e.insert>=3)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=Ze(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=Ze(e,e.ins_h,e.window[o+3-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<Me&&0!==e.strm.avail_in)},Le=(e,t)=>{let i,n;for(;;){if(e.lookahead<Me){if(Re(e),e.lookahead<Me&&t===se)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=Ze(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-Me&&(e.match_length=ke(e,i)),e.match_length>=3)if(n=ae(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=Ze(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Ze(e,e.ins_h,e.window[e.strstart+1]);else n=ae(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Te(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===le?(Te(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Te(e,!1),0===e.strm.avail_out)?1:2},Ce=(e,t)=>{let i,n,r;for(;;){if(e.lookahead<Me){if(Re(e),e.lookahead<Me&&t===se)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=Ze(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-Me&&(e.match_length=ke(e,i),e.match_length<=5&&(e.strategy===we||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,n=ae(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=Ze(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(Te(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(n=ae(e,0,e.window[e.strstart-1]),n&&Te(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=ae(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===le?(Te(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Te(e,!1),0===e.strm.avail_out)?1:2};function Ge(e,t,i,n,r){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=n,this.func=r}const We=[new Ge(0,0,0,0,((e,t)=>{let i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Re(e),0===e.lookahead&&t===se)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;const n=e.block_start+i;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,Te(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-Me&&(Te(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===le?(Te(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(Te(e,!1),e.strm.avail_out),1)})),new Ge(4,4,8,4,Le),new Ge(4,5,16,8,Le),new Ge(4,6,32,32,Le),new Ge(4,4,16,16,Ce),new Ge(8,16,32,32,Ce),new Ge(8,16,128,128,Ce),new Ge(8,32,128,256,Ce),new Ge(32,128,258,1024,Ce),new Ge(32,258,258,4096,Ce)];function Ae(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ye,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Se(this.dyn_ltree),Se(this.dyn_dtree),Se(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Se(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Se(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Pe=e=>{if(!e||!e.state)return He(e,pe);e.total_in=e.total_out=0,e.data_type=Xe;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:ze,e.adler=2===t.wrap?0:1,t.last_flush=se,ie(t),ue},je=e=>{const t=Pe(e);var i;return t===ue&&((i=e.state).window_size=2*i.w_size,Se(i.head),i.max_lazy_match=We[i.level].max_lazy,i.good_match=We[i.level].good_length,i.nice_match=We[i.level].nice_length,i.max_chain_length=We[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=2,i.match_available=0,i.ins_h=0),t},Je=(e,t,i,n,r,a)=>{if(!e)return pe;let o=1;if(t===be&&(t=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),r<1||r>9||i!==ye||n<8||n>15||t<0||t>9||a<0||a>_e)return He(e,pe);8===n&&(n=9);const s=new Ae;return e.state=s,s.strm=e,s.wrap=o,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=r+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<r+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=a,s.method=i,je(e)};var Ke={deflateInit:(e,t)=>Je(e,t,ye,15,8,De),deflateInit2:Je,deflateReset:je,deflateResetKeep:Pe,deflateSetHeader:(e,t)=>e&&e.state?2!==e.state.wrap?pe:(e.state.gzhead=t,ue):pe,deflate:(e,t)=>{let i,n;if(!e||!e.state||t>he||t<0)return e?He(e,pe):pe;const r=e.state;if(!e.output||!e.input&&0!==e.avail_in||r.status===xe&&t!==le)return He(e,0===e.avail_out?me:pe);r.strm=e;const a=r.last_flush;if(r.last_flush=t,42===r.status)if(2===r.wrap)e.adler=0,Be(r,31),Be(r,139),Be(r,8),r.gzhead?(Be(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Be(r,255&r.gzhead.time),Be(r,r.gzhead.time>>8&255),Be(r,r.gzhead.time>>16&255),Be(r,r.gzhead.time>>24&255),Be(r,9===r.level?2:r.strategy>=ve||r.level<2?4:0),Be(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(Be(r,255&r.gzhead.extra.length),Be(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=$(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(Be(r,0),Be(r,0),Be(r,0),Be(r,0),Be(r,0),Be(r,9===r.level?2:r.strategy>=ve||r.level<2?4:0),Be(r,3),r.status=ze);else{let t=ye+(r.w_bits-8<<4)<<8,i=-1;i=r.strategy>=ve||r.level<2?0:r.level<6?1:6===r.level?2:3,t|=i<<6,0!==r.strstart&&(t|=32),t+=31-t%31,r.status=ze,Fe(r,t),0!==r.strstart&&(Fe(r,e.adler>>>16),Fe(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(i=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>i&&(e.adler=$(e.adler,r.pending_buf,r.pending-i,i)),Ye(e),i=r.pending,r.pending!==r.pending_buf_size));)Be(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>i&&(e.adler=$(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=$(e.adler,r.pending_buf,r.pending-i,i)),Ye(e),i=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,Be(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>i&&(e.adler=$(e.adler,r.pending_buf,r.pending-i,i)),0===n&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=$(e.adler,r.pending_buf,r.pending-i,i)),Ye(e),i=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,Be(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>i&&(e.adler=$(e.adler,r.pending_buf,r.pending-i,i)),0===n&&(r.status=Ee)}else r.status=Ee;if(r.status===Ee&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&Ye(e),r.pending+2<=r.pending_buf_size&&(Be(r,255&e.adler),Be(r,e.adler>>8&255),e.adler=0,r.status=ze)):r.status=ze),0!==r.pending){if(Ye(e),0===e.avail_out)return r.last_flush=-1,ue}else if(0===e.avail_in&&Ie(t)<=Ie(a)&&t!==le)return He(e,me);if(r.status===xe&&0!==e.avail_in)return He(e,me);if(0!==e.avail_in||0!==r.lookahead||t!==se&&r.status!==xe){let i=r.strategy===ve?((e,t)=>{let i;for(;;){if(0===e.lookahead&&(Re(e),0===e.lookahead)){if(t===se)return 1;break}if(e.match_length=0,i=ae(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(Te(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===le?(Te(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Te(e,!1),0===e.strm.avail_out)?1:2})(r,t):r.strategy===Ne?((e,t)=>{let i,n,r,a;const o=e.window;for(;;){if(e.lookahead<=Ve){if(Re(e),e.lookahead<=Ve&&t===se)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=e.strstart-1,n=o[r],n===o[++r]&&n===o[++r]&&n===o[++r])){a=e.strstart+Ve;do{}while(n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&r<a);e.match_length=Ve-(a-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(i=ae(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=ae(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(Te(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===le?(Te(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Te(e,!1),0===e.strm.avail_out)?1:2})(r,t):We[r.level].func(r,t);if(3!==i&&4!==i||(r.status=xe),1===i||3===i)return 0===e.avail_out&&(r.last_flush=-1),ue;if(2===i&&(t===de?oe(r):t!==he&&(ne(r,0,0,!1),t===ce&&(Se(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),Ye(e),0===e.avail_out))return r.last_flush=-1,ue}return t!==le?ue:r.wrap<=0?fe:(2===r.wrap?(Be(r,255&e.adler),Be(r,e.adler>>8&255),Be(r,e.adler>>16&255),Be(r,e.adler>>24&255),Be(r,255&e.total_in),Be(r,e.total_in>>8&255),Be(r,e.total_in>>16&255),Be(r,e.total_in>>24&255)):(Fe(r,e.adler>>>16),Fe(r,65535&e.adler)),Ye(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?ue:fe)},deflateEnd:e=>{if(!e||!e.state)return pe;const t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&t!==Ee&&t!==ze&&t!==xe?He(e,pe):(e.state=null,t===ze?He(e,ge):ue)},deflateSetDictionary:(e,t)=>{let i=t.length;if(!e||!e.state)return pe;const n=e.state,r=n.wrap;if(2===r||1===r&&42!==n.status||n.lookahead)return pe;if(1===r&&(e.adler=Q(e.adler,t,i,0)),n.wrap=0,i>=n.w_size){0===r&&(Se(n.head),n.strstart=0,n.block_start=0,n.insert=0);let e=new Uint8Array(n.w_size);e.set(t.subarray(i-n.w_size,i),0),t=e,i=n.w_size}const a=e.avail_in,o=e.next_in,s=e.input;for(e.avail_in=i,e.next_in=0,e.input=t,Re(n);n.lookahead>=3;){let e=n.strstart,t=n.lookahead-2;do{n.ins_h=Ze(n,n.ins_h,n.window[e+3-1]),n.prev[e&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=e,e++}while(--t);n.strstart=e,n.lookahead=2,Re(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=o,e.input=s,e.avail_in=a,n.wrap=r,ue},deflateInfo:"pako deflate (from Nodeca project)"};const Ue=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Qe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const i=t.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(const t in i)Ue(i,t)&&(e[t]=i[t])}}return e},qe=e=>{let t=0;for(let i=0,n=e.length;i<n;i++)t+=e[i].length;const i=new Uint8Array(t);for(let t=0,n=0,r=e.length;t<r;t++){let r=e[t];i.set(r,n),n+=r.length}return i};let $e=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){$e=!1}const et=new Uint8Array(256);for(let e=0;e<256;e++)et[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;et[254]=et[254]=1;var tt=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,i,n,r,a,o=e.length,s=0;for(r=0;r<o;r++)i=e.charCodeAt(r),55296==(64512&i)&&r+1<o&&(n=e.charCodeAt(r+1),56320==(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),r++)),s+=i<128?1:i<2048?2:i<65536?3:4;for(t=new Uint8Array(s),a=0,r=0;a<s;r++)i=e.charCodeAt(r),55296==(64512&i)&&r+1<o&&(n=e.charCodeAt(r+1),56320==(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),r++)),i<128?t[a++]=i:i<2048?(t[a++]=192|i>>>6,t[a++]=128|63&i):i<65536?(t[a++]=224|i>>>12,t[a++]=128|i>>>6&63,t[a++]=128|63&i):(t[a++]=240|i>>>18,t[a++]=128|i>>>12&63,t[a++]=128|i>>>6&63,t[a++]=128|63&i);return t},it=(e,t)=>{const i=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let n,r;const a=new Array(2*i);for(r=0,n=0;n<i;){let t=e[n++];if(t<128){a[r++]=t;continue}let o=et[t];if(o>4)a[r++]=65533,n+=o-1;else{for(t&=2===o?31:3===o?15:7;o>1&&n<i;)t=t<<6|63&e[n++],o--;o>1?a[r++]=65533:t<65536?a[r++]=t:(t-=65536,a[r++]=55296|t>>10&1023,a[r++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&$e)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let i="";for(let n=0;n<t;n++)i+=String.fromCharCode(e[n]);return i})(a,r)},nt=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let i=t-1;for(;i>=0&&128==(192&e[i]);)i--;return i<0||0===i?t:i+et[e[i]]>t?i:t};var rt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const at=Object.prototype.toString,{Z_NO_FLUSH:ot,Z_SYNC_FLUSH:st,Z_FULL_FLUSH:dt,Z_FINISH:ct,Z_OK:lt,Z_STREAM_END:ht,Z_DEFAULT_COMPRESSION:ut,Z_DEFAULT_STRATEGY:ft,Z_DEFLATED:pt}=te;function gt(e){this.options=Qe({level:ut,method:pt,chunkSize:16384,windowBits:15,memLevel:8,strategy:ft},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new rt,this.strm.avail_out=0;let i=Ke.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(i!==lt)throw new Error(ee[i]);if(t.header&&Ke.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?tt(t.dictionary):"[object ArrayBuffer]"===at.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,i=Ke.deflateSetDictionary(this.strm,e),i!==lt)throw new Error(ee[i]);this._dict_set=!0}}function mt(e,t){const i=new gt(t);if(i.push(e,!0),i.err)throw i.msg||ee[i.err];return i.result}gt.prototype.push=function(e,t){const i=this.strm,n=this.options.chunkSize;let r,a;if(this.ended)return!1;for(a=t===~~t?t:!0===t?ct:ot,"string"==typeof e?i.input=tt(e):"[object ArrayBuffer]"===at.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;)if(0===i.avail_out&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),(a===st||a===dt)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if(r=Ke.deflate(i,a),r===ht)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),r=Ke.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===lt;if(0!==i.avail_out){if(a>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(0===i.avail_in)break}else this.onData(i.output)}return!0},gt.prototype.onData=function(e){this.chunks.push(e)},gt.prototype.onEnd=function(e){e===lt&&(this.result=qe(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var bt={Deflate:gt,deflate:mt,deflateRaw:function(e,t){return(t=t||{}).raw=!0,mt(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,mt(e,t)},constants:te};var wt=function(e,t){let i,n,r,a,o,s,d,c,l,h,u,f,p,g,m,b,w,v,N,_,D,X,y,V;const M=e.state;i=e.next_in,y=e.input,n=i+(e.avail_in-5),r=e.next_out,V=e.output,a=r-(t-e.avail_out),o=r+(e.avail_out-257),s=M.dmax,d=M.wsize,c=M.whave,l=M.wnext,h=M.window,u=M.hold,f=M.bits,p=M.lencode,g=M.distcode,m=(1<<M.lenbits)-1,b=(1<<M.distbits)-1;e:do{f<15&&(u+=y[i++]<<f,f+=8,u+=y[i++]<<f,f+=8),w=p[u&m];t:for(;;){if(v=w>>>24,u>>>=v,f-=v,v=w>>>16&255,0===v)V[r++]=65535&w;else{if(!(16&v)){if(0==(64&v)){w=p[(65535&w)+(u&(1<<v)-1)];continue t}if(32&v){M.mode=12;break e}e.msg="invalid literal/length code",M.mode=30;break e}N=65535&w,v&=15,v&&(f<v&&(u+=y[i++]<<f,f+=8),N+=u&(1<<v)-1,u>>>=v,f-=v),f<15&&(u+=y[i++]<<f,f+=8,u+=y[i++]<<f,f+=8),w=g[u&b];i:for(;;){if(v=w>>>24,u>>>=v,f-=v,v=w>>>16&255,!(16&v)){if(0==(64&v)){w=g[(65535&w)+(u&(1<<v)-1)];continue i}e.msg="invalid distance code",M.mode=30;break e}if(_=65535&w,v&=15,f<v&&(u+=y[i++]<<f,f+=8,f<v&&(u+=y[i++]<<f,f+=8)),_+=u&(1<<v)-1,_>s){e.msg="invalid distance too far back",M.mode=30;break e}if(u>>>=v,f-=v,v=r-a,_>v){if(v=_-v,v>c&&M.sane){e.msg="invalid distance too far back",M.mode=30;break e}if(D=0,X=h,0===l){if(D+=d-v,v<N){N-=v;do{V[r++]=h[D++]}while(--v);D=r-_,X=V}}else if(l<v){if(D+=d+l-v,v-=l,v<N){N-=v;do{V[r++]=h[D++]}while(--v);if(D=0,l<N){v=l,N-=v;do{V[r++]=h[D++]}while(--v);D=r-_,X=V}}}else if(D+=l-v,v<N){N-=v;do{V[r++]=h[D++]}while(--v);D=r-_,X=V}for(;N>2;)V[r++]=X[D++],V[r++]=X[D++],V[r++]=X[D++],N-=3;N&&(V[r++]=X[D++],N>1&&(V[r++]=X[D++]))}else{D=r-_;do{V[r++]=V[D++],V[r++]=V[D++],V[r++]=V[D++],N-=3}while(N>2);N&&(V[r++]=V[D++],N>1&&(V[r++]=V[D++]))}break}}break}}while(i<n&&r<o);N=f>>3,i-=N,f-=N<<3,u&=(1<<f)-1,e.next_in=i,e.next_out=r,e.avail_in=i<n?n-i+5:5-(i-n),e.avail_out=r<o?o-r+257:257-(r-o),M.hold=u,M.bits=f};const vt=15,Nt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),_t=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Dt=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Xt=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var yt=(e,t,i,n,r,a,o,s)=>{const d=s.bits;let c,l,h,u,f,p,g=0,m=0,b=0,w=0,v=0,N=0,_=0,D=0,X=0,y=0,V=null,M=0;const E=new Uint16Array(16),z=new Uint16Array(16);let x,H,I,S=null,Z=0;for(g=0;g<=vt;g++)E[g]=0;for(m=0;m<n;m++)E[t[i+m]]++;for(v=d,w=vt;w>=1&&0===E[w];w--);if(v>w&&(v=w),0===w)return r[a++]=20971520,r[a++]=20971520,s.bits=1,0;for(b=1;b<w&&0===E[b];b++);for(v<b&&(v=b),D=1,g=1;g<=vt;g++)if(D<<=1,D-=E[g],D<0)return-1;if(D>0&&(0===e||1!==w))return-1;for(z[1]=0,g=1;g<vt;g++)z[g+1]=z[g]+E[g];for(m=0;m<n;m++)0!==t[i+m]&&(o[z[t[i+m]]++]=m);if(0===e?(V=S=o,p=19):1===e?(V=Nt,M-=257,S=_t,Z-=257,p=256):(V=Dt,S=Xt,p=-1),y=0,m=0,g=b,f=a,N=v,_=0,h=-1,X=1<<v,u=X-1,1===e&&X>852||2===e&&X>592)return 1;for(;;){x=g-_,o[m]<p?(H=0,I=o[m]):o[m]>p?(H=S[Z+o[m]],I=V[M+o[m]]):(H=96,I=0),c=1<<g-_,l=1<<N,b=l;do{l-=c,r[f+(y>>_)+l]=x<<24|H<<16|I|0}while(0!==l);for(c=1<<g-1;y&c;)c>>=1;if(0!==c?(y&=c-1,y+=c):y=0,m++,0==--E[g]){if(g===w)break;g=t[i+o[m]]}if(g>v&&(y&u)!==h){for(0===_&&(_=v),f+=b,N=g-_,D=1<<N;N+_<w&&(D-=E[N+_],!(D<=0));)N++,D<<=1;if(X+=1<<N,1===e&&X>852||2===e&&X>592)return 1;h=y&u,r[h]=v<<24|N<<16|f-a|0}}return 0!==y&&(r[f+y]=g-_<<24|64<<16|0),s.bits=v,0};const{Z_FINISH:Vt,Z_BLOCK:Mt,Z_TREES:Et,Z_OK:zt,Z_STREAM_END:xt,Z_NEED_DICT:Ht,Z_STREAM_ERROR:It,Z_DATA_ERROR:St,Z_MEM_ERROR:Zt,Z_BUF_ERROR:Yt,Z_DEFLATED:Tt}=te,Bt=12,Ft=30,Ot=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function kt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Rt=e=>{if(!e||!e.state)return It;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,zt},Lt=e=>{if(!e||!e.state)return It;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Rt(e)},Ct=(e,t)=>{let i;if(!e||!e.state)return It;const n=e.state;return t<0?(i=0,t=-t):(i=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?It:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,Lt(e))},Gt=(e,t)=>{if(!e)return It;const i=new kt;e.state=i,i.window=null;const n=Ct(e,t);return n!==zt&&(e.state=null),n};let Wt,At,Pt=!0;const jt=e=>{if(Pt){Wt=new Int32Array(512),At=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(yt(1,e.lens,0,288,Wt,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;yt(2,e.lens,0,32,At,0,e.work,{bits:5}),Pt=!1}e.lencode=Wt,e.lenbits=9,e.distcode=At,e.distbits=5},Jt=(e,t,i,n)=>{let r;const a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(t.subarray(i-a.wsize,i),0),a.wnext=0,a.whave=a.wsize):(r=a.wsize-a.wnext,r>n&&(r=n),a.window.set(t.subarray(i-n,i-n+r),a.wnext),(n-=r)?(a.window.set(t.subarray(i-n,i),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0};var Kt={inflateReset:Lt,inflateReset2:Ct,inflateResetKeep:Rt,inflateInit:e=>Gt(e,15),inflateInit2:Gt,inflate:(e,t)=>{let i,n,r,a,o,s,d,c,l,h,u,f,p,g,m,b,w,v,N,_,D,X,y=0;const V=new Uint8Array(4);let M,E;const z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return It;i=e.state,i.mode===Bt&&(i.mode=13),o=e.next_out,r=e.output,d=e.avail_out,a=e.next_in,n=e.input,s=e.avail_in,c=i.hold,l=i.bits,h=s,u=d,X=zt;e:for(;;)switch(i.mode){case 1:if(0===i.wrap){i.mode=13;break}for(;l<16;){if(0===s)break e;s--,c+=n[a++]<<l,l+=8}if(2&i.wrap&&35615===c){i.check=0,V[0]=255&c,V[1]=c>>>8&255,i.check=$(i.check,V,2,0),c=0,l=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",i.mode=Ft;break}if((15&c)!==Tt){e.msg="unknown compression method",i.mode=Ft;break}if(c>>>=4,l-=4,D=8+(15&c),0===i.wbits)i.wbits=D;else if(D>i.wbits){e.msg="invalid window size",i.mode=Ft;break}i.dmax=1<<i.wbits,e.adler=i.check=1,i.mode=512&c?10:Bt,c=0,l=0;break;case 2:for(;l<16;){if(0===s)break e;s--,c+=n[a++]<<l,l+=8}if(i.flags=c,(255&i.flags)!==Tt){e.msg="unknown compression method",i.mode=Ft;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=Ft;break}i.head&&(i.head.text=c>>8&1),512&i.flags&&(V[0]=255&c,V[1]=c>>>8&255,i.check=$(i.check,V,2,0)),c=0,l=0,i.mode=3;case 3:for(;l<32;){if(0===s)break e;s--,c+=n[a++]<<l,l+=8}i.head&&(i.head.time=c),512&i.flags&&(V[0]=255&c,V[1]=c>>>8&255,V[2]=c>>>16&255,V[3]=c>>>24&255,i.check=$(i.check,V,4,0)),c=0,l=0,i.mode=4;case 4:for(;l<16;){if(0===s)break e;s--,c+=n[a++]<<l,l+=8}i.head&&(i.head.xflags=255&c,i.head.os=c>>8),512&i.flags&&(V[0]=255&c,V[1]=c>>>8&255,i.check=$(i.check,V,2,0)),c=0,l=0,i.mode=5;case 5:if(1024&i.flags){for(;l<16;){if(0===s)break e;s--,c+=n[a++]<<l,l+=8}i.length=c,i.head&&(i.head.extra_len=c),512&i.flags&&(V[0]=255&c,V[1]=c>>>8&255,i.check=$(i.check,V,2,0)),c=0,l=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&(f=i.length,f>s&&(f=s),f&&(i.head&&(D=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(n.subarray(a,a+f),D)),512&i.flags&&(i.check=$(i.check,n,f,a)),s-=f,a+=f,i.length-=f),i.length))break e;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===s)break e;f=0;do{D=n[a+f++],i.head&&D&&i.length<65536&&(i.head.name+=String.fromCharCode(D))}while(D&&f<s);if(512&i.flags&&(i.check=$(i.check,n,f,a)),s-=f,a+=f,D)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===s)break e;f=0;do{D=n[a+f++],i.head&&D&&i.length<65536&&(i.head.comment+=String.fromCharCode(D))}while(D&&f<s);if(512&i.flags&&(i.check=$(i.check,n,f,a)),s-=f,a+=f,D)break e}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;l<16;){if(0===s)break e;s--,c+=n[a++]<<l,l+=8}if(c!==(65535&i.check)){e.msg="header crc mismatch",i.mode=Ft;break}c=0,l=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=Bt;break;case 10:for(;l<32;){if(0===s)break e;s--,c+=n[a++]<<l,l+=8}e.adler=i.check=Ot(c),c=0,l=0,i.mode=11;case 11:if(0===i.havedict)return e.next_out=o,e.avail_out=d,e.next_in=a,e.avail_in=s,i.hold=c,i.bits=l,Ht;e.adler=i.check=1,i.mode=Bt;case Bt:if(t===Mt||t===Et)break e;case 13:if(i.last){c>>>=7&l,l-=7&l,i.mode=27;break}for(;l<3;){if(0===s)break e;s--,c+=n[a++]<<l,l+=8}switch(i.last=1&c,c>>>=1,l-=1,3&c){case 0:i.mode=14;break;case 1:if(jt(i),i.mode=20,t===Et){c>>>=2,l-=2;break e}break;case 2:i.mode=17;break;case 3:e.msg="invalid block type",i.mode=Ft}c>>>=2,l-=2;break;case 14:for(c>>>=7&l,l-=7&l;l<32;){if(0===s)break e;s--,c+=n[a++]<<l,l+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",i.mode=Ft;break}if(i.length=65535&c,c=0,l=0,i.mode=15,t===Et)break e;case 15:i.mode=16;case 16:if(f=i.length,f){if(f>s&&(f=s),f>d&&(f=d),0===f)break e;r.set(n.subarray(a,a+f),o),s-=f,a+=f,d-=f,o+=f,i.length-=f;break}i.mode=Bt;break;case 17:for(;l<14;){if(0===s)break e;s--,c+=n[a++]<<l,l+=8}if(i.nlen=257+(31&c),c>>>=5,l-=5,i.ndist=1+(31&c),c>>>=5,l-=5,i.ncode=4+(15&c),c>>>=4,l-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=Ft;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;l<3;){if(0===s)break e;s--,c+=n[a++]<<l,l+=8}i.lens[z[i.have++]]=7&c,c>>>=3,l-=3}for(;i.have<19;)i.lens[z[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,M={bits:i.lenbits},X=yt(0,i.lens,0,19,i.lencode,0,i.work,M),i.lenbits=M.bits,X){e.msg="invalid code lengths set",i.mode=Ft;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;y=i.lencode[c&(1<<i.lenbits)-1],m=y>>>24,b=y>>>16&255,w=65535&y,!(m<=l);){if(0===s)break e;s--,c+=n[a++]<<l,l+=8}if(w<16)c>>>=m,l-=m,i.lens[i.have++]=w;else{if(16===w){for(E=m+2;l<E;){if(0===s)break e;s--,c+=n[a++]<<l,l+=8}if(c>>>=m,l-=m,0===i.have){e.msg="invalid bit length repeat",i.mode=Ft;break}D=i.lens[i.have-1],f=3+(3&c),c>>>=2,l-=2}else if(17===w){for(E=m+3;l<E;){if(0===s)break e;s--,c+=n[a++]<<l,l+=8}c>>>=m,l-=m,D=0,f=3+(7&c),c>>>=3,l-=3}else{for(E=m+7;l<E;){if(0===s)break e;s--,c+=n[a++]<<l,l+=8}c>>>=m,l-=m,D=0,f=11+(127&c),c>>>=7,l-=7}if(i.have+f>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=Ft;break}for(;f--;)i.lens[i.have++]=D}}if(i.mode===Ft)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=Ft;break}if(i.lenbits=9,M={bits:i.lenbits},X=yt(1,i.lens,0,i.nlen,i.lencode,0,i.work,M),i.lenbits=M.bits,X){e.msg="invalid literal/lengths set",i.mode=Ft;break}if(i.distbits=6,i.distcode=i.distdyn,M={bits:i.distbits},X=yt(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,M),i.distbits=M.bits,X){e.msg="invalid distances set",i.mode=Ft;break}if(i.mode=20,t===Et)break e;case 20:i.mode=21;case 21:if(s>=6&&d>=258){e.next_out=o,e.avail_out=d,e.next_in=a,e.avail_in=s,i.hold=c,i.bits=l,wt(e,u),o=e.next_out,r=e.output,d=e.avail_out,a=e.next_in,n=e.input,s=e.avail_in,c=i.hold,l=i.bits,i.mode===Bt&&(i.back=-1);break}for(i.back=0;y=i.lencode[c&(1<<i.lenbits)-1],m=y>>>24,b=y>>>16&255,w=65535&y,!(m<=l);){if(0===s)break e;s--,c+=n[a++]<<l,l+=8}if(b&&0==(240&b)){for(v=m,N=b,_=w;y=i.lencode[_+((c&(1<<v+N)-1)>>v)],m=y>>>24,b=y>>>16&255,w=65535&y,!(v+m<=l);){if(0===s)break e;s--,c+=n[a++]<<l,l+=8}c>>>=v,l-=v,i.back+=v}if(c>>>=m,l-=m,i.back+=m,i.length=w,0===b){i.mode=26;break}if(32&b){i.back=-1,i.mode=Bt;break}if(64&b){e.msg="invalid literal/length code",i.mode=Ft;break}i.extra=15&b,i.mode=22;case 22:if(i.extra){for(E=i.extra;l<E;){if(0===s)break e;s--,c+=n[a++]<<l,l+=8}i.length+=c&(1<<i.extra)-1,c>>>=i.extra,l-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;y=i.distcode[c&(1<<i.distbits)-1],m=y>>>24,b=y>>>16&255,w=65535&y,!(m<=l);){if(0===s)break e;s--,c+=n[a++]<<l,l+=8}if(0==(240&b)){for(v=m,N=b,_=w;y=i.distcode[_+((c&(1<<v+N)-1)>>v)],m=y>>>24,b=y>>>16&255,w=65535&y,!(v+m<=l);){if(0===s)break e;s--,c+=n[a++]<<l,l+=8}c>>>=v,l-=v,i.back+=v}if(c>>>=m,l-=m,i.back+=m,64&b){e.msg="invalid distance code",i.mode=Ft;break}i.offset=w,i.extra=15&b,i.mode=24;case 24:if(i.extra){for(E=i.extra;l<E;){if(0===s)break e;s--,c+=n[a++]<<l,l+=8}i.offset+=c&(1<<i.extra)-1,c>>>=i.extra,l-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=Ft;break}i.mode=25;case 25:if(0===d)break e;if(f=u-d,i.offset>f){if(f=i.offset-f,f>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=Ft;break}f>i.wnext?(f-=i.wnext,p=i.wsize-f):p=i.wnext-f,f>i.length&&(f=i.length),g=i.window}else g=r,p=o-i.offset,f=i.length;f>d&&(f=d),d-=f,i.length-=f;do{r[o++]=g[p++]}while(--f);0===i.length&&(i.mode=21);break;case 26:if(0===d)break e;r[o++]=i.length,d--,i.mode=21;break;case 27:if(i.wrap){for(;l<32;){if(0===s)break e;s--,c|=n[a++]<<l,l+=8}if(u-=d,e.total_out+=u,i.total+=u,u&&(e.adler=i.check=i.flags?$(i.check,r,u,o-u):Q(i.check,r,u,o-u)),u=d,(i.flags?c:Ot(c))!==i.check){e.msg="incorrect data check",i.mode=Ft;break}c=0,l=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;l<32;){if(0===s)break e;s--,c+=n[a++]<<l,l+=8}if(c!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=Ft;break}c=0,l=0}i.mode=29;case 29:X=xt;break e;case Ft:X=St;break e;case 31:return Zt;case 32:default:return It}return e.next_out=o,e.avail_out=d,e.next_in=a,e.avail_in=s,i.hold=c,i.bits=l,(i.wsize||u!==e.avail_out&&i.mode<Ft&&(i.mode<27||t!==Vt))&&Jt(e,e.output,e.next_out,u-e.avail_out),h-=e.avail_in,u-=e.avail_out,e.total_in+=h,e.total_out+=u,i.total+=u,i.wrap&&u&&(e.adler=i.check=i.flags?$(i.check,r,u,e.next_out-u):Q(i.check,r,u,e.next_out-u)),e.data_type=i.bits+(i.last?64:0)+(i.mode===Bt?128:0)+(20===i.mode||15===i.mode?256:0),(0===h&&0===u||t===Vt)&&X===zt&&(X=Yt),X},inflateEnd:e=>{if(!e||!e.state)return It;let t=e.state;return t.window&&(t.window=null),e.state=null,zt},inflateGetHeader:(e,t)=>{if(!e||!e.state)return It;const i=e.state;return 0==(2&i.wrap)?It:(i.head=t,t.done=!1,zt)},inflateSetDictionary:(e,t)=>{const i=t.length;let n,r,a;return e&&e.state?(n=e.state,0!==n.wrap&&11!==n.mode?It:11===n.mode&&(r=1,r=Q(r,t,i,0),r!==n.check)?St:(a=Jt(e,t,i,i),a?(n.mode=31,Zt):(n.havedict=1,zt))):It},inflateInfo:"pako inflate (from Nodeca project)"};var Ut=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Qt=Object.prototype.toString,{Z_NO_FLUSH:qt,Z_FINISH:$t,Z_OK:ei,Z_STREAM_END:ti,Z_NEED_DICT:ii,Z_STREAM_ERROR:ni,Z_DATA_ERROR:ri,Z_MEM_ERROR:ai}=te;function oi(e){this.options=Qe({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new rt,this.strm.avail_out=0;let i=Kt.inflateInit2(this.strm,t.windowBits);if(i!==ei)throw new Error(ee[i]);if(this.header=new Ut,Kt.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=tt(t.dictionary):"[object ArrayBuffer]"===Qt.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(i=Kt.inflateSetDictionary(this.strm,t.dictionary),i!==ei)))throw new Error(ee[i])}function si(e,t){const i=new oi(t);if(i.push(e),i.err)throw i.msg||ee[i.err];return i.result}oi.prototype.push=function(e,t){const i=this.strm,n=this.options.chunkSize,r=this.options.dictionary;let a,o,s;if(this.ended)return!1;for(o=t===~~t?t:!0===t?$t:qt,"[object ArrayBuffer]"===Qt.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;){for(0===i.avail_out&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),a=Kt.inflate(i,o),a===ii&&r&&(a=Kt.inflateSetDictionary(i,r),a===ei?a=Kt.inflate(i,o):a===ri&&(a=ii));i.avail_in>0&&a===ti&&i.state.wrap>0&&0!==e[i.next_in];)Kt.inflateReset(i),a=Kt.inflate(i,o);switch(a){case ni:case ri:case ii:case ai:return this.onEnd(a),this.ended=!0,!1}if(s=i.avail_out,i.next_out&&(0===i.avail_out||a===ti))if("string"===this.options.to){let e=nt(i.output,i.next_out),t=i.next_out-e,r=it(i.output,e);i.next_out=t,i.avail_out=n-t,t&&i.output.set(i.output.subarray(e,e+t),0),this.onData(r)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(a!==ei||0!==s){if(a===ti)return a=Kt.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(0===i.avail_in)break}}return!0},oi.prototype.onData=function(e){this.chunks.push(e)},oi.prototype.onEnd=function(e){e===ei&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=qe(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var di={Inflate:oi,inflate:si,inflateRaw:function(e,t){return(t=t||{}).raw=!0,si(e,t)},ungzip:si,constants:te};const{Deflate:ci,deflate:li,deflateRaw:hi,gzip:ui}=bt,{Inflate:fi,inflate:pi,inflateRaw:gi,ungzip:mi}=di;var bi={Deflate:ci,deflate:li,deflateRaw:hi,gzip:ui,Inflate:fi,inflate:pi,inflateRaw:gi,ungzip:mi,constants:te};const wi=Boolean(window.console&&window.console.info);let vi=!1;!function(){try{vi=window.location.href.indexOf("bt_debug=true")>=0||"true"===window.localStorage.bt_debug}catch(e){vi=!1}}();class Ni{tag="Blockthrough";prefix="";constructor({prefix:e="",level:t=_i.DEFAULT}={}){this.setPrefix(e),this.setLevel(t)}setPrefix(e=""){this.prefix=e}setLevel(e=_i.DEFAULT){zi(e)?this.level=e:this.level=_i.DEFAULT}log(e,t,i,n){if(!vi||!wi)return;if(arguments.length<3||!zi(e)||"object"!=typeof t||"string"!=typeof i)throw new TypeError;if(e<this.level)return;const r=(new Date).getTime()-Mi,a=Ei(t);let o="";o+="%c["+this.tag+" - "+Xi[e]+"]%c",o+="%c[%s]%c ",a&&(o+="%c["+a+"]%c "),this.prefix&&(o+=this.prefix),o+=i;let s=[];s.push(o),s.push("color: #000000; background-color: "+yi[e]),s.push("background-color: inherit"),s.push("color: #757575;"),s.push(function(e){if(e<1e3)return Math.round(e).toString()+"ms";return(e/1e3).toFixed(2)+"s"}(r)),s.push("background-color: inherit"),a&&(s.push("color: "+function(e){const t=Ei(e);if(!t)return"#000000";return Vi[function(e){let t=2166136261;for(let i=0;i<e.length;++i)t^=e.charCodeAt(i),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return t>>>0}(t)%Vi.length]}(t)),s.push("color: inherit")),s=s.concat(Array.prototype.slice.call(arguments,3)),console.info.apply(console,s)}debugf(e,t,i=[],n){this.log.apply(this,[_i.DEBUG,e,t].concat(i)),xi(n,Di.DEBUG)}infof(e,t,i=[],n){this.log.apply(this,[_i.INFO,e,t].concat(i)),xi(n,Di.INFO)}noticef(e,t,i=[],n){this.log.apply(this,[_i.NOTICE,e,t].concat(i)),xi(n,Di.NOTICE)}warningf(e,t,i=[],n){this.log.apply(this,[_i.WARNING,e,t].concat(i)),xi(n,Di.WARNING)}errorf(e,t,i=[],n){this.log.apply(this,[_i.ERROR,e,t].concat(i)),n||(n={sendToServer:!0,sendPercentage:2,event:"general_error_event",error:{name:t}}),xi(n,Di.ERROR)}criticalf(e,t,i=[],n){this.log.apply(this,[_i.CRITICAL,e,t].concat(i)),n||(n={sendToServer:!0,sendPercentage:2,event:"general_critical_event",error:{name:t}}),xi(n,Di.CRITICAL)}alertf(e,t,i=[],n){this.log.apply(this,[_i.ALERT,e,t].concat(i)),xi(n,Di.ALERT)}emergencyf(e,t,i=[],n){this.log.apply(this,[_i.EMERGENCY,e,t].concat(i)),xi(n,Di.EMERGENCY)}}const _i={DEFAULT:0,DEBUG:1,INFO:2,NOTICE:3,WARNING:4,ERROR:5,CRITICAL:6,ALERT:7,EMERGENCY:8},Di={DEBUG:0,INFO:1,NOTICE:2,WARNING:3,ERROR:4,CRITICAL:5,ALERT:6,EMERGENCY:7},Xi={[_i.DEFAULT]:"DFT",[_i.DEBUG]:"DBG",[_i.INFO]:"INF",[_i.NOTICE]:"NTC",[_i.WARNING]:"WRN",[_i.ERROR]:"ERR",[_i.CRITICAL]:"CRT",[_i.ALERT]:"ALR",[_i.EMERGENCY]:"EMR"},yi={[_i.DEFAULT]:"#F5F5F5",[_i.DEBUG]:"#BBDEFB",[_i.INFO]:"#B3E5FC",[_i.NOTICE]:"#DCEDC8",[_i.WARNING]:"#FFE0B2",[_i.ERROR]:"#FFCCBC",[_i.CRITICAL]:"#E57373",[_i.ALERT]:"#F06292",[_i.EMERGENCY]:"#BA68C8"},Vi=["#B71C1C","#880E4F","#4A148C","#311B92","#1A237E","#0D47A1","#01579B","#006064","#004D40","#1B5E20","#33691E","#827717","#F57F17","#FF6F00","#E65100","#BF360C","#3E2723","#37474F"],Mi=(new Date).getTime();function Ei(e){return e&&e.id||null}function zi(e){return"number"==typeof e&&void 0!==Xi[e]}function xi(e,t){if(e&&e.event&&e.sendToServer&&t&&(!e.sendPercentage||r.Z.commonUtils.getTrueByProbability(e.sendPercentage))){const i=Object.assign({},e,{severity:t});n.Y.fireEvent("sendLog",i)}}const Hi=new Ni({prefix:"utf8: "});const Ii=function(e){try{if(window.TextEncoder)return new window.TextEncoder("utf-8").encode(e).buffer}catch(e){Hi.debugf(null,"TextEncoder %o",e)}for(var t=unescape(encodeURIComponent(e)),i=new Uint8Array(t.length),n=0;n<t.length;n++)i[n]=t.charCodeAt(n);return i.buffer},Si=function(e){try{if(window.TextDecoder)return new window.TextDecoder("utf-8").decode(new Uint8Array(e))}catch(e){Hi.debugf(null,"TextDecoder %o",e)}for(var t="",i=new Uint8Array(e),n=i.byteLength,r=0;r<n;r++)t+=String.fromCharCode(i[r]);return decodeURIComponent(escape(t))};var Zi=new function(){var e=f(8,10),a="2.9.57-21-g73c989b";let o;window.__upo_d=window.__upo_d||{},window.__upo_d.recoveryScriptVersion=a;try{o=window.__bt_intrnl.traceID}catch(e){o=""}var s=function(e,t){""==e&&(e="/");var i=e,n="?";(t=t||{}).upapi=["true"],t.tid=[o],t.cv=[a];for(var r=Object.keys(t),s=0;s<r.length;s++)for(var d=r[s],c=t[d],l=0;l<c.length;l++){var h=c[l];i+=n+encodeURIComponent(d)+"="+encodeURIComponent(h),n="&"}return i};this.sendLog=function(e){const i=t.Z.SharedObject.getItem("websiteConfig")||{},{organizationID:n,websiteID:r}=i,a={event:e.event,severity:e.severity,error:e.error&&{name:e.error.name,stack:e.error.stack,sourceFilename:e.error.sourceFilename},message:e.message,columnNumber:e.columnNumber,lineNumber:e.lineNumber,filename:e.filename,module:e.module,orgID:n,websiteID:r,meta:e.meta};var o={method:"POST",url:s("/log"),body:Ii(JSON.stringify(a))};return l.$fetch(o)},this.testCompliance=function(t){return new Promise((function(i,n){var r={};r.pid=[e],r.nr=["2"];var a=t,o=s("/tc",r),d=JSON.stringify(t);try{d&&d.length>=2048&&window.localStorage&&!window.localStorage.updebug?(a=bi.deflate(d).buffer,r.z=[1],o=s("/tc",r)):a=Ii(d)}catch(e){a=Ii(d)}var c={method:"POST",url:o,body:a};l.$fetch(c).then((function(e){var t=JSON.parse(Si(e.body)),n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]={status:t[r].status,id:t[r].id,backup:t[r].backup});i(n)}),(function(e){n(new Error)}))}))},this.reportAuctionStarted=function(t,r,a,o,d,c,h){var u={};u.pid=[e],u.nr=["1"];var f={};f.websiteID=d,f.orgID=c,f.auctionID=t,f.spaceExternalID=r,f.spaceName=a,f.bids=i.Z.map(o,(function(e){return{bidderExternalID:e.bidderId,provider:e.provider}})),f.refreshDepth=h,n.Y.fireEvent("auctionStartChangeRequestData",{query:u,body:f});var p={method:"POST",url:s("/as",u),body:Ii(JSON.stringify(f))};return l.$fetch(p)},this.reportAuctionEnd=function(t,i,r,a,o,d,c,h,u){var f={};f.pid=[e],f.seid=[c],f.nr=["1"],d.websiteID=a,d.orgID=o,d.auctionID=t,d.spaceExternalID=i,d.spaceName=r,d.dfpAdUnit=c,d.adUnitCode=c,d.gamEnabled=h,d.refreshDepth=u,n.Y.fireEvent("auctionEndChangeRequestData",{query:f,body:d});var p={method:"POST",url:s("/ae",f),body:Ii(JSON.stringify(d))};return l.$fetch(p)},this.reportRender=function(e,t,i,n,r,a,o,d){var c={nr:["1"]},h={};h.websiteID=a,h.orgID=o,h.auctionID=e,h.spaceExternalID=n,h.spaceName=r,h.bidderExternalID=t,h.provider=i,h.refreshDepth=d;var u={method:"POST",url:s("/r",c),body:Ii(JSON.stringify(h))};return l.$fetch(u)},this.reportView=function(e,t,i,n,r,a,o,d){var c={nr:["1"]},h={};h.websiteID=a,h.orgID=o,h.auctionID=e,h.spaceExternalID=n,h.spaceName=r,h.bidderExternalID=t,h.provider=i,h.refreshDepth=d;var u={method:"POST",url:s("/v",c),body:Ii(JSON.stringify(h))};return l.$fetch(u)},this.consentData=function(i){const n={},o={},d=[10,13,25,28,32,52,69,76,91,755],c={consents:{}},h=i.tcData,u=i.error,f=t.Z.SharedObject.getItem("websiteConfig")||{},{organizationID:p,websiteID:g}=f;p&&(n.organizationID=parseInt(p)),g&&(n.websiteID=parseInt(g)),n.pageID=e,n.clientVersion=a,h?(o.cmpVersion=h.cmpVersion,o.gdprApplies=h.gdprApplies,o.tcfPolicyVersion=h.tcfPolicyVersion,o.tcString=h.tcString,h.gdprApplies&&(o.purpose=h.purpose,d.forEach((e=>c.consents[e]=h.vendor.consents[e])),o.vendor=c)):(o.gdprApplies=null,o.error=r.Z.commonUtils.truncateString(u.message,1024)),n.tcData=o;var m={method:"POST",url:s("/ce"),body:Ii(JSON.stringify(n))};return l.$fetch(m)}};const Yi=new Ni({prefix:"report: "});var Ti=new function(){this.init=function(){var e=t.Z.SharedObject.getItem("websiteConfig");n.Y.addEventListener("FirePublisherEvent",(function(e){var t=e.data,i=t.eventName,n=t.payload||{bubbles:!1,cancelable:!1,detail:void 0};if(window.CustomEvent)try{var r=new window.CustomEvent(i,n);return void window.dispatchEvent(r)}catch(e){return(r=document.createEvent("CustomEvent")).initCustomEvent(i,n.bubbles,n.cancelable,n.detail),void window.dispatchEvent(r)}(r=document.createEvent("CustomEvent")).initCustomEvent(i,n.bubbles,n.cancelable,n.detail),window.dispatchEvent(r)})),n.Y.addEventListener("sendLog",(function(e){var t=e.data;Zi.sendLog(t).then((function(e){Yi.infof(null,"sendLog - %o",e)}),(function(e){Yi.errorf(null,"sendLog - %o",e)}))})),n.Y.addEventListener("onAuctionStarted",(function(t){var n=t.data.auction,r=n.auctionId,a=n.unit.space.id,o=n.unit.space.name,s=[],d=n.unit.space.preBiddingSettings&&n.unit.space.preBiddingSettings.biddingSettings,c=n.unit.space.postBiddingSettings;if(d)for(var l in d)if(l=parseInt(l),d.hasOwnProperty(l)){var h=d[l];i.Z.forEach(h,(function(e){s.push({bidderId:e.id,provider:e.name})}))}c&&(c.adxId&&s.push({bidderId:c.adxId,provider:"gad"}),c.directId&&s.push({bidderId:c.directId,provider:"direct"})),Zi.reportAuctionStarted(r,a,o,s,e.websiteID,e.organizationID,n.unit.countOfDispatches-1).then((function(e){Yi.infof(null,"onAuctionStarted - %o",e)}),(function(e){Yi.errorf(null,"onAuctionStarted - %o",e)}))})),n.Y.addEventListener("onAuctionEnded",(function(i){var r=i.data,a=r.auction,o=r.bid,s=a.bids,d=a.unit.space.name;try{if(e.dfpEnabled)for(var c=window.googletag.pubads().getSlots(),l=0;l<c.length;l++){var h=c[l],u=h.getSlotElementId();if(document.getElementById(u)==a.unit.element){d=h.getAdUnitPath().split("/")[h.getAdUnitPath().split("/").length-1];break}}}catch(e){Yi.errorf(null,"onAuctionEnded: %o",e)}var f={bids:[],aliens:[],win:void 0};for(l=0;l<s.length;l++){var p=s[l],g={bid:{cpm:p.cpm,bidderCode:p.bidderCode,complianceStatus:p.complianceStatus}},m=n.Y.fireEvent("bidCpmAdjustment",g)||1,b=p.cpm/1e3*m,w=n.Y.fireEvent("prebidTimeout")||3e3,v={bidderExternalID:p.bidderId,provider:p.bidderCode,amount:b,complianceStatus:p.complianceStatus,timeout:w,latency:p.timeToRespond,requestStatus:"OK",creativeID:p.contentIdHash,adUnit:d,adSize:String(p.width)+"x"+String(p.height),adID:p.adId};if(p!=o)switch(v.complianceStatus){case t.Z.consts.complianceStatus.COMPLIANT:case t.Z.consts.complianceStatus.INCOMPLIANT:f.bids.push(v);break;default:f.aliens.push(v)}else f.win=v}Zi.reportAuctionEnd(a.auctionId,a.unit.space.id,a.unit.space.name,e.websiteID,e.organizationID,f,d,e.dfpEnabled,a.unit.countOfDispatches-1).then((function(e){Yi.infof(null,"onAuctionEnded - %o",e)}),(function(e){Yi.errorf(null,"onAuctionEnded - %o",e)}))})),n.Y.addEventListener("onAuctionRendered",(function(t){var i=t.data,n=i.auction,r=i.bid;Zi.reportRender(n.auctionId,r.bidderId,r.bidderCode,n.unit.space.id,n.unit.space.name,e.websiteID,e.organizationID,n.unit.countOfDispatches-1).then((function(e){Yi.infof(null,"onAuctionRendered - %o",e)}),(function(e){Yi.errorf(null,"onAuctionRendered - %o",e)}))})),n.Y.addEventListener("onAdViewed",(function(t){var i=t.data,n=i.auction,r=i.bid;Zi.reportView(n.auctionId,r.bidderId,r.bidderCode,n.unit.space.id,n.unit.space.name,e.websiteID,e.organizationID,n.unit.countOfDispatches-1).then((function(e){Yi.infof(null,"onAdViewed - %o",e)}),(function(e){Yi.errorf(null,"onAdViewed - %o",e)}))}))},n.Y.addEventListener("consentData",(function(e){var t=e.data;Zi.consentData(t).then((function(e){Yi.infof(null,"consentData - %o",e)}),(function(e){Yi.errorf(null,"consentData - %o",e)}))}))};const Bi=new Ni({prefix:"verifications: "});const Fi={Report:Ti,Verifications:new function(){this.run=function(){r(),e()};var e=function(){n.Y.addEventListener("getRestrictionSettingsEnded",(function(e){var t=n.Y.fireEvent("acceptableAbTest");if(t){var i="//static.criteo.net/images/pixel.gif?ch=1&upapi=true";t&&(i=t.src);var r=new Image;r.addEventListener("load",(function(){t.callback(!0)}),!1),r.addEventListener("error",(function(){t.callback(!1)}),!1),r.src=i}}))},i=!1,r=function(){n.Y.addEventListener("getRestrictionSettingsEnded",(function(e){var r=e.data;r.contentRestriction&&r.acceptableAds&&(window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],window.pbjs.que.push((function(){window.pbjs.onEvent("bidResponse",(function(e){if(!i&&e&&e.length>0)for(var r=0;r<e.length;r++)if(e[r].cpm>0&&"emx_digital"!==e[r].bidder&&"districtmDMX"!==e[r].bidder){i=!0,n.Y.fireEvent("disableStopFlag")||(window.__bt_intrnl.stopFlag=!0);var a=t.Z.SharedObject.getItem("renderedUnits"),o={adBlockDetectionType:t.Z.SharedObject.getItem("adBlockDetectionType"),stopedProcess:!a||0==a.length};const e={sendToServer:!0,event:"pbjsDetected",meta:o};Bi.noticef(null,"pub's pbjs was detected -> ",o,e)}if(e){var s={cpm:e.cpm?e.cpm:0,creativeLength:e.ad?e.ad.length:0,bidderCode:e.bidderCode||"",adUnitCode:e.adUnitCode||""};const t={sendToServer:!0,event:"pbjsBidReceived",meta:s};Bi.noticef(null,"pub's pbjs bid was received -> ",s,t)}}))})))}))}}},Oi=new Ni({prefix:"utils: "});var ki=function(e){switch(e){case"ALL":return t.Z.consts.refreshType.ALL;case"VISIBLE":return t.Z.consts.refreshType.VISIBLE;case"HIDDEN":return t.Z.consts.refreshType.HIDDEN;default:return t.Z.consts.refreshType.UNKNOWN}};function Ri(e){try{return document.querySelector(e)}catch(t){Oi.errorf(null,"document.querySelector:%o - error:%o",[e,t])}}function Li(e){return e&&e.selector?Ri(e.selector.value):null}var Ci=new function(){var e=[],t=[];this.setMovePositionRules=function(t){e=t||[]},this.dispatch=function(r){try{if(!e||e.length<=0)return;if(!(r=i.Z.filter(r,(function(e){return t.indexOf(e)<0})))||r.length<=0)return;var a=function(o,s){if(!(o>s)){for(var d=0;d<r.length;d++){for(var c=r[d],l=[],h=0;h<e.length;h++){var u=e[h];n(u,{space:c})&&(t.push(c),u.stayLive||l.push(u))}e=l.length>0?i.Z.filter(e,(function(e){return l.indexOf(e)<0})):e}e.length>0&&setTimeout((function(){a(o+1,s)}),100)}};a(0,20)}catch(e){}};var n=function(e,t){var i=e.elementToMove(t),n=e.relativeElement(t);return!(!i||!n||i.__upo_moved)&&(r.Z.ElementInsertion.insertElement(i,n,e.htmlElementInsertionType),i.__upo_moved=!0,!0)}},Gi=__webpack_require__(353),Wi={};const Ai={commonBLUtils:e,movePositionService:Ci,safeFrameCreator:{createSafeFrame:function(){var e=document.createElement("iframe"),n=f(16,24),a=function(){this.removeEventListener("load",a);try{if(this.src.indexOf("about:blank")>-1&&function(e){var i=e.contentWindow,n=function(e){return 0==e.indexOf("//")&&(e=r.Z.commonUtils.getTopmostAccessibleWindow().location.protocol+e),e};const a=function(e,t){if(e&&""===e.src&&e.outerHTML){const i=new RegExp(t+'="([^"]+)"',"g").exec(e.outerHTML);i&&i[1]&&(e[t]=n(i[1]))}};var o=i.XMLHttpRequest.prototype.open;i.XMLHttpRequest.prototype.open=function(){try{var e=Array.prototype.slice.call(arguments);e[1]=n(e[1])}catch(e){}return o.apply(this,e)};var s=i.open;i.open=function(){try{var e=Array.prototype.slice.call(arguments);e[0]=n(e[0])}catch(e){}return s.apply(this,e)};const d=function(e){try{var t=Array.prototype.slice.call(arguments),i=e.apply(this,t);["SCRIPT","IFRAME"].indexOf(t[0].tagName)>-1&&a(t[0],"src"),"LINK"===t[0].tagName&&a(t[0],"href")}catch(e){}return i},c=i.HTMLElement.prototype.insertBefore;i.HTMLElement.prototype.insertBefore=d(c);const l=i.HTMLElement.prototype.appendChild;i.HTMLElement.prototype.appendChild=d(l);var h=i.HTMLElement.prototype.__lookupGetter__("innerHTML"),u=i.HTMLElement.prototype.__lookupSetter__("innerHTML");i.HTMLElement.prototype.__defineSetter__("innerHTML",(function(){try{var e=Array.prototype.slice.call(arguments),t=u.apply(this,e),i=this.firstChild;a(i,"src")}catch(e){}return t})),i.HTMLElement.prototype.__defineGetter__("innerHTML",(function(){try{return h.apply(this)}catch(e){}}));for(var f=t.Z.consts.htmlElements,p=0;p<f.length;p++)i[f[p]]&&function(e){var t=e.prototype,i="src",r=t.__lookupGetter__(i),a=t.__lookupSetter__(i);r&&(t.__defineSetter__(i,(function(){try{var e=Array.prototype.slice.call(arguments);e[0]=n(e[0])}catch(e){}return a.apply(this,e)})),t.__defineGetter__(i,(function(){try{return r.apply(this)}catch(e){}})))}(i[f[p]])}(this),"firefox"===Gi.Xh()){var e='document.write(\'<html><head></head><body><div></div></body></html>\');try{document.__defineGetter__("readyState",function(){return "complete"});window.setTimeout(function(){document.close();},300);}catch(e){};';if(t.Z.upoSettings.whitelistedFrameSettings.isOurOriginSafeFrame){e='document.write(\'<html> <head> <script> var evalCode = function (code) { try { window.eval(code) } catch (error) { } }; window.addEventListener("message", function (event) { var data; if (typeof(event) === "object" && event.data.type) { data = event.data; } else { try { data = JSON.parse(event.data); } catch (err) { } } if (!data) { return; } switch (data.type) { case "eval": evalCode(data.code); break; default: break; } }); <\/script> </head> <body> </body> </html>\');try{document.__defineGetter__("readyState",function(){return "complete"});window.setTimeout(function(){document.close();},300);}catch(e){};';var i="var script = document.createElement('script'); script.textContent=atob('"+btoa(e)+"'); document.documentElement.appendChild(script);";this.contentWindow.postMessage({type:"eval",code:i},"*")}else{var n=this.contentWindow.document,o=n.createElement("script");o.textContent=e,n.documentElement.appendChild(o)}}}catch(e){}},o=function(){!function(e){try{e.addEventListener=e.addEventListenerOrginal,delete e.addEventListenerOrginal,e.removeEventListener=e.removeEventListenerOrginal,delete e.removeEventListenerOrginal}catch(e){}}(this),this.removeEventListener("load",o),this.addEventListener("load",a),Wi[n]&&i.Z.forEach(Wi[n],function(e){this.addEventListener("load",e)}.bind(this)),this.src=t.Z.upoSettings.whitelistedFrameSettings.laterSrcModification};return t.Z.upoSettings.whitelistedFrameSettings.laterSrcModification?(e.addEventListener("load",o),function(e,t){try{e.addEventListenerOrginal=e.addEventListener,e.addEventListener=function(){var i=Array.prototype.slice.call(arguments);return"load"==i[0]?(Wi[t]=Wi[t]||[],void Wi[t].push(i[1])):e.addEventListenerOrginal.apply(this,i)},e.removeEventListenerOrginal=e.removeEventListener,e.removeEventListener=function(){var n=Array.prototype.slice.call(arguments);if("load"!=n[0])return e.removeEventListenerOrginal.apply(this,n);Wi[t]&&(Wi[t]=i.Z.filter(Wi[t],(function(e){return e!=n[1]})))}}catch(e){}}(e,n)):e.addEventListener("load",a),e.src=t.Z.upoSettings.whitelistedFrameSettings.url,e}}},Pi=new Ni({prefix:"auction: "});var ji=function(e){var a=!1,o=new r.Z.SubscriptionLayer;this.auctionId=f(8,9),this.unit=e.unit,this.state=ji.States.UNOFFERED,this.creationTime=new Date,this.lastUpdate=this.creationTime,this.bids=[],this.subscribeForEvent=function(e,t){o.subscribeForEvent(e,t)},this.cancelAuction=function(){a=!0},this.getWinningBid=function(){for(var e=void 0,i=void 0,n=0;n<this.bids.length;n++){var r=this.bids[n];(!e||r.cpm>e.cpm)&&r.complianceStatus==t.Z.consts.complianceStatus.COMPLIANT&&(e=r),(!i||r.cpm>i.cpm)&&(i=r)}return i&&i!=e&&d(i)?i:e},this.addBids=function(e){if(e)for(var t=0;t<e.length;t++){var i=e[t];this.bids.push(i)}};this.getComplianceBids=function(){for(var e=[],i=0;i<this.bids.length;i++){var n=this.bids[i];n.complianceStatus==t.Z.consts.complianceStatus.COMPLIANT&&e.push(n)}return e},this.renderWinningBid=function(){var e=this.getWinningBid();this.renderBid(e)};function s(e){window.setTimeout((function(){e&&"none"==window.getComputedStyle(e).display&&e.style.setProperty("display","block","important")}),1e3)}this.renderBid=function(e){try{if(n.Y.fireEvent("renderBidInElementStarted",{element:this.unit&&this.unit.element}),this.state=ji.States.DONE,function(){if(!document.getElementById("bt-render-styles")){var e=document.createElement("style");e.id="bt-render-styles",e.type="text/css",e.textContent=".up-hide { display: none !important; }",e.textContent+='.ahover + [id^="google_ads_iframe_"] { width: 1px !important; height:1px !important; display: grid !important; }',(document.head||document.body||document.documentElement).appendChild(e)}}(),function(e,t){for(var i=0;i<e.bids.length;i++){var n=e.bids[i];n!=t&&n.cancelBid()}}(this,e),!this.unit.element||!(document.documentElement||document.body).contains(this.unit.element))return void o.invokeEventCallbacks("renderBidDone",{successfulyRenderedBid:!1});if(!e||a)return this.unit.currentBid||(u=this.unit,i.Z.addClass("up-hide",u.element),i.Z.removeClass("up-show",u.element)),void o.invokeEventCallbacks("renderBidDone",{successfulyRenderedBid:!1});{this.unit.cleanup(),l(this.unit.element),function(e,t){i.Z.addClass("up-show",e.element),i.Z.removeClass("up-hide",e.element)}(this.unit),this.unit.element._adData_=e,e.onRenderedEvent(function(){!function(e,t,n){var r=e.querySelector(".default-creative-container")||e.querySelector(".ahover")||e.querySelector('[id^="google_ads_iframe_"]');r.style.position||r.style.setProperty("position","relative");if(r.style.setProperty("width","max-content","important"),["sharethrough","triplelift"].indexOf(t.bidderCode)>=0){var a=t.width,o=function(e){var t=e.sizes,n=0;return i.Z.forEach(t,(function(e){var t=e.split("x")[0];(t=parseInt(t))>n&&(n=t)})),n}(n);(a>o||a<120)&&(a=o),r.style.setProperty("max-width",a+"px","important")}r.style.setProperty("z-index",0),r.style.setProperty("margin","0 auto"),r.style.setProperty("display","block")}(this.unit.element,e,this.unit.space),function(e,t){if(n.Y.fireEvent("blacklistAdStatement",{space:t}))return;var i=e.querySelector(".default-creative-container")||e.querySelector(".ahover")||e.querySelector('[id^="google_ads_iframe_"]');if(i&&!i.querySelector(".upo-label")){var r=function(){var e=document.createElement("div");return e.setAttribute("style","text-align:left;padding:0px;margin:0px;position:absolute;top:0;left:0;z-index:10000;transition:opacity 1s ease-out;opacity:0;"),e.innerHTML='<span style="display:block;background:rgba(255, 255, 255, 0.7);height:fit-content;width:fit-content;top:0;left:0;color:#444;font-size:10px;font-weight:bold;font-family:sans-serif;line-height:normal;text-decoration:none;margin:0px;padding:6px;border-radius:0 0 5px 0;">&#65;&#68;</span>',e}();r.className="upo-label",i.appendChild(r),window.setTimeout((function(){r.style.opacity="1"}),2e3)}}(this.unit.element,this.unit.space);try{n.Y.fireEvent("skipEnsureElementVisibility",{unit:this.unit})||((r=this.unit.element).classList.contains("up-show")||r.classList.add("up-show"),s(r),s(r.parentElement),s(r.parentElement.parentElement)),function(e){if(0===e.offsetWidth&&0===e.offsetHeight){const t={sendToServer:!0,sendPercentage:1,event:"ad-unit-hidden-by-css",meta:{elementId:e.id||"N/A"}};Pi.infof(null,"detectAndLogHiddenAdUnit, element ID -> ",e.id||"N/A",t)}}(this.unit.element)}catch(e){Pi.errorf(null,"bid.onRenderedEvent: ensureElementVisibility: %o",e)}var r;o.invokeEventCallbacks("auctionRendered",e),this.unit.rendered(e),t.Z.SharedObject.getItem("renderedUnits")||t.Z.SharedObject.setItem("renderedUnits",[]),t.Z.SharedObject.getItem("renderedUnits").push(this.unit)}.bind(this));var r=d(e),h={placement:this.unit.element};const a=()=>{r?(e.onRenderedEvent(function(){this.renderStaticAd(this.bid,this.element)}.bind({bid:e,renderStaticAd:c,element:this.unit.element})),e.renderStaticBid(h)):e.renderBid(h)},u=e.additionalBidsToRender&&e.additionalBidsToRender.length>0&&e.additionalBidsToRender[0];u?(u.onRenderedEvent(a),u.renderBid()):a(),o.invokeEventCallbacks("renderBidDone",{successfulyRenderedBid:!0})}}catch(e){Pi.errorf(null,"renderBid err:%o",e)}var u};var d=function(e){return n.Y.fireEvent("forceCompliant")&&e.complianceStatus==t.Z.consts.complianceStatus.INCOMPLIANT},c=function(e,t){var i="//mrb.upapi.net/fc?h="+e.contentIdHash+"&upapi=true";t.style.setProperty("background-image",'url("'+i+'")',"important"),t.style.setProperty("background-repeat","no-repeat","important")},l=function(e){e.style.removeProperty("background-image"),e.style.removeProperty("background-repeat")}};ji.States={UNOFFERED:0,DISPATCHED:1,DONE:3};var Ji=function(e,t,i,n,r,a,o,s,d){this.bidId=f(16,24),this.ad=e.ad,this.adId=e.adId,this.adUrl=e.adUrl,this.bidderId=e.bidderId,this.bidder=e.bidder,this.bidderCode=e.bidderCode,this.contentIdHash=e.contentIdHash,this.currency=e.currency,this.creativeId=e.creativeId,this.c=e.c,this.cpm=e.cpm,this.complianceStatus=e.complianceStatus||0,this.height=e.height,this.isBackupCreative=e.isBackupCreative,this.timeToRespond=e.timeToRespond,this.size=e.size,this.width=e.width,this.rawBid=t,this.type=i,this.status=Ji.Status.LIVE,this.renderBid=r,this.renderStaticBid=a||function(){},this.cancelBid=function(){this.status=Ji.Status.CANCELED,o&&o()},this.getGPTTargeting=function(e){return n&&n.call(this,e)},this.onRenderedEvent=s||function(){},this.makeEntryForTestCompliance=d||function(){},this.additionalBidsToRender=[]};Ji.Types={EMPTY:0,PREBID:1,RTK:2,ADX:3,ADX_TEXT:4,DFP_PREBID:5,ADSENSE:6,DIRECT:7,SMART_AS:8,DEFAULT_CREATIVE:9},Ji.Status={LIVE:0,CANCELED:1};const Ki=new Ni({prefix:"visibility: "});var Ui=new Map,Qi=new Map;function qi(e,t){let i,n;if(Ui.has(e)){Qi.get(e).push(t)}else{const r=new Promise(((e,t)=>{i=e,n=t}));Ui.set(e,[i,n]),Qi.set(e,[t]),r.then((()=>{Qi.get(e).forEach((e=>e()))})).finally((()=>{Ui.delete(e),Qi.delete(e)}))}en(e,i,n)}function $i(e){const t=e.getBoundingClientRect(),i=function(){let e,t,i=window,n=[];for(;i!==window.top;){e=i.parent;for(let r of e.document.getElementsByTagName("iframe"))r.contentWindow===i&&(t=r.getBoundingClientRect(),n.push({x:t.x,y:t.y}));i=e}return n.reduce(((e,t)=>({x:e.x+t.x,y:e.y+t.y})),{x:0,y:0})}();try{return window.top.document.hasFocus()&&t.top+t.height/2+i.y>0&&t.left+t.width/2+i.x>0&&t.top+t.height/2+i.y<(window.top.innerHeight||window.top.document.documentElement.clientHeight)&&t.left+t.width/2+i.x<(window.top.innerWidth||window.top.document.documentElement.clientWidth)}catch(e){an(e)}}async function en(e,t,i){const n=await tn((()=>$i(e)?{stopIterations:!1}:{stopIterations:!0}),10,100);e&&(document.documentElement||document.body).contains(e)||i(),n&&t()}async function tn(e,t,i){if(!t)return!0;const{stopIterations:n}=e();return!n&&new Promise((n=>{setTimeout((()=>{n(tn(e,t-1,i))}),i)}))}function nn(){Ui.forEach((([e,t],i)=>{en(i,e,t)}))}try{window.top.addEventListener("scroll",(()=>{nn()})),window.top.addEventListener("focus",(()=>{nn()}))}catch(He){an(He)}function rn(e){var t,i,n,r=!1;try{n=document.querySelector(e)}catch(t){Ki.errorf(null,"document.querySelector:%o - error:%o",[e,t])}if(!n)return!1;"none"===window.getComputedStyle(n).display&&(t=n.style.getPropertyValue("display"),i=n.style.getPropertyPriority("display"),n.style.setProperty("display","block","important"),r=!0);var a=function(e){var t,i;if(e)return(i=e.getBoundingClientRect()).width||i.height?(t=document.documentElement,{top:i.top+window.pageYOffset-t.clientTop,left:i.left+window.pageXOffset-t.clientLeft}):i}(n),o=document.documentElement.scrollLeft||window.scrollX,s=document.documentElement.scrollTop||window.scrollY,d=window.innerHeight,c=window.innerWidth,l=n.offsetHeight,h=n.offsetWidth,u=!0;return u=a.left>=o&&a.top>=s&&h+a.left<=o+c&&l+a.top<=s+d||(a.left<=o&&a.left+h>o||a.left>=o&&a.left<=o+c)&&(a.top<=s&&a.top+l>s||a.top>=s&&a.top<=s+d),"hidden"===document.visibilityState&&(u=!1),r&&n.style.setProperty("display",t,i),u}function an(e){const t={sendToServer:!0,event:"noViewabilityFromCrossDomainIframe",sendPercentage:1,meta:{error:e}};Ki.warningf(null,"noViewabilityFromCrossDomainIframe","N/A",t)}var on=function(e){this.unitID=f(16,24),this.element=e.element,this.space=e.space,this.state=e.state||on.States.PENDING,this.currentBid,this.countOfDispatches=0,this.countOfRenders=0,this.lastInvokeTime,this.cleanup=function(){for(var e=this.element.children,i=[],n=0;n<e.length;n++)i.push(t(e[n]));for(n=0;n<i.length;n++)i[n]()},this.rendered=function(e){this.currentBid=e};var t=function(e){return function(){e&&e.parentNode&&e.parentNode.removeChild(e)}}};on.States={PENDING:0,CHECKING:1,DISPATCHED:2};const sn={Auction:ji,Bid:Ji,Slot:function(e){this.unit=e.unit,this.auctionsList=[],this.slotName=this.unit.space.name,this.renderBid=function(e){var t=r(this.auctionsList);if(t){var a=e&&i.Z.find(t.bids,(function(t){return t.bidId==e.bidId}));try{t.subscribeForEvent("renderBidDone",(function(e){e.successfulyRenderedBid?n.Y.fireEvent("onAuctionEnded",{auction:t,bid:a}):n.Y.fireEvent("onAuctionEnded",{auction:t})})),t.renderBid(a),t.subscribeForEvent("auctionRendered",(function(){auction.unit.countOfRenders++;const e=auction.unit.countOfRenders;n.Y.fireEvent("onAuctionRendered",{auction:t,bid:a}),qi(t.unit.element,(()=>{e==t.unit.countOfRenders&&n.Y.fireEvent("onAdViewed",{auction:t,bid:a})}))}))}catch(e){}}},this.getBids=function(){var e=r(this.auctionsList);if(e)return t(e.bids)},this.getLastAuctionBids=function(){var e=a(this.auctionsList);if(e)return t(e.bids)};var t=function(e){return i.Z.map(e,(function(e){return{bidId:e.bidId,adId:e.adId,bidder:e.bidder,cpm:e.cpm,height:e.height,width:e.width,size:e.size,complianceStatus:e.complianceStatus}}))},r=function(e){return i.Z.find(e,(function(e){return e.state!=Auction.States.DONE}))},a=function(e){var t=e.reverse();return i.Z.find(t,(function(e){return e.state==Auction.States.DONE}))}},Space:function(e){if(this.id=e.id,this.name=e.name,this.staging=e.staging,this.selector={position:e.selector.position,value:e.selector.value},this.sizes=e.sizes,this.preBiddingSettings={enabled:!1},e.preBiddingSettings&&(this.preBiddingSettings={enabled:e.preBiddingSettings.enabled,biddingSettings:{}},e.preBiddingSettings.enabled&&e.preBiddingSettings.biddingSettings))for(var t in e.preBiddingSettings.biddingSettings)if(e.preBiddingSettings.biddingSettings.hasOwnProperty(t)){var i=e.preBiddingSettings.biddingSettings[t];this.preBiddingSettings.biddingSettings[t]=[];for(var r=0;r<i.length;r++){var a=i[r];if(a.id&&a.name&&a.params){var o={id:a.id,name:a.name,params:a.params};this.preBiddingSettings.biddingSettings[t].push(o)}}}if(this.postBiddingSettings={enabled:!1},e.postBiddingSettings&&e.postBiddingSettings.enabled){this.postBiddingSettings={adxId:e.postBiddingSettings.adxId,directId:e.postBiddingSettings.directId,enabled:e.postBiddingSettings.enabled,type:e.postBiddingSettings.type,order:[]};for(r=0;r<e.postBiddingSettings.order.length;r++){var s=e.postBiddingSettings.order[r];n.Y.fireEvent("removeAdServerRequestIteration",{iterationConfig:s})||this.postBiddingSettings.order.push({params:{keyValues:s.params.keyValues||{},queryParams:s.params.queryParams||{}},adx:{bidderID:s.adx.bidderID,testCompliance:s.adx.testCompliance},direct:{bidderID:s.direct.bidderID}})}}},Unit:on};function dn(e){for(var t=e.length,i=5381,n=52711;t--;){var r=e.charCodeAt(t);i=33*i^r,n=33*n^r}return 4096*(i>>>0)+(n>>>0)}const cn=new Ni({prefix:"adUnitParser: "});var ln=function(e){try{var i={},n=e.selector||r.Z.commonUtils.escapeSelector("#"+e.code),a=e.sizes;if(a||e.mediaTypes&&e.mediaTypes.banner&&e.mediaTypes.banner.sizes&&(a=e.mediaTypes.banner.sizes),!a)return;function c(e){return 2===e.length&&e.every((e=>!Array.isArray(e)&&!isNaN(e)))}function l(e){return`${e[0]}x${e[1]}`}let h;if(h=c(a)?[l(a)]:a.filter(c).map(l),i.id=e.id,i.id||(i.id="space_"+dn(e.code+"_"+n)),i.id=i.id.substr(0,500),i.name=e.code,i.sizes=h,i.selector={position:0,value:n},e.bids){i.preBiddingSettings={enabled:!0,biddingSettings:[]},i.preBiddingSettings.biddingSettings[1]=[];for(var o=0;o<e.bids.length;o++){var s=e.bids[o];s.params=s.params||{};var d="bidder_"+dn(i.id+"_"+s.bidder+"_"+JSON.stringify(s.params).trim());d=d.substr(0,500),i.preBiddingSettings.biddingSettings[1].push({id:d,name:s.bidder,params:s.params})}}else i.preBiddingSettings={enabled:!1};return t.Z.SharedObject.getItem("websiteConfig").dfpEnabled?i.postBiddingSettings={adxId:i.name+"_adx",directId:i.name+"_direct",enabled:!0,type:1,order:[{params:{},adx:{bidderID:i.name+"_adx",testCompliance:!0},direct:{bidderID:i.name+"_direct"}},{params:{queryParams:{ad_type:"text"}},adx:{bidderID:i.name+"_adx",testCompliance:!1},direct:{bidderID:i.name+"_direct"}}]}:i.postBiddingSettings={enabled:!1},i}catch(e){cn.errorf(null,"error in parsing prebid ad unit - err: %o",e)}};function hn(e,t,i){var n=window.googletag.defineSlot(e,t,i);return n&&n.addService(window.googletag.pubads()),n}function un(e){if(e){var t=n.Y.fireEvent("rewriteGAMSlots")||n.Y.fireEvent("GAMSpecialAdUnit");if(t&&t.parseSlotAdUnitPath&&!e._is_rewritten_slot){var i=e.getSlotElementId(),r=e.getSizes();r=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];n&&n.getWidth&&n.getHeight?t.push([n.getWidth(),n.getHeight()]):n&&"fluid"===n&&t.push("fluid")}return t}(r);try{var a=t.parseSlotAdUnitPath(e);if(t.shouldSkipDestroySlot&&t.shouldSkipDestroySlot(e,a)||function(e){var t=e.getSlotElementId();window.googletag.destroySlots([e]);const i=document.getElementById(t),n=i&&i.querySelector("div[id^='google_ads_iframe_']");i&&n&&i.removeChild(n)}(e),!a)return;var o=hn(a,r,i);return o&&(o._is_rewritten_slot=!0,t.shouldCopyTargeting&&function(e,t){var i=e.getTargetingMap();for(var n in i)if(i.hasOwnProperty(n)){var r=i[n][0];t.setTargeting(n,r)}}(e,o),t.postSlotCreation&&t.postSlotCreation(o)),o}catch(e){cn.errorf(null,"error redefining GAM slot (e.g. for SAU or BT AdX unit)",e)}}}}function fn(e){const t=Gi.tq();switch(e){case"mobile":return t;case"desktop":return!t;case"any":default:return!0}}function pn(e,t,i,n){switch(e){case"equals":return n===t;case"startsWith":case"endsWith":case"includes":return n[e](t);case"equalsOneOf":return i.includes(n);case"startsWithOneOf":case"endsWithOneOf":case"includesOneOf":{const t=e.split("OneOf")[0];return i.some((e=>n[t](e)))}}}const gn={hideDOMElementsViaCSS:{parseSettingValue:e=>{const{org:t=[],website:i=[],websiteOverridesOrg:n}=e;return n?i:[...t,...i]},handler:e=>{const t=[];if(e.forEach((({whenDevice:e,selectors:i})=>{fn(e)&&t.push(...i)})),t.length>0){const e=document.createElement("style");e.textContent=`${t.join(", ")} { display: none !important; }`,(document.head||document.body||document.documentElement).appendChild(e)}}},insertCustomCSS:{parseSettingValue:e=>{const{org:t=[],website:i=[],websiteOverridesOrg:n}=e;return n?i:[...t,...i]},handler:e=>{let t="";if(e.forEach((({whenDevice:e,customCSS:i=""})=>{fn(e)&&(t=`${t}\n${i}`)})),""!==t){const e=document.createElement("style");e.textContent=t,(document.head||document.body||document.documentElement).appendChild(e)}}},prebidConfig:{hookName:"prebidDoneInit",parseSettingValue:e=>{const{org:t={},website:i={},websiteOverridesOrg:n}=e;return n?i:{...t,...i}},handler:(e,t)=>{const i=e,n=t.data.cpbjs;n.que.push((function(){n.setConfig(i)}))}},removeSizes:{hookName:"sizesToRemoveBySpace",parseSettingValue:e=>{const{org:t={},website:i={},websiteOverridesOrg:n}=e,{forAllSpaces:r=[],forSpaces:a=[]}=t,{forAllSpaces:o=[],forSpaces:s=[]}=i;return{forAllSpaces:n?o:[...r,...o],forSpaces:n?s:[...a,...s]}},handler:({forAllSpaces:e,forSpaces:t},i)=>{const n=i.data.spaceName,r=new Set;return e.forEach((({whenDevice:e,sizes:t=[]})=>{fn(e)&&t.forEach((e=>{r.add(e)}))})),t.forEach((({name:e,nameList:t,whenName:i,whenDevice:a,sizes:o=[]})=>{fn(a)&&function(e,t,i,n){switch(e){case"equals":return n===t;case"startsWith":case"endsWith":case"includes":return n[e](t);case"equalsOneOf":return i.includes(n);case"startsWithOneOf":case"endsWithOneOf":case"includesOneOf":{const t=e.split("OneOf")[0];return i.some((e=>n[t](e)))}}}(i,e,t,n)&&o.forEach((e=>{r.add(e)}))})),[...r].map((e=>{if("fluid"===e)return"fluid";{const[t,i]=e.split("x").map((e=>parseInt(e,10)));return isNaN(t)||isNaN(i)?null:{width:t,height:i}}})).filter((e=>null!==e))}},rewriteGAMSlots:{hookName:"rewriteGAMSlots",handler:({rewritePathMethod:e,rewritePathData:t},i)=>{let n;switch(e){case"insertBTAdUnit":const{btUnitName:e,insertionDepth:i,maxDepth:r}=t||{};i&&(n=t=>{let n=t.getAdUnitPath();"/"!==n[0]&&(n=`/${n}`);const a=e||"Blockthrough";let o=n.split("/");o.splice(i,0,a),r&&r>0&&(o=o.slice(0,r+1));return o.join("/")})}if(n)return{parseSlotAdUnitPath:n,shouldCopyTargeting:!0}}},scrapeGAMSlots:{hookName:"scrapeGoogletagSlots",handler:e=>e},scrapePrebid:{hookName:"scrapePrebidAdUnits",parseSettingValue:e=>{const{org:t={},website:i={},websiteOverridesOrg:n}=e;if(n)return i;{const e={};e.adUnitsVar=t.adUnitsVar||i.adUnitsVar;const{removeBidders:n}=t.parse||{},{removeBidders:r}=i.parse||{};(n||r)&&(e.parse={},e.parse.removeBidders=n&&r?{forAllAdUnits:[...n.forAllAdUnits||[],...r.forAllAdUnits||[]],forAdUnits:[...n.forAdUnits||[],...r.forAdUnits||[]]}:n||r);const{adUnits:a}=t.filterOut||{},{adUnits:o}=i.filterOut||{};return(a||o)&&(e.filterOut={},e.filterOut.adUnits=a&&o?[...a,...o]:a||o),e}},handler:({dontScrape:e,adUnitsVar:t,parse:i,filterOut:n},a)=>{let o;if(e)o=!1;else{if(o=a.hookFileData||{},t&&(o.getAdUnits=()=>r.Z.commonUtils.extractVariableFromString(window,t)),i){const e=i.removeBidders?function({forAllAdUnits:e=[],forAdUnits:t=[]}={}){if(e.length>0||t.length>0)return i=>{const n=[];return e.forEach((({whenDevice:e,bidders:t=[]})=>{fn(e)&&n.push.apply(n,t)})),t.forEach((({code:e,codeList:t,whenCode:r,whenDevice:a,bidders:o=[]})=>{fn(a)&&pn(r,e,t,i.code)&&n.push.apply(n,o)})),i.bids=i.bids.filter((({bidder:e})=>!n.includes(e))),i}}(i.removeBidders):null,t=o.parseAdUnit;e&&(o.parseAdUnit=t?i=>e(t(i)):e)}if(n){const e=n.adUnits?(s=n.adUnits,e=>s.some((({code:t,codeList:i,whenCode:n,whenDevice:r})=>{if(fn(r))return pn(n,t,i,e.code)}))):null,t=o.filterOutAdUnit;e&&(o.filterOutAdUnit=t?i=>t(i)||e(i):e)}}var s;return o}},enableLegacySizesReplacer:{hookName:"enableLegacySizesReplacer",handler:e=>e}},mn=new Ni({prefix:"scriptsettings: "}),bn=gn,wn={"prebidConfig__org":{"_enabled":true,"value":{"currency":{"adServerCurrency":"CAD"},"priceGranularity":"medium"}},"scrapePrebid__org":{"_enabled":true,"value":{"filterOut":{"adUnits":[{"codeList":["div-gpt-ad-Reverso_Ctxt_D_Result_300x600_BTF","div-gpt-ad-Reverso_Ctxt_D_Result_728x90_BTF","div-gpt-ad-Reverso_Conj_D_All_728x90_ATF","div-gpt-ad-Reverso_Dict_D_All_728x90_BTF","div-gpt-ad-Reverso_Spell_R_All_Multisize_ATF"],"whenCode":"equalsOneOf","whenDevice":"any"}]},"parse":{"removeBidders":{"forAllAdUnits":[{"bidders":["smilewanted","brightcom"],"whenDevice":"any"}]}}}}},vn=Object.entries(wn).reduce(((e,[t,i])=>{if(i._enabled)if(t.endsWith("__org")){const n=t.split("__org")[0];e[n]=e[n]||{},e[n].org=i.value}else if(t.endsWith("__website")){const n=t.split("__website")[0];e[n]=e[n]||{},e[n].websiteOverridesOrg=!!i._overrides_org,e[n].website=i.value}else e[t]=i.value;return e}),{});const Nn={rawSettings:wn,parsed:vn};var _n=function(e){if("complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState)e();else{var t=!1;document.addEventListener("DOMContentLoaded",(function(){t||(t=!0,e())}),!1),window.addEventListener("load",(function(){t||(t=!0,e())}))}},Dn=function(e){window.addEventListener("blur",(function(t){e()}))},Xn=new function(){this.Types={XHR_OPEN_PRE:"xhropenpre",FETCH_PRE:"fetchpre",REMOVE_CHILD_PRE:"removechildpre",INSERT_BEFORE_PRE:"insertbeforepre",APPEND_CHILD_PRE:"appendchildpre",APPEND_CHILD_POST:"appendchildpost",IMG_SET_ATTRIBUTE_PRE:"imgsetattributepre",SET_ATTRIBUTE_PRE:"setattributepre",WIN_OPEN_PRE:"winopenpre",HTML_SRC_PROP_PRE:"htmlsrcproppre",HTML_ELEMENT_INNERHTML_PRE:"htmlelementinnerhtmlpre",HTML_ELEMENT_INNERHTML_POST:"htmlelementinnerhtmlpost",HTML_ELEMENT_HAS_CHILD_NODES_PRE:"htmlelementhaschildnodespre",HTML_ELEMENT_TEXTCONTENT_PRE:"htmlelementtextcontentpre"};var e=["xhrThwartOpen","fetchThwartOpen"];this.hookFunction=function(t,i,r,a,o){var s=t[i];s&&(t[i]=function(){var t=Array.prototype.slice.call(arguments);if(window.__bt_intrnl.stopFlag)return s.apply(this,t);if(r)try{if(null!=(i=n.Y.fireEvent(r,t,this)))return i}catch(t){if(!o)throw t;if(e.indexOf(t.type)>=0)throw t}var i=s.apply(this,t);if(a)try{n.Y.fireEvent(a,i,this)}catch(t){if(!o)throw t;if(e.indexOf(t.type)>=0)throw t}return i})},this.hookPropertySetter=function(t,i,r,a,o){var s=t.__lookupGetter__(i),d=t.__lookupSetter__(i);s&&(t.__defineSetter__(i,(function(){var t=Array.prototype.slice.call(arguments);if(window.__bt_intrnl.stopFlag)return d.apply(this,t);if(r)try{if(null!=(i=n.Y.fireEvent(r,t,this)))return i}catch(t){if(!o)throw t;if(e.indexOf(t.type)>=0)throw t}var i=d.apply(this,t);if(a)try{n.Y.fireEvent(a,i,this)}catch(t){if(!o)throw t;if(e.indexOf(t.type)>=0)throw t}return i})),t.__defineGetter__(i,(function(){try{return s.apply(this)}catch(e){}})))},this.addEventListener=function(e,t){n.Y.addEventListener(e,t)}},yn="dmFyIF8weGE4YmU9WyJceDYzXHg2OFx4NjlceDZDXHg2NFx4NzJceDY1XHg2RSIsIlx4NkNceDY1XHg2RVx4NjdceDc0XHg2OCIsIlx4NDlceDQ2XHg1Mlx4NDFceDREXHg0NSIsIlx4NzRceDYxXHg2N1x4NEVceDYxXHg2RFx4NjUiLCJceDY5XHg2RVx4NzNceDY1XHg3Mlx4NzRceDQyXHg2NVx4NjZceDZGXHg3Mlx4NjUiLCJceDc3XHg3Mlx4NjlceDc0XHg2NSIsIlx4NkRceDYxXHg3NFx4NjNceDY4IiwiXHg3Mlx4NjVceDcwXHg2Q1x4NjFceDYzXHg2NSIsIlx4NzNceDYzXHg3Mlx4NjlceDcwXHg3NCIsIlx4NzRceDc5XHg3MFx4NjVceDNBXHgyMFx4MjdceDQ4XHg1NFx4NERceDRDXHgzNVx4MjciLCJceDc0XHg3OVx4NzBceDY1XHgzQVx4MjBceDI3XHg0OVx4NERceDQxXHg0N1x4NDVceDI3IiwiXHg2NVx4NjJceDQzXHg2Nlx4NjciLCJceDVGXHg1Rlx4NjRceDY1XHg2Nlx4NjlceDZFXHg2NVx4NTNceDY1XHg3NFx4NzRceDY1XHg3Mlx4NUZceDVGIiwiXHg2MVx4NjRceDQ4XHg3NFx4NkRceDZDXHg1MFx4NjFceDc0XHg2OCIsIlx4NEZceDYyXHg2QVx4NjVceDYzXHg3NCIsIlx4NjRceDY1XHg2Nlx4NjlceDZFXHg2NVx4NTBceDcyXHg2Rlx4NzBceDY1XHg3Mlx4NzRceDc5IiwiXHg1Rlx4NUZceDVGIiwiXHg3MFx4NjFceDY3XHg2NVx4NTZceDY5XHg3M1x4NjlceDYyXHg2Q1x4NjUiLCJceDZGXHg2Mlx4NkFceDY1XHg2M1x4NzQiLCJceDY4XHg2MVx4NzNceDRGXHg3N1x4NkVceDUwXHg3Mlx4NkZceDcwXHg2NVx4NzJceDc0XHg3OSIsIlx4NzNceDc1XHg3MFx4NzBceDZGXHg3Mlx4NzRceDY1XHg2NFx4NDJceDcyXHg2Rlx4NzdceDczXHg2NVx4NzIiLCJceDYyXHg2MVx4NkVceDZFXHg2NVx4NzJceDQxXHg2NFx4NDhceDc0XHg2RFx4NkNceDU0XHg2NVx4NzhceDc0IiwiXHg2MVx4NjRceDRDXHg2Rlx4NjFceDY0XHg2NVx4NzIiLCJceDVGXHg1Rlx4NjRceDY1XHg2Nlx4NjlceDZFXHg2NVx4NDdceDY1XHg3NFx4NzRceDY1XHg3Mlx4NUZceDVGIiwiXHg2MVx4NjRceDRDXHg2Rlx4NjFceDY0XHg2NVx4NzJceDVGXHg1RiIsIlx4NjlceDZFXHg2NFx4NjVceDc4XHg0Rlx4NjYiLCJceDczXHg3NFx4NzJceDY5XHg2RVx4NjciLCJceDZBXHg2MVx4NzZceDYxXHg3M1x4NjNceDcyXHg2OVx4NzBceDc0XHgzQVx4MjciLCJceDY0XHg2Rlx4NjNceDc1XHg2RFx4NjVceDZFXHg3NCIsIlx4NjNceDcyXHg2NVx4NjFceDc0XHg2NVx4NDVceDZDXHg2NVx4NkRceDY1XHg2RVx4NzQiLCJceDczXHg3NFx4NzlceDZDXHg2NSIsIlx4NjhceDY1XHg2MVx4NjQiLCJceDYyXHg2Rlx4NjRceDc5IiwiXHg2NFx4NkZceDYzXHg3NVx4NkRceDY1XHg2RVx4NzRceDQ1XHg2Q1x4NjVceDZEXHg2NVx4NkVceDc0IiwiXHg2MVx4NzBceDcwXHg2NVx4NkVceDY0XHg0M1x4NjhceDY5XHg2Q1x4NjQiLCJceDczXHg3NFx4NzlceDZDXHg2NVx4NTNceDY4XHg2NVx4NjVceDc0XHg3MyIsIlx4NjlceDZFXHg3M1x4NjVceDcyXHg3NFx4NTJceDc1XHg2Q1x4NjUiLCJceDY5XHg2RFx4NjdceDVCXHg2M1x4NkNceDYxXHg3M1x4NzNceDVFXHgzRFx4MjdceDcwXHg2Q1x4MkRceDZDXHg2Rlx4NjFceDY0XHg2NVx4NzJceDJEXHgyN1x4NURceDdCXHg2NFx4NjlceDczXHg3MFx4NkNceDYxXHg3OVx4M0FceDZFXHg2Rlx4NkVceDY1XHgyMFx4MjFceDY5XHg2RFx4NzBceDZGXHg3Mlx4NzRceDYxXHg2RVx4NzRceDdEIiwiXHg2N1x4NjVceDc0XHg0NVx4NkNceDY1XHg2RFx4NjVceDZFXHg3NFx4NDJceDc5XHg0OVx4NjQiLCJceDY5XHg2NVx4NjNceDYzXHg3NFx4NjVceDczXHg3NCIsIlx4NjlceDY2XHg3Mlx4NjFceDZEXHg2NSIsIlx4NjNceDYxXHg2Q1x4NkMiLCJceDYxXHg2NFx4NjRceDQ1XHg3Nlx4NjVceDZFXHg3NFx4NENceDY5XHg3M1x4NzRceDY1XHg2RVx4NjVceDcyIiwiXHg2Q1x4NkZceDYxXHg2NCIsIlx4NjNceDZGXHg2RVx4NzRceDY1XHg2RVx4NzRceDU3XHg2OVx4NkVceDY0XHg2Rlx4NzciLCJceDQ4XHg1NFx4NERceDRDXHg0NVx4NkNceDY1XHg2RFx4NjVceDZFXHg3NCIsIlx4NzBceDcyXHg2Rlx4NzRceDZGXHg3NFx4NzlceDcwXHg2NSIsIlx4NzNceDY4XHg2OVx4NjZceDc0IiwiXHg3MFx4NzVceDczXHg2OCIsIlx4NjYiLCJceDMwXHg3OFx4MzIiLCJceDMwXHg3OFx4MzEiLCJceDMwXHg3OFx4MzAiLCJceDMwXHg3OFx4MzYiLCJceDMwXHg3OFx4MzMiLCJceDMwXHg3OFx4MzQiLCJceDMwXHg3OFx4MzUiLCJceDMwXHg3OFx4MzkiLCJceDMwXHg3OFx4MzgiLCJceDMwXHg3OFx4MzciLCJceDY4IiwiXHgzMFx4NzhceDYxIiwiXHgzMFx4NzhceDYyIiwiXHg2MiIsIlx4MzBceDc4XHg2MyIsIlx4NzRceDZGXHg0Q1x4NkZceDc3XHg2NVx4NzJceDQzXHg2MVx4NzNceDY1IiwiXHgzMFx4NzhceDY0IiwiXHgzMFx4NzhceDY2IiwiXHg2MSIsIlx4MzBceDc4XHgzMVx4MzAiLCJceDMwXHg3OFx4NjUiLCJceDY3IiwiXHgzMFx4NzhceDMxXHgzMiIsIlx4MzBceDc4XHgzMVx4MzEiLCJceDMwXHg3OFx4MzFceDM0IiwiXHgzMFx4NzhceDMxXHgzMyIsIlx4MzBceDc4XHgzMVx4MzUiLCJceDMwXHg3OFx4MzFceDM2IiwiXHg2OSIsIlx4MzBceDc4XHgzMVx4MzciLCJceDZBIiwiXHgzMFx4NzhceDMxXHgzOCIsIlx4NzRceDY1XHg3M1x4NzQiLCJceDMwXHg3OFx4MzFceDM5IiwiXHgzMFx4NzhceDMxXHg2MiIsIlx4MzBceDc4XHgzMVx4NjEiLCJceDMwXHg3OFx4MzFceDYzIiwiXHgzMFx4NzhceDMxXHg2NCIsIlx4MzBceDc4XHgzMVx4NjUiLCJceDYzIiwiXHgzMFx4NzhceDMyXHgzMCIsIiIsIlx4MzBceDc4XHgzMVx4NjYiLCJceDMwXHg3OFx4MzJceDMxIiwiXHgzMFx4NzhceDMyXHgzMyIsIlx4MzBceDc4XHgzMlx4MzIiLCJceDMwXHg3OFx4MzJceDM0IiwiXHgzMFx4NzhceDMyXHgzNSIsIlx4MzBceDc4XHgzMlx4MzciLCJceDMwXHg3OFx4MzJceDM2IiwiXHg2OVx4NzMiLCJceDMwXHg3OFx4MzJceDM4IiwiXHgzMFx4NzhceDMyXHgzOSIsIlx4MzBceDc4XHgzMlx4NjIiLCJceDMwXHg3OFx4MzJceDYxIiwiXHgyRVx4NjhceDc0XHg2RFx4NkMiLCJceDMwXHg3OFx4MzJceDYzIiwiXHgzMFx4NzhceDMyXHg2NCIsIlx4MzBceDc4XHgzMlx4NjUiLCJceDI3IiwiXHg2MVx4NzBceDcwXHg2Q1x4NzkiXTt2YXIgYWFhPVtfMHhhOGJlWzBdLF8weGE4YmVbMV0sXzB4YThiZVsyXSxfMHhhOGJlWzNdLF8weGE4YmVbNF0sXzB4YThiZVs1XSxfMHhhOGJlWzZdLF8weGE4YmVbN10sXzB4YThiZVs4XSxfMHhhOGJlWzldLF8weGE4YmVbMTBdLF8weGE4YmVbMTFdLF8weGE4YmVbMTJdLF8weGE4YmVbMTNdLF8weGE4YmVbMTRdLF8weGE4YmVbMTVdLF8weGE4YmVbMTZdLF8weGE4YmVbMTddLF8weGE4YmVbMThdLF8weGE4YmVbMTldLF8weGE4YmVbMjBdLF8weGE4YmVbMjFdLF8weGE4YmVbMjJdLF8weGE4YmVbMjNdLF8weGE4YmVbMjRdLF8weGE4YmVbMjVdLF8weGE4YmVbMjZdLF8weGE4YmVbMjddLF8weGE4YmVbMjhdLF8weGE4YmVbMjldLF8weGE4YmVbMzBdLF8weGE4YmVbMzFdLF8weGE4YmVbMzJdLF8weGE4YmVbMzNdLF8weGE4YmVbMzRdLF8weGE4YmVbMzVdLF8weGE4YmVbMzZdLF8weGE4YmVbMzddLF8weGE4YmVbMzhdLF8weGE4YmVbMzldLF8weGE4YmVbNDBdLF8weGE4YmVbNDFdLF8weGE4YmVbNDJdLF8weGE4YmVbNDNdLF8weGE4YmVbNDRdLF8weGE4YmVbNDVdLF8weGE4YmVbNDZdXTsoZnVuY3Rpb24oXzB4NDNlZXgyLF8weDQzZWV4Myl7dmFyIF8weDQzZWV4ND1mdW5jdGlvbihfMHg0M2VleDUpe3doaWxlKC0tXzB4NDNlZXg1KXtfMHg0M2VleDJbXzB4YThiZVs0OF1dKF8weDQzZWV4MltfMHhhOGJlWzQ3XV0oKSl9fTtfMHg0M2VleDQoKytfMHg0M2VleDMpfShhYWEsMHgxNjUpKTt2YXIgYj1mdW5jdGlvbihfMHg0M2VleDIsXzB4NDNlZXgzKXtfMHg0M2VleDI9IF8weDQzZWV4Mi0gMHgwO3ZhciBfMHg0M2VleDQ9YWFhW18weDQzZWV4Ml07cmV0dXJuIF8weDQzZWV4NH07KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gXzB4NDNlZXgyKF8weDQzZWV4Myl7aWYoIV8weDQzZWV4M1tfMHhhOGJlWzQ5XV0pe18weDQzZWV4M1tfMHhhOGJlWzQ5XV09ICAhMHgwO3RyeXt2YXIgXzB4NDNlZXg0PV8weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzUxXSldKGIoXzB4YThiZVs1MF0pKTsoXzB4NDNlZXgzW2IoXzB4YThiZVs1Ml0pXVtiKF8weGE4YmVbNTRdKV18fCBfMHg0M2VleDNbYihfMHhhOGJlWzUyXSldW2IoXzB4YThiZVs1NV0pXXx8IF8weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzU2XSldKVtiKF8weGE4YmVbNTNdKV0oXzB4NDNlZXg0KTtfMHg0M2VleDNbXzB4YThiZVsyOF1dW2IoXzB4YThiZVs1OV0pXVsweDBdW2IoXzB4YThiZVs1OF0pXShiKF8weGE4YmVbNTddKSwweDApfWNhdGNoKGYpe307XzB4NDNlZXgzW18weGE4YmVbMjhdXVtfMHhhOGJlWzYwXV09IGRvY3VtZW50W2IoXzB4YThiZVs2MV0pXTtfMHg0M2VleDNbYihfMHhhOGJlWzUyXSldW18weGE4YmVbMzhdXT0gZnVuY3Rpb24oXzB4NDNlZXg3KXt0cnl7aWYoYihfMHhhOGJlWzYyXSk9PT0gXzB4NDNlZXg3KXtyZXR1cm4gXzB4NDNlZXgzW2IoXzB4YThiZVs1Ml0pXVtfMHhhOGJlWzI5XV0oXzB4YThiZVs2M10pfX1jYXRjaChoKXt9O3JldHVybiBfMHg0M2VleDNbXzB4YThiZVsyOF1dW18weGE4YmVbNjBdXVtfMHhhOGJlWzQxXV0odGhpcyxfMHg0M2VleDcpfTtfMHg0M2VleDNbYihfMHhhOGJlWzUyXSldW18weGE4YmVbNjNdXT0gZG9jdW1lbnRbYihfMHhhOGJlWzUxXSldO18weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzUxXSldPSBmdW5jdGlvbihfMHg0M2VleDgpe3RyeXtpZihiKF8weGE4YmVbNjRdKT09PSBfMHg0M2VleDhbXzB4YThiZVs2NV1dKCkpe3ZhciBfMHg0M2VleDk9XzB4NDNlZXgzW18weGE4YmVbMjhdXVtfMHhhOGJlWzYzXV1bYihfMHhhOGJlWzY2XSldKHRoaXMsXzB4NDNlZXg4KTtfMHg0M2VleDlbYihfMHhhOGJlWzcwXSldKGIoXzB4YThiZVs2N10pLGZ1bmN0aW9uKCl7dHJ5e3RoaXNbYihfMHhhOGJlWzY5XSldW18weGE4YmVbNjhdXT0gXzB4NDNlZXgyLHRoaXNbXzB4YThiZVs0NF1dW18weGE4YmVbNjhdXVtiKF8weGE4YmVbNjZdKV0odGhpc1tfMHhhOGJlWzQ0XV0sdGhpc1tfMHhhOGJlWzQ0XV0pfWNhdGNoKGspe319KTtyZXR1cm4gXzB4NDNlZXg5fX1jYXRjaChsKXt9O3JldHVybiBfMHg0M2VleDNbXzB4YThiZVsyOF1dW18weGE4YmVbNjNdXVtiKF8weGE4YmVbNjZdKV0odGhpcyxfMHg0M2VleDgpfTtfMHg0M2VleDNbYihfMHhhOGJlWzczXSldW2IoXzB4YThiZVs3Ml0pXVtfMHhhOGJlWzcxXV09IF8weDQzZWV4M1tiKF8weGE4YmVbNzNdKV1bYihfMHhhOGJlWzcyXSldW2IoXzB4YThiZVs1M10pXTtfMHg0M2VleDNbYihfMHhhOGJlWzczXSldW2IoXzB4YThiZVs3Ml0pXVtiKF8weGE4YmVbNTNdKV09IGZ1bmN0aW9uKF8weDQzZWV4YSl7dmFyIF8weDQzZWV4Yj1fMHg0M2VleDNbXzB4YThiZVs0NV1dW2IoXzB4YThiZVs3Ml0pXVtfMHhhOGJlWzcxXV1bXzB4YThiZVs0MV1dKHRoaXMsXzB4NDNlZXhhKTt0cnl7Zm9yKHZhciBfMHg0M2VleGM9MHgwO18weDQzZWV4YzwgXzB4NDNlZXhhW2IoXzB4YThiZVs3NV0pXVtiKF8weGE4YmVbNzRdKV07XzB4NDNlZXhjKyspe2IoXzB4YThiZVs3Nl0pPT09IF8weDQzZWV4YVtfMHhhOGJlWzBdXVtfMHg0M2VleGNdW2IoXzB4YThiZVs3N10pXSYmIChfMHg0M2VleGFbXzB4YThiZVswXV1bXzB4NDNlZXhjXVtiKF8weGE4YmVbNjldKV18fCBfMHg0M2VleGFbXzB4YThiZVswXV1bXzB4NDNlZXhjXVtiKF8weGE4YmVbNzBdKV0oYihfMHhhOGJlWzY3XSksZnVuY3Rpb24oKXt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV09IF8weDQzZWV4Mjt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bXzB4YThiZVs0MV1dKHRoaXNbYihfMHhhOGJlWzY5XSldLHRoaXNbYihfMHhhOGJlWzY5XSldKX0pLF8weDQzZWV4YVtiKF8weGE4YmVbNzVdKV1bXzB4NDNlZXhjXVtfMHhhOGJlWzQ0XV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhhW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleGNdW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXMsXzB4NDNlZXhhW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleGNdW2IoXzB4YThiZVs2OV0pXSkpfTtfMHhhOGJlWzJdPT09IF8weDQzZWV4YVtiKF8weGE4YmVbNzddKV0mJiAoXzB4NDNlZXhhW18weGE4YmVbNDRdXXx8IF8weDQzZWV4YVtiKF8weGE4YmVbNzBdKV0oXzB4YThiZVs0M10sZnVuY3Rpb24oKXt0aGlzW18weGE4YmVbNDRdXVtfMHhhOGJlWzY4XV09IF8weDQzZWV4Mjt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXNbYihfMHhhOGJlWzY5XSldLHRoaXNbXzB4YThiZVs0NF1dKX0pLF8weDQzZWV4YVtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhhW18weGE4YmVbNDRdXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXMsXzB4NDNlZXhhW2IoXzB4YThiZVs2OV0pXSkpfWNhdGNoKHApe307cmV0dXJuIF8weDQzZWV4Yn07XzB4NDNlZXgzW2IoXzB4YThiZVs3M10pXVtiKF8weGE4YmVbNzJdKV1bXzB4YThiZVs3OF1dPSBfMHg0M2VleDNbYihfMHhhOGJlWzczXSldW2IoXzB4YThiZVs3Ml0pXVtiKF8weGE4YmVbNzldKV07XzB4NDNlZXgzW2IoXzB4YThiZVs3M10pXVtiKF8weGE4YmVbNzJdKV1bYihfMHhhOGJlWzc5XSldPSBmdW5jdGlvbihfMHg0M2VleGQsXzB4NDNlZXhlKXt2YXIgXzB4NDNlZXhmPV8weDQzZWV4M1tiKF8weGE4YmVbNzNdKV1bYihfMHhhOGJlWzcyXSldW18weGE4YmVbNzhdXVtfMHhhOGJlWzQxXV0odGhpcyxfMHg0M2VleGQsXzB4NDNlZXhlKTt0cnl7Zm9yKHZhciBfMHg0M2VleDEwPTB4MDtfMHg0M2VleDEwPCBfMHg0M2VleGRbYihfMHhhOGJlWzc1XSldW2IoXzB4YThiZVs3NF0pXTtfMHg0M2VleDEwKyspe2IoXzB4YThiZVs3Nl0pPT09IF8weDQzZWV4ZFtiKF8weGE4YmVbNzVdKV1bXzB4NDNlZXgxMF1bXzB4YThiZVszXV0mJiAoXzB4NDNlZXhkW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleDEwXVtiKF8weGE4YmVbNjldKV18fCBfMHg0M2VleGRbYihfMHhhOGJlWzc1XSldW18weDQzZWV4MTBdW2IoXzB4YThiZVs3MF0pXShiKF8weGE4YmVbNjddKSxmdW5jdGlvbigpe3RoaXNbYihfMHhhOGJlWzY5XSldW18weGE4YmVbNjhdXT0gXzB4NDNlZXgyO3RoaXNbYihfMHhhOGJlWzY5XSldW18weGE4YmVbNjhdXVtiKF8weGE4YmVbNjZdKV0odGhpc1tiKF8weGE4YmVbNjldKV0sdGhpc1tiKF8weGE4YmVbNjldKV0pfSksXzB4NDNlZXhkW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleDEwXVtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhkW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleDEwXVtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dW2IoXzB4YThiZVs2Nl0pXSh0aGlzLF8weDQzZWV4ZFtiKF8weGE4YmVbNzVdKV1bXzB4NDNlZXgxMF1bXzB4YThiZVs0NF1dKSl9O2IoXzB4YThiZVs3Nl0pPT09IF8weDQzZWV4ZFtiKF8weGE4YmVbNzddKV0mJiAoXzB4NDNlZXhkW18weGE4YmVbNDRdXXx8IF8weDQzZWV4ZFtiKF8weGE4YmVbNzBdKV0oYihfMHhhOGJlWzY3XSksZnVuY3Rpb24oKXt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV09IF8weDQzZWV4Mjt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXNbYihfMHhhOGJlWzY5XSldLHRoaXNbYihfMHhhOGJlWzY5XSldKX0pLF8weDQzZWV4ZFtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhkW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bXzB4YThiZVs0MV1dKHRoaXMsXzB4NDNlZXhkW2IoXzB4YThiZVs2OV0pXSkpfWNhdGNoKHUpe307cmV0dXJuIF8weDQzZWV4Zn07XzB4NDNlZXgzW18weGE4YmVbMjhdXVtfMHhhOGJlWzgwXV09IF8weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzgxXSldO18weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bXzB4YThiZVs1XV09IGZ1bmN0aW9uKF8weDQzZWV4MTEpe3RyeXtpZihfMHg0M2VleDExJiYgL2RhdGFcLWRjbVwtcmVuZGVyaW5nXC1tb2RlXHM/PVxzP1snIl1pZnJhbWVbJyJdL1tfMHhhOGJlWzgyXV0oXzB4NDNlZXgxMSkpe3ZhciBfMHg0M2VleDEyPV8weDQzZWV4MTFbYihfMHhhOGJlWzgzXSldKC9kYXRhXC1kY21cLXJlbmRlcmluZ1wtbW9kZVxzPz1ccz9bJyJdaWZyYW1lWyciXS8pLF8weDQzZWV4MTM9XzB4NDNlZXgxMlsweDBdW2IoXzB4YThiZVs4NV0pXShiKF8weGE4YmVbNjRdKSxiKF8weGE4YmVbODRdKSk7XzB4NDNlZXgxMT0gXzB4NDNlZXgxMVtiKF8weGE4YmVbODVdKV0oXzB4NDNlZXgxMixfMHg0M2VleDEzKX07XzB4NDNlZXgxMSYmIC0weDE8IF8weDQzZWV4MTFbXzB4YThiZVsyNV1dKGIoXzB4YThiZVs4Nl0pKSYmIChfMHg0M2VleDExPSBfMHg0M2VleDExW2IoXzB4YThiZVs4NV0pXShiKF8weGE4YmVbODZdKSxiKF8weGE4YmVbODddKSkpfWNhdGNoKHkpe307XzB4NDNlZXgzW2IoXzB4YThiZVs1Ml0pXVtfMHhhOGJlWzgwXV1bXzB4YThiZVs0MV1dKHRoaXMsXzB4NDNlZXgxMSl9O18weDQzZWV4M1tiKF8weGE4YmVbODhdKV09IHZvaWQoMHgwKTtfMHg0M2VleDNbXzB4YThiZVs4OV1dPSB2b2lkKDB4MCk7XzB4NDNlZXgzW18weGE4YmVbMjNdXShfMHhhOGJlWzExXSxmdW5jdGlvbigpe3JldHVybiBfMHg0M2VleDNbXzB4YThiZVs4OV1dfSk7XzB4NDNlZXgzW2IoXzB4YThiZVs5Ml0pXShiKF8weGE4YmVbODhdKSxmdW5jdGlvbihfMHg0M2VleDE0KXtfMHg0M2VleDE0W2IoXzB4YThiZVs5MF0pXT0gXzB4YThiZVs5MV07cmV0dXJuIF8weDQzZWV4M1tfMHhhOGJlWzg5XV09IF8weDQzZWV4MTR9KTtfMHg0M2VleDQ9IGZ1bmN0aW9uKF8weDQzZWV4MTUsXzB4NDNlZXgxNil7XzB4NDNlZXgzW2IoXzB4YThiZVs5M10pXVtiKF8weGE4YmVbOTVdKV0oXzB4NDNlZXgzW2IoXzB4YThiZVs5M10pXVtiKF8weGE4YmVbNzJdKV0sXzB4NDNlZXgxNSx7J1x4NjdceDY1XHg3NCc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tfMHhhOGJlWzE2XSsgXzB4NDNlZXgxNV19LCdceDczXHg2NVx4NzQnOmZ1bmN0aW9uKF8weDQzZWV4MTcpe18weDQzZWV4MTc9IF8weDQzZWV4MTYodGhpcyxfMHg0M2VleDE3KTtfMHg0M2VleDNbYihfMHhhOGJlWzkzXSldW2IoXzB4YThiZVs5NV0pXSh0aGlzLF8weDQzZWV4MTUseydceDY3XHg2NVx4NzQnOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbYihfMHhhOGJlWzk0XSkrIF8weDQzZWV4MTVdfSwnXHg3M1x4NjVceDc0JzpmdW5jdGlvbihfMHg0M2VleDE4KXtfMHg0M2VleDE4PSBfMHg0M2VleDE2KHRoaXMsXzB4NDNlZXgxOCk7dGhpc1tiKF8weGE4YmVbOTRdKSsgXzB4NDNlZXgxNV09IF8weDQzZWV4MTh9LCdceDY1XHg2RVx4NzVceDZEXHg2NVx4NzJceDYxXHg2Mlx4NkNceDY1JzohMHgwfSk7dmFyIF8weDQzZWV4MTk9XzB4NDNlZXgxNztfMHg0M2VleDNbYihfMHhhOGJlWzkzXSldW2IoXzB4YThiZVs5NV0pXSh0aGlzLGIoXzB4YThiZVs5NF0pKyBfMHg0M2VleDE1LHsnXHg2N1x4NjVceDc0JzpmdW5jdGlvbigpe3JldHVybiBfMHg0M2VleDE5fSwnXHg3M1x4NjVceDc0JzpmdW5jdGlvbihfMHg0M2VleDFhKXtfMHg0M2VleDE5PSBfMHg0M2VleDFhPSBfMHg0M2VleDE2KHRoaXMsXzB4NDNlZXgxYSl9LCdceDY1XHg2RVx4NzVceDZEXHg2NVx4NzJceDYxXHg2Mlx4NkNceDY1JzohMHgxfSl9LCdceDY1XHg2RVx4NzVceDZEXHg2NVx4NzJceDYxXHg2Mlx4NkNceDY1JzohMHgxLCdceDYzXHg2Rlx4NkVceDY2XHg2OVx4NjdceDc1XHg3Mlx4NjFceDYyXHg2Q1x4NjUnOiEweDF9KX07XzB4NDNlZXg0KGIoXzB4YThiZVs5Nl0pLGZ1bmN0aW9uKF8weDQzZWV4MWIsXzB4NDNlZXgxYyl7YihfMHhhOGJlWzk3XSk9PT0gIHR5cGVvZiBfMHg0M2VleDFiJiYgXzB4NDNlZXgxYltiKF8weGE4YmVbOTldKV0oYihfMHhhOGJlWzk4XSkpJiYgKF8weDQzZWV4MWJbYihfMHhhOGJlWzk4XSldPSBmdW5jdGlvbigpe3JldHVybiAhMHgxfSk7cmV0dXJuIF8weDQzZWV4MWN9KTtfMHg0M2VleDQoXzB4YThiZVsxMDBdLGZ1bmN0aW9uKF8weDQzZWV4MWQsXzB4NDNlZXgxZSl7XzB4YThiZVsxOF09PT0gIHR5cGVvZiBfMHg0M2VleDFkJiYgXzB4NDNlZXgxZFtfMHhhOGJlWzE5XV0oYihfMHhhOGJlWzk4XSkpJiYgKF8weDQzZWV4MWRbYihfMHhhOGJlWzk4XSldPSBmdW5jdGlvbigpe3JldHVybiAhMHgxfSk7cmV0dXJuIF8weDQzZWV4MWV9KTt2YXIgXzB4NDNlZXgxZj12b2lkKDB4MCk7XzB4NDNlZXg0KGIoXzB4YThiZVsxMDFdKSxmdW5jdGlvbihfMHg0M2VleDIwLF8weDQzZWV4MjEpe3JldHVybiBfMHg0M2VleDFmPSBfMHg0M2VleDIxfSk7XzB4NDNlZXgzW2IoXzB4YThiZVsxMDJdKV09IHZvaWQoMHgwKTtfMHg0M2VleDNbYihfMHhhOGJlWzEwNF0pXShfMHhhOGJlWzIyXSxmdW5jdGlvbigpe3JldHVybiB0aGlzW2IoXzB4YThiZVsxMDNdKV19KTtfMHg0M2VleDNbYihfMHhhOGJlWzkyXSldKF8weGE4YmVbMjJdLGZ1bmN0aW9uKF8weDQzZWV4MjIpe3RoaXNbYihfMHhhOGJlWzEwM10pXT0gZnVuY3Rpb24oKXt2YXIgXzB4NDNlZXgyMz1hcmd1bWVudHM7LTB4MTwgXzB4NDNlZXgyM1sweDNdW2IoXzB4YThiZVsxMDZdKV0oXzB4YThiZVsxMDVdKSAmJiBiKF8weGE4YmVbMTA3XSk9PT0gIHR5cGVvZiBfMHg0M2VleDFmICYmIChfMHg0M2VleDIzWzB4M109IGIoXzB4YThiZVsxMDhdKSsgXzB4NDNlZXgxZltiKF8weGE4YmVbODVdKV0oLycvZyxfMHhhOGJlWzc4XSkrIF8weGE4YmVbMTA5XSk7XzB4NDNlZXgyMltfMHhhOGJlWzExMF1dKHRoaXMsXzB4NDNlZXgyMyl9O3JldHVybiBfMHg0M2VleDIyfSl9fV8weDQzZWV4Mih3aW5kb3cpfSgpKQ==";const Vn=new Ni({prefix:"prebidAdapter: "});var Mn=new function(){var e=!1,a={},o={},s=new r.Z.SubscriptionLayer;this.subscribeForEvent=function(e,t){s.subscribeForEvent(e,t)},this.dispatch=function(r){try{e||(e=!0,a=t.Z.cpbjs,v(),n.Y.fireEvent("wrapPrebidRequestBids")&&_(),V());var o={};i.Z.forEach(r,(function(e){o[e.spaceName]={hbAdUnit:e,deferred:new i.Z.CDefer}}));var c=h(r),l=n.Y.fireEvent("prebidTimeout")||3e3;d(),a.requestBids({timeout:l,adUnits:c,bidsBackHandler:function(e){try{for(var t in o)if(o.hasOwnProperty(t)){var n=o[t],r=n.hbAdUnit;if(e){var a=e[t],d=[];if(a){var l=i.Z.find(c,(function(e){return e.code==t})).sizes;a.bids=p(a.bids,l),d=g(a.bids,n.hbAdUnit)}var h={auctionId:r.auctionId,bids:d};n.deferred.resolve(h),i.Z.forEach(d,(function(e){var t={auctionId:r.auctionId,bid:e};s.invokeEventCallbacks("bidReceived",t)}))}else{var u={auctionId:r.auctionId,bids:[]};n.deferred.resolve(u)}}}catch(e){Vn.errorf(null,"dispatch: bidsBackHandler: - %o",e)}}});var u=[];for(var f in o)if(o.hasOwnProperty(f)){var m=o[f];u.push(m.deferred.promise)}return u}catch(e){Vn.errorf(null,"dispatch: - %o",e)}};var d=function(){if(a.bidderSettings&&a.bidderSettings.standard&&a.bidderSettings.standard.adserverTargeting){var e=!!i.Z.find(a.bidderSettings.standard.adserverTargeting,(function(e){return"hb_pb_org"==e.key})),t=!!i.Z.find(a.bidderSettings.standard.adserverTargeting,(function(e){return"hb_pb"==e.key}));!e&&t&&a.bidderSettings.standard.adserverTargeting.push({key:"hb_pb_org",val:function(e){var t=a.getConfig().priceGranularity;return"auto"===t?e.pbAg:"dense"===t?e.pbDg:"low"===t?e.pbLg:"medium"===t?e.pbMg:"high"===t?e.pbHg:"custom"===t?e.pbCg:e.pbHg}})}},c=function(e){var t=e.split("x");if(2!==t.length)throw new Error;var i=parseInt(t[0]),n=parseInt(t[1]);if(isNaN(i)||isNaN(n))throw new Error;return{width:i,height:n}},l=function(e){for(var t=[],a=0;a<e.sizes.length;a++){var o=c(e.sizes[a]),s=o.width,d=o.height;t.push({width:s,height:d})}var l=n.Y.fireEvent("sizesToReplaceBySpace",{spaceName:e.spaceName});l&&(t=i.Z.map(t,(function(e){var t=i.Z.find(l,(function(t){return t.size.width==e.width&&t.size.height==e.height}));return t?{width:t.replacement.width,height:t.replacement.height}:e})));const h=googletag&&googletag.pubads()&&googletag.pubads().getSlots()||[],u=e.element&&e.element.getAttribute("id")||e.spaceName,f=h.find((e=>e.getSlotElementId()===u));var p=n.Y.fireEvent("sizesToRemoveBySpace",{spaceName:e.spaceName,slot:f});p&&(t=i.Z.filter(t,(function(e){return!i.Z.find(p,(function(t){return t.width==e.width&&t.height==e.height}))})));var g=r.Z.sizesRemover(e.element,t);return g=i.Z.filter(g,(function(e){return!!e})),g=i.Z.map(g,(function(e){return[e.width,e.height]}))},h=function(e){return i.Z.map(e,(function(e){var t=l(e),n=[];return i.Z.forEach(e.biddersSettings,(function(e){var t={bidder:e.name,params:e.params};n.push(t)})),{code:e.spaceName,bids:n,sizes:t,mediaTypes:{banner:{sizes:t}}}}))},u=function(e,i){if(e.ad&&e.ad.indexOf(atob("c2VydmluZy1zeXMuY29t"))>-1&&e.ad.indexOf(atob("QnVyc3RpbmdQaXBlL2FkU2VydmVyLmJz"))>-1){var n=atob("PHNjcmlwdD53aW5kb3cuZWJDZmcgPSB7fTt3aW5kb3cuZWJDZmdfXyA9IHt9O3dpbmRvdy5fX2RlZmluZUdldHRlcl9fKCdlYkNmZycsZnVuY3Rpb24oYSl7cmV0dXJuIHdpbmRvdy5lYkNmZ19fO30pO3dpbmRvdy5fX2RlZmluZVNldHRlcl9fKCdlYkNmZycsZnVuY3Rpb24oYSl7YS5hZEh0bWxQYXRoPScnO3JldHVybiB3aW5kb3cuZWJDZmdfXz1hO30pOzwvc2NyaXB0Pg==");e.ad.indexOf("<body>")>-1?e.ad=e.ad.replace("<body>",n):e.ad=n+e.ad}"amazon"===e.bidder&&(e=function(e){try{var i=JSON.parse(e.adTargeting);for(var n in i.amzniid=e.adId,i)e.adserverTargeting[n]=i[n];e.ad=e.adHtml;try{!t.Z.upoSettings.amazonBidderConfiguration.keepHbPb&&delete e.adserverTargeting.hb_pb}catch(e){}delete e.adUrl}catch(e){}return e}(e)),e.bidder&&"smartadserver"===e.bidder&&(e.bidder="smart"),e.bidder&&("triplelift"===e.bidder&&e.ad.indexOf("render_options_bm")>-1||"sharethrough"===e.bidder)&&(e.width=f(i))},f=function(e){for(var t=l(e),i=0,n=0;n<t.length;n++){var r=t[n][0];r>i&&(i=r)}return i};function p(e,t){return i.Z.filter(e,(function(e){return i.Z.find(t,(function(t){return e.width==t[0]&&e.height==t[1]}))}))}var g=function(e,t){var s=i.Z.map(e,(function(e){if(e.bidderId=m(e,t),e.bidderId){u(e,t),o[e.adId]=new i.Z.CDefer;var r={ad:e.ad,adId:e.adId,adUrl:e.adUrl,bidderId:e.bidderId,bidder:e.bidder,bidderCode:e.bidderCode,currency:e.currency,creativeId:w(e),cpm:e.cpm,complianceStatus:0,height:e.height,timeToRespond:e.timeToRespond,size:e.size,width:e.width};return new sn.Bid(r,e,sn.Bid.Types.PREBID,(function(t){var r=t.complianceBidsInAuction.length>0?i.Z.map(t.complianceBidsInAuction,(function(e){return e.rawBid&&e.rawBid})):void 0,o=e.adUnitCode,s=a.getAdserverTargeting(o,r)[o];return""==s.hb_pb&&s.hb_pb_org&&(s.hb_pb=s.hb_pb_org),s=n.Y.fireEvent("customAdserverTargeting",{adServerTargeting:s})||s}),(function(e){try{N(this);var t=e.placement;this.onRenderedEvent((function(){var e=t.parentElement.querySelector(".ahover");i.Z.removeClass("up-pb-static",e)})),D(t,this)}catch(e){}}),(function(e){N(this);var t=e.placement;this.onRenderedEvent((function(){var e=t.parentElement.querySelector(".ahover");i.Z.addClass("up-pb-static",e)})),D(t,this)}),void 0,function(e){this.renderedDeferred.promise.then((function(){e()}))}.bind({renderedDeferred:o[e.adId]}),(function(){return b(this)}))}Vn.errorf(null,"dispatch: bidsBackHandler: - No corresponding bidderSettings found in ad unit: %o for Prebid auction response bid: %o",[t,e])}));return i.Z.reject(s,r.Z.commonUtils.isNil)},m=function(e,t){var n=i.Z.find(t.biddersSettings,(function(t){return t.name==e.bidderCode}));return n?n.id:void 0},b=function(e){var t={bidderExternalID:e.bidderId,markup:e.ad,url:e.adUrl,hint:{provider:e.bidderCode,uid:e.creativeId},width:parseInt(e.width),height:parseInt(e.height)};if("152media"!==e.bidderCode&&"brealtime"!==e.bidderCode&&"districtm"!==e.bidderCode&&"defymedia"!==e.bidderCode&&"appnexusAst"!==e.bidderCode||(t.provider="appnexus"),"ix"===e.bidderCode&&(t.provider="indexExchange"),"underdogmedia"===e.bidderCode&&(t.hintID=t.hintID+"_"+e.width+"_"+e.height),"gumgum"===e.bidderCode&&e.creative&&(t.markup=e.creative),"komoona"===e.bidderCode)try{var i=0,n=JSON.parse(unescape(e.ad.split('"creative_data":"')[1].split('","')[0]));for(var r in n.hdbd_data.hbbids){var a=n.hdbd_data.hbbids[r];a.cpm>i&&(i=a.cpm,t.markup=a.creative_data.creative)}}catch(e){}return e.ad&&e.ad.indexOf("https://googleads.g.doubleclick.net/pagead/adfetch?client=ca-pub-")>-1&&(t.url="https://googleads.g.doubleclick.net/pagead/adfetch"+e.ad.split("https://googleads.g.doubleclick.net/pagead/adfetch")[1].split("&rfl=")[0],t.markup=""),t},w=function(e){return"komoona"===e.bidder||"criteo"===e.bidder||"consumable"===e.bidder?null:e.c?String(e.c):e.adid&&"0"!=e.adid?String(e.adid):e.crid&&"0"!=e.crid?String(e.crid):e.creativeId&&"0"!=e.creativeId?String(e.creativeId):e.creative_id&&"0"!=e.creative_id?String(e.creative_id):null},v=function(){a.onEvent("bidWon",(function(e){o[e.adId].resolve()}))},N=function(e){var t=e.rawBid;t&&t.bidder&&(n.Y.fireEvent("FirePublisherEvent",{eventName:"AcceptableAdsRender",payload:{detail:t}}),n.Y.fireEvent("FirePublisherEvent",{eventName:"uponitRender",payload:{detail:t}}))},_=function(){var e=window.pbjs||window.jitaJS;if(e&&e.requestBids){var t=e.requestBids;e.requestBids=function(e){for(var i=[],r=e&&e.adUnits,a=0;a<r.length;a++)i.push(r[a].code);if(s.invokeEventCallbacks("refresh",i),!n.Y.fireEvent("skipOriginalRequestBidsFunction"))return t.apply(this,arguments)}}};function D(e,i){var n=y(),r=n.container,o=n.iframe,s=function(){try{o.removeEventListener("load",s);var e=t.Z.upoSettings.whitelistedFrameSettings.isOurOriginSafeFrame,n=!e&&o.contentWindow.document,r=Gi.Xh();"sharethrough"===i.bidder&&window.setTimeout((function(){for(var e=document.querySelectorAll(".str-thumbnail"),t=0;t<e.length;t++){var i=e[t].style.backgroundImage;!i||-1!==i.indexOf("upapi")||-1!==i.indexOf("criteo.net")||-1!==i.indexOf("imgix.net")&&-1!==i.indexOf(".gif")?i.indexOf("imgix.net")>-1&&i.indexOf(".gif")>-1&&(i.indexOf("?")>-1?e[t].style.backgroundImage=i.replace('")','&adunit=true")'):e[t].style.backgroundImage=i.replace('")','?adunit=true")')):i.indexOf("?")>-1?e[t].style.backgroundImage=i.replace('")','&upapi=true")'):e[t].style.backgroundImage=i.replace('")','?upapi=true")')}}),3e3),"edge"===r&&(i.rawBid.ad=i.rawBid.ad.replace(/\.html[\?#]/,".html?upapi=true&"),i.rawBid.ad=i.rawBid.ad.replace(/\.html%23/,".html%23upapi=true%26"),window.setTimeout((function(){if(e){o.contentWindow.postMessage({type:"eval",code:"try { var styleSheets = document.styleSheets; for (var i = 0; i < styleSheets.length; i++) { if (styleSheets[i].cssText && styleSheets[i].cssText.indexOf(\"a[href^='http://ads2.williamhill.com/redirect.aspx?']\") > -1) { styleSheets[i].cssText = ''; } } } catch (e) { }"},"*")}else try{for(var t=n.styleSheets,i=0;i<t.length;i++)t[i].cssText&&t[i].cssText.indexOf("a[href^='http://ads2.williamhill.com/redirect.aspx?']")>-1&&(t[i].cssText="")}catch(e){}}),3e3)),window.setTimeout((function(){var t="edge"===r||"ie"===r;if(t||X(i,o,e),e){var s='window.parent.postMessage(JSON.stringify({ adId: "'+i.adId+'", message: "Prebid Request" }), "*");';o.contentWindow.postMessage({type:"eval",code:s},"*")}else a.renderAd(n,i.adId);t&&X(i,o,e)}),0),o.style.width=i.width+"px",o.style.height=i.height+"px"}catch(e){Vn.errorf(null,"renderBid - %o",e)}};o.addEventListener("load",s),e.insertBefore(r,e.children[0])}function X(e,t,i){if(!1!==e.isBackupCreative)if(i)t.contentWindow.postMessage({type:"eval",code:"try { eval(atob('dmFyIF8weGE4YmU9WyJceDYzXHg2OFx4NjlceDZDXHg2NFx4NzJceDY1XHg2RSIsIlx4NkNceDY1XHg2RVx4NjdceDc0XHg2OCIsIlx4NDlceDQ2XHg1Mlx4NDFceDREXHg0NSIsIlx4NzRceDYxXHg2N1x4NEVceDYxXHg2RFx4NjUiLCJceDY5XHg2RVx4NzNceDY1XHg3Mlx4NzRceDQyXHg2NVx4NjZceDZGXHg3Mlx4NjUiLCJceDc3XHg3Mlx4NjlceDc0XHg2NSIsIlx4NkRceDYxXHg3NFx4NjNceDY4IiwiXHg3Mlx4NjVceDcwXHg2Q1x4NjFceDYzXHg2NSIsIlx4NzNceDYzXHg3Mlx4NjlceDcwXHg3NCIsIlx4NzRceDc5XHg3MFx4NjVceDNBXHgyMFx4MjdceDQ4XHg1NFx4NERceDRDXHgzNVx4MjciLCJceDc0XHg3OVx4NzBceDY1XHgzQVx4MjBceDI3XHg0OVx4NERceDQxXHg0N1x4NDVceDI3IiwiXHg2NVx4NjJceDQzXHg2Nlx4NjciLCJceDVGXHg1Rlx4NjRceDY1XHg2Nlx4NjlceDZFXHg2NVx4NTNceDY1XHg3NFx4NzRceDY1XHg3Mlx4NUZceDVGIiwiXHg2MVx4NjRceDQ4XHg3NFx4NkRceDZDXHg1MFx4NjFceDc0XHg2OCIsIlx4NEZceDYyXHg2QVx4NjVceDYzXHg3NCIsIlx4NjRceDY1XHg2Nlx4NjlceDZFXHg2NVx4NTBceDcyXHg2Rlx4NzBceDY1XHg3Mlx4NzRceDc5IiwiXHg1Rlx4NUZceDVGIiwiXHg3MFx4NjFceDY3XHg2NVx4NTZceDY5XHg3M1x4NjlceDYyXHg2Q1x4NjUiLCJceDZGXHg2Mlx4NkFceDY1XHg2M1x4NzQiLCJceDY4XHg2MVx4NzNceDRGXHg3N1x4NkVceDUwXHg3Mlx4NkZceDcwXHg2NVx4NzJceDc0XHg3OSIsIlx4NzNceDc1XHg3MFx4NzBceDZGXHg3Mlx4NzRceDY1XHg2NFx4NDJceDcyXHg2Rlx4NzdceDczXHg2NVx4NzIiLCJceDYyXHg2MVx4NkVceDZFXHg2NVx4NzJceDQxXHg2NFx4NDhceDc0XHg2RFx4NkNceDU0XHg2NVx4NzhceDc0IiwiXHg2MVx4NjRceDRDXHg2Rlx4NjFceDY0XHg2NVx4NzIiLCJceDVGXHg1Rlx4NjRceDY1XHg2Nlx4NjlceDZFXHg2NVx4NDdceDY1XHg3NFx4NzRceDY1XHg3Mlx4NUZceDVGIiwiXHg2MVx4NjRceDRDXHg2Rlx4NjFceDY0XHg2NVx4NzJceDVGXHg1RiIsIlx4NjlceDZFXHg2NFx4NjVceDc4XHg0Rlx4NjYiLCJceDczXHg3NFx4NzJceDY5XHg2RVx4NjciLCJceDZBXHg2MVx4NzZceDYxXHg3M1x4NjNceDcyXHg2OVx4NzBceDc0XHgzQVx4MjciLCJceDY0XHg2Rlx4NjNceDc1XHg2RFx4NjVceDZFXHg3NCIsIlx4NjNceDcyXHg2NVx4NjFceDc0XHg2NVx4NDVceDZDXHg2NVx4NkRceDY1XHg2RVx4NzQiLCJceDczXHg3NFx4NzlceDZDXHg2NSIsIlx4NjhceDY1XHg2MVx4NjQiLCJceDYyXHg2Rlx4NjRceDc5IiwiXHg2NFx4NkZceDYzXHg3NVx4NkRceDY1XHg2RVx4NzRceDQ1XHg2Q1x4NjVceDZEXHg2NVx4NkVceDc0IiwiXHg2MVx4NzBceDcwXHg2NVx4NkVceDY0XHg0M1x4NjhceDY5XHg2Q1x4NjQiLCJceDczXHg3NFx4NzlceDZDXHg2NVx4NTNceDY4XHg2NVx4NjVceDc0XHg3MyIsIlx4NjlceDZFXHg3M1x4NjVceDcyXHg3NFx4NTJceDc1XHg2Q1x4NjUiLCJceDY5XHg2RFx4NjdceDVCXHg2M1x4NkNceDYxXHg3M1x4NzNceDVFXHgzRFx4MjdceDcwXHg2Q1x4MkRceDZDXHg2Rlx4NjFceDY0XHg2NVx4NzJceDJEXHgyN1x4NURceDdCXHg2NFx4NjlceDczXHg3MFx4NkNceDYxXHg3OVx4M0FceDZFXHg2Rlx4NkVceDY1XHgyMFx4MjFceDY5XHg2RFx4NzBceDZGXHg3Mlx4NzRceDYxXHg2RVx4NzRceDdEIiwiXHg2N1x4NjVceDc0XHg0NVx4NkNceDY1XHg2RFx4NjVceDZFXHg3NFx4NDJceDc5XHg0OVx4NjQiLCJceDY5XHg2NVx4NjNceDYzXHg3NFx4NjVceDczXHg3NCIsIlx4NjlceDY2XHg3Mlx4NjFceDZEXHg2NSIsIlx4NjNceDYxXHg2Q1x4NkMiLCJceDYxXHg2NFx4NjRceDQ1XHg3Nlx4NjVceDZFXHg3NFx4NENceDY5XHg3M1x4NzRceDY1XHg2RVx4NjVceDcyIiwiXHg2Q1x4NkZceDYxXHg2NCIsIlx4NjNceDZGXHg2RVx4NzRceDY1XHg2RVx4NzRceDU3XHg2OVx4NkVceDY0XHg2Rlx4NzciLCJceDQ4XHg1NFx4NERceDRDXHg0NVx4NkNceDY1XHg2RFx4NjVceDZFXHg3NCIsIlx4NzBceDcyXHg2Rlx4NzRceDZGXHg3NFx4NzlceDcwXHg2NSIsIlx4NzNceDY4XHg2OVx4NjZceDc0IiwiXHg3MFx4NzVceDczXHg2OCIsIlx4NjYiLCJceDMwXHg3OFx4MzIiLCJceDMwXHg3OFx4MzEiLCJceDMwXHg3OFx4MzAiLCJceDMwXHg3OFx4MzYiLCJceDMwXHg3OFx4MzMiLCJceDMwXHg3OFx4MzQiLCJceDMwXHg3OFx4MzUiLCJceDMwXHg3OFx4MzkiLCJceDMwXHg3OFx4MzgiLCJceDMwXHg3OFx4MzciLCJceDY4IiwiXHgzMFx4NzhceDYxIiwiXHgzMFx4NzhceDYyIiwiXHg2MiIsIlx4MzBceDc4XHg2MyIsIlx4NzRceDZGXHg0Q1x4NkZceDc3XHg2NVx4NzJceDQzXHg2MVx4NzNceDY1IiwiXHgzMFx4NzhceDY0IiwiXHgzMFx4NzhceDY2IiwiXHg2MSIsIlx4MzBceDc4XHgzMVx4MzAiLCJceDMwXHg3OFx4NjUiLCJceDY3IiwiXHgzMFx4NzhceDMxXHgzMiIsIlx4MzBceDc4XHgzMVx4MzEiLCJceDMwXHg3OFx4MzFceDM0IiwiXHgzMFx4NzhceDMxXHgzMyIsIlx4MzBceDc4XHgzMVx4MzUiLCJceDMwXHg3OFx4MzFceDM2IiwiXHg2OSIsIlx4MzBceDc4XHgzMVx4MzciLCJceDZBIiwiXHgzMFx4NzhceDMxXHgzOCIsIlx4NzRceDY1XHg3M1x4NzQiLCJceDMwXHg3OFx4MzFceDM5IiwiXHgzMFx4NzhceDMxXHg2MiIsIlx4MzBceDc4XHgzMVx4NjEiLCJceDMwXHg3OFx4MzFceDYzIiwiXHgzMFx4NzhceDMxXHg2NCIsIlx4MzBceDc4XHgzMVx4NjUiLCJceDYzIiwiXHgzMFx4NzhceDMyXHgzMCIsIiIsIlx4MzBceDc4XHgzMVx4NjYiLCJceDMwXHg3OFx4MzJceDMxIiwiXHgzMFx4NzhceDMyXHgzMyIsIlx4MzBceDc4XHgzMlx4MzIiLCJceDMwXHg3OFx4MzJceDM0IiwiXHgzMFx4NzhceDMyXHgzNSIsIlx4MzBceDc4XHgzMlx4MzciLCJceDMwXHg3OFx4MzJceDM2IiwiXHg2OVx4NzMiLCJceDMwXHg3OFx4MzJceDM4IiwiXHgzMFx4NzhceDMyXHgzOSIsIlx4MzBceDc4XHgzMlx4NjIiLCJceDMwXHg3OFx4MzJceDYxIiwiXHgyRVx4NjhceDc0XHg2RFx4NkMiLCJceDMwXHg3OFx4MzJceDYzIiwiXHgzMFx4NzhceDMyXHg2NCIsIlx4MzBceDc4XHgzMlx4NjUiLCJceDI3IiwiXHg2MVx4NzBceDcwXHg2Q1x4NzkiXTt2YXIgYWFhPVtfMHhhOGJlWzBdLF8weGE4YmVbMV0sXzB4YThiZVsyXSxfMHhhOGJlWzNdLF8weGE4YmVbNF0sXzB4YThiZVs1XSxfMHhhOGJlWzZdLF8weGE4YmVbN10sXzB4YThiZVs4XSxfMHhhOGJlWzldLF8weGE4YmVbMTBdLF8weGE4YmVbMTFdLF8weGE4YmVbMTJdLF8weGE4YmVbMTNdLF8weGE4YmVbMTRdLF8weGE4YmVbMTVdLF8weGE4YmVbMTZdLF8weGE4YmVbMTddLF8weGE4YmVbMThdLF8weGE4YmVbMTldLF8weGE4YmVbMjBdLF8weGE4YmVbMjFdLF8weGE4YmVbMjJdLF8weGE4YmVbMjNdLF8weGE4YmVbMjRdLF8weGE4YmVbMjVdLF8weGE4YmVbMjZdLF8weGE4YmVbMjddLF8weGE4YmVbMjhdLF8weGE4YmVbMjldLF8weGE4YmVbMzBdLF8weGE4YmVbMzFdLF8weGE4YmVbMzJdLF8weGE4YmVbMzNdLF8weGE4YmVbMzRdLF8weGE4YmVbMzVdLF8weGE4YmVbMzZdLF8weGE4YmVbMzddLF8weGE4YmVbMzhdLF8weGE4YmVbMzldLF8weGE4YmVbNDBdLF8weGE4YmVbNDFdLF8weGE4YmVbNDJdLF8weGE4YmVbNDNdLF8weGE4YmVbNDRdLF8weGE4YmVbNDVdLF8weGE4YmVbNDZdXTsoZnVuY3Rpb24oXzB4NDNlZXgyLF8weDQzZWV4Myl7dmFyIF8weDQzZWV4ND1mdW5jdGlvbihfMHg0M2VleDUpe3doaWxlKC0tXzB4NDNlZXg1KXtfMHg0M2VleDJbXzB4YThiZVs0OF1dKF8weDQzZWV4MltfMHhhOGJlWzQ3XV0oKSl9fTtfMHg0M2VleDQoKytfMHg0M2VleDMpfShhYWEsMHgxNjUpKTt2YXIgYj1mdW5jdGlvbihfMHg0M2VleDIsXzB4NDNlZXgzKXtfMHg0M2VleDI9IF8weDQzZWV4Mi0gMHgwO3ZhciBfMHg0M2VleDQ9YWFhW18weDQzZWV4Ml07cmV0dXJuIF8weDQzZWV4NH07KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gXzB4NDNlZXgyKF8weDQzZWV4Myl7aWYoIV8weDQzZWV4M1tfMHhhOGJlWzQ5XV0pe18weDQzZWV4M1tfMHhhOGJlWzQ5XV09ICAhMHgwO3RyeXt2YXIgXzB4NDNlZXg0PV8weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzUxXSldKGIoXzB4YThiZVs1MF0pKTsoXzB4NDNlZXgzW2IoXzB4YThiZVs1Ml0pXVtiKF8weGE4YmVbNTRdKV18fCBfMHg0M2VleDNbYihfMHhhOGJlWzUyXSldW2IoXzB4YThiZVs1NV0pXXx8IF8weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzU2XSldKVtiKF8weGE4YmVbNTNdKV0oXzB4NDNlZXg0KTtfMHg0M2VleDNbXzB4YThiZVsyOF1dW2IoXzB4YThiZVs1OV0pXVsweDBdW2IoXzB4YThiZVs1OF0pXShiKF8weGE4YmVbNTddKSwweDApfWNhdGNoKGYpe307XzB4NDNlZXgzW18weGE4YmVbMjhdXVtfMHhhOGJlWzYwXV09IGRvY3VtZW50W2IoXzB4YThiZVs2MV0pXTtfMHg0M2VleDNbYihfMHhhOGJlWzUyXSldW18weGE4YmVbMzhdXT0gZnVuY3Rpb24oXzB4NDNlZXg3KXt0cnl7aWYoYihfMHhhOGJlWzYyXSk9PT0gXzB4NDNlZXg3KXtyZXR1cm4gXzB4NDNlZXgzW2IoXzB4YThiZVs1Ml0pXVtfMHhhOGJlWzI5XV0oXzB4YThiZVs2M10pfX1jYXRjaChoKXt9O3JldHVybiBfMHg0M2VleDNbXzB4YThiZVsyOF1dW18weGE4YmVbNjBdXVtfMHhhOGJlWzQxXV0odGhpcyxfMHg0M2VleDcpfTtfMHg0M2VleDNbYihfMHhhOGJlWzUyXSldW18weGE4YmVbNjNdXT0gZG9jdW1lbnRbYihfMHhhOGJlWzUxXSldO18weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzUxXSldPSBmdW5jdGlvbihfMHg0M2VleDgpe3RyeXtpZihiKF8weGE4YmVbNjRdKT09PSBfMHg0M2VleDhbXzB4YThiZVs2NV1dKCkpe3ZhciBfMHg0M2VleDk9XzB4NDNlZXgzW18weGE4YmVbMjhdXVtfMHhhOGJlWzYzXV1bYihfMHhhOGJlWzY2XSldKHRoaXMsXzB4NDNlZXg4KTtfMHg0M2VleDlbYihfMHhhOGJlWzcwXSldKGIoXzB4YThiZVs2N10pLGZ1bmN0aW9uKCl7dHJ5e3RoaXNbYihfMHhhOGJlWzY5XSldW18weGE4YmVbNjhdXT0gXzB4NDNlZXgyLHRoaXNbXzB4YThiZVs0NF1dW18weGE4YmVbNjhdXVtiKF8weGE4YmVbNjZdKV0odGhpc1tfMHhhOGJlWzQ0XV0sdGhpc1tfMHhhOGJlWzQ0XV0pfWNhdGNoKGspe319KTtyZXR1cm4gXzB4NDNlZXg5fX1jYXRjaChsKXt9O3JldHVybiBfMHg0M2VleDNbXzB4YThiZVsyOF1dW18weGE4YmVbNjNdXVtiKF8weGE4YmVbNjZdKV0odGhpcyxfMHg0M2VleDgpfTtfMHg0M2VleDNbYihfMHhhOGJlWzczXSldW2IoXzB4YThiZVs3Ml0pXVtfMHhhOGJlWzcxXV09IF8weDQzZWV4M1tiKF8weGE4YmVbNzNdKV1bYihfMHhhOGJlWzcyXSldW2IoXzB4YThiZVs1M10pXTtfMHg0M2VleDNbYihfMHhhOGJlWzczXSldW2IoXzB4YThiZVs3Ml0pXVtiKF8weGE4YmVbNTNdKV09IGZ1bmN0aW9uKF8weDQzZWV4YSl7dmFyIF8weDQzZWV4Yj1fMHg0M2VleDNbXzB4YThiZVs0NV1dW2IoXzB4YThiZVs3Ml0pXVtfMHhhOGJlWzcxXV1bXzB4YThiZVs0MV1dKHRoaXMsXzB4NDNlZXhhKTt0cnl7Zm9yKHZhciBfMHg0M2VleGM9MHgwO18weDQzZWV4YzwgXzB4NDNlZXhhW2IoXzB4YThiZVs3NV0pXVtiKF8weGE4YmVbNzRdKV07XzB4NDNlZXhjKyspe2IoXzB4YThiZVs3Nl0pPT09IF8weDQzZWV4YVtfMHhhOGJlWzBdXVtfMHg0M2VleGNdW2IoXzB4YThiZVs3N10pXSYmIChfMHg0M2VleGFbXzB4YThiZVswXV1bXzB4NDNlZXhjXVtiKF8weGE4YmVbNjldKV18fCBfMHg0M2VleGFbXzB4YThiZVswXV1bXzB4NDNlZXhjXVtiKF8weGE4YmVbNzBdKV0oYihfMHhhOGJlWzY3XSksZnVuY3Rpb24oKXt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV09IF8weDQzZWV4Mjt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bXzB4YThiZVs0MV1dKHRoaXNbYihfMHhhOGJlWzY5XSldLHRoaXNbYihfMHhhOGJlWzY5XSldKX0pLF8weDQzZWV4YVtiKF8weGE4YmVbNzVdKV1bXzB4NDNlZXhjXVtfMHhhOGJlWzQ0XV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhhW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleGNdW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXMsXzB4NDNlZXhhW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleGNdW2IoXzB4YThiZVs2OV0pXSkpfTtfMHhhOGJlWzJdPT09IF8weDQzZWV4YVtiKF8weGE4YmVbNzddKV0mJiAoXzB4NDNlZXhhW18weGE4YmVbNDRdXXx8IF8weDQzZWV4YVtiKF8weGE4YmVbNzBdKV0oXzB4YThiZVs0M10sZnVuY3Rpb24oKXt0aGlzW18weGE4YmVbNDRdXVtfMHhhOGJlWzY4XV09IF8weDQzZWV4Mjt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXNbYihfMHhhOGJlWzY5XSldLHRoaXNbXzB4YThiZVs0NF1dKX0pLF8weDQzZWV4YVtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhhW18weGE4YmVbNDRdXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXMsXzB4NDNlZXhhW2IoXzB4YThiZVs2OV0pXSkpfWNhdGNoKHApe307cmV0dXJuIF8weDQzZWV4Yn07XzB4NDNlZXgzW2IoXzB4YThiZVs3M10pXVtiKF8weGE4YmVbNzJdKV1bXzB4YThiZVs3OF1dPSBfMHg0M2VleDNbYihfMHhhOGJlWzczXSldW2IoXzB4YThiZVs3Ml0pXVtiKF8weGE4YmVbNzldKV07XzB4NDNlZXgzW2IoXzB4YThiZVs3M10pXVtiKF8weGE4YmVbNzJdKV1bYihfMHhhOGJlWzc5XSldPSBmdW5jdGlvbihfMHg0M2VleGQsXzB4NDNlZXhlKXt2YXIgXzB4NDNlZXhmPV8weDQzZWV4M1tiKF8weGE4YmVbNzNdKV1bYihfMHhhOGJlWzcyXSldW18weGE4YmVbNzhdXVtfMHhhOGJlWzQxXV0odGhpcyxfMHg0M2VleGQsXzB4NDNlZXhlKTt0cnl7Zm9yKHZhciBfMHg0M2VleDEwPTB4MDtfMHg0M2VleDEwPCBfMHg0M2VleGRbYihfMHhhOGJlWzc1XSldW2IoXzB4YThiZVs3NF0pXTtfMHg0M2VleDEwKyspe2IoXzB4YThiZVs3Nl0pPT09IF8weDQzZWV4ZFtiKF8weGE4YmVbNzVdKV1bXzB4NDNlZXgxMF1bXzB4YThiZVszXV0mJiAoXzB4NDNlZXhkW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleDEwXVtiKF8weGE4YmVbNjldKV18fCBfMHg0M2VleGRbYihfMHhhOGJlWzc1XSldW18weDQzZWV4MTBdW2IoXzB4YThiZVs3MF0pXShiKF8weGE4YmVbNjddKSxmdW5jdGlvbigpe3RoaXNbYihfMHhhOGJlWzY5XSldW18weGE4YmVbNjhdXT0gXzB4NDNlZXgyO3RoaXNbYihfMHhhOGJlWzY5XSldW18weGE4YmVbNjhdXVtiKF8weGE4YmVbNjZdKV0odGhpc1tiKF8weGE4YmVbNjldKV0sdGhpc1tiKF8weGE4YmVbNjldKV0pfSksXzB4NDNlZXhkW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleDEwXVtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhkW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleDEwXVtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dW2IoXzB4YThiZVs2Nl0pXSh0aGlzLF8weDQzZWV4ZFtiKF8weGE4YmVbNzVdKV1bXzB4NDNlZXgxMF1bXzB4YThiZVs0NF1dKSl9O2IoXzB4YThiZVs3Nl0pPT09IF8weDQzZWV4ZFtiKF8weGE4YmVbNzddKV0mJiAoXzB4NDNlZXhkW18weGE4YmVbNDRdXXx8IF8weDQzZWV4ZFtiKF8weGE4YmVbNzBdKV0oYihfMHhhOGJlWzY3XSksZnVuY3Rpb24oKXt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV09IF8weDQzZWV4Mjt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXNbYihfMHhhOGJlWzY5XSldLHRoaXNbYihfMHhhOGJlWzY5XSldKX0pLF8weDQzZWV4ZFtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhkW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bXzB4YThiZVs0MV1dKHRoaXMsXzB4NDNlZXhkW2IoXzB4YThiZVs2OV0pXSkpfWNhdGNoKHUpe307cmV0dXJuIF8weDQzZWV4Zn07XzB4NDNlZXgzW18weGE4YmVbMjhdXVtfMHhhOGJlWzgwXV09IF8weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzgxXSldO18weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bXzB4YThiZVs1XV09IGZ1bmN0aW9uKF8weDQzZWV4MTEpe3RyeXtpZihfMHg0M2VleDExJiYgL2RhdGFcLWRjbVwtcmVuZGVyaW5nXC1tb2RlXHM/PVxzP1snIl1pZnJhbWVbJyJdL1tfMHhhOGJlWzgyXV0oXzB4NDNlZXgxMSkpe3ZhciBfMHg0M2VleDEyPV8weDQzZWV4MTFbYihfMHhhOGJlWzgzXSldKC9kYXRhXC1kY21cLXJlbmRlcmluZ1wtbW9kZVxzPz1ccz9bJyJdaWZyYW1lWyciXS8pLF8weDQzZWV4MTM9XzB4NDNlZXgxMlsweDBdW2IoXzB4YThiZVs4NV0pXShiKF8weGE4YmVbNjRdKSxiKF8weGE4YmVbODRdKSk7XzB4NDNlZXgxMT0gXzB4NDNlZXgxMVtiKF8weGE4YmVbODVdKV0oXzB4NDNlZXgxMixfMHg0M2VleDEzKX07XzB4NDNlZXgxMSYmIC0weDE8IF8weDQzZWV4MTFbXzB4YThiZVsyNV1dKGIoXzB4YThiZVs4Nl0pKSYmIChfMHg0M2VleDExPSBfMHg0M2VleDExW2IoXzB4YThiZVs4NV0pXShiKF8weGE4YmVbODZdKSxiKF8weGE4YmVbODddKSkpfWNhdGNoKHkpe307XzB4NDNlZXgzW2IoXzB4YThiZVs1Ml0pXVtfMHhhOGJlWzgwXV1bXzB4YThiZVs0MV1dKHRoaXMsXzB4NDNlZXgxMSl9O18weDQzZWV4M1tiKF8weGE4YmVbODhdKV09IHZvaWQoMHgwKTtfMHg0M2VleDNbXzB4YThiZVs4OV1dPSB2b2lkKDB4MCk7XzB4NDNlZXgzW18weGE4YmVbMjNdXShfMHhhOGJlWzExXSxmdW5jdGlvbigpe3JldHVybiBfMHg0M2VleDNbXzB4YThiZVs4OV1dfSk7XzB4NDNlZXgzW2IoXzB4YThiZVs5Ml0pXShiKF8weGE4YmVbODhdKSxmdW5jdGlvbihfMHg0M2VleDE0KXtfMHg0M2VleDE0W2IoXzB4YThiZVs5MF0pXT0gXzB4YThiZVs5MV07cmV0dXJuIF8weDQzZWV4M1tfMHhhOGJlWzg5XV09IF8weDQzZWV4MTR9KTtfMHg0M2VleDQ9IGZ1bmN0aW9uKF8weDQzZWV4MTUsXzB4NDNlZXgxNil7XzB4NDNlZXgzW2IoXzB4YThiZVs5M10pXVtiKF8weGE4YmVbOTVdKV0oXzB4NDNlZXgzW2IoXzB4YThiZVs5M10pXVtiKF8weGE4YmVbNzJdKV0sXzB4NDNlZXgxNSx7J1x4NjdceDY1XHg3NCc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tfMHhhOGJlWzE2XSsgXzB4NDNlZXgxNV19LCdceDczXHg2NVx4NzQnOmZ1bmN0aW9uKF8weDQzZWV4MTcpe18weDQzZWV4MTc9IF8weDQzZWV4MTYodGhpcyxfMHg0M2VleDE3KTtfMHg0M2VleDNbYihfMHhhOGJlWzkzXSldW2IoXzB4YThiZVs5NV0pXSh0aGlzLF8weDQzZWV4MTUseydceDY3XHg2NVx4NzQnOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbYihfMHhhOGJlWzk0XSkrIF8weDQzZWV4MTVdfSwnXHg3M1x4NjVceDc0JzpmdW5jdGlvbihfMHg0M2VleDE4KXtfMHg0M2VleDE4PSBfMHg0M2VleDE2KHRoaXMsXzB4NDNlZXgxOCk7dGhpc1tiKF8weGE4YmVbOTRdKSsgXzB4NDNlZXgxNV09IF8weDQzZWV4MTh9LCdceDY1XHg2RVx4NzVceDZEXHg2NVx4NzJceDYxXHg2Mlx4NkNceDY1JzohMHgwfSk7dmFyIF8weDQzZWV4MTk9XzB4NDNlZXgxNztfMHg0M2VleDNbYihfMHhhOGJlWzkzXSldW2IoXzB4YThiZVs5NV0pXSh0aGlzLGIoXzB4YThiZVs5NF0pKyBfMHg0M2VleDE1LHsnXHg2N1x4NjVceDc0JzpmdW5jdGlvbigpe3JldHVybiBfMHg0M2VleDE5fSwnXHg3M1x4NjVceDc0JzpmdW5jdGlvbihfMHg0M2VleDFhKXtfMHg0M2VleDE5PSBfMHg0M2VleDFhPSBfMHg0M2VleDE2KHRoaXMsXzB4NDNlZXgxYSl9LCdceDY1XHg2RVx4NzVceDZEXHg2NVx4NzJceDYxXHg2Mlx4NkNceDY1JzohMHgxfSl9LCdceDY1XHg2RVx4NzVceDZEXHg2NVx4NzJceDYxXHg2Mlx4NkNceDY1JzohMHgxLCdceDYzXHg2Rlx4NkVceDY2XHg2OVx4NjdceDc1XHg3Mlx4NjFceDYyXHg2Q1x4NjUnOiEweDF9KX07XzB4NDNlZXg0KGIoXzB4YThiZVs5Nl0pLGZ1bmN0aW9uKF8weDQzZWV4MWIsXzB4NDNlZXgxYyl7YihfMHhhOGJlWzk3XSk9PT0gIHR5cGVvZiBfMHg0M2VleDFiJiYgXzB4NDNlZXgxYltiKF8weGE4YmVbOTldKV0oYihfMHhhOGJlWzk4XSkpJiYgKF8weDQzZWV4MWJbYihfMHhhOGJlWzk4XSldPSBmdW5jdGlvbigpe3JldHVybiAhMHgxfSk7cmV0dXJuIF8weDQzZWV4MWN9KTtfMHg0M2VleDQoXzB4YThiZVsxMDBdLGZ1bmN0aW9uKF8weDQzZWV4MWQsXzB4NDNlZXgxZSl7XzB4YThiZVsxOF09PT0gIHR5cGVvZiBfMHg0M2VleDFkJiYgXzB4NDNlZXgxZFtfMHhhOGJlWzE5XV0oYihfMHhhOGJlWzk4XSkpJiYgKF8weDQzZWV4MWRbYihfMHhhOGJlWzk4XSldPSBmdW5jdGlvbigpe3JldHVybiAhMHgxfSk7cmV0dXJuIF8weDQzZWV4MWV9KTt2YXIgXzB4NDNlZXgxZj12b2lkKDB4MCk7XzB4NDNlZXg0KGIoXzB4YThiZVsxMDFdKSxmdW5jdGlvbihfMHg0M2VleDIwLF8weDQzZWV4MjEpe3JldHVybiBfMHg0M2VleDFmPSBfMHg0M2VleDIxfSk7XzB4NDNlZXgzW2IoXzB4YThiZVsxMDJdKV09IHZvaWQoMHgwKTtfMHg0M2VleDNbYihfMHhhOGJlWzEwNF0pXShfMHhhOGJlWzIyXSxmdW5jdGlvbigpe3JldHVybiB0aGlzW2IoXzB4YThiZVsxMDNdKV19KTtfMHg0M2VleDNbYihfMHhhOGJlWzkyXSldKF8weGE4YmVbMjJdLGZ1bmN0aW9uKF8weDQzZWV4MjIpe3RoaXNbYihfMHhhOGJlWzEwM10pXT0gZnVuY3Rpb24oKXt2YXIgXzB4NDNlZXgyMz1hcmd1bWVudHM7LTB4MTwgXzB4NDNlZXgyM1sweDNdW2IoXzB4YThiZVsxMDZdKV0oXzB4YThiZVsxMDVdKSAmJiBiKF8weGE4YmVbMTA3XSk9PT0gIHR5cGVvZiBfMHg0M2VleDFmICYmIChfMHg0M2VleDIzWzB4M109IGIoXzB4YThiZVsxMDhdKSsgXzB4NDNlZXgxZltiKF8weGE4YmVbODVdKV0oLycvZyxfMHhhOGJlWzc4XSkrIF8weGE4YmVbMTA5XSk7XzB4NDNlZXgyMltfMHhhOGJlWzExMF1dKHRoaXMsXzB4NDNlZXgyMyl9O3JldHVybiBfMHg0M2VleDIyfSl9fV8weDQzZWV4Mih3aW5kb3cpfSgpKQ==')) } catch (err) {}"},"*");else try{t.contentWindow.eval(atob(yn))}catch(e){Vn.errorf(null,"evalBackupCreativeScript: - %o",e)}}var y=function(){var e=document.createElement("div");e.className="ahover";var t=Ai.safeFrameCreator.createSafeFrame();return t.style.width="1px",t.style.height="1px",t.style.border="0px",t.setAttribute("marginwidth","0"),t.setAttribute("marginheight","0"),t.scrolling="no",e.appendChild(t),{container:e,iframe:t}},V=function(){var e="up-pb-stylesheet";if(!document.getElementById(e)){var t=document.createElement("style");t.id=e,t.type="text/css",t.textContent=".up-pb-static { opacity: 0.001 !important; }",(document.head||document.body||document.documentElement).appendChild(t)}}},En=new function(){var e=!1,t=new r.Z.SubscriptionLayer;function n(e,t,i){switch(e){case En.Types.PREBID:return Mn.dispatch(t,i)}}this.subscribeForEvent=function(e,i){t.subscribeForEvent(e,i)},this.dispatch=function(r,a){e&&(e=!1),e=!0,Mn.subscribeForEvent("refresh",(function(e){t.invokeEventCallbacks("refresh",e)})),Mn.subscribeForEvent("bidReceived",(function(e){t.invokeEventCallbacks("bidReceived",e)}));var o=[],s={};for(var d in i.Z.forEach(r,(function(e){var t={hbAdUnit:e,promises:[]};o.push(t);var i=e.biddingSettings;for(var n in i)if(n=parseInt(n),i.hasOwnProperty(n)){var r=i[n];if(r&&r.length>0){s[n]=s[n]||[];var a={biddersSettings:r,auctionId:e.auctionId,spaceName:e.spaceName,sizes:e.sizes,selector:e.selector,element:e.element};s[n].push(a)}}})),s)if(d=parseInt(d),s.hasOwnProperty(d)){var c=s[d],l=a&&a[d],h=n(d,c,l);i.Z.forEach(h,(function(e,t){i.Z.find(o,(function(e){return e.hbAdUnit.auctionId==c[t].auctionId})).promises.push(e)}))}return i.Z.map(o,(function(e){return Promise.all(e.promises).then((function(t){var n=i.Z.map(t,(function(e){return e.bids}));return{auctionId:e.hbAdUnit.auctionId,bids:i.Z.flat(n)}}))}))}};En.Types={UNKNOWN:0,PREBID:1,RTK:2};const zn=new Ni({prefix:"dfpAdapter: "});var xn=new function(){var e=!1,t={},a={},o={},s=[],d=[],c=new r.Z.SubscriptionLayer,l={_height_:5,_width_:6,_empty_:7,_is_afc_:8,_fluid_:9,_creative_ids_:14,_adgroup2_ids_:15};this.init=function(){e||(e=!0,F(),O())},this.dispatch=function(e,r){try{this.init();var s=[];return n.Y.fireEvent("onBeforeDfpRefreshDispatch"),n.Y.fireEvent("tryDisableGoogletagLazyLoad")&&h(),i.Z.forEach(e,(function(e){var n=new i.Z.CDefer;s.push(n.promise),t[e.slotElementId]={asAdUnit:e,deferred:n};var r=new i.Z.CDefer;a[e.slotElementId]=r})),window.googletag.cmd.push((function(){try{zn.debugf(null,"onAdsRequestPrepareStarted");var t=window.googletag.pubads().getSlots(),r=[];i.Z.forEach(t,(function(t){i.Z.forEach(e,(function(e,i){var a=t.getSlotElementId();if(a===e.slotElementId){r.push(t);var s=f(16,24);if(o[s]=a,t.setTargeting("uponitSlotIterationId",s),n.Y.fireEvent("preTargetingSetting",{dfpSlot:t,ASAdUnit:e}),m(t,e.params.keyValuesParams.toRemove),t.__up_display||(t.__up_display=!0,window.googletag.display(e.slotElementId)),b(t,e.params.keyValuesParams.toAdd),window.uponit&&window.uponit.modifiers&&window.uponit.modifiers.dfpTargeting&&window.uponit.modifiers.dfpTargeting.length>0)try{for(var d=window.uponit.modifiers.dfpTargeting,c=0;c<d.length;c++){var l=t.getTargetingMap(),h={};for(var u in l)h[u]=l[u];var p=null;!e||null==e.floorPrice&&null==e.floorPrice||(p=e.floorPrice);var g=d[c](h,t,p);if(g)for(var u in g)l[u]&&l[u]===g[u]||t.setTargeting(u,g[u])}}catch(e){zn.errorf(null,"dispatch: uponit-modifiers: %o",e)}t.setForceSafeFrame(!0),t.setCollapseEmptyDiv(!1)}}))})),zn.debugf(null,"onAdsRequestSlotsPrepare - slots: %o",g(r)),u(r);const d=googletag.pubads().isSRA()&&(s=0,r.forEach((e=>{const t=e.getTargetingMap();Object.entries(t).forEach((e=>{const t=e[0]?e[0].length:0,i=e[1]&&e[1][0]?e[1][0].length:0;s+=t+i}))})),s>=6e3);if(n.Y.fireEvent("forceNotSingleRequestRefresh")||d)for(var a=0;a<r.length;a++){const e=r[a];setTimeout((()=>{window.googletag.pubads().refresh([e],void 0,!0)}),0)}else setTimeout((()=>{window.googletag.pubads().refresh(r,void 0,!0)}),0)}catch(e){zn.errorf(null,"dispatch: %o",e)}var s})),s}catch(e){zn.criticalf(null,"google cmd function failed: %o",e)}};var h=function(){window.googletag.cmd.push((function(){window.googletag.pubads().enableLazyLoad({fetchMarginPercent:-1,renderMarginPercent:-1})}))},u=function(e){i.Z.forEach(e,(function(e){e.setTargeting("upstdfp",!0)}))},p=function(e){var t=[];try{for(var i=0;i<e.length;i++){var n=e[i];"fluid"===n?t.push(n):t.push([n.getWidth(),n.getHeight()])}}catch(e){zn.errorf(null,"getNormalizedDfpSizes errored - %o",e)}return t},g=function(e){var t=[];try{for(var i=0;i<e.length;i++){var n=e[i];t.push({elementId:n.getSlotElementId(),dfpAdUnitPath:n.getAdUnitPath(),sizes:p(n.getSizes()),targetingMap:n.getTargetingMap()})}}catch(e){zn.errorf(null,"getNormalizedDFPAdSlots errored - %o",e)}return t},m=function(e,t){for(var i=0;i<t.length;i++){var n=t[i];e.clearTargeting(n)}},b=function(e,t){for(var i in t)if(t.hasOwnProperty(i)){var n=t[i];e.setTargeting(i,n)}},w=function(e){if(!e)return!1;const t=n.Y.fireEvent("isPrebidResponse",{str:e});if(null!=t)return t;if(/\.(renderAd|renderAdNew)\(document,(\s+)?['"][a-zA-Z0-9\-_]+['"]/gm.test(e))return!0;if(/apstag\.renderImp\(document,/gm.test(e))return!0;if(/"hb_adid":[\s\r\n\t]{0,9}?\["[a-z-A-Z0-9\-_]+"\]/gm.test(e))return!0;return!!/ucTagData\.ad[Ii]d(:?\s+)?=(:?\s+)?['"]([a-zA-Z0-9\-_]+)['"]/gm.test(e)||e.indexOf("districtm_adslot = ")>-1},v=function(e,t,i,r){e&&e._html_&&e._html_.indexOf("googletag.pubads().definePassback(")>-1&&(e._html_=e._html_.replace(").setTargeting('",").setTargeting('up_recovery','true').setTargeting('"),e._html_=e._html_.replace(').setTargeting("',').setTargeting("up_recovery","true").setTargeting("')),e&&e._html_&&-1===e._html_.indexOf("ca-pub-15988")&&(e._html_=e._html_.replace("data-ad-slot=",'data-ad-type="text" data-ad-slot=').replace("data-ad-client\\x3d","data-ad-type\\x3d\\x22text\\x22 data-ad-client\\x3d").replace('google_ad_client = "ca-pub','google_ad_type = "text";google_ad_client = "ca-pub'));var a=n.Y.fireEvent("dfpResponseCustomReplace",{googleReponse:e,googleFrame:r,googleSlot:t});if(a&&(e=a),!(e._fluid_||e._height_&&e._width_)&&i.length>0)for(var o=0;o<i.length;o++){var s=i[o];if("fluid"!=s&&s.getWidth()>=120){e._width_=parseInt(s.getWidth()),e._height_=parseInt(s.getHeight());break}}};function N(e){switch(e){case sn.Bid.Types.ADX:return"gad";case sn.Bid.Types.ADX_TEXT:return"gad_text";case sn.Bid.Types.DIRECT:return"gad_dfp_direct"}}var _=function(e,t){switch(e){case sn.Bid.Types.ADSENSE:case sn.Bid.Types.ADX:case sn.Bid.Types.ADX_TEXT:return t.adxBidderId;case sn.Bid.Types.DIRECT:return t.directBidderId}},D=function(e,t,i){try{if(e&&t==sn.Bid.Types.DIRECT&&i._adgroup2_ids_&&i._adgroup2_ids_[0]&&i._creative_ids_&&i._creative_ids_[0])return i._adgroup2_ids_[0].toString()+"_"+i._creative_ids_[0].toString()}catch(e){zn.errorf(null,"getCreativeId: %o",e)}};function X(e){const i=t[e],n={auctionId:i.asAdUnit.auctionId,bids:[]};i.deferred.resolve(n)}var y=function(e,t){s.push(t),e._html_=n.Y.fireEvent("CustomPrebidHTMLModification",e._html_)||e._html_.replace(/w=w.parent/gm,"w=window").replace(/w = w.parent/gm,"w = window").replace(/pbjs/gm,"upbjs").replace(/renderAd/gm,"renderAdNew")},V=function(e){var t=e.getSlotElementId(),i=r.Z.commonUtils.escapeSelector("#"+t),a=document.querySelector(i+' [id^="google_ads_iframe_"]');return a=n.Y.fireEvent("customInnerContainer",{googleSlot:e})||a},M=function(e,t,i){var n=new RegExp("([?&]"+t+"=)([^&#]*)([&#$].*)","g");return e.replace(n,`$1${encodeURIComponent(i)}$3`)},E=function(e,t){var i=new RegExp("(^|[&])"+e+"(=([^&#]*)|&|#|$)").exec(t);return i?i[3]?decodeURIComponent(i[3].replace(/\+/g," ")):"":null},z=function(e){try{for(var i={},n=0;n<e.length;n++){var r=e[n],a=t[r.getSlotElementId()].asAdUnit;if(a&&a.params&&a.params.queryParams)for(var o in a.params.queryParams)if(a.params.queryParams.hasOwnProperty(o)){var s=a.params.queryParams[o];i[o]=s}}return i}catch(e){zn.errorf(null,"getSlotsQueryParams: %o",e)}},x=function(e,r,o,s){try{var l=i.Z.map(r,(function(e,t){if(o.indexOf(t)>-1)return r[t]}));return function(e,r){try{if(e){for(var o={},s=[],l=0;l<e.length;l++){var h=e[l].response.parsedData,u=e[l].response.rawResponse,f=e[l].slot;if(f){var p=r[l],g=f.getSlotElementId(),m=new i.Z.CDefer;o[g]=m,s.push(m.promise);var b=t[g],M=V(f);if(!h||h&&!h._html_||h&&h._empty_)o[g].resolve({injectToDom:!1}),X(g);else{v(h,f,p,M),w(h._html_)&&y(h,g);var E=(T=f,B=void 0,B=(Y=h)._html_,Y._empty_?sn.Bid.Types.EMPTY:w(B)?sn.Bid.Types.DFP_PREBID:Y._is_afc_?"text"===z([T]).ad_type?sn.Bid.Types.ADX_TEXT:sn.Bid.Types.ADX:B.indexOf("js/adsbygoogle.js")>-1||B.indexOf("pagead/show_ads.js")>-1?sn.Bid.Types.ADSENSE:sn.Bid.Types.DIRECT),x=n.Y.fireEvent("forceCompliant"),H={ad:h._html_,adId:null,bidder:N(E),bidderId:_(E,b.asAdUnit.params),bidderCode:N(E),creativeId:D(x,E,h),width:h._width_,height:h._height_,cpm:b.asAdUnit.floorPrice+.01},I=new sn.Bid(H,u,E,void 0,function(e){return function(){var t=o[e];this.onRenderedEvent((function(){var t=document.getElementById(e).querySelector('div[id^="google_ads_"]');i.Z.removeClass("up-gpt-static",t)})),"unresolved"==t.fate&&t.resolve({injectToDom:!0})}}(g),function(e){return function(){var t=o[e];this.onRenderedEvent((function(){var t=document.getElementById(e).querySelector('div[id^="google_ads_"]');i.Z.addClass("up-gpt-static",t)})),"unresolved"==t.fate&&t.resolve({injectToDom:!0})}}(g),function(e){return function(){var t=o[e];"unresolved"==t.fate&&t.resolve({injectToDom:!1})}}(g),function(e){return function(t){a[e].promise.then((function(){t()}))}}(g),(function(){return{bidderExternalID:this.bidderId,url:this.adUrl,hint:{provider:this.type==sn.Bid.Types.DIRECT?"dfp_direct":this.bidderCode,uid:this.creativeId},width:parseInt(this.width),height:parseInt(this.height),markup:this.ad.replace(/\\(n|r|\\)/g,(function(e,t){return"n"==t?"\n":"r"==t?"\r":"\\"}))}})),S={auctionId:b.asAdUnit.auctionId,bids:[I]};b.deferred.resolve(S);var Z={auctionId:b.asAdUnit.auctionId,bid:I};c.invokeEventCallbacks("bidReceived",Z)}}else s.push(Promise.resolve({injectToDom:!1}))}return Promise.all(s).then(function(e){try{for(var t=[],i=0;i<this.responsesWithSlots.length;i++){var n=this.responsesWithSlots[i].response,r=n.parsedData,a=this.responsesWithSlots[i].slot,o=a&&a.getSlotElementId();e[i]&&!e[i].injectToDom&&(o&&d.push(o),r._html_="",r._empty_=!0,r._width_=1,r._height_=1),t.push(n)}return t}catch(e){zn.errorf(null,"handleDfpBidResponses: Promise.all: %o",e)}}.bind({responsesWithSlots:e,deferredsPromises:s}))}}catch(e){zn.errorf(null,"handleDfpBidResponses: %o",e)}var Y,T,B}(i.Z.map(e,(function(e,t){return{slot:l[t],response:e}})),s)}catch(e){zn.errorf(null,"invokeMiddleware: %o",e)}},H=function(e,t,i,n){return zn.debugf(null,"onAdsServerResponse - slots: %o, relevantIndexes: %o",[g(t),i]),new Promise((function(r,a){try{if(""===e.responseText)return t.forEach((e=>X(e.getSlotElementId()))),void r();var o=function(e){for(var t=e.split("\n"),i=[],n=0;n<t.length;n++){var r=t[n];if(n%2==0&&""!=r){try{var a=window.JSON.parse(r)}catch(e){zn.errorf(null,"parseGoogleExpandableResponse: 1 %o",e)}var o=Object.keys(a)[0],s=a[o],d={adUnitPath:o,rawResponse:s,parsedData:{}};try{for(var c in l)if(l.hasOwnProperty(c)){var h=l[c];void 0!==s[h]&&null!==s[h]&&(d.parsedData[c]=s[h])}}catch(e){zn.errorf(null,"parseGoogleExpandableResponse: 2 %o",e)}i.push(d)}else n%2!=0&&(i[i.length-1].parsedData._html_=r)}return i}(e.responseText);x(o,t,i,n).then((function(t){!function(e,t){t.__defineGetter__("responseText",(function(){return e})),t.__defineGetter__("response",(function(){return e})),t.__defineGetter__("status",(function(){return 200})),t.__defineGetter__("readyState",(function(){return 4}))}(function(e){for(var t="",i=0;i<e.length;i++){var n=e[i],r=n.parsedData,a=r._html_;delete r._html_;var o=n.rawResponse,s={};try{for(var d in l)if(l.hasOwnProperty(d)){var c=l[d];1==r[d]?o[c]=1:0==r[d]?o[c]=0:o[c]=r[d]}s[n.adUnitPath]=o}catch(e){zn.errorf(null,"stringifyResponse: RESPONSE_TYPES.arrayTypeExpandable: 1 %o",e)}try{t=t+JSON.stringify(s)+"\n"+a+"\n"}catch(e){zn.errorf(null,"stringifyResponse: RESPONSE_TYPES.arrayTypeExpandable: 2 %o",e)}}return t}(t),e),r()}))}catch(e){zn.criticalf(null,"handleResponsesFromXHR errored: %o",e)}}))},I={width:320,height:50};function S(e,t,i){return!("fluid"!==e||!i)||t.some((t=>t.width===e.width&&t.height===e.height))}function Z(e){const t=r.Z.commonUtils.extractQueryParamFromUrl("fluid",e);if(t){let e=t.split(",");return e=e.map((e=>isNaN(e)?e:parseInt(e))),e}}var Y=function(e,a,o){var s;if(e)try{var d;if(e.indexOf("&sz=")>-1)d="sz";else{if(!(e.indexOf("&prev_iu_szs=")>-1))return;d="prev_iu_szs"}var c=function(e){var t="sz",n=r.Z.commonUtils.extractQueryParamFromUrl(t,e);if(n||(t="prev_iu_szs",n=r.Z.commonUtils.extractQueryParamFromUrl(t,e)),n){var a=n.split(",");return a=i.Z.map(a,(function(e){return e.split("|")})),i.Z.map(a,(function(e,t){return i.Z.map(e,(function(e){var t=e.split("x");return{width:parseInt(t[0]),height:parseInt(t[1])}}))}))}}(e);if(!c)return;const g=c.length;s=i.Z.filter(c,(function(e,t){return o.indexOf(t)>-1}));const m=(Z(e)||[]).filter(((e,t)=>o.includes(t)));var l=[],h=[];!function(){var t=n.Y.fireEvent("removeSizesDfpConfig");if(t){var r=t.forAll||[];s=i.Z.map(s,(function(n,o){var s=a[o].getSlotElementId(),d=(t[s]||[]).concat(r);return d=i.Z.map(d,(function(t){if("fluid"==t){var i=new RegExp("fluid=(.*?)&","g");return e=e.replace(i,""),{width:I.width,height:I.height}}return t})),i.Z.filter(n,(function(e){return!i.Z.find(d,(function(t){return t.width==e.width&&t.height==e.height}))}))}))}}(),s=i.Z.map(s,(function(e,r){var o=a[r],s=o.getSlotElementId(),d=t[s].asAdUnit.spaceName;const c=m[r];var l=n.Y.fireEvent("sizesToRemoveBySpace",{spaceName:d,slot:o});return l?(l.includes("fluid")&&c&&(m[r]=0),i.Z.filter(e,(function(e){return!i.Z.find(l,(function(t){return"fluid"===t?I.width==e.width&&I.height==e.height:t.width===e.width&&t.height===e.height}))}))):e}));try{i.Z.forEach(s,(function(e,r){var o=a[r].getSlotElementId(),s=t[o].asAdUnit;const d=m[r];var c=n.Y.fireEvent("sizesToAddBySpace",{ASAdUnit:s});if(!c)return e;i.Z.forEach(c,(function(t){S(t,e,d)||("fluid"===t?(S(I,e,d)||e.push({width:I.width,height:I.height}),m[r]="height"):e.push({width:t.width,height:t.height}))}))}))}catch(e){zn.errorf(null,"sizesToAddBySpace error - %o",e)}i.Z.forEach(s,(function(e,t){var n=a[t].getSlotElementId(),o=document.getElementById(n),s=r.Z.sizesRemover(o,e);0==(s=i.Z.filter(s,(function(e){return!!e}))).length&&(s=[{width:2,height:3}]),l.push(s);var d,c=(d=s,i.Z.map(d,(function(e){var t={getWidth:function(){return e.width},getHeight:function(){return e.height}};return e.width==I.width&&e.height==I.height&&(t="fluid"),t})));h.push(c)}));var u,f=0,p=i.Z.map(c,(function(e,t){if(o.indexOf(t)<0)return e;var i=l[f];return f++,i}));return u=i.Z.map(p,(function(e){return i.Z.map(e,(function(e){return e.width+"x"+e.height}))})),u=(u=i.Z.map(u,(function(e){return e.join("|")}))).join(","),{url:e=function(e,t,i,n){const r=Z(e);if(!r&&0===t.length)return e;let a=0;const o=Array(n).fill(0).map(((e,n)=>i.includes(n)?t[a++]:r[n]||0)).join(",");return r?M(e,"fluid",o):`${e}&fluid=${encodeURIComponent(o)}`}(e=M(e,d,u),m,o,g),modifiedSizes:h}}catch(t){return zn.errorf(null,"modifySizesInUrl errored - %o",t),{url:e,modifiedSizes:i.Z.map(a,(function(e){return e.getSizes()}))}}},T=function(){Xn.addEventListener(Xn.Types.XHR_OPEN_PRE,(function(e){try{var t=e.data;if(B(t[1])){var a=function(e){for(var t=[],i=window.googletag.pubads().getSlots(),n=0;n<i.length;n++)for(var r=i[n],a=0;a<e.length;a++){var o=e[a];r.getSlotElementId()==o&&t.push(r)}return t}(function(e){var t=[],i=r.Z.commonUtils.extractQueryParamFromUrl("scp",e);if(i||(i=r.Z.commonUtils.extractQueryParamFromUrl("prev_scp",e)),i){for(var n=i.split("|"),a=0;a<n.length;a++){var s=n[a],d=E("uponitSlotIterationId",s);o[d]&&t.push(o[d])}return t}}(t[1])),s=function(e){var t=[],i=r.Z.commonUtils.extractQueryParamFromUrl("scp",e);if(i||(i=r.Z.commonUtils.extractQueryParamFromUrl("prev_scp",e)),i){var n,a=r.Z.commonUtils.extractQueryParamFromUrl("csp",e);a&&(n=E("upstdfp",a),zn.debugf(null,"onCommonSlotTargetDetected - upstdfp: %o",n));for(var o=i.split("|"),s=0;s<o.length;s++){var d=o[s];(n||E("upstdfp",d))&&t.push(s)}return t}}(t[1]);p=a,i.Z.forEach(p,(function(e){e.clearTargeting("upstdfp")})),t[1]=r.Z.addAcceptableParam(t[1]),t[1]=function(e,t){var i=z(t);if(i)for(var n in i)if(i.hasOwnProperty(n)){var r=i[n];e.indexOf("?")<0?e=e+"?"+n+"="+r:e.indexOf("&"+n+"=")<0&&e.indexOf("?"+n+"=")<0&&(e=e+"&"+n+"="+r)}return e}(t[1],a);var d=Y(t[1],a,s);t[1]=d.url;var c=d.modifiedSizes;t[1]=function(e){var t=[],i=["21063911","21063048","21063670","21063817","21063671"],n=r.Z.commonUtils.extractQueryParamFromUrl("eid",e);if(!n)return e;for(var a=n.split(","),o=0;o<a.length;o++){var s=a[o];i.indexOf(s)<0&&t.push(s)}return M(e,"eid",t.join(","))}(t[1]),n.Y.fireEvent("onBeforeDfpAdsRequest",{url:t[1]}),zn.debugf(null,"onDfpAdsRequest - url: %s, slots: %o, relevantIndexes: %o",[t[1],g(a),s]);var l=null,h=null,u=this,f=!1;this.onload=function(){try{if(!l||f)return;f=!0,H(u,a,s,c).then((function(){l.call(u)}))}catch(e){zn.errorf(null,"addListenersOnHooks: onload: %o",e)}},this.onreadystatechange=function(e){try{if(!h||f)return;4===this.readyState&&(200===this.status?(f=!0,H(u,a,s,c).then((function(){h.call(u,e)}))):zn.criticalf(null,"onDfpAdsRequestError, status: %s, responseText: %s",[this.status,this.responseText]))}catch(e){zn.criticalf(null,"onReadyStateChangeError, err %o",e)}},this.__defineGetter__("onload",(function(){return l})),this.__defineSetter__("onload",(function(e){return l=e,e})),this.__defineGetter__("onreadystatechange",(function(){return h})),this.__defineSetter__("onreadystatechange",(function(e){return h=e,e}))}}catch(e){zn.errorf(null,"addListenersOnHooks: %o",e)}var p}))},B=function(e){try{return e&&e.indexOf("doubleclick.net/gampad/ads")>-1&&e.indexOf("upstdfp")>-1}catch(e){}};this.subscribeForEvent=function(e,t){c.subscribeForEvent(e,t)};var F=function(){var e="push";window.googletag.cmd.unshift&&(e="unshift"),window.googletag.cmd[e]((function(){var e;n.Y.fireEvent("shouldNotWrapGoogleTagRefresh")||(e=window.googletag.pubads().refresh,window.googletag.pubads().refresh=function(t,i,n){if(zn.debugf(null,"onGoogleTagRefreshInvoked - info: %o",{slots:t&&g(t),settings:i,isRefreshInvokedByUs:n}),n)return t?e(t,i):e();t||(t=window.googletag.pubads().getSlots());for(var r=[],a=0;a<t.length;a++)try{var o=t[a].getSlotElementId();o&&r.push(o)}catch(e){zn.errorf(null,"wrapGoogleTagRefresh: refresh-invoked-by-the-publisher: %o",e)}c.invokeEventCallbacks("refresh",r)}),window.googletag.pubads().addEventListener("slotRenderEnded",(function(e){var t=e.slot,i=t.getSlotElementId(),n=V(t),r=n.querySelector("iframe");if(d.indexOf(i)>=0)d.splice(d.indexOf(i),1);else{var o=a[i];if(o&&"unresolved"==o.fate&&o.resolve(),s.indexOf(i)>-1){s.splice(s.indexOf(i),1);try{n.style.width="1px",n.style.height="1px",r.width="1",r.height="1"}catch(e){zn.errorf(null,"setGoogletagEvents: %o",e)}}else if("0"===r.width)r.style.setProperty("width","max-content","important");else{const e=r.width;r.style.setProperty("width",e+"px","important")}}})),T(window)}))},O=function(){var e="up-gpt-stylesheet";if(!document.getElementById(e)){var t=document.createElement("style");t.id=e,t.type="text/css",t.textContent=".up-gpt-static { opacity: 0.001 !important; }",(document.head||document.body||document.documentElement).appendChild(t)}}},Hn=new function(){var e=!1,t=new r.Z.SubscriptionLayer;function n(e,t,i){switch(e){case Hn.Types.DFP:return xn.dispatch(t,i);case Hn.Types.SMART_AS:}}this.subscribeForEvent=function(e,i){t.subscribeForEvent(e,i)},this.dispatch=function(r,a){e||(e=!0,xn.subscribeForEvent("refresh",(function(e){t.invokeEventCallbacks("refresh",e)})),xn.subscribeForEvent("bidReceived",(function(e){t.invokeEventCallbacks("bidReceived",e)})));var o=[];i.Z.forEach(r,(function(e){o.push({asAdUnit:e,promise:void 0})}));for(var s={},d=0;d<r.length;d++){var c=r[d];s[c.type]=s[c.type]||[],s[c.type].push(c)}for(var l in s)if(l=parseInt(l),s.hasOwnProperty(l)){var h=s[l],u=a&&a[l],f=n(l,h,u);i.Z.forEach(f,(function(e,t){var n=h[t];i.Z.find(o,(function(e){return e.asAdUnit==n})).promise=e}))}return i.Z.map(o,(function(e){return e.promise}))}};Hn.Types={UNKNOWN:0,DFP:1,SMART_AS:2};const In=new Ni({prefix:"testCompliance: "});var Sn=!1;try{Sn=window.location.href&&window.location.href.indexOf("bt_tc=false")>=0||"false"===localStorage.getItem("bt_tc")}catch(He){In.errorf(null,"testComplianceDisabled: ",He)}function Zn(e,t){return r.Z.sizeValidation.isUnacceptable(e.unit.element,{width:t.width,height:t.height})}function Yn(e,i){let a=t.Z.consts.complianceStatus.UNKNOWN;if(Sn)a=t.Z.consts.complianceStatus.COMPLIANT,In.debugf(null,"compliance is disabled for the current bid: ",e);else if(Zn(i,e)){a=t.Z.consts.complianceStatus.INCOMPLIANT;const n={sendToServer:!0,sendPercentage:5,event:"client_tc_applied",meta:{client_tc_type:"bid_with_unacceptance_size",auctionID:i.auctionId,bidderID:e.bidderId}};In.noticef(null,"bid with unacceptance size: ",e,n)}else if(function(e){const t=e.ad,i=e.type;return!![[".rhurl",".rhbodyurl"],[".rhurl","rh-image"],[".rhurl","rh-title"],[".rhurl",".rhbutton"],[".image-link","call-to-action-link"],[".image-link",".attribution"],[".image-link",".attribution"],[".rhprice",".rhsaleprice","gstatic.com/shopping"],[".grid-link-container",".grid-link"],[".rhsimpleprice",".rh-box-image","gstatic.com/shopping"],[".product-image",".product-container","gstatic.com/shopping"],["logoMCImageWidth","-webkit-animation"],["productBannerSlot","logoBackColorDerived"],["js/adsbygoogle.js",'data-ad-format="link"'],["js/adsbygoogle.js",'data-ad-type="text"']].some((e=>r.Z.commonUtils.matchStringsOnString(e,t)))||!(!t.includes("googletag.pubads().definePassback(")||i!=sn.Bid.Types.ADX)}(e)){a=t.Z.consts.complianceStatus.COMPLIANT;const n={sendToServer:!0,sendPercentage:5,event:"client_tc_applied",meta:{client_tc_type:"compliant_based_on_HTML",auctionID:i.auctionId,bidderID:e.bidderId}};In.noticef(null,"compliant based on HTML: ",e,n)}else if(function(e){if("triplelift"===e.bidderCode&&e.ad&&e.ad.indexOf("tl_auction_response")>-1&&e.ad.indexOf("advertiser_name")>-1&&e.ad.indexOf("heading")>-1&&-1===e.ad.indexOf("VAST version")&&-1===e.ad.indexOf("vast_xml"))return!0}(e)){a=t.Z.consts.complianceStatus.COMPLIANT;const n={sendToServer:!0,sendPercentage:5,event:"client_tc_applied",meta:{client_tc_type:"triplelift_compliant_bid",auctionID:i.auctionId,bidderID:e.bidderId}};In.noticef(null,"triplelift compliant bid: ",e,n)}else if(function(e){switch(e.bidderCode){case"adyoulike":case"lockerdome":case"sharethrough":return!0}return!1}(e)){a=t.Z.consts.complianceStatus.COMPLIANT;const n={sendToServer:!0,sendPercentage:5,event:"client_tc_applied",meta:{client_tc_type:"compliant_bidder",auctionID:i.auctionId,bidderID:e.bidderId}};In.noticef(null,"compliant bidder: ",e,n)}else{var o=n.Y.fireEvent("customComplianceCheck",{bid:e});if(o){a=o;const t={sendToServer:!0,sendPercentage:5,event:"client_tc_applied",meta:{client_tc_type:"custom_hook_file_tc_check",auctionID:i.auctionId,bidderID:e.bidderId}};In.noticef(null,"custom hook file tc check: ",e,t)}}return a}function Tn(e){var n={},r={};const a=t.Z.SharedObject.getItem("websiteConfig"),o=a.websiteID,s=a.organizationID;var d={};if(i.Z.forEach(e,(function(e){var i=e.auction,a=e.bids;d[i.auctionId]=d[i.auctionId]||{};for(var o=0;o<a.length;o++){var s=a[o];const e=Yn(s,i);if(e==t.Z.consts.complianceStatus.UNKNOWN){d[i.auctionId][s.bidId]={bid:s,result:{}};var c=s.makeEntryForTestCompliance();c.auctionID=i.auctionId,c.spaceExternalID=i.unit.space.id,c.spaceName=i.unit.space.name,c.refreshDepth=i.unit.countOfDispatches-1;var l=parseFloat(s.cpm);c.cpm=isNaN(l)?0:l,Bn(c);var h=f(5,8);n[h]=c,r[h]=s}else d[i.auctionId][s.bidId]={bid:s,result:{status:e,backup:!1}}}})),Object.keys(n).length<=0){for(var c in d)if(d.hasOwnProperty(c)){var l=d[c];for(var h in l)if(l.hasOwnProperty(h)){var u=l[h];d[c][h]=u.result}}return Promise.resolve(d)}let p;try{p=(new Intl.DateTimeFormat).resolvedOptions()}catch(e){p={locale:void 0,timezone:void 0}}const g={domain:window.location.host,websiteID:o,orgID:s,bids:n,locale:p.locale,timezone:p.timeZone,url:window.location.href};return Zi.testCompliance(g).then((function(e){for(var t in e)if(e.hasOwnProperty(t)){var i=n[t].auctionID,a=d[i][r[t].bidId];a.result.status=e[t].status,a.result.bidContentIdHash=e[t].id,a.result.backup=e[t].backup}for(var i in d)if(d.hasOwnProperty(i)){var o=d[i];for(var s in o)if(o.hasOwnProperty(s)){var c=o[s];d[i][s]=c.result}}return d}))}function Bn(e){if(e.markup&&e.markup.indexOf("://secure.ace.advertising.com/")>-1)try{var t="https://secure.ace.advertising.com/site="+e.markup.split("Site: '")[1].split("'")[0]+"/size="+e.markup.split("Size: '")[1].split("'")[0]+"/rip="+e.markup.split("/rip=")[1].split("/")[0];t&&(e.markup='\x3c!-- "'+t+'"--\x3e'+e.markup)}catch(e){}e.markup&&!e.url&&-1===e.markup.indexOf("<body")&&(e.markup="<body>"+e.markup+"</body>")}In.debugf(null,"test Compliance disabled? ",Sn);const Fn=new Ni({prefix:"dispatch: ",level:_i.INFO});var On=new function(){var e=new r.Z.SubscriptionLayer;this.subscribeForEvent=function(t,i){e.subscribeForEvent(t,i)};var a=function(e){return i.Z.filter(e,(function(e){return e.cpm>=.01}))};this.dispatchHB=function(e,t){try{var r={},o=[],s=[];i.Z.forEach(e,(function(e){var t=new i.Z.CDefer;r[e.auctionId]=t,o.push(t.promise);var n=e.unit.space.preBiddingSettings;if(n&&n.enabled)s.push(e);else{var a={auctionId:e.auctionId,bids:[]};t.resolve(a)}}));var d=i.Z.map(s,(function(e){var t=e.unit.space.preBiddingSettings.biddingSettings;return{auctionId:e.auctionId,biddingSettings:t,spaceName:e.unit.space.name,sizes:e.unit.space.sizes,element:e.unit.element}})),c=En.dispatch(d,t);return Promise.all(c).then((function(e){try{for(var t=[],o=0;o<e.length;o++){var d=e[o],c=d.auctionId,l=i.Z.find(s,(function(e){return e.auctionId==c})),h=d.bids;h=n.Y.fireEvent("passZeroCpmBidsFilter")?h:a(h);var u=n.Y.fireEvent("filterPrebidBids");if(u)h=u(i.Z.map(h,(function(e){return{bid:e,rawBid:e.rawBid}})));d.bids=h,t.push({auction:l,bids:h})}Tn(t).then((function(t){for(var n in t)if(t.hasOwnProperty(n)){var a=t[n],o=i.Z.find(e,(function(e){return e.auctionId==n})),s=o.bids;for(var d in a)if(a.hasOwnProperty(d)){var c=a[d],l=i.Z.find(s,(function(e){return e.bidId==d}));l.contentIdHash=c.bidContentIdHash,l.complianceStatus=c.status,l.isBackupCreative=c.backup}r[n].resolve(o)}}))}catch(e){}})),o}catch(e){}},this.dispatchAS=function(e,t){try{var n={},r=[],a=[];i.Z.forEach(e,(function(e){var t=new i.Z.CDefer;n[e.auctionId]=t,r.push(t.promise);var o=e.unit.space.postBiddingSettings;if(o&&o.enabled)a.push(e);else{var s={auctionId:e.auctionId,bids:[]};t.resolve(s)}}));var s=o(a,t,0);return i.Z.forEach(s,(function(e){e.then((function(e){var t=e.auctionId;n[t].resolve(e)}))})),r}catch(e){}};var o=function(e,n,a){try{var d={},c=[];i.Z.forEach(e,(function(e){var t=new i.Z.CDefer;c.push(t.promise),d[e.auctionId]={auction:e,deferred:t}}));var l=[];if(i.Z.forEach(e,(function(e){e.unit.space.postBiddingSettings.order[a]?l.push(e):d[e.auctionId].deferred.resolve({auctionId:e.auctionId,bids:[]})})),!l)return;var h=i.Z.map(l,(function(e){var t=e.unit.space.postBiddingSettings,i=e.getWinningBid(),n=i?i.cpm:0;return{auctionId:e.auctionId,spaceName:e.unit.space.name,params:s(e,t.order[a]),slotElementId:e.unit.element.getAttribute("id"),floorPrice:n,type:t.type}})),u=Hn.dispatch(h,n);return i.Z.forEach(u,(function(e){e.then((function(e){try{var s=e.auctionId,c=e.bids[0],u=i.Z.find(l,(function(e){return e.auctionId==s})),f=i.Z.find(h,(function(e){return e.auctionId==s}));if(!c){o([u],n,a+1)[0].then((function(e){d[s].deferred.resolve(e)}));try{const e=u.getWinningBid();if(e){const{ad:t,adId:i,bidderId:n,bidder:r,bidderCode:a,currency:o,creativeId:s,cpm:d,height:c,size:l,width:h,...p}=e,g={sendToServer:!0,event:"winButNoAACreative",meta:{auctionID:f.auctionId,winningBidData:p,spaceID:u.unit.space.id}};Fn.infof(null,"logWinButNoAACreative, auction ID -> ",f.auctionId||"N/A",g)}}catch(e){}return}if(c.type==sn.Bid.Types.DFP_PREBID)return c.complianceStatus=t.Z.consts.complianceStatus.COMPLIANT,void d[s].deferred.resolve(e);if(!(c.type!=sn.Bid.Types.ADX_TEXT||f.params.adxShouldTestCompliance||Zn(u,c)||function(e){return e.type==Ji.Types.ADX_TEXT&&[["video-box"],["google-native-video"],["imasdk.googleapis.com/formats/outstream"],["video-in-display"],["vix.eu.criteo.net/concat"],[".video-container","googlevideo.com"],["product-video","googlevideo.com"],["twoOfTwoVertical","animation-container"],["animation:text2Frames","-webkit-animation"]].some((t=>r.Z.commonUtils.matchStringsOnString(t,e.ad)))}(c))){c.complianceStatus=t.Z.consts.complianceStatus.COMPLIANT,d[s].deferred.resolve(e);const i={sendToServer:!0,sendPercentage:1,event:"client_tc_applied",meta:{client_tc_type:"gad_text_ad",auctionID:s,bidderID:c.bidderId}};return void Fn.noticef(null,"gam text ad: ",c,i)}Tn([{auction:u,bids:[c]}]).then((function(i){if(c.contentIdHash=i[s][c.bidId].bidContentIdHash,c.complianceStatus=i[s][c.bidId].status,!n||!n.forceCompliantEnabled||c.type!=sn.Bid.Types.DIRECT||c.complianceStatus!=t.Z.consts.complianceStatus.INCOMPLIANT)return c.complianceStatus!=t.Z.consts.complianceStatus.COMPLIANT?(c.cancelBid(),void o([u],n,a+1)[0].then((function(e){d[s].deferred.resolve(e)}))):void d[s].deferred.resolve(e);d[s].deferred.resolve(e)})).catch((function(e){c.cancelBid(),o([u],n,a+1)[0].then((function(e){d[s].deferred.resolve(e)}))}))}catch(e){}}))})),c}catch(e){}},s=function(e,t){switch(e.unit.space.postBiddingSettings.type){case Hn.Types.DFP:return c(e,t)}},d={},c=function(e,t){var n={},r=function(e,t){var n=e.getWinningBid(),r=e.getComplianceBids(),a=l(n,e.unit),o=n?n.getGPTTargeting({complianceBidsInAuction:r}):{},s=i.Z.objectAssign({},a||{},o,t.keyValues||{}),c=d[e.unit.unitID]?Object.keys(d[e.unit.unitID]):[];return d[e.unit.unitID]=s,{toAdd:s,toRemove:c}}(e,t);return n.keyValuesParams=r,n.queryParams=t.params.queryParams||{},n.adxBidderId=t.adx.bidderID,n.adxShouldTestCompliance=t.adx.testCompliance,n.directBidderId=t.direct.bidderID,n},l=function(e,i){var n=["true","false","undefined","152media","33across","a4g","aardvark","adblade","adbund","adbutler","adform","adkernel","adkerneladn","admedia","admixer","adocean","adsparc","adspirit","adsupply","adtelligent","adxcg","adyoulike","aerserv","andbeyond","aol","appnexusAst","appnexus","arteebee","atomx","amazon","audienceNetwork","automatad","beachfront","betweendigital","bidfluence","brainy","brealtime","bridgewell","brightcom","buysellads","c1x","carambola","clickonometrics","clickforce","colossus","connectad","consumable","contentIgnite","conversant","cox","cpx","criteo","defymedia","dgads","districtmDMX","districtm","engagebdr","emxdigital","emx_digital","e-planning","essens","fairtrade","featureForward","fidelityMedia","freewheel-ssp","fyber","gamoshi","gamma","getintent","gourmetAds","gumgum","gxone","imonomy","improvedigital","IndexExchange","indexExchange","ix","inneractive","innity","inskin","insticator","invibes","iqm","justpremium","kargo","komoona","kumma","lifestreet","lkqd","lockerdome","madvertise","marsmedia","matomy","media.net","medianet","mobfox","my6sense","mytarget","nginad","upo","upo1","upo2","upo3","upo4","upo5","upo6","upo7","upo8","upo9","upo10","oneplanetonly","onetag","openx","optimatic","optimera","orbitsoft","peak226","piximedia","platform.io","playgroundXyz","polluxNetwork","polymorph","prebidServer","pubgears","pubmatic","pulsepoint","pulsepointLite","quantcast","quantum","readpeak","realvu","rhythmone","rockyou","roxot","rtbdemandBidder","rtbdemandadk","rtbhouse","rubicon","rxrtb","sara","sekindoum","serverbid","sharethrough","smart","smartyads","somoAudience","sonobi","soloway","sovrn","spotx","springserve","stickyadstv","tapsense","teads","thoughtleadr","tremor","trionInteractive","triplelift","trustx","twenga","ucfunnel","underdogmedia","undertone","unruly","vertamedia","vertoz","vi","vidazoo","vis.x","vuble","weborama","wideorbit","widespace","xaxis","xendiz","yieldbot","yieldlab","yieldmo","yieldone"],r={up_bidder:!0};if(e&&e.bidder&&n.indexOf(e.bidder)>-1)r.up_bidder=e.bidder;else if(e&&e.bidder&&n.indexOf(e.bidder)<0){const t={sendToServer:!0,event:"upBidder_unknownBidder",meta:{bidder:e.bidder,bidderCode:e.bidderCode}};Fn.noticef(null,"unknown bidder for up_bidder targeting -> ",e.bidder,t)}var a=window.location.hostname;0===a.indexOf("www.")&&(a=a.replace("www.",""));var o=a;o=o.match(/(co\.il|co\.uk|org\.il)/)?o.replace("www.","").split(".").splice(-3).join("."):o.replace("www.","").split(".").splice(-2).join("."),r.up_recovery="true";var s=Gi.Xh(),d=Gi.Uh(),c=Gi.Jv();r.up_browser=s,r.up_device=d,r.up_platform=c,r.up_domain=a,r.up_website=o,r.up_website_id=t.Z.SharedObject.getItem("websiteConfig").websiteID;const l=i.countOfDispatches-1;return r.up_refresh=l>30?"30":`${l}`,r};Hn.subscribeForEvent("bidReceived",(function(t){e.invokeEventCallbacks("bidReceived",t)})),Hn.subscribeForEvent("refresh",(function(t){e.invokeEventCallbacks("refresh",t)})),En.subscribeForEvent("bidReceived",(function(t){e.invokeEventCallbacks("bidReceived",t)})),En.subscribeForEvent("refresh",(function(t){e.invokeEventCallbacks("refresh",t)}))},kn=function(){var e="push";window.googletag.cmd.unshift&&(e="unshift"),window.googletag.cmd[e]((function(){window.__cmp&&window.__cmp("getVendorConsents",null,(function(e){e&&e.gdprApplies&&(e.purposeConsents&&e.purposeConsents[1]&&e.purposeConsents[2]&&e.purposeConsents[3]&&e.purposeConsents[4]&&e.purposeConsents[5]||window.googletag.pubads().setRequestNonPersonalizedAds(1))})),n.Y.fireEvent("skipDisableInitialLoad")||window.googletag.pubads().disableInitialLoad(),n.Y.fireEvent("disableSingleRequest")||window.googletag.pubads().enableSingleRequest(),n.Y.fireEvent("collapseEmptyDivs")&&window.googletag.pubads().collapseEmptyDivs(!0),window.googletag.pubads().enableAsyncRendering(),window.googletag.enableServices()}))},Rn=function(e){switch(e){case"dfp":return kn}};const Ln=new Ni({prefix:"prebidPostset: "});let Cn;var Gn=function(){Cn=t.Z.cpbjs,t.Z.whitelistedFrame?Cn.setCookieFrame({frame:t.Z.whitelistedFrame,isBTSafeFrameDomain:t.Z.upoSettings.whitelistedFrameSettings.isOurOriginSafeFrame}):n.Y.addEventListener("whitelistedFrameLoaded",(function(){Cn.setCookieFrame({frame:t.Z.whitelistedFrame,isBTSafeFrameDomain:t.Z.upoSettings.whitelistedFrameSettings.isOurOriginSafeFrame})})),Wn(),Cn.que.push((function(){Cn.setConfig({userSync:{userIds:[{name:"pubProvidedId",params:{eidsFunction:function(){return[{source:"blockthrough.com",uids:[{id:"bt-aauser",atype:1,ext:{stype:"ppuid"}}]}]}}}]}})})),Cn.onBeforeRequest((function(e){let t=e&&r.Z.addAcceptableParam(e);if(t.includes("criteo.com/cdb")&&n.Y.fireEvent("addCriteoAdblockQueryParam")){const e=t.includes("abp=1");t=e?t:`${t}&abp=1`}return t})),Cn.aliasBidder("pulsepointLite","pulsepoint"),Cn.aliasBidder("indexExchange","ix"),Cn.aliasBidder("my6sense","upo2"),Cn.aliasBidder("lockerdome","upo3");var e=window.pbjs||window.jitaJS;e&&e.bidderSettings&&(Cn.bidderSettings=e.bidderSettings);var i=e&&e.getConfig&&e.getConfig(),a="high";if(i){var o=i.customPriceBucket,s=i.priceGranularity;a="custom"===s?o:s}Cn.setConfig({priceGranularity:a,userSync:{iframeEnabled:1,syncsPerBidder:25,syncEnabled:1,pixelEnabled:1}});const d=n.Y.fireEvent("scrapePrebidRequestBids");d&&function(e={}){const{onListenerAdded:t,pollingInterval:i=100,maxIntervalCount:n=50}=e;if(An())Pn(t);else{let e=0;const r=setInterval((function(){e++,e>=n?clearInterval(r):An()&&(clearInterval(r),Pn(t))}),i)}}(d),n.Y.fireEvent("addIndexExchangeWrappers")&&jn(),function(){const e=n.Y.fireEvent("provideSChainConfig");e&&Cn.que.push((function(){try{if(!window[e.prebidVariable].getConfig("schain"))throw new Error("Could not find publisher's schain in their prebid variable - use manual fallback.");Cn.setConfig({schain:window[e.prebidVariable].getConfig("schain")})}catch(t){try{const t=e.manualFallback||{};Cn.setConfig({schain:{validation:"strict",config:{ver:"1.0",complete:null!==t.complete&&void 0!==t.complete?t.complete:1,nodes:[{asi:t.asi,sid:t.sid,hp:null!==t.hp&&void 0!==t.hp?t.hp:1}]}}})}catch(e){Ln.errorf(null,"setPublisherSChain: error within manual fallback cpbjs.setConfig(): %o",e)}}}))}(),n.Y.fireEvent("prebidDoneInit",{cpbjs:Cn})},Wn=function(){try{var e=window.pbjs,t=e&&e.version&&parseInt(e.version[1]);if(t&&!isNaN(t)&&t>=4){var i=e.getConfig("consentManagement");if(i&&(i.gdpr||i.usp))return void Cn.setConfig({consentManagement:i})}}catch(e){Ln.errorf(null,"setConsentConfig: copy publisher consentManagement settings: %o",e)}try{"function"==typeof window.__tcfapi&&window.__tcfapi("ping",2,(function(e){if(e&&e.cmpLoaded&&e.gdprApplies){var t={consentManagement:Cn.getConfig().consentManagement||{}};t.consentManagement.gdpr={cmpApi:"iab",timeout:3e3,allowAuctionWithoutConsent:!0,defaultGdprScope:!1},Cn.setConfig(t)}}))}catch(e){Ln.errorf(null,"setConsentConfig: __tcfapi: %o",e)}try{"function"==typeof window.__cmp&&"function"!=typeof window.__tcfapi&&window.__cmp("getConsentData",null,(function(e){if(e&&e.gdprApplies){var t={consentManagement:Cn.getConfig().consentManagement||{}};t.consentManagement.gdpr={cmpApi:"iab",timeout:3e3,allowAuctionWithoutConsent:!0,defaultGdprScope:!1},Cn.setConfig(t)}}))}catch(e){Ln.errorf(null,"setConsentConfig: __cmp: %o",e)}try{"function"==typeof window.__uspapi&&window.__uspapi("getUSPData",1,(function(e,t){if(t&&e.uspString){var i={consentManagement:Cn.getConfig().consentManagement||{}};i.consentManagement.usp={cmpApi:"iab",timeout:100},Cn.setConfig(i)}}))}catch(e){Ln.errorf(null,"setConsentConfig: __uspapi: %o",e)}};function An(){return window.pbjs&&window.pbjs.onEvent}function Pn(e){try{window.pbjs.onEvent("beforeRequestBids",(function(e){const t=window.pbjs.adUnits||[],i=t.map((({code:e})=>e)),n=e.filter((e=>!i.includes(e.code)));n.length>0&&(window.pbjs.adUnits=[...t,...n])})),e&&e()}catch(e){Ln.errorf(null,"prebidPostset - listen to pbjs.requestBids: %o",e)}}var jn=function(){var e={aol:"ix_aol_om",appnexus:"ix_apnx_om",beachfront:"ix_bft_cpm",colossusssp:"ix_clss_cpm",consumable:"ix_cnsm_cpm",conversant:"ix_conv_cpm",criteo:"ix_cdb_om",districtm:"ix_dism_om",districtmDMX:"ix_dis_cpm",emx_digital:"ix_brt_cpm",gumgum:"ix_gum_cpm",improvedigital:"ix_imdi_cpm",justpremium:"ix_justp_cpm",kargo:"ix_karg_om",lockerdome:"ix_lkdm_cpm",onedisplay:"ix_oath_cpm",onemobile:"ix_oath_cpm",openx:"ix_ox_om",optimera:"ix_opti_cpm",piximedia:"ix_pix_cpm",pubmatic:"ix_pubm_om",pulsepoint:"ix_pp_om",pxyz:"ix_pxyz_cpm",quantcast:"ix_qua_cpm",rubicon:"ix_rubi_om",sharethrough:"ix_shth_cpm",sonobi:"ix_sbi_om",sovrn:"ix_sovrn_om",triplelift:"ix_tpl_cpm",trustx:"ix_trstx_cpm",indexExchange:"IOM",ix:"IOM",undertone:"ix_undr_cpm"},t=function(e){return(100*parseFloat(e)).toFixed()};for(var i in e)Cn.bidderSettings[i]={adserverTargeting:[{key:e[i],val:function(e){var i=Cn.getConfig().priceGranularity;return"auto"===i?e.size+"_"+t(e.pbAg):"dense"===i?e.size+"_"+t(e.pbDg):"low"===i?e.size+"_"+t(e.pbLg):"medium"===i?e.size+"_"+t(e.pbMg):"high"===i?e.size+"_"+t(e.pbHg):"custom"===i?e.size+"_"+t(e.pbCg):e.size+"_"+t(e.pbHg)}}]}};var Jn=function(e){switch(e){case"prebid":return Gn}},Kn=new function(){var e=new r.Z.SubscriptionLayer;this.subscribeForEvent=function(t,i){e.subscribeForEvent(t,i)};this.load=function(){window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],e.invokeEventCallbacks("preset"),new Promise((function(e,t){var i=document.createElement("script");i.async="true",i.type="text/javascript",i.addEventListener("load",(function(){Promise.all([new Promise((function(e,t){var i=document.createElement("script");i.async="true",i.type="text/javascript",i.addEventListener("load",(function(){e()})),i.addEventListener("error",(function(e){t(e)})),i.src="https://adservice.google.com/adsid/integrator.js?domain="+window.location.hostname+"&upapi=true",(document.head||document.body||document.documentElement).appendChild(i)})),new Promise((function(e,t){var i=!1;try{window.googletag&&window.googletag.getVersion&&(i=!0,(d=document.createElement("script")).async="true",d.type="text/javascript",d.addEventListener("load",(function(){e()})),d.addEventListener("error",(function(e){t(e)})),d.src="https://securepubads.g.doubleclick.net/gpt/pubads_impl_"+window.googletag.getVersion()+".js?upapi=true",(document.head||document.body||document.documentElement).appendChild(d))}catch(e){t("error in getting pubads_impl -> "+e)}if(window.googletag._vars_){var n=window.googletag._vars_,r=[21063911,21063048,21063670,21063817,21063671],a=[];for(var o in n){var s=n[o];if("string"==typeof s&&s.indexOf("pubads_impl_")>-1&&!i)try{var d;i=!0,(d=document.createElement("script")).async="true",d.type="text/javascript",d.addEventListener("load",(function(){e()})),d.addEventListener("error",(function(e){t(e)})),s.indexOf("?")>-1?d.src=s+"&upapi=true":d.src=s+"?upapi=true",(document.head||document.body||document.documentElement).appendChild(d)}catch(e){t("error in getting pubads_impl -> "+e)}else if(Array.isArray(s))try{var c=s.length;if(r)for(;c--;){var l=s[c];r.indexOf(l)>-1&&s.splice(c,1)}if(a)for(var h=0;h<a.length;h++)l=a[h],-1===s.indexOf(l)&&s.push(l)}catch(e){}}}i||t()}))]).then((function(){e()}),(function(e){t(e)}))})),i.addEventListener("error",(function(){t()})),i.src="//www.googletagservices.com/tag/js/gpt.js?upapi=true",(document.head||document.body||document.documentElement).appendChild(i)}))}},Un=__webpack_require__(326),Qn=new r.Z.SubscriptionLayer,qn=!1,$n=function(e){switch(qn||qn||(qn=!0,Kn.subscribeForEvent("preset",(function(){tr("dfp")})),Kn.subscribeForEvent("postset",(function(){nr("dfp")})),Un.k.subscribeForEvent("preset",(function(){tr("prebid")})),Un.k.subscribeForEvent("postset",(function(){nr("prebid")}))),e){case"dfp":Kn.load();break;case"prebid":Un.k.load()}},er=function(e,t){Qn.subscribeForEvent(e,t)},tr=function(e){Qn.invokeEventCallbacks(e)},ir=function(e,t){Qn.subscribeForEvent(e,t)},nr=function(e){Qn.invokeEventCallbacks(e)},rr=new function(){var e={},r=!1,a=!1,o=function(t,i){for(var n=e[t]||[],r=n.length||0,a=0;a<r;a++){var o=n[a];setTimeout((function(){o(i)}),0)}};this.UPONIT_EVENTS={BID_RECEIVED:1},this.COMPLIANCE_STATUSES={UNKNOWN:0,COMPLIANT:1,INCOMPLIANT:2,ERROR:3,PENDING:4},this.init=function(e){var t=e.prebidConfig,i=e.dfpConfig,n=t&&t.init,l=i&&i.init;r=t&&t.enabled,a=i&&i.enabled,s({prebid:r,dfp:a}),n&&d(n),l&&c(l),On.subscribeForEvent("bidReceived",(function(e){var t=p([e.bid])[0];o(rr.UPONIT_EVENTS.BID_RECEIVED,t)}))};var s=function(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t]){var i=Rn(t),n=Jn(t);i&&er(t,i),n&&ir(t,n)}for(var t in e)e.hasOwnProperty(t)&&e[t]&&$n(t)};this.defineSlot=function(e,t){var n,r,o=g(e),s=!!document.querySelector(o.selector.value),d=(n=o.selector.value,r=window.uponit.slots,!!i.Z.find(r,(function(e){return e.unit.space.selector.value==n})));if(s&&!d){!a||t&&t.dfpSlotAlreadyDefined||function(e){e&&e.adUnit&&e.sizes&&e.slotElementId&&window.googletag.cmd.push((function(){var t=window.googletag.defineSlot(e.adUnit,e.sizes,e.slotElementId).addService(window.googletag.pubads());if(e.targeting)for(var i in e.targeting)if(e.targeting.hasOwnProperty(i)){var n=e.targeting[i];t.setTargeting(i,n)}}))}(e.dfp);var c,l=new sn.Space(o),h=document.querySelector(l.selector.value);(c=h).alreadyWraped||(Xn.hookFunction(c,"setAttribute",Xn.Types.SET_ATTRIBUTE_PRE,void 0,!0),c.alreadyWraped=!0);var u=new sn.Unit({element:h,space:l}),f=new sn.Slot({unit:u});return window.uponit.slots.push(f),f}};var d=function(e){n.Y.addEventListener("prebidDoneInit",(function(t){var i=t.data,n=i&&i.cpbjs;if(n){var r={setConfig:function(e){n.setConfig(e)},aliasBidder:function(e,t){n.aliasBidder(e,t)},enableAnalytics:function(e){n.enableAnalytics(e)},bidderSettings:function(e){n.bidderSettings=e}};for(var a in e)if(e.hasOwnProperty(a)){var o=e[a];r[a]&&r[a].apply(this,o)}}}))},c=function(e){window.googletag.cmd.push((function(){window.googletag.pubads().disableInitialLoad()}))};this.enableServices=function(){a&&(window.googletag=window.googletag||{cmd:[]},window.googletag.cmd.push((function(){window.googletag.enableServices()})))},this.fetchPrebid=function(e){return l(e)};var l=function(e){if(!r)return i.Z.map(e,(function(e){var t={slotName:e.unit.space.name,bids:[]};return Promise.resolve(t)}));var a=f(e),o=On.dispatchHB(a);return i.Z.map(o,(function(e){return e.then((function(e){var r=e.auctionId,o=i.Z.find(a,(function(e){return e.auctionId==r})),s=e.bids,d=o.unit.space.name,c=s;return n.Y.fireEvent("apiOnlyCompliantBids")&&(c=[],i.Z.forEach(s,(function(e){e.complianceStatus==t.Z.consts.complianceStatus.COMPLIANT&&c.push(e)}))),o.addBids(c),{slotName:d,bids:p(c)}}))}))};this.fetchDFP=function(e){return h(e)};var h=function(e){if(!a)return i.Z.map(e,(function(e){var t={slotName:e.unit.space.name,bids:[]};return Promise.resolve(t)}));var r=f(e),o={forceCompliantEnabled:n.Y.fireEvent("forceCompliant")},s=On.dispatchAS(r,o);return i.Z.map(s,(function(e){return e.then((function(e){var a=e.auctionId,o=i.Z.find(r,(function(e){return e.auctionId==a})),s=e.bids,d=o.unit.space.name,c=o.getWinningBid();if(s&&s.length>0&&s[0].type==sn.Bid.Types.DFP_PREBID)return c&&c.additionalBidsToRender.push(s[0]),{slotName:d,bids:[]};var l=s;return n.Y.fireEvent("apiOnlyCompliantBids")&&(l=[],i.Z.forEach(s,(function(e){e.complianceStatus==t.Z.consts.complianceStatus.COMPLIANT&&l.push(e)}))),o.addBids(l),{slotName:d,bids:p(l)}}))}))};this.renderBid=function(e,t){e.renderBid(t)},this.fetchAndRender=function(e){return u(e)};var u=function(e){return new Promise((function(n,r){e=e||window.uponit.slots;var a=l(e);Promise.all(a).then((function(r){var a=h(e);i.Z.forEach(a,(function(e){e.then((function(e){for(var n,r=e.slotName,a=i.Z.find(window.uponit.slots,(function(e){return e.unit.space.name==r})),o=a.getBids(),s=0;s<o.length;s++){var d=o[s];(!n||n.cpm<d.cpm)&&d.complianceStatus==t.Z.consts.complianceStatus.COMPLIANT&&(n=d)}a.renderBid(n)}))})),Promise.all(a).then((function(){n()}))}))}))};this.addEventListener=function(t,i){e[t]=e[t]||[],e[t].push(i)};var f=function(e){return i.Z.map(e,(function(e){var t=function(e){return i.Z.find(e.auctionsList,(function(e){return e.state!=sn.Auction.States.DONE}))}(e);return t||(t=new sn.Auction({unit:e.unit}),e.auctionsList.push(t),n.Y.fireEvent("onAuctionStarted",{auction:t})),t}))},p=function(e){return i.Z.map(e,(function(e){return{bidId:e.bidId,adId:e.adId,bidder:e.bidder,cpm:e.cpm,height:e.height,width:e.width,size:e.size,complianceStatus:e.complianceStatus}}))},g=function(e){var t={};if(t.id="space_"+dn(e.name+"_"+e.selector),t.id=t.id.substr(0,500),t.name=e.name,t.sizes=e.sizes,t.selector={position:0,value:e.selector},e.prebid){t.preBiddingSettings={enabled:!0,biddingSettings:{}},t.preBiddingSettings.biddingSettings[1]=[];for(var i=0;i<e.prebid.bidders.length;i++){var n=e.prebid.bidders[i],r="bidder_"+dn(t.id+"_"+n.name+"_"+JSON.stringify(n.params).trim());r=r.substr(0,500),t.preBiddingSettings.biddingSettings[1].push({id:r,name:n.name,params:n.params})}}return e.dfp&&(t.postBiddingSettings={adxId:e.name+"_adx",directId:e.name+"_direct",enabled:!0,type:1,order:[{params:{keyValues:e.keyValues},adx:{bidderID:e.name+"_adx",testCompliance:!0},direct:{bidderID:e.name+"_direct"}},{params:{queryParams:{ad_type:"text"},keyValues:e.keyValues},adx:{bidderID:e.name+"_adx",testCompliance:!1},direct:{bidderID:e.name+"_direct"}}]}),t}};const ar=new Ni({prefix:"testCompliance: "});var or=new function(){this.init=function(){n.Y.addEventListener("onAuctionGroupStarted",(function(e){ar.infof(null,"onAuctionGroupStarted: %o",e)})),n.Y.addEventListener("onAuctionGroupEnded",(function(e){ar.infof(null,"onAuctionGroupEnded: %o",e)})),n.Y.addEventListener("onAuctionStarted",(function(e){ar.infof(null,"onAuctionStarted: %o",e)})),n.Y.addEventListener("onAuctionEnded",(function(e){ar.infof(null,"onAuctionEnded: %o",e)})),n.Y.addEventListener("onPrebiddingStarted",(function(e){ar.infof(null,"onPrebiddingStarted: %o",e)})),n.Y.addEventListener("onPrebiddingEnded",(function(e){ar.infof(null,"onPrebiddingEnded: %o",e)})),n.Y.addEventListener("onPostbiddingStarted",(function(e){ar.infof(null,"onPostbiddingStarted: %o",e)})),n.Y.addEventListener("onPostbiddingEnded",(function(e){ar.infof(null,"onPostbiddingEnded: %o",e)})),n.Y.addEventListener("onAuctionBidResponse",(function(e){ar.infof(null,"onAuctionBidResponse: %o",e)})),n.Y.addEventListener("onNewUnitFound",(function(e){ar.infof(null,"onNewUnitFound: %o",e)}))}},sr=new function(){var e=[],t={},n={};this.set=function(i){var r=i;Array.isArray(r)||(r=[r]);for(var a=0;a<r.length;a++){var o=r[a];o&&(e.push(o),t[o.name]=t[o.name]||[],t[o.name].push(o),n[o.id]=n[o.id]||[],n[o.id].push(o))}},this.getSpacesByName=function(e){return t[e]||[]},this.getSpacesByID=function(e){return n[e]||[]},this.getAll=function(){return e},this.remove=function(r){e=i.Z.filter(e,(function(e){return e!=r}));var a=n[r.id].indexOf(r);a>=0&&n[r.id].splice(a,1);var o=t[r.name].indexOf(r);o>=0&&t[r.name].splice(o,1)}};const dr=new Ni;function cr(e){const t=n.Y.fireEvent("maxAmountOfUnitDispatches");return t?e.filter((e=>e.countOfDispatches<t)):e}function lr(e,i){let r=t.Z.upoSettings.minTimeBetweenRefreshes;const a=n.Y.fireEvent("minTimeBetweenRefreshes");isNaN(a)||"number"!=typeof a||(r=a),isNaN(i.minTimeBetweenRefreshes)||"number"!=typeof i.minTimeBetweenRefreshes||(r=i.minTimeBetweenRefreshes);const o=i.getLastTimeLocationChanged&&i.getLastTimeLocationChanged(),s=new Date;return e.filter((e=>{if(!e)return!1;let t=!0;if(e.lastInvokeTime){const i=s.getTime()-e.lastInvokeTime.getTime();i>r||o&&e.lastInvokeTime.getTime()<o?dr.infof(null,"refreshing %o",e.space.name):(t=!1,dr.infof(null,"waiting %o secs before next refresh for %o",[(r-i)/1e3,e.space.name]))}return t}))}function hr(e){return e.filter((e=>!n.Y.fireEvent("filterOutUnitToBeAuctioned",{unit:e})))}function ur(e){const t=e.map((e=>e.element));return e.filter(((e,i)=>t.indexOf(e.element)==i))}function fr(e,t){return new Promise(((i,n)=>{t&&t.definedSlotsFilteringSettings&&(t.definedSlotsFilteringSettings.dfpEnabled||t.definedSlotsFilteringSettings.alwaysFilterByGoogletagSlots)?window.googletag.cmd.push((function(){const n=window.googletag.pubads().getSlots(),r=[];e.forEach((e=>{t.definedSlotsFilteringSettings.alwaysFilterByGoogletagSlots||e.space.postBiddingSettings.enabled?n.forEach((t=>{t.getSlotElementId()===e.element.getAttribute("id")&&r.push(e)})):r.push(e)})),i(r)})):i(e)}))}var pr=new function(){var e=[];this.set=function(t){e.push(t)},this.getBySpace=function(t){for(var i=0;i<e.length;i++){var n=e[i];if(n.space==t)return n}},this.getByElement=function(t){for(var i=0;i<e.length;i++){var n=e[i];if(n.element==t)return n}},this.getAll=function(){return e}};const gr=new Ni({prefix:"defaultCreativeBid: "});function mr(e,n){var r=[],a=!1;var o={ad:e.creativeHTML,bidder:"default-creative",bidderId:"default-creative-"+n.unit.space.name,bidderCode:"default-creative",width:e.width,height:e.height};return new sn.Bid(o,o,sn.Bid.Types.DEFAULT_CREATIVE,void 0,(function(n){!function(n){var o=e.height+"px",s=e.width+"px",d=e.creativeHTML,c=document.createElement("div");c.className="default-creative-container",c.style.height=o,c.style.width=s;var l=Ai.safeFrameCreator.createSafeFrame();l.className="default-creative-iframe",l.setAttribute("scrolling","no"),l.setAttribute("marginwidth","0"),l.setAttribute("marginheight","0"),l.setAttribute("height",o),l.setAttribute("width",s),c.appendChild(l),l.addEventListener("load",(function(){try{if(t.Z.upoSettings.whitelistedFrameSettings.isOurOriginSafeFrame)l.contentWindow.postMessage(JSON.stringify({message:"Render Secure Creative",ad:d}),"*");else{var e=l.contentWindow.document;if(navigator.userAgent&&navigator.userAgent.toLowerCase().indexOf("firefox/")>-1){const t=/firefox\/([\d\.]+)/;let i=navigator.userAgent.toLowerCase().match(t)[1];i&&parseInt(i,10)<67&&e.open("text/html","replace")}e.write(d),e.close()}a=!0,i.Z.forEach(r,(function(e){e()}))}catch(e){gr.errorf(null,"auction: createDefaultCreativeBid: renderDefaultCreative: %o",e)}})),n.appendChild(c)}(n.placement)}),void 0,void 0,(function(e){a?e():r.push(e)}),void 0)}const br=new Ni;var wr=new function(){var e,a=!1,o={};let s;function d(){return s}o[t.Z.consts.refreshType.ALL]=[],o[t.Z.consts.refreshType.VISIBLE]=[],o[t.Z.consts.refreshType.HIDDEN]=[];var c=[],l=[],h=[],u=!1,f=function(r,d){if(!a){var l;a=!0,sr.set(r),e=d||{},u=n.Y.fireEvent("alwaysFilterByGoogletagSlots"),M(e),(e.dfp||u)&&y(),window.googletag.cmd.push((function(){var e=window.googletag.pubads().getSlots();i.Z.forEach(e,(function(e){un(e)}))})),v(),E(),l=function(){var e=sr.getAll();R(),B(t.Z.consts.refreshType.ALL),b(e)},window.addEventListener("scroll",(function(e){l()})),Dn((function(){var e=n.Y.fireEvent("onBlurRefresh");B("ALL"===e?t.Z.consts.refreshType.ALL:"VISIBLE"===e?t.Z.consts.refreshType.VISIBLE:t.Z.consts.refreshType.HIDDEN)})),function(){try{history.pushState=(e=history.pushState,function(){var t=e.apply(this,arguments);return window.dispatchEvent(new Event("pushstate")),window.dispatchEvent(new Event("locationchange")),t}),history.replaceState=(e=>function(){var t=e.apply(this,arguments);return window.dispatchEvent(new Event("replacestate")),window.dispatchEvent(new Event("locationchange")),t})(history.replaceState),window.addEventListener("popstate",(()=>{window.dispatchEvent(new Event("locationchange"))}))}catch(e){br.errorf(null,"setting up locationchange event - error: %o",e)}var e}(),n.Y.fireEvent("disableRefreshOnLocationChange")||window.addEventListener("locationchange",(function(){s=Date.now(),B(t.Z.consts.refreshType.ALL)}));var h=n.Y.fireEvent("refreshOnInterval");if(h){var f=h.refreshInterval||2e3;br.infof(null,"going to dispatch refresher on a %o sec(s) interval",f/1e3);var p=function(){B(t.Z.consts.refreshType.VISIBLE)},_=setInterval(p,f);!function(e){window.addEventListener("focus",(function(t){e()}))}((function(){_||(_=setInterval(p,f))})),Dn((function(){_&&(clearInterval(_),_=null)}))}On.subscribeForEvent("refresh",(function(e){var n=sr.getAll();i.Z.forEach(e,(function(e){var i=N(e,n);i&&(o[t.Z.consts.refreshType.ALL].indexOf(i)<0&&o[t.Z.consts.refreshType.ALL].push(i),s&&Date.now()-s<2e3?B(t.Z.consts.refreshType.ALL):B(t.Z.consts.refreshType.HIDDEN))}))})),n.Y.addEventListener("refreshByForce",(function(e){var t=e.data,n=t&&t.settings,r=sr.getAll(),a=n&&n.minTimeBetweenRefreshes,o=n&&n.shouldRefreshFailedSpaces,s=n&&n.spacesNames,d=n&&n.shouldRefreshAllSpaces,l=[],h={filteringSettings:{minTimeBetweenRefreshes:a}};o&&i.Z.forEach(c,(function(e){l.push(e)})),s&&(l=i.Z.filter(r,(function(e){return s.indexOf(e.name)>-1}))),d&&(l=r),w(l=i.Z.distinct(l),h).then((function(e){c=i.Z.filter(l,(function(t){return e.indexOf(t)<0}))}))})),n.Y.addEventListener("websiteHooksGetSpaces",(function(){return sr.getAll()}));var D=n.Y.fireEvent("scrapePrebidAdUnits");D&&("boolean"==typeof D&&(D={}),g(D)),n.Y.fireEvent("scrapeGoogletagSlots")&&window.googletag.cmd.push((function(){var e=window.googletag.pubads().getSlots(),t=i.Z.map(e,(function(e){return V(e)}));i.Z.forEach(t,(function(e){e&&sr.set(e)}))})),(e.dfp||u)&&window.googletag.cmd.push((function(){var e=window.googletag.pubads().getSlots();e&&i.Z.forEach(e,(function(e){X(e)}))})),m()}};function p(){return window.pbjs&&window.pbjs.adUnits}var g=function(e){var t,n=e.getAdUnits||p,r=e.filterOutAdUnit,a=e.parseAdUnit,o=e.postParsingAdUnits,s=e.parseInterval||1e3,d=[],c=function(){if((t=n()||[]).length>0){for(var e=[],s=[],c=0;c<t.length;c++){var l=t[c];l&&(d.indexOf(l)>=0||(l=JSON.parse(JSON.stringify(l)),l=a?a(l):l,r&&r(l)||(d.push(l),e.push(l))))}if(0===e.length)return;if(e=o?o(e):e,i.Z.forEach(e,(function(e){const t=ln(e);var i=t&&new sn.Space(t);i&&(sr.getSpacesByName(i.name).length>0||s.push(i))})),0===s.length)return;sr.set(s),b(s)}};c(),setInterval((function(){c()}),s)},m=function(){window.__upo_d.getSpaces=function(){return sr.getAll()},window.__upo_d.getUnits=function(){return pr.getAll()},window.__upo_d.getAuctions=function(){return l}},b=function(e){return w(x(e))};function w(e,t){const i=function(){const e=[],t=n.Y.fireEvent("auctionBlockerHook");return t&&e.push(t),e}();return Promise.all(i).then((()=>H(e))).then((e=>Y(e,t))).then((e=>e.map((e=>e.space))))}var v=function(){var e=sr.getAll();n.Y.fireEvent("listenToNewSpaces",{spaces:e,callback:function(e){if(e){for(var t=0;t<e.length;t++){var i=e[t],n=i&&new sn.Space(i);n&&sr.set(n)}var r=sr.getAll();b(r)}}})};function N(e,t){const i=`[id="${e}"]`,n=Ai.commonBLUtils.getElementWithSelector(i);if(!n)return;const r=pr.getByElement(n);if(r)return r.space;return x(t).find((e=>{const t=Ai.commonBLUtils.getSpaceElement(e);return t&&t===n}))}var _,D=[],X=function(e){var t=e.getSlotElementId(),a=e.getAdUnitPath(),o=sr.getAll(),s=N(t,o);if(!s){if(n.Y.fireEvent("useSlotPath"))s=sr.getSpacesByName(a.split("/")[a.split("/").length-1])[0];else{var d=n.Y.fireEvent("customGetSpace",{spaces:o,divId:t,slot:e});d&&(s=i.Z.find(o,(function(e){return e.name==d.name})))}(s=s&&JSON.parse(JSON.stringify(s)))&&(s.selector.value=r.Z.commonUtils.escapeSelector("#"+t),s.name=t,sr.set(s))}if(!s){var c=n.Y.fireEvent("extractPublisherSpaceLaterDefineSlot",{name:t});if(c){const e=ln(c);(s=e&&new sn.Space(e))&&sr.set(s)}}s||n.Y.fireEvent("scrapeGoogletagSlots")&&(s=V(e))&&sr.set(s),s&&D.indexOf(s)<0&&(D.push(s),clearTimeout(_),_=setTimeout((function(){w(D),D=[]}),100))},y=function(){var e="push";window.googletag&&window.googletag.cmd.unshift&&(e="unshift"),window.googletag.cmd[e]((function(){var e=window.googletag.defineSlot;if(window.googletag.defineSlot=function(t,i,n){var r=e(t,i,n);return setTimeout((function(){if(r){if(un(r))return;X(r)}}),0),r},n.Y.fireEvent("overrideDefineOutOfPageSlot")){var t=window.googletag.defineOutOfPageSlot;window.googletag.defineOutOfPageSlot=function(e,i){var n=t(e,i);return setTimeout((function(){if(n){if(un(n))return;X(n)}}),0),n}}}))},V=function(a){if(a&&!n.Y.fireEvent("shouldIgnoreGoogletagSlotScraping",{slot:a})){var o=a.getSlotElementId(),s=a.getSizes(),d=i.Z.map(s,(function(e){if(e.getWidth)return e.getWidth()+"x"+e.getHeight()}));d=i.Z.filter(d,(function(e){return!!e}));var c="adxId_"+o,l="directId_"+o,h={id:o,name:o,staging:!1,selector:{value:r.Z.commonUtils.escapeSelector("#"+o),position:t.Z.consts.selectorPosition.APPEND_CHILD},sizes:d,preBiddingSettings:{enabled:!0,biddingSettings:{}},postBiddingSettings:{adxId:c,directId:l,enabled:e.dfp,type:1,order:[{params:{},adx:{bidderID:c,testCompliance:!0},direct:{bidderID:l}},{params:{queryParams:{ad_type:"text"}},adx:{bidderID:c,testCompliance:!1},direct:{bidderID:l}}]}};return h.preBiddingSettings.biddingSettings[t.Z.consts.headerBiddingType.prebid]=[],new sn.Space(h)}},M=function(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t]){var r=[],a=[],o=Rn(t),s=Jn(t);o&&r.push(o),s&&a.push(s);var d=n.Y.fireEvent("thirdPartyModulePreset",{type:t}),c=n.Y.fireEvent("thirdPartyModulePostset",{type:t});d&&r.push(d),c&&a.push(c),i.Z.forEach(r,(function(e){er(t,e)})),i.Z.forEach(a,(function(e){ir(t,e)})),$n(t)}},E=function(){(h=n.Y.fireEvent("movePositionRules")||[])&&h.length>0&&Ai.movePositionService.setMovePositionRules(h)};const z=[cr,lr,hr,ur,fr];function x(e=[]){return e.filter((e=>!pr.getBySpace(e)))}this.invoke=function(e){if(!window.__bt_intrnl.stopFlag){var t=e.spaces,i=e.settings;f(t,i),b(t);var n=1,r=setInterval((function(){15==n&&clearInterval(r),n++,b(t)}),100)}};var H=function(e){const t=[],r=[];return i.Z.forEach(e,(function(e){var i,a=Ai.commonBLUtils.getSpaceElement(e);a&&((i=pr.getByElement(a))||(I(a),i=new sn.Unit({element:a,space:e}),n.Y.fireEvent("onNewUnitFound",i),pr.set(i),r.push(i)),i&&i.space==e&&t.push(i))})),function(e){const{AD_UNIT_PATH_PREFIX:t,deriveDataFromUnitForSpaces:i,slotDataBySpaceName:r}=n.Y.fireEvent("newGAMSlotsOnUnitCreation")||{};e.length>0&&(i||r)&&window.googletag.cmd.push((function(){try{e.forEach((({unitID:e,element:n,space:a})=>{let o,s,d;const c=i&&i.includes(a.name)&&t,l=r&&r[a.name];(c||l)&&(l&&({adUnitPath:o,sizes:s,slotElementId:d}=r[a.name]||{}),!o&&t&&(o=`${t}${a.name}`),s||(s=a.sizes.map((e=>e.split("x").map((e=>parseInt(e,10))))).filter((e=>2===e.length&&!isNaN(e[0])&&!isNaN(e[1])))),d||(n.id||n.setAttribute("id",`bt-unit-${e}`),d=n.id),o&&s&&s.length>0&&d&&hn(o,s,d))}))}catch(e){cn.errorf(null,"error defining new GAM slots on Unit creation",e)}}))}(r),t},I=function(e){e.alreadyWraped||(Xn.hookFunction(e,"setAttribute",Xn.Types.SET_ATTRIBUTE_PRE,void 0,!0),e.alreadyWraped=!0)};var S,Z,Y=function(r,a){return new Promise((function(o,s){if(0!==r.length){n.Y.fireEvent("onBeforeInvokeDispatch",{spaces:i.Z.map(r,(function(e){return e.space}))}),function(e){e.forEach((({space:e})=>{n.Y.fireEvent("modifySpacesOnBeforeFetching",{space:e})}))}(r);var d={};a&&(d=a.filteringSettings||{}),async function(t,i){i={definedSlotsFilteringSettings:{dfpEnabled:e.dfp,alwaysFilterByGoogletagSlots:u},...i};let n=t.filter((e=>e.state===sn.Unit.States.PENDING));if(n.length>0){n.forEach((e=>{e.state=sn.Unit.States.CHECKING}));let e=[...n];for(const t of z)if(n=await t(n,i),e=e.filter((e=>{const t=n.includes(e);return t||(e.state=sn.Unit.States.PENDING),t})),0===n.length)break}return n}(r,d).then((function(r){try{if(function(e,i){e&&0!==e.length&&i&&t.Z.upoSettings.amazonBidderConfiguration.enabled&&e.forEach((e=>{const i=e.space;if(i.preBiddingSettings.biddingSettings[t.Z.consts.headerBiddingType.prebid].some((e=>"amazon"===e.name)))return;const n=e.element,r=googletag.pubads().getSlots().find((e=>document.getElementById(e.getSlotElementId())===n)).getAdUnitPath();i.preBiddingSettings.biddingSettings[t.Z.consts.headerBiddingType.prebid].push({id:r+"_amazon_bidder",name:"amazon",params:{pubID:t.Z.upoSettings.amazonBidderConfiguration.pubID,adUnitGPTPath:r}})}))}(r,e.dfp),o(r||[]),!r||0===r.length)return;var a=i.Z.map(r,(function(e){return e.space}));Ai.movePositionService.dispatch(a);var s=i.Z.map(r,(function(e){return new sn.Auction({unit:e})}));if(n.Y.fireEvent("onAuctionGroupStarted",s),F(s),window.__bt_intrnl.stopFlag)return;n.Y.fireEvent("onPrebiddingStarted",s);var d=On.dispatchHB(s);Promise.all(d).then((function(t){n.Y.fireEvent("onPrebiddingEnded",s);for(var r=0;r<t.length;r++){var a=t[r],o=a.auctionId,d=a.bids;i.Z.forEach(s,(function(e){e.auctionId==o&&e.addBids(d)}))}var c={forceCompliantEnabled:n.Y.fireEvent("forceCompliant")};if(!window.__bt_intrnl.stopFlag){var l=On.dispatchAS(s,c);i.Z.forEach(l,(function(t,r){t.then((function(t){var r=i.Z.find(s,(function(e){return e.auctionId==t.auctionId})),a=r.getWinningBid(),o=t.bids;if(o&&o.length>0?i.Z.forEach(o,(function(e){e.type==sn.Bid.Types.DFP_PREBID?a&&a.additionalBidsToRender.push(e):r.addBids([e])})):e.dfp&&r.unit.space.postBiddingSettings.enabled&&a&&r.cancelAuction(),!window.__bt_intrnl.stopFlag){var d=r.getWinningBid();if(localStorage.getItem("forceDefaultCreative")&&(d=void 0),!d){var c=n.Y.fireEvent("getDefaultCreative",{auction:r});c&&(c={width:c.width,height:c.height,creativeHTML:c.creativeHTML},d=mr(c,r),r.addBids([d]))}r.subscribeForEvent("auctionRendered",(function(){r.unit.countOfRenders++,n.Y.fireEvent("onAuctionRendered",{auction:r,bid:d}),n.Y.fireEvent("onAuctionRenderedWebsiteHook",{space:r.unit.space,element:r.unit.element,winningBid:d});const e=r.unit.countOfRenders;qi(r.unit.element,(()=>{e==r.unit.countOfRenders&&(n.Y.fireEvent("onAdViewed",{auction:r,bid:d}),n.Y.fireEvent("onAdViewedWebsiteHook",{space:r.unit.space,element:r.unit.element,winningBid:d}))}))})),r.subscribeForEvent("renderBidDone",(function(e){n.Y.fireEvent("onAuctionEnded",{auction:r,bid:e.successfulyRenderedBid&&d}),n.Y.fireEvent("onAuctionEndedWebsiteHook",{element:r.unit.element,bid:e.successfulyRenderedBid&&d})})),r.renderBid(d),r.unit.state=sn.Unit.States.PENDING,T(r.unit.space)}}))}))}}))}catch(e){br.errorf(null,"recovery: filterUnits %o",e)}}))}else o([])}))},T=function(e){var i=n.Y.fireEvent("spaceRefreshSettings",{space:e});if(i){var r=Ai.commonBLUtils.refreshTypeDecoder(i.type);if(r===t.Z.consts.refreshType.UNKNOWN)return void br.errorf(null,"invalid refresh type setting %o",i.type);var a=i.rate||3e4;o[r].indexOf(e)<0&&o[r].push(e),br.infof(null,"setting up refresh(%s) for space %o in %o secs",[r,e.name,a/1e3]),setTimeout((function(){B(r)}),a)}},B=function(e){clearTimeout(S),S=setTimeout((function(){var n=[];switch(e){case t.Z.consts.refreshType.ALL:n=o[e];break;case t.Z.consts.refreshType.VISIBLE:(n=O(o[e])).push(...O(o[t.Z.consts.refreshType.ALL]));break;case t.Z.consts.refreshType.HIDDEN:(n=k(o[e])).push(...k(o[t.Z.consts.refreshType.ALL]));break;default:n=o[e]||[]}if(n.length<1)return void br.infof(null,"nothing to refresh");const r=n.filter(((e,t,i)=>i.indexOf(e)===t));br.infof(null,"dispatch trying to refresh %o spaces out of %o with type %o",[r.length,e,o[e].length]),w(r,{filteringSettings:{getLastTimeLocationChanged:d}}).then((function(t){t=t||[];var n=[];i.Z.forEach(r,(function(e){t.indexOf(e)<0&&n.push(e)})),br.infof(null,"refreshed %o spaces out of %o",[t.length,r.length]),o[e]=n}))}),1e3)},F=function(e){i.Z.forEach(e,(function(e){e.state=sn.Auction.States.DISPATCHED,e.unit.state=sn.Unit.States.DISPATCHED,l.push(e),e.unit.countOfDispatches++,e.unit.lastInvokeTime=new Date,n.Y.fireEvent("onAuctionStarted",{auction:e})}))},O=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];rn(n.selector.value)&&t.push(n)}return t},k=function(e){if(!document.hasFocus())return e;for(var t=[],i=0;i<e.length;i++){var n=e[i];rn(n.selector.value)||t.push(n)}return t},R=function(){clearTimeout(Z),Z=setTimeout((function(){try{var e=n.Y.fireEvent("extractPublisherSpacesLaterDefinedUnits");if(!e)return;for(var t=0;t<e.length;t++){const n=ln(e[t]);var i=n&&new sn.Space(n);i&&sr.set(i)}}catch(e){}}),1e3)}};const vr=new Ni({prefix:"main: "});window.__upo_d=window.__upo_d||{},window.__upo_d.v="v2",window.__bt_intrnl=window.__bt_intrnl||{},window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[];var Nr={"contentEnabled":true,"mobileContentEnabled":true,"dfpEnabled":true,"spaces":{}},_r=Nr.spaces||{},Dr="api.btloader.com";const Xr=t.Z.upoSettings.staticDomain;(window.location.href.indexOf("bt_debug=true")>=0||"true"===window.localStorage.getItem("bt_debug"))&&(Nr.dfpEnabled="true"===localStorage.getItem("forceGAM")||Nr.dfpEnabled,Nr.mobileContentEnabled="true"===localStorage.getItem("forceMobileContent")||Nr.mobileContentEnabled,Nr.contentEnabled="true"===localStorage.getItem("forceContent")||Nr.contentEnabled);var yr,Vr={websiteData:Nr,scriptSettings:Nn,apiDomain:Dr,staticDomain:Xr,websiteID:"5723294687821824",organizationID:"5637357358284800",dfpEnabled:Nr.dfpEnabled,prebidEnabled:!1,mobileContentEnabled:Nr.mobileContentEnabled,contentEnabled:Nr.contentEnabled};window.__upo_d.websiteConfig=function(){return{websiteData:Vr.websiteData,scriptSettings:Vr.scriptSettings,apiDomain:Vr.apiDomain,websiteID:Vr.websiteID,staticDomain:Vr.staticDomain,organizationID:Vr.organizationID,dfpEnabled:Vr.dfpEnabled,prebidEnabled:Vr.prebidEnabled,mobileContentEnabled:Vr.mobileContentEnabled,contentEnabled:Vr.contentEnabled}},t.Z.SharedObject.setItem("websiteConfig",Vr);var Mr=function(){return{browser:Gi.Xh(),device:Gi.Uh(),platform:Gi.Jv(),isMobile:Gi.tq()}};var Er=function(){try{const e=new Ni({prefix:"hook: "});window.eval.call(window,"(function (CustomEvents, websiteConfig, lg) {\n"+atob("")+"\n})")(n.Y,Vr,e)}catch(e){}},zr=function(){return Ir(window),Zr(),n.Y.fireEvent("noWhitelistedFrame")||Hr(),n.Y.fireEvent("clearSpaces")&&(_r=[]),Fr().then((function(){xr()}))},xr=function(){var e=i.Z.map(_r,(function(e){return e})),t=n.Y.fireEvent("customSpacesFilter",{spaces:e});t&&(_r=i.Z.filter(_r,(function(e){return i.Z.find(t,(function(t){return t.id==e.id}))})))};var Hr=function(){const e=!!(i=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./))&&parseInt(i[2],10);var i;"chrome"==yr.browser&&!n.Y.fireEvent("only3pSafeFrame")&&e&&e<91&&(t.Z.upoSettings.whitelistedFrameSettings.url="about:blank?upapi=true",t.Z.upoSettings.whitelistedFrameSettings.isOurOriginSafeFrame=!1);var r=Ai.safeFrameCreator.createSafeFrame();r.addEventListener("load",(function(){t.Z.whitelistedFrame=r,n.Y.fireEvent("whitelistedFrameLoaded",{whitelistedFrame:r})})),r.style.width="0px",r.style.height="0px",r.style.display="none",document.body?document.body.appendChild(r):window.addEventListener("DOMContentLoaded",(function(){document.body.appendChild(r)}))},Ir=function(e){e&&function(e,t){if(e.grumi){var i=document.createElement("iframe");i.style="display:none;width:1px;height:1px;",i.addEventListener("load",(function(){i.done||(e.Node.prototype.appendChild=i.contentWindow.Node.prototype.appendChild,e.HTMLElement.prototype.appendChild=i.contentWindow.Node.prototype.appendChild,t())})),_n((function(){if(document.body.appendChild(i),i.contentWindow)return i.done=!0,e.Node.prototype.appendChild=i.contentWindow.Node.prototype.appendChild,e.HTMLElement.prototype.appendChild=i.contentWindow.Node.prototype.appendChild,void t()}))}else t()}(e,(function(){try{e.XMLHttpRequest&&Xn.hookFunction(e.XMLHttpRequest.prototype,"open",Xn.Types.XHR_OPEN_PRE,void 0,!0),Xn.hookFunction(e,"fetch",Xn.Types.FETCH_PRE,void 0,!0),e.HTMLElement&&Xn.hookFunction(e.HTMLElement.prototype,"insertBefore",Xn.Types.INSERT_BEFORE_PRE,void 0,!0),e.HTMLElement&&Xn.hookFunction(e.HTMLElement.prototype,"appendChild",Xn.Types.APPEND_CHILD_PRE,Xn.Types.APPEND_CHILD_POST,!0),e.HTMLImageElement&&Xn.hookFunction(e.HTMLImageElement.prototype,"setAttribute",Xn.Types.IMG_SET_ATTRIBUTE_PRE,void 0,!0),Xn.hookFunction(e,"open",Xn.Types.WIN_OPEN_PRE,void 0,!0),e.HTMLElement&&Xn.hookPropertySetter(e.HTMLElement.prototype,"innerHTML",Xn.Types.HTML_ELEMENT_INNERHTML_PRE,void 0,!0),e.HTMLElement&&Xn.hookFunction(e.HTMLElement.prototype,"hasChildNodes",Xn.Types.HTML_ELEMENT_HAS_CHILD_NODES_PRE,void 0,!0),Sr(e)}catch(e){}}))},Sr=function(e){for(var i=t.Z.consts.htmlElements,n=0;n<i.length;n++)e[i[n]]&&Xn.hookPropertySetter(e[i[n]].prototype,"src",Xn.Types.HTML_SRC_PROP_PRE,void 0,!0)},Zr=function(){Xn.addEventListener(Xn.Types.HTML_SRC_PROP_PRE,(function(e){var i=e.data;if("object"==typeof i[0]&&i[0].toString&&(i[0]=i[0].toString()),r.Z.urlValidations.isWhitelistURL(i[0],this.tagName))i[0]=r.Z.addAcceptableParam(i[0]);else if(r.Z.urlValidations.isSyncUrl(i[0],this.tagName)&&t.Z.whitelistedFrame){if(t.Z.upoSettings.whitelistedFrameSettings.isOurOriginSafeFrame){var n="new window.Image().src = '"+i[0]+"'";return t.Z.whitelistedFrame.postMessage({type:"eval",code:n},"*"),i[0]}return(new t.Z.whitelistedFrame.contentWindow.Image).src=i[0]}})),Xn.addEventListener(Xn.Types.HTML_ELEMENT_HAS_CHILD_NODES_PRE,(function(e){try{if(i.Z.hasClass(this,"up-show"))return!1;if(this.childNodes&&this.childNodes.length>0){for(var t=!1,n=0;n<this.children.length;n++)if(i.Z.hasClass(this.children[n],"up-show")){t=!0;break}if(t)return!1}}catch(e){}})),Xn.addEventListener(Xn.Types.HTML_ELEMENT_INNERHTML_POST,(function(e){if(this&&this.classList&&"adsbygoogle"===this.classList[0]){var t=this.querySelector("iframe"),i=t.contentWindow;"about:blank"!==t.src&&""!==t.src||Ir(i);var n=i.document.write;i.document.write=function(e){e&&e.indexOf("show_ads_impl.js")>-1&&(e=r.Z.addAcceptableParam(e)),n.call(this,e)}}})),Xn.addEventListener(Xn.Types.XHR_OPEN_PRE,(function(e){var t=e.data;r.Z.urlValidations.isWhitelistURL(t[1],"SCRIPT")&&(t[1]=r.Z.addAcceptableParam(t[1]))})),Xn.addEventListener(Xn.Types.IMG_SET_ATTRIBUTE_PRE,(function(e){var t=e.data;if("srcset"===t[0].toLowerCase()){this.src&&r.Z.urlValidations.isWhitelistURL(this.src,this.tagName)&&(this.src=r.Z.addAcceptableParam(this.src));for(var i=t[1].split(","),n=0;n<i.length;n++){var a=i[n],o=(a=a.trim()).split(" ")[0],s=a.split(" ")[1]||"";r.Z.urlValidations.isWhitelistURL(o,this.tagName)&&(a=r.Z.addAcceptableParam(o)+" "+s,i[n]=a)}t[1]=i.join(",")}else"src"===t[0].toLowerCase()&&r.Z.urlValidations.isWhitelistURL(t[1],this.tagName)&&(t[1]=r.Z.addAcceptableParam(t[1]))})),Xn.addEventListener(Xn.Types.INSERT_BEFORE_PRE,(function(e){var t=e.data;n.Y.fireEvent("InsertBeforeWebsiteHooksIntercept",{element:t[0]}),["SCRIPT","IFRAME"].indexOf(t[0].tagName)>-1&&t[0].src&&r.Z.urlValidations.isWhitelistURL(t[0].src,t[0].tagName)&&(t[0].src=r.Z.addAcceptableParam(t[0].src)),"LINK"===t[0].tagName&&t[0].href&&r.Z.urlValidations.isWhitelistURL(t[0].href,t[0].tagName)&&(t[0].href=r.Z.addAcceptableParam(t[0].href))})),Xn.addEventListener(Xn.Types.APPEND_CHILD_PRE,(function(e){var i=e.data;if(i[0]&&i[0].src&&0===i[0].src.indexOf("blob:"))e.shouldStop=!0;else{if(i[0].children&&i[0].children.length>0)for(var n=0;n<i[0].children.length;n++){var a=i[0].children[n];if(a.src&&r.Z.urlValidations.isWhitelistURL(a.src,a.tagName)&&(a.src=r.Z.addAcceptableParam(a.src)),a.src&&r.Z.urlValidations.isSyncUrl(a.src,a.tagName)&&t.Z.whitelistedFrame){if(t.Z.upoSettings.whitelistedFrameSettings.isOurOriginSafeFrame){var o="new Image().src = '"+i[0].src+"'";return t.Z.whitelistedFrame.postMessage({type:"eval",code:o},"*"),i[0]}return t.Z.whitelistedFrame.contentDocument.body.appendChild(i[0])}}if("LINK"===i[0].tagName&&i[0].href&&r.Z.urlValidations.isWhitelistURL(i[0].href,i[0].tagName)&&(i[0].href=r.Z.addAcceptableParam(i[0].href)),["SCRIPT","IFRAME"].indexOf(i[0].tagName)>-1&&i[0].src&&r.Z.urlValidations.isWhitelistURL(i[0].src,i[0].tagName)&&(i[0].src=r.Z.addAcceptableParam(i[0].src)),r.Z.urlValidations.isSyncUrl(i[0].src,i[0].tagName)&&t.Z.whitelistedFrame){if(t.Z.upoSettings.whitelistedFrameSettings.isOurOriginSafeFrame){o="new Image().src = '"+i[0].src+"'";return t.Z.whitelistedFrame.postMessage({type:"eval",code:o},"*"),i[0]}return t.Z.whitelistedFrame.contentDocument.body.appendChild(i[0])}}})),Xn.addEventListener(Xn.Types.APPEND_CHILD_POST,(function(e){var t=e.data;"IFRAME"!==t.tagName||"about:blank"!==t.src&&""!==t.src||Ir(t.contentWindow)})),Xn.addEventListener(Xn.Types.WIN_OPEN_PRE,(function(e){if(e.data[0]&&(e.data[0].indexOf("clickout.sharethrough.com")>-1||e.data[0].indexOf("3lift.com/pass")>-1)&&t.Z.whitelistedFrame&&!t.Z.upoSettings.whitelistedFrameSettings.isOurOriginSafeFrame)return t.Z.whitelistedFrame.contentWindow.open(e.data[0])})),Xn.addEventListener(Xn.Types.SET_ATTRIBUTE_PRE,(function(e){var t=e.data[0],i=e.data[1];"class"===t&&this.className.indexOf("up-show")>=0&&i.indexOf("up-show")<0&&(e.data[1]=e.data[1]+" up-show")}))},Yr=function(){var e=rr;window.uponit=window.uponit||{que:[]},window.uponit.slots=[],window.uponit.COMPLIANCE_STATUSES=e.COMPLIANCE_STATUSES,window.uponit.defineSlot=e.defineSlot,window.uponit.init=e.init,window.uponit.enableServices=e.enableServices,window.uponit.UPONIT_EVENTS=e.UPONIT_EVENTS,window.uponit.fetchPrebid=e.fetchPrebid,window.uponit.fetchDFP=e.fetchDFP,window.uponit.renderBid=e.renderBid,window.uponit.fetchAndRender=e.fetchAndRender,window.uponit.addEventListener=e.addEventListener,window.uponit.addModifier=function(e,t){window.uponit.modifiers=window.uponit.modifiers||{},window.uponit.modifiers[e]=window.uponit.modifiers[e]||[],window.uponit.modifiers[e].push(t)};for(var t=0;t<window.uponit.que.length;t++){var i=window.uponit.que[t];try{i()}catch(e){}}window.uponit.que.push=function(e){e()}};const Tr=e=>{const t=Object.entries(e).map((([e,t])=>{const i={};i.id=e,i.name=t.unit,i.staging=t.staging,i.selector={position:t.selector.position,value:t.selector.value},i.sizes=t.sizes;const n=t.prebids&&Object.keys(t.prebids).length>0;return i.preBiddingSettings={enabled:n,biddingSettings:{}},n&&(i.preBiddingSettings.biddingSettings[1]=[],Object.entries(t.prebids).forEach((([e,t])=>{const n={id:e,name:t.bidder,params:t.params};i.preBiddingSettings.biddingSettings[1].push(n)}))),i.postBiddingSettings={adxId:t.adx,directId:t.direct,enabled:Vr.dfpEnabled&&"0"!=t.adx,type:1,order:[{params:{},adx:{bidderID:t.adx,testCompliance:!0},direct:{bidderID:t.direct}},{params:{queryParams:{ad_type:"text"}},adx:{bidderID:t.adx,testCompliance:!1},direct:{bidderID:t.direct}}]},[e,i]}));return Object.fromEntries(t)};var Br=function(e){var t=[];for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];n.id=i;var r=new sn.Space(n);t.push(r)}return t},Fr=function(){var e=n.Y.fireEvent("extractPublisherSpacesSettings");if(!e)return Promise.resolve();var t=e.timeout||2e3;return new Promise((function(i,n){e.callback((function(e){for(var t=e.adUnits,n=0;n<t.length;n++){var r=t[n];const e=ln(r);var a=e&&new sn.Space(e);a&&_r.push(a)}i()})),setTimeout((function(){i()}),t)}))};!function(){if(window.uponitAlreadyLoaded)return;window.uponitAlreadyLoaded=!0,l.init(Dr,{secure:!0});try{or.init(),Fi.Verifications.run(),Fi.Report.init()}catch(e){}yr=Mr(),window.__upo_d.isMobile=yr.isMobile;var e={browser:yr.browser,device:yr.device,platform:yr.platform,isMobile:yr.isMobile};n.Y.addEventListener("getUserEnvDataWebsiteHooks",(function(){return e})),window.__upo_d.userEvnData=e,function(){try{window.__tcfapi("addEventListener",0,(function(e,t){if(!t||"useractioncomplete"!==e.eventStatus&&"tcloaded"!==e.eventStatus){if(!t){var i="Unable to attach event listener. tcfapi does not adhere to IAB spec. ";i+="listenerSuccess: "+t+". ",e&&(i+="eventStatus: "+e.eventStatus+"."),n.Y.fireEvent("consentData",{error:{message:i}})}}else n.Y.fireEvent("consentData",{tcData:e})}))}catch(e){n.Y.fireEvent("consentData",{error:e})}}(),Er(),Object.entries(vn).forEach((([e,t])=>{if(bn[e]){const{hookName:i,parseSettingValue:r,handler:a}=bn[e],o=r?r(t):t;i?n.Y.addEventListener(i,(e=>a(o,e))):(a(o),mn.infof(null,`loadSettings: ${e} (no associated hook): Setting applied.`))}else mn.errorf(null,"loadSettings: No setting handler found for %o (setting will not be applied).",e)})),function(){const e=n.Y.fireEvent("amazonBidderConfiguration");e&&e.pubID&&(t.Z.upoSettings.amazonBidderConfiguration.enabled=!0,t.Z.upoSettings.amazonBidderConfiguration=Object.assign(t.Z.upoSettings.amazonBidderConfiguration,e))}();const r=n.Y.fireEvent("hookDFPEnabledValue");r&&(Vr.dfpEnabled=r);try{_r=Br(Tr(_r))}catch(e){vr.errorf(null,"init - parsing static spaces - %o",e)}Yr(),n.Y.fireEvent("shouldDisableUponit")?vr.noticef(null,"halting: we have been disabled by hooks"):(n.Y.fireEvent("FirePublisherEvent",{eventName:"AcceptableAdsInit",payload:{detail:!0}}),n.Y.fireEvent("FirePublisherEvent",{eventName:"uponitInit",payload:{detail:!0}}),zr().then((function(){Vr.prebidEnabled=!(!i.Z.find(_r,(function(e){return e.preBiddingSettings&&e.preBiddingSettings.enabled}))&&!n.Y.fireEvent("scrapePrebidAdUnits"));var e={spaces:_r,settings:{prebid:n.Y.fireEvent("forcePrebidEnabled")||Vr.prebidEnabled,dfp:Vr.dfpEnabled}};_n((function(){n.Y.fireEvent("onDomLoaded"),n.Y.fireEvent("onBeforeRecovery",{spaces:_r,settings:e.settings}),wr.invoke(e)}))})))}()})()})();
//# sourceMappingURL=recovery.js.map

})({});
