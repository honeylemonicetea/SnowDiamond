var VKI_attach,VKI_close;
function BuildKeyboardInputs(a,b,c,d,e,g){function p(){for(var a=[document.getElementsByTagName("input"),document.getElementsByTagName("textarea")],b=0,c;c=a[b++];)for(var d=0,e;e=c[d++];)("TEXTAREA"==e.nodeName||"text"==e.type||"password"==e.type)&&-1<e.className.indexOf("keyboardInput")&&VKI_attach(e);r(document.documentElement,"click",function(a){f.VKI_close()},!1)}function q(a){"TD"==a.nodeName&&(a.click||(a.click=function(){var a=this.ownerDocument.createEvent("MouseEvents");a.initMouseEvent("click",
!0,!0,this.ownerDocument.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);this.dispatchEvent(a)}),a.VKI_clickless=0,r(a,"dblclick",function(){return!1},!1));r(a,"mouseover",function(){if("TD"==this.nodeName&&f.VKI_clickless){var a=this;clearTimeout(this.VKI_clickless);this.VKI_clickless=setTimeout(function(){a.click()},f.VKI_clickless)}f.VKI_isIE&&(this.className+=" hover")},!1);r(a,"mouseout",function(){"TD"==this.nodeName&&clearTimeout(this.VKI_clickless);f.VKI_isIE&&(this.className=this.className.replace(/ ?(hover|pressed) ?/g,
""))},!1);r(a,"mousedown",function(){"TD"==this.nodeName&&clearTimeout(this.VKI_clickless);f.VKI_isIE&&(this.className+=" pressed")},!1);r(a,"mouseup",function(){"TD"==this.nodeName&&clearTimeout(this.VKI_clickless);f.VKI_isIE&&(this.className=this.className.replace(/ ?pressed ?/g,""))},!1)}function u(){var a=!1,b;if("small"!=this.firstChild.nodeName.toLowerCase()){if(" "==(b=this.firstChild.nodeValue))return!1}else b=this.firstChild.getAttribute("char");f.VKI_deadkeysOn.checked&&f.VKI_dead&&(f.VKI_dead!=
b?" "!=b?f.VKI_deadkey[f.VKI_dead][b]&&(f.VKI_insert(f.VKI_deadkey[f.VKI_dead][b]),a=!0):(f.VKI_insert(f.VKI_dead),a=!0):a=!0);f.VKI_dead=!1;a||(f.VKI_deadkeysOn.checked&&f.VKI_deadkey[b]?(f.VKI_dead=b,this.className+=" dead",f.VKI_shift&&f.VKI_modify("Shift"),f.VKI_altgr&&f.VKI_modify("AltGr")):f.VKI_insert(b));f.VKI_modify("");return!1}function r(a,b,f,c){a.addEventListener?a.addEventListener(b,function(b){f.call(a,b)},c):a.attachEvent&&a.attachEvent("on"+b,function(){f.call(a)})}function x(a){for(var b=
curtop=0,f=a;(f=f.parentNode)&&f!=document.body;)b-=f.scrollLeft||0,curtop-=f.scrollTop||0;do b+=a.offsetLeft,curtop+=a.offsetTop;while(a=a.offsetParent);return[b,curtop]}function v(){var a=document.getElementsByTagName("html")[0];return a.scrollTop&&document.documentElement.scrollTop?[a.scrollLeft,a.scrollTop]:a.scrollTop||document.documentElement.scrollTop?[a.scrollLeft+document.documentElement.scrollLeft,a.scrollTop+document.documentElement.scrollTop]:document.body.scrollTop?[document.body.scrollLeft,
document.body.scrollTop]:[0,0]}if(0!=$(".keyboardInput").length){var f=this;this.VKI_version="1.49";this.VKI_dead=this.VKI_altgr=this.VKI_altgrlock=this.VKI_shift=this.VKI_shiftlock=this.VKI_target=this.VKI_showVersion=!1;this.VKI_numberPad=this.VKI_deadkeysOn=this.VKI_deadBox=!0;this.VKI_numberPadOn=!1;this.VKI_kts=this.VKI_kt=d[c];this.VKI_langAdapt=!1;this.VKI_size=3;this.VKI_sizeAdj=!0;this.VKI_clearPasswords=!1;this.VKI_imageURI=a;this.VKI_activeTab=this.VKI_clickless=0;this.VKI_enterSubmit=
!0;this.VKI_keyCenter=3;this.VKI_isIElt8=this.VKI_isIE6=this.VKI_isIE=!1;this.VKI_isWebKit=/KHTML/.test(navigator.userAgent);this.VKI_isOpera=/Opera/.test(navigator.userAgent);this.VKI_isMoz=!this.VKI_isWebKit&&"Gecko"==navigator.product;this.VKI_isSafari=/Safari/.test(navigator.userAgent);this.VKI_i18n=b;this.VKI_layout={};this.VKI_layout[d.ar]={name:e.ar,keys:[[["ذ","ّ "],["1","!","¡","¹"],["2","@","²"],["3","#","³"],["4","$","¤","£"],["5","%","€"],["6","^","¼"],["7","\x26","½"],["8","*","¾"],["9",
"(","‘"],["0",")","’"],["-","_","¥"],["\x3d","+","×","÷"],["Bksp","Bksp"]],[["Tab","Tab"],["ض","َ"],["ص","ً"],["ث","ُ"],["ق","ٌ"],["ف","ل"],["غ","إ"],["ع","‘"],["ه","÷"],["خ","×"],["ح","؛"],["ج","\x3c"],["د","\x3e"],["\\","|"]],[["Caps","Caps"],["ش","ِ"],["س","ٍ"],["ي","]"],["ب","["],["ل","ل"],["ا","أ"],["ت","ـ"],["ن","،"],["م","/"],["ك",":"],["ط",'"'],["Enter","Enter"]],[["Shift","Shift"],["ئ","~"],["ء","ْ"],["ؤ","}"],["ر","{"],["ل","ل"],["ى","آ"],["ة","’"],["و",","],["ز","."],["ظ","؟"],["Shift",
"Shift"]],[[" "," "," "," "],["Alt","Alt"]]],lang:["ar"]};this.VKI_layout[d.de]={name:e.de,keys:[[["^","°"],["1","!"],["2",'"',"²"],["3","§","³"],["4","$"],["5","%"],["6","\x26"],["7","/","{"],["8","(","["],["9",")","]"],["0","\x3d","}"],["ß","?","\\"],["´","'"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q","@"],["w","W"],["e","E","€"],["r","R"],["t","T"],["z","Z"],["u","U"],["i","I"],["o","O"],["p","P"],["ü","Ü"],["+","*","~"],["#","'"]],[["Caps","Caps"],["a","A"],["s","S"],["d","D"],["f","F"],["g","G"],
["h","H"],["j","J"],["k","K"],["l","L"],["ö","Ö"],["ä","Ä"],["Enter","Enter"]],[["Shift","Shift"],["\x3c","\x3e","¦"],["y","Y"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M","µ"],[",",";"],[".",":"],["-","_"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["de"]};this.VKI_layout[d.es]={name:e.es,keys:[[["º","ª","\\"],["1","!","|"],["2",'"',"@"],["3","'","#"],["4","$","~"],["5","%","€"],["6","\x26","¬"],["7","/"],["8","("],["9",")"],["0","\x3d"],["'","?"],["¡","¿"],["Bksp",
"Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E"],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["'","^","["],["+","*","]"],["ç","Ç","}"]],[["Caps","Caps"],["a","A"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["ñ","Ñ"],["´","¨","{"],["Enter","Enter"]],[["Shift","Shift"],["\x3c","\x3e"],["z","Z"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M"],[",",";"],[".",":"],["-","_"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],
lang:["es"]};this.VKI_layout[d.fr]={name:e.fr,keys:[[["²","³"],["\x26","1"],["é","2","~"],['"',"3","#"],["'","4","{"],["(","5","["],["-","6","|"],["è","7","'"],["_","8","\\"],["ç","9","^"],["à","0","@"],[")","°","]"],["\x3d","+","}"],["Bksp","Bksp"]],[["Tab","Tab"],["a","A"],["z","Z"],["e","E","€"],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["^","¨"],["$","£","¤"],["*","μ"]],[["Caps","Caps"],["q","Q"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],
["l","L"],["m","M"],["ù","%"],["Enter","Enter"]],[["Shift","Shift"],["\x3c","\x3e"],["w","W"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],[",","?"],[";","."],[":","/"],["!","§"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["fr"]};this.VKI_layout[d.he]={name:e.he,keys:[[["~","'"],["1","!"],["2","@"],["3","#"],["4","$","₪"],["5","%"],["6","^"],["7","\x26"],["8","*"],["9",")"],["0","("],["-","_"],["\x3d","+"],["Bksp","Bksp"]],[["Tab","Tab"],["/","Q"],["'","W"],["ק","E","€"],
["ר","R"],["א","T"],["ט","Y"],["ו","U","װ"],["ן","I"],["ם","O"],["פ","P"],["\\","|"],["Enter","Enter"]],[["Caps","Caps"],["ש","A"],["ד","S"],["ג","D"],["כ","F"],["ע","G"],["י","H","ײ"],["ח","J","ױ"],["ל","K"],["ך","L"],["ף",":"],[",",'"'],["]","}"],["[","{"]],[["Shift","Shift"],["ז","Z"],["ס","X"],["ב","C"],["ה","V"],["נ","B"],["מ","N"],["צ","M"],["ת","\x3e"],["ץ","\x3c"],[".","?"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["he"]};this.VKI_layout[d.it]={name:e.it,keys:[[["\\",
"|"],["1","!"],["2",'"'],["3","£"],["4","$","€"],["5","%"],["6","\x26"],["7","/"],["8","("],["9",")"],["0","\x3d"],["'","?"],["ì","^"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E","€"],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["è","é","[","{"],["+","*","]","}"],["ù","§"]],[["Caps","Caps"],["a","A"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["ò","ç","@"],["à","°","#"],["Enter","Enter"]],[["Shift","Shift"],["\x3c","\x3e"],
["z","Z"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M"],[",",";"],[".",":"],["-","_"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["it"]};this.VKI_layout[d.ja]={name:e.ja,keys:[[["～"],["ぬ","ヌ"],["ふ","フ"],["あ","ア","ぁ","ァ"],["う","ウ","ぅ","ゥ"],["え","エ","ぇ","ェ"],["お","オ","ぉ","ォ"],["や","ヤ","ゃ","ャ"],["ゆ","ユ","ゅ","ュ"],["よ","ヨ","ょ","ョ"],["わ","ワ","を","ヲ"],["ほ","ホ","ー","＝"],["へ","ヘ","＾","～"],["Bksp","Bksp"]],[["Tab","Tab"],["た","タ"],["て","テ"],["い","イ","ぃ","ィ"],["す","ス"],["か",
"カ"],["ん","ン"],["な","ナ"],["に","ニ"],["ら","ラ"],["せ","セ"],["、","、","＠","‘"],["。","。","「","｛"],["￥","","","＊"],["゛",'"',"￥","｜"]],[["Caps","Caps"],["ち","チ"],["と","ト"],["し","シ"],["は","ハ"],["き","キ"],["く","ク"],["ま","マ"],["の","ノ"],["れ","レ","；","＋"],["け","ケ","：","ヶ"],["む","ム","」","｝"],["Enter","Enter"]],[["Shift","Shift"],["つ","ツ"],["さ","サ"],["そ","ソ"],["ひ","ヒ"],["こ","コ"],["み","ミ"],["も","モ"],["ね","ネ","、","＜"],["る","ル","。","＞"],["め","メ","・","？"],["ろ","ロ","","＿"],["Shift","Shift"]],[["AltLk","AltLk"],[" "," ",
" "," "],["Alt","Alt"]]],lang:["ja"]};this.VKI_layout[d.nl]={name:e.nl,keys:[[["@","§","¬"],["1","!","¹"],["2",'"',"²"],["3","#","³"],["4","$","¼"],["5","%","½"],["6","\x26","¾"],["7","_","£"],["8","(","{"],["9",")","}"],["0","'"],["/","?","\\"],["°","~","¸"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E","€"],["r","R","¶"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["¨","^"],["*","|"],["\x3c","\x3e"]],[["Caps","Caps"],["a","A"],["s","S","ß"],["d","D"],["f","F"],["g",
"G"],["h","H"],["j","J"],["k","K"],["l","L"],["+","±"],["´","'"],["Enter","Enter"]],[["Shift","Shift"],["]","[","¦"],["z","Z","«"],["x","X","»"],["c","C","¢"],["v","V"],["b","B"],["n","N"],["m","M","µ"],[",",";"],[".",":","·"],["-","\x3d"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["nl"]};this.VKI_layout[d.pl]={name:e.pl,keys:[[["˛","·"],["1","!","~"],["2",'"',"ˇ"],["3","#","^"],["4","¤","˘"],["5","%","°"],["6","\x26","˛"],["7","/","'"],["8","(","·"],["9",")","´"],["0","\x3d",
"˝"],["+","?","¨"],["'","*","¸"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q","\\"],["w","W","¦"],["e","E"],["r","R"],["t","T"],["z","Z"],["u","U","€"],["i","I"],["o","O"],["p","P"],["ż","ń","÷"],["ś","ć","×"],["ó","ź"]],[["Caps","Caps"],["a","A"],["s","S","đ"],["d","D","Đ"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["ł","Ł","$"],["ą","ę","ß"],["Enter","Enter"]],[["Shift","Shift"],["\x3c","\x3e"],["y","Y"],["x","X"],["c","C"],["v","V","@"],["b","B","{"],["n","N","}"],["m","M","§"],[",",
";","\x3c"],[".",":","\x3e"],["-","_"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]]};this.VKI_layout[d.pt]={name:e.pt,keys:[[["\\","|"],["1","!"],["2",'"',"@"],["3","#","£"],["4","$","§"],["5","%"],["6","\x26"],["7","/","{"],["8","(","["],["9",")","]"],["0","\x3d","}"],["'","?"],["«","»"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E","€"],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["+","*","¨"],["´","'"],["~","^"]],[["Caps","Caps"],["a","A"],
["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["ç","Ç"],["º","ª"],["Enter","Enter"]],[["Shift","Shift"],["\x3c","\x3e","\\"],["z","Z"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M"],[",",";"],[".",":"],["-","_"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["pt"]};this.VKI_layout[d.tr]={name:e.tr,keys:[[['"',"é","\x3c"],["1","!","\x3e"],["2","'","£"],["3","^","#"],["4","+","$"],["5","%","½"],["6","\x26"],["7","/","{"],["8","(","["],
["9",")","]"],["0","\x3d","}"],["*","?","\\"],["-","_","|"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q","@"],["w","W"],["e","E","€"],["r","R"],["t","T"],["y","Y"],["u","U"],["ı","I","i","İ"],["o","O"],["p","P"],["ğ","Ğ","¨"],["ü","Ü","~"],[",",";","`"]],[["Caps","Caps"],["a","A","æ","Æ"],["s","S","ß"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["ş","Ş","´"],["i","İ"],["Enter","Enter"]],[["Shift","Shift"],["\x3c","\x3e","|"],["z","Z"],["x","X"],["c","C"],["v","V"],["b","B"],
["n","N"],["m","M"],["ö","Ö"],["ç","Ç"],[".",":"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["tr"]};this.VKI_layout[d.ro]={name:e.ro,keys:[[["„","”","`","~"],["1","!","~"],["2","@","ˇ"],["3","#","^"],["4","$","˘"],["5","%","°"],["6","^","˛"],["7","\x26","`"],["8","*","˙"],["9","(","´"],["0",")","˝"],["-","_","¨"],["\x3d","+","¸","±"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E","€"],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P","§"],["ă",
"Ă","[","{"],["î","Î","]","}"],["â","Â","\\","|"]],[["Caps","Caps"],["a","A"],["s","S","ß"],["d","D","ð","Ð"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L","ł","Ł"],[this.VKI_isIElt8?"ş":"ș",this.VKI_isIElt8?"Ş":"Ș",";",":"],[this.VKI_isIElt8?"ţ":"ț",this.VKI_isIElt8?"Ţ":"Ț","'",'"'],["Enter","Enter"]],[["Shift","Shift"],["\\","|"],["z","Z"],["x","X"],["c","C","©"],["v","V"],["b","B"],["n","N"],["m","M"],[",",";","\x3c","«"],[".",":","\x3e","»"],["/","?"],["Shift","Shift"]],[[" "," ",
" "," "],["AltGr","AltGr"]]],lang:["ro"]};this.VKI_layout[d.ru]={name:e.ru,keys:[[["ё","Ё"],["1","!"],["2",'"'],["3","№"],["4",";"],["5","%"],["6",":"],["7","?"],["8","*"],["9","("],["0",")"],["-","_"],["\x3d","+"],["Bksp","Bksp"]],[["Tab","Tab"],["й","Й"],["ц","Ц"],["у","У"],["к","К"],["е","Е"],["н","Н"],["г","Г"],["ш","Ш"],["щ","Щ"],["з","З"],["х","Х"],["ъ","Ъ"],["\\","/"]],[["Caps","Caps"],["ф","Ф"],["ы","Ы"],["в","В"],["а","А"],["п","П"],["р","Р"],["о","О"],["л","Л"],["д","Д"],["ж","Ж"],["э",
"Э"],["Enter","Enter"]],[["Shift","Shift"],["/","|"],["я","Я"],["ч","Ч"],["с","С"],["м","М"],["и","И"],["т","Т"],["ь","Ь"],["б","Б"],["ю","Ю"],[".",","],["Shift","Shift"]],[[" "," "]]],lang:["ru"]};"undefined"!==typeof d.sv&&(this.VKI_layout[d.sv]={name:d.sv,keys:[[["§","½"],["1","!"],["2",'"',"@"],["3","#","£"],["4","¤","$"],["5","%","€"],["6","\x26"],["7","/","{"],["8","(","["],["9",")","]"],["0","\x3d","}"],["+","?","\\"],["´","`"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E","€"],
["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["å","Å"],["¨","^","~"],["'","*"]],[["Caps","Caps"],["a","A"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["ö","Ö"],["ä","Ä"],["Enter","Enter"]],[["Shift","Shift"],["\x3c","\x3e","|"],["z","Z"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M","μ","Μ"],[",",";"],[".",":"],["-","_"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["sv"]});this.VKI_layout[d.en]={name:e.en,
keys:[[["'","¬","¦"],["1","!"],["2",'"'],["3","£"],["4","$","€"],["5","%"],["6","^"],["7","\x26"],["8","*"],["9","("],["0",")"],["-","_"],["\x3d","+"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E","é","É"],["r","R"],["t","T"],["y","Y"],["u","U","ú","Ú"],["i","I","í","Í"],["o","O","ó","Ó"],["p","P"],["[","{"],["]","}"],["#","~"]],[["Caps","Caps"],["a","A","á","Á"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],[";",":"],["'","@"],["Enter","Enter"]],[["Shift",
"Shift"],["\\","|"],["z","Z"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M"],[",","\x3c"],[".","\x3e"],["/","?"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["en"]};this.VKI_layout[d.zh]={name:e.zh,keys:[[["€","~"],["1","!"],["2","@"],["3","#"],["4","$"],["5","%"],["6","^"],["7","\x26"],["8","*"],["9",")"],["0","("],["-","_"],["\x3d","+"],["Bksp","Bksp"]],[["Tab","Tab"],["手","q"],["田","w"],["水","e"],["口","r"],["廿","t"],["卜","y"],["山","u"],["戈","i"],["人","o"],["心","p"],
["[","{"],["]","}"],["\\","|"]],[["Caps","Caps"],["日","a"],["尸","s"],["木","d"],["火","f"],["土","g"],["竹","h"],["十","j"],["大","k"],["中","l"],[";",":"],["'",'"'],["Enter","Enter"]],[["Shift","Shift"],["Ｚ","z"],["難","x"],["金","c"],["女","v"],["月","b"],["弓","n"],["一","m"],[",","\x3c"],[".","\x3e"],["/","?"],["Shift","Shift"]],[[" "," "]]],lang:["zh"]};this.VKI_deadkey={};this.VKI_deadkey['"']=this.VKI_deadkey["¨"]=this.VKI_deadkey["゛"]={a:"ä",e:"ë",i:"ï",o:"ö",u:"ü",y:"ÿ","ι":"ϊ","υ":"ϋ","ū":"ǖ","ú":"ǘ",
"ǔ":"ǚ","ù":"ǜ",A:"Ä",E:"Ë",I:"Ï",O:"Ö",U:"Ü",Y:"Ÿ","Ι":"Ϊ","Υ":"Ϋ","Ū":"Ǖ","Ú":"Ǘ","Ǔ":"Ǚ","Ù":"Ǜ","か":"が","き":"ぎ","く":"ぐ","け":"げ","こ":"ご","た":"だ","ち":"ぢ","つ":"づ","て":"で","と":"ど","さ":"ざ","し":"じ","す":"ず","せ":"ぜ","そ":"ぞ","は":"ば","ひ":"び","ふ":"ぶ","へ":"べ","ほ":"ぼ","カ":"ガ","キ":"ギ","ク":"グ","ケ":"ゲ","コ":"ゴ","タ":"ダ","チ":"ヂ","ツ":"ヅ","テ":"デ","ト":"ド","サ":"ザ","シ":"ジ","ス":"ズ","セ":"ゼ","ソ":"ゾ","ハ":"バ","ヒ":"ビ","フ":"ブ","ヘ":"ベ","ホ":"ボ"};this.VKI_deadkey["~"]={a:"ã",l:"ł",n:"ñ",o:"õ",A:"Ã",L:"Ł",N:"Ñ",O:"Õ"};this.VKI_deadkey["^"]=
{a:"â",e:"ê",i:"î",o:"ô",u:"û",w:"ŵ",y:"ŷ",A:"Â",E:"Ê",I:"Î",O:"Ô",U:"Û",W:"Ŵ",Y:"Ŷ"};this.VKI_deadkey["ˇ"]={c:"č",d:"ď",e:"ě",s:"š",l:"ľ",n:"ň",r:"ř",t:"ť",u:"ǔ",z:"ž","ü":"ǚ",C:"Č",D:"Ď",E:"Ě",S:"Š",L:"Ľ",N:"Ň",R:"Ř",T:"Ť",U:"Ǔ",Z:"Ž","Ü":"Ǚ"};this.VKI_deadkey["˘"]={a:"ă",g:"ğ",A:"Ă",G:"Ğ"};this.VKI_deadkey["-"]=this.VKI_deadkey["¯"]={a:"ā",e:"ē",i:"ī",o:"ō",u:"ū",y:"ȳ","ü":"ǖ",A:"Ā",E:"Ē",I:"Ī",O:"Ō",U:"Ū",Y:"Ȳ","Ü":"Ǖ"};this.VKI_deadkey["'"]={a:"à",e:"è",i:"ì",o:"ò",u:"ù","ü":"ǜ",A:"À",E:"È",
I:"Ì",O:"Ò",U:"Ù","Ü":"Ǜ"};this.VKI_deadkey["'"]=this.VKI_deadkey["´"]=this.VKI_deadkey["΄"]={a:"á",e:"é",i:"í",o:"ó",u:"ú",y:"ý","α":"ά","ε":"έ","η":"ή","ι":"ί","ο":"ό","υ":"ύ","ω":"ώ","ü":"ǘ",A:"Á",E:"É",I:"Í",O:"Ó",U:"Ú",Y:"Ý","Α":"Ά","Ε":"Έ","Η":"Ή","Ι":"Ί","Ο":"Ό","Υ":"Ύ","Ω":"Ώ","Ü":"Ǘ"};this.VKI_deadkey["˝"]={o:"ő",u:"ű",O:"Ő",U:"Ű"};this.VKI_deadkey["΅"]={"ι":"ΐ","υ":"ΰ"};this.VKI_deadkey["°"]=this.VKI_deadkey["º"]={a:"å",u:"ů",A:"Å",U:"Ů"};this.VKI_deadkey["˛"]={a:"Ć",e:"ę",i:"į",o:"ǫ",u:"ų",
y:"ŷ",A:"ą",E:"Ę",I:"Į",O:"Ǫ",U:"Ų",Y:"Ŷ"};this.VKI_deadkey["˙"]={c:"ċ",e:"ė",g:"ġ",z:"ż",C:"Ċ",E:"Ė",G:"Ġ",Z:"Ż"};this.VKI_deadkey["¸"]=this.VKI_deadkey["‚"]={c:"ç",s:"ş",C:"Ç",S:"Ş"};this.VKI_deadkey[","]={s:this.VKI_isIElt8?"ş":"ș",t:this.VKI_isIElt8?"ţ":"ț",S:this.VKI_isIElt8?"Ş":"Ș",T:this.VKI_isIElt8?"Ţ":"Ț"};this.VKI_deadkey["。"]={"は":"ぱ","ひ":"ぴ","ふ":"ぷ","へ":"ぺ","ほ":"ぽ","ハ":"パ","ヒ":"ピ","フ":"プ","ヘ":"ペ","ホ":"ポ"};this.VKI_symbol={" ":"NB\nSP","​":"ZW\nSP","‌":"ZW\nNJ","‍":"ZW\nJ"};this.VKI_numpad=
[[["$"],["£"],["€"],["¥"]],[["7"],["8"],["9"],["/"]],[["4"],["5"],["6"],["*"]],[["1"],["2"],["3"],["-"]],[["0"],["."],["\x3d"],["+"]]];VKI_attach=function(a){if(a.getAttribute("VKI_attached"))return!1;if(f.VKI_imageURI){var b=document.createElement("span");b.alt=f.VKI_i18n["01"];b.className="keyboardInputInitiator "+f.VKI_imageURI;b.title=f.VKI_i18n["01"];b.elem=a;b.onclick=function(a){a=a||event;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;f.VKI_show(this.elem)};a.parentNode.insertBefore(b,
"rtl"==a.dir?a:a.nextSibling)}else a.onfocus=function(){f.VKI_target!=this&&(f.VKI_target&&f.VKI_close(),f.VKI_show(this))},a.onclick=function(){f.VKI_target||f.VKI_show(this)};a.setAttribute("VKI_attached","true");f.VKI_isIE&&(a.onclick=a.onselect=a.onkeyup=function(a){"keyup"==(a||event).type&&this.readOnly||(this.range=document.selection.createRange())});r(a,"click",function(a){f.VKI_target==this&&(a=a||event,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0);return!1},!1);f.VKI_isMoz&&a.addEventListener("blur",
function(){this.setAttribute("_scrollTop",this.scrollTop)},!1)};this.VKI_keyboard=document.createElement("table");this.VKI_keyboard.id="keyboardInputMaster";this.VKI_keyboard.dir=g;this.VKI_keyboard.cellSpacing="0";this.VKI_keyboard.reflow=function(){this.style.width="50px";this.style.width=""};r(this.VKI_keyboard,"click",function(a){a=a||event;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;return!1},!1);this.VKI_langCode={};b=document.createElement("thead");a=document.createElement("tr");
d=document.createElement("th");d.colSpan="2";var h=document.createElement("div");h.title=this.VKI_i18n["02"];r(h,"click",function(){var a=this.getElementsByTagName("ol")[0];if(a.style.display)a.style.display="";else{a.style.display="block";for(var b=a.getElementsByTagName("li"),f=0,c=0;f<b.length;f++)VKI_kt==b[f].firstChild.nodeValue?(b[f].className="selected",c=b[f].offsetTop-2*b[f].offsetHeight):b[f].className="";setTimeout(function(){a.scrollTop=c},0)}},!1);h.appendChild(document.createTextNode(this.VKI_kt));
h.appendChild(document.createTextNode(this.VKI_isIElt8?" ↓":" ▾"));h.langCount=0;e=document.createElement("ol");for(ktype in this.VKI_layout)if("object"==typeof this.VKI_layout[ktype]){this.VKI_layout[ktype].lang||(this.VKI_layout[ktype].lang=[]);for(c=0;c<this.VKI_layout[ktype].lang.length;c++)this.VKI_langCode[this.VKI_layout[ktype].lang[c].toLowerCase().replace(/-/g,"_")]=ktype;c=document.createElement("li");c.title=this.VKI_layout[ktype].name;r(c,"click",function(a){a=a||event;a.stopPropagation?
a.stopPropagation():a.cancelBubble=!0;this.parentNode.style.display="";f.VKI_kts=f.VKI_kt=h.firstChild.nodeValue=this.firstChild.nodeValue;f.VKI_buildKeys();f.VKI_position(!0)},!1);q(c);c.appendChild(document.createTextNode(ktype));e.appendChild(c);h.langCount++}h.appendChild(e);1<h.langCount&&d.appendChild(h);this.VKI_langCode.index=[];for(prop in this.VKI_langCode)"index"!=prop&&"string"==typeof this.VKI_langCode[prop]&&this.VKI_langCode.index.push(prop);this.VKI_langCode.index.sort();this.VKI_langCode.index.reverse();
this.VKI_numberPad&&(c=document.createElement("span"),c.appendChild(document.createTextNode("#")),c.title=this.VKI_i18n["00"],r(c,"click",function(){t.style.display=t.style.display?"":"none";f.VKI_position(!0)},!1),q(c),d.appendChild(c));this.VKI_kbsize=function(a){f.VKI_size=Math.min(5,Math.max(1,f.VKI_size));f.VKI_keyboard.className=f.VKI_keyboard.className.replace(/ ?keyboardInputSize\d ?/,"");2!=f.VKI_size&&(f.VKI_keyboard.className+=" keyboardInputSize"+f.VKI_size);f.VKI_position(!0);f.VKI_isOpera&&
f.VKI_keyboard.reflow()};this.VKI_sizeAdj&&(c=document.createElement("small"),c.title=this.VKI_i18n["10"],r(c,"click",function(){--f.VKI_size;f.VKI_kbsize()},!1),q(c),c.appendChild(document.createTextNode("")),d.appendChild(c),c=document.createElement("big"),c.title=this.VKI_i18n["11"],r(c,"click",function(){++f.VKI_size;f.VKI_kbsize()},!1),q(c),c.appendChild(document.createTextNode("")),d.appendChild(c));c=document.createElement("span");c.appendChild(document.createTextNode(this.VKI_i18n["07"]));
c.title=this.VKI_i18n["08"];r(c,"click",function(){f.VKI_target.value="";f.VKI_target.focus();return!1},!1);q(c);d.appendChild(c);c=document.createElement("strong");c.appendChild(document.createTextNode(""));c.title=this.VKI_i18n["06"];r(c,"click",function(){f.VKI_close()},!1);q(c);d.appendChild(c);a.appendChild(d);b.appendChild(a);this.VKI_keyboard.appendChild(b);b=document.createElement("tbody");a=document.createElement("tr");c=document.createElement("td");d=document.createElement("div");this.VKI_deadBox?
(e=document.createElement("label"),g=document.createElement("input"),g.type="checkbox",g.title=this.VKI_i18n["03"]+" "+(this.VKI_deadkeysOn?this.VKI_i18n["04"]:this.VKI_i18n["05"]),g.defaultChecked=this.VKI_deadkeysOn,r(g,"click",function(){this.title=f.VKI_i18n["03"]+" "+(this.checked?f.VKI_i18n["04"]:f.VKI_i18n["05"]);f.VKI_modify("");return!0},!1),e.appendChild(g),g.checked=this.VKI_deadkeysOn,d.appendChild(e),this.VKI_deadkeysOn=g):this.VKI_deadkeysOn.checked=this.VKI_deadkeysOn;this.VKI_showVersion&&
(e=document.createElement("var"),e.title=this.VKI_i18n["09"]+" "+this.VKI_version,e.appendChild(document.createTextNode("v"+this.VKI_version)),d.appendChild(e));c.appendChild(d);a.appendChild(c);var t=document.createElement("td");t.id="keyboardInputNumpad";this.VKI_numberPadOn||(t.style.display="none");d=document.createElement("table");d.cellSpacing="0";e=document.createElement("tbody");for(c=0;c<this.VKI_numpad.length;c++){g=document.createElement("tr");for(var w=0;w<this.VKI_numpad[c].length;w++){var y=
document.createElement("td");r(y,"click",u,!1);q(y);y.appendChild(document.createTextNode(this.VKI_numpad[c][w]));g.appendChild(y)}e.appendChild(g)}d.appendChild(e);t.appendChild(d);a.appendChild(t);b.appendChild(a);this.VKI_keyboard.appendChild(b);this.VKI_isIE6&&(this.VKI_iframe=document.createElement("iframe"),this.VKI_iframe.style.position="absolute",this.VKI_iframe.style.border="0px none",this.VKI_iframe.style.filter="mask()",this.VKI_iframe.style.zIndex="999999",this.VKI_iframe.src=this.VKI_imageURI);
this.VKI_buildKeys=function(){this.VKI_shift=this.VKI_shiftlock=this.VKI_altgr=this.VKI_altgrlock=this.VKI_dead=!1;for(var a=this.VKI_keyboard.tBodies[0].getElementsByTagName("div")[0],b=a.getElementsByTagName("table"),c=b.length-1;0<=c;c--)a.removeChild(b[c]);for(var c=0,b=!1,d;d=this.VKI_layout[this.VKI_kt].keys[c++];){var e=document.createElement("table");e.cellSpacing="0";d.length<=this.VKI_keyCenter&&(e.className="keyboardInputCenter");for(var h=document.createElement("tbody"),g=document.createElement("tr"),
p=0,t;t=d[p++];){var w=document.createElement("td");if(this.VKI_symbol[t[0]]){var y=this.VKI_symbol[t[0]].split("\n"),x=document.createElement("small");x.setAttribute("char",t[0]);for(var v=0;v<y.length;v++)v&&x.appendChild(document.createElement("br")),x.appendChild(document.createTextNode(y[v]));w.appendChild(x)}else w.appendChild(document.createTextNode(t[0]||" "));y=[];if(this.VKI_deadkeysOn.checked)for(key in this.VKI_deadkey)if(key===t[0]){y.push("deadkey");break}d.length>this.VKI_keyCenter&&
p==d.length&&y.push("last");" "!=t[0]&&" "!=t[1]||y.push("space");w.className=y.join(" ");switch(t[1]){case "Caps":case "Shift":case "Alt":case "AltGr":case "AltLk":r(w,"click",function(a){return function(){f.VKI_modify(a);return!1}}(t[1]),!1);break;case "Tab":r(w,"click",function(){if(f.VKI_activeTab)if(f.VKI_target.form){var a=f.VKI_target,b=a.form.elements;f.VKI_close();for(var c=0,d=!1,e=-1;c<b.length;c++)if(-1==e&&b[c].getAttribute("VKI_attached")&&(e=c),d){if(1==f.VKI_activeTab&&b[c])break;
if(b[c].getAttribute("VKI_attached"))break}else b[c]==a&&(d=!0);c==b.length&&(c=Math.max(e,0));b[c].getAttribute("VKI_attached")?f.VKI_show(b[c]):b[c].focus()}else f.VKI_target.focus();else f.VKI_insert("\t");return!1},!1);break;case "Bksp":r(w,"click",function(){f.VKI_target.focus();if(f.VKI_target.setSelectionRange&&!f.VKI_target.readOnly){var a=[f.VKI_target.selectionStart,f.VKI_target.selectionEnd];a[0]<a[1]&&a[0]++;f.VKI_target.value=f.VKI_target.value.substr(0,a[0]-1)+f.VKI_target.value.substr(a[1]);
f.VKI_target.setSelectionRange(a[0]-1,a[0]-1)}else if(f.VKI_target.createTextRange&&!f.VKI_target.readOnly){try{f.VKI_target.range.select()}catch(A){f.VKI_target.range=document.selection.createRange()}f.VKI_target.range.text.length||f.VKI_target.range.moveStart("character",-1);f.VKI_target.range.text=""}else f.VKI_target.value=f.VKI_target.value.substr(0,f.VKI_target.value.length-1);f.VKI_shift&&f.VKI_modify("Shift");f.VKI_altgr&&f.VKI_modify("AltGr");f.VKI_target.focus();return!0},!1);break;case "Enter":r(w,
"click",function(){"TEXTAREA"!=f.VKI_target.nodeName?(keyboardEnter(),f.VKI_close()):f.VKI_insert("\n");return!0},!1);break;default:r(w,"click",u,!1)}q(w);g.appendChild(w);for(v=0;4>v;v++)this.VKI_deadkey[t[v]=t[v]||""]&&(b=!0)}h.appendChild(g);e.appendChild(h);a.appendChild(e)}this.VKI_deadBox&&(this.VKI_deadkeysOn.style.display=b?"inline":"none");this.VKI_isIE6&&(this.VKI_iframe.style.width=this.VKI_keyboard.offsetWidth+"px",this.VKI_iframe.style.height=this.VKI_keyboard.offsetHeight+"px")};this.VKI_buildKeys();
r(this.VKI_keyboard,"selectstart",function(){return!1},!1);this.VKI_keyboard.unselectable="on";this.VKI_isOpera&&r(this.VKI_keyboard,"mousedown",function(){return!1},!1);this.VKI_modify=function(a){switch(a){case "Alt":case "AltGr":this.VKI_altgr=!this.VKI_altgr;break;case "AltLk":this.VKI_altgr=0;this.VKI_altgrlock=!this.VKI_altgrlock;break;case "Caps":this.VKI_shift=0;this.VKI_shiftlock=!this.VKI_shiftlock;break;case "Shift":this.VKI_shift=!this.VKI_shift}var b=0;!this.VKI_shift!=!this.VKI_shiftlock&&
(b+=1);!this.VKI_altgr!=!this.VKI_altgrlock&&(b+=2);for(var f=this.VKI_keyboard.tBodies[0].getElementsByTagName("div")[0].getElementsByTagName("table"),c=0;c<f.length;c++)for(var d=f[c].getElementsByTagName("td"),e=0;e<d.length;e++){var h=[],g=this.VKI_layout[this.VKI_kt].keys[c][e];switch(g[1]){case "Alt":case "AltGr":this.VKI_altgr&&h.push("pressed");break;case "AltLk":this.VKI_altgrlock&&h.push("pressed");break;case "Shift":this.VKI_shift&&h.push("pressed");break;case "Caps":this.VKI_shiftlock&&
h.push("pressed");break;case "Tab":case "Enter":case "Bksp":break;default:if(a)if(d[e].removeChild(d[e].firstChild),this.VKI_symbol[g[b]]){var q=this.VKI_symbol[g[b]].split("\n"),p=document.createElement("small");p.setAttribute("char",g[b]);for(var t=0;t<q.length;t++)t&&p.appendChild(document.createElement("br")),p.appendChild(document.createTextNode(q[t]));d[e].appendChild(p)}else d[e].appendChild(document.createTextNode(g[b]||" "));this.VKI_deadkeysOn.checked&&(q=d[e].firstChild.nodeValue||d[e].firstChild.className,
this.VKI_dead&&(q==this.VKI_dead&&h.push("pressed"),this.VKI_deadkey[this.VKI_dead][q]&&h.push("target")),this.VKI_deadkey[q]&&h.push("deadkey"))}e==d.length-1&&d.length>this.VKI_keyCenter&&h.push("last");" "!=g[0]&&" "!=g[1]||h.push("space");d[e].className=h.join(" ")}};this.VKI_insert=function(a){this.VKI_target.focus();this.VKI_target.maxLength&&(this.VKI_target.maxlength=this.VKI_target.maxLength);if("undefined"==typeof this.VKI_target.maxlength||0>this.VKI_target.maxlength||this.VKI_target.value.length<
this.VKI_target.maxlength){if(!this.VKI_target.setSelectionRange||this.VKI_target.readOnly||this.VKI_isIE)if(this.VKI_target.createTextRange&&!this.VKI_target.readOnly){try{this.VKI_target.range.select()}catch(l){this.VKI_target.range=document.selection.createRange()}this.VKI_target.range.text=a;this.VKI_target.range.collapse(!0);this.VKI_target.range.select()}else this.VKI_target.value+=a;else{var b=[this.VKI_target.selectionStart,this.VKI_target.selectionEnd];this.VKI_target.value=this.VKI_target.value.substr(0,
b[0])+a+this.VKI_target.value.substr(b[1]);"\n"==a&&this.VKI_isOpera&&b[0]++;this.VKI_target.setSelectionRange(b[0]+a.length,b[0]+a.length)}this.VKI_shift&&this.VKI_modify("Shift");this.VKI_altgr&&this.VKI_modify("AltGr");this.VKI_target.focus()}else this.VKI_target.createTextRange&&this.VKI_target.range&&this.VKI_target.range.select()};this.VKI_show=function(a){if(this.VKI_target)this.VKI_close();else{this.VKI_target=a;if(this.VKI_langAdapt&&this.VKI_target.lang){var b=this.VKI_target.lang.toLowerCase().replace(/-/g,
"_"),c=0;for(a=!1;!a&&c<this.VKI_langCode.index.length;c++)0==b.indexOf(this.VKI_langCode.index[c])&&(a=h.firstChild.nodeValue=this.VKI_kt=this.VKI_langCode[this.VKI_langCode.index[c]]);a&&this.VKI_buildKeys()}this.VKI_isIE&&(this.VKI_target.range||(this.VKI_target.range=this.VKI_target.createTextRange(),this.VKI_target.range.moveStart("character",this.VKI_target.value.length)),this.VKI_target.range.select());try{this.VKI_keyboard.parentNode.removeChild(this.VKI_keyboard)}catch(m){}this.VKI_clearPasswords&&
"password"==this.VKI_target.type&&(this.VKI_target.value="");a=this.VKI_target;this.VKI_target.keyboardPosition="absolute";do{if(a.currentStyle)var d=a.currentStyle.position;else window.getComputedStyle&&(d=window.getComputedStyle(a,null).position);if("fixed"==d){this.VKI_target.keyboardPosition="fixed";break}}while(a=a.offsetParent);this.VKI_isIE6&&document.body.appendChild(this.VKI_iframe);document.body.appendChild(this.VKI_keyboard);this.VKI_keyboard.style.position=this.VKI_target.keyboardPosition;
this.VKI_isOpera&&this.VKI_keyboard.reflow();this.VKI_position(!0);(f.VKI_isMoz||f.VKI_isWebKit)&&this.VKI_position(!0);this.VKI_target.blur();this.VKI_target.focus()}};this.VKI_position=function(a){if(f.VKI_target){var b=x(f.VKI_keyboard),c=f.innerHeight?[f.innerWidth,f.innerHeight]:document.documentElement&&document.documentElement.clientHeight?[document.documentElement.clientWidth,document.documentElement.clientHeight]:document.body?[document.body.clientWidth,document.body.clientHeight]:[0,0],
d=v(),e=!1,h=f.VKI_target.offsetHeight+3;!0!==a&&(0<b[1]+f.VKI_keyboard.offsetHeight-d[1]-c[1]?(e=!0,h=-f.VKI_keyboard.offsetHeight-3):0>b[1]-d[1]&&(e=!0));if(e||!0===a){b=x(f.VKI_target);for(e=f.VKI_target;(e=e.parentNode)&&e!=document.body;)if(e.scrollHeight>e.offsetHeight||e.scrollWidth>e.offsetWidth){e.getAttribute("VKI_scrollListener")||(e.setAttribute("VKI_scrollListener",!0),r(e,"scroll",function(){f.VKI_position(!0)},!1));var g=x(e),q=b[1]-g[1],p=b[0]-g[0],g=q+f.VKI_target.offsetHeight,t=
p+f.VKI_target.offsetWidth,q=e.offsetHeight-q-f.VKI_target.offsetHeight,p=e.offsetWidth-p-f.VKI_target.offsetWidth;f.VKI_keyboard.style.display=0>g||0>t||0>q||0>p?"none":"";f.VKI_isIE6&&(f.VKI_iframe.style.display=0>g||0>t||0>q||0>p?"none":"")}f.VKI_keyboard.style.top=b[1]-("fixed"!=f.VKI_target.keyboardPosition||f.VKI_isIE||f.VKI_isMoz?0:d[1])+h+"px";f.VKI_keyboard.style.left=Math.max(10,Math.min(c[0]-f.VKI_keyboard.offsetWidth-25,b[0]))+"px";f.VKI_isIE6&&(f.VKI_iframe.style.width=f.VKI_keyboard.offsetWidth+
"px",f.VKI_iframe.style.height=f.VKI_keyboard.offsetHeight+"px",f.VKI_iframe.style.top=f.VKI_keyboard.style.top,f.VKI_iframe.style.left=f.VKI_keyboard.style.left)}!0===a&&f.VKI_position()}};this.VKI_close=VKI_close=function(){if(this.VKI_target){try{this.VKI_keyboard.parentNode.removeChild(this.VKI_keyboard),this.VKI_isIE6&&this.VKI_iframe.parentNode.removeChild(this.VKI_iframe)}catch(z){}this.VKI_kt!=this.VKI_kts&&(h.firstChild.nodeValue=this.VKI_kt=this.VKI_kts,this.VKI_buildKeys());h.getElementsByTagName("ol")[0].style.display=
"";this.VKI_target.focus();this.VKI_isIE?setTimeout(function(){f.VKI_target=!1},0):this.VKI_target=!1}};r(window,"resize",this.VKI_position,!1);r(window,"scroll",this.VKI_position,!1);this.VKI_kbsize();r(window,"load",p,!1);p()}}$(document).on("input","#search-input #entry",function(){3>=$(this).val().trim().split(" ").length?$("#search-links a, #search-links button:not(.web, .voice2)").removeClass("disabled"):$("#search-links a, #search-links button:not(.web, .voice2, .disabled)").addClass("disabled")});
$(document).on("paste","#search-input #entry",function(a){var b="";a.clipboardData||a.originalEvent.clipboardData?b=(a.originalEvent||a).clipboardData.getData("text/plain"):window.clipboardData&&(b=window.clipboardData.getData("Text"));var c=$.trim(b).replace(/\s*\n\s*/g,". ");c!=b&&(b=c,document.execCommand("insertText",!1,b)?a.preventDefault():clipboard(b)||(a.preventDefault(),$(this).val($(this).val()+b)));$(this).focus()});
$(document).on("click","#search-input .cancel",function(){$("#entry").val("").select();checkInputRTL($("#entry"))});$(document).on("click","#pair-selector .swap-content",function(){var a=$("#trg-selector .option.selected").attr("data-value")+"-"+$("#src-selector .option.selected").attr("data-value");reverseSearch(a,$("#entry").val())});
$(document).on("click","#src-selector .drop-down .option",function(a){$(this).hasClass("selected")?$("#src-selector").removeClass("open").addClass("closed"):(a=$("#src-selector .selected").attr("data-value"),$("#src-selector .selected").removeClass("selected"),$(this).addClass("selected"),$("#src-selector .front").html($(this).html()),$("#src-selector .front").attr("data-value",$(this).attr("data-value")),$("#src-selector").removeClass("open").addClass("closed"),refreshTargetSelector("#src-selector",
"#trg-selector",a),window.mobilecheck()||(buildKeyboard(),$("#keyboardInputMaster").attr("dir",langDirection(locale).replace(" ",""))))});
$(document).on("click","#trg-selector .drop-down .option",function(a){$(this).hasClass("selected")?$("#trg-selector").removeClass("open").addClass("closed"):($("#trg-selector .selected").removeClass("selected"),$(this).addClass("selected"),$("#trg-selector .front").html($(this).html()),$("#trg-selector .front").attr("data-value",$(this).attr("data-value")),$("#trg-selector").removeClass("open").addClass("closed"),launchSearch())});$(document).on("click","#search-button",launchSearch);
$(document).on("click","#synonyms-button",function(a){launchSynonyms(a.which)});$(document).on("click","#search-input .exclude",function(){$(this).hasClass("active")?($("body").removeClass("excluding"),$(this).removeClass("active")):($("body").addClass("excluding"),$(this).addClass("active"))});
$(document).on("keyup","#search-content .exclude-content input",function(a){13===a.which?""!==$(this).val()&&(a=$(this).val(),validText(a)&&($("#search-input input").val($("#search-input input").val()+" -{"+a+"}"),$(this).val(""),$("#search-content .exclude-content button").addClass("disabled"))):""!==$(this).val()?$("#search-content .exclude-content button").removeClass("disabled"):$("#search-content .exclude-content button").addClass("disabled")});
$(document).on("click","#search-content .exclude-content button",function(){if(!$(this).hasClass("disabled")){var a=$("#search-content .exclude-content input").val();validText(a)&&($("#search-input input").val($("#search-input input").val()+" -{"+a+"}"),$("#search-content .exclude-content input").val(""),$(this).addClass("disabled"))}});
$(document).on("keyup","#search .selector",function(a){if(13===a.which)$("#search-button").click();else if(9!==a.which){var b=$(this).attr("data-written");8===a.which?void 0!==b&&(b=b.slice(0,b.length-1)):(void 0===b&&(b=""),b+=String.fromCharCode(a.keyCode).toLowerCase());$(this).attr("data-written",b);var c=$(this),d="",e=Infinity;$(this).find(".drop-down .option:not(.disabled)").each(function(){var a=$(this).html().toLowerCase().indexOf(b);-1!==a&&a<e&&(e=a,d=$(this).attr("data-value"))});if(""!==
d){a=$(this).find(".option.selected").attr("data-value");$(this).find(".option.selected").removeClass("selected");$(this).find(".drop-down .option[data-value\x3d"+d+"]").addClass("selected");var g=$(this).find(".selected"),p=$(this).find(".front");p.html(g.html());p.attr("data-value",g.attr("data-value"));exists("#src-selector.open")&&(refreshTargetSelector("#src-selector","#trg-selector",a),window.mobilecheck()||buildKeyboard())}setTimeout(function(){$(c).attr("data-written")===b&&$(c).attr("data-written",
"")},2E3)}});$(document).on("keyup","#search .swap-content",function(a){13===a.which&&$(this).click()});$(document).on("keyup","#entry, #search-button",function(a){13===a.which&&(launchSearch(),rumjs.gaque("send","event","searchform","launchsearch","enterkey"))});$(document).ready(function(){exists("#trg-selector")&&refreshTargetSelector("#src-selector","#trg-selector");window.mobilecheck()||(buildKeyboard(),$("#entry").select());buildAutocomplete();$(".ui-autocomplete").removeAttr("tabindex")});
function launchSearch(){$("body").hasClass("loading")||(validText($.trim($("#entry").val()))||$("#entry").val(""),""!==$("#entry").val()&&(rumjs.que.push(function(){rumjs.fb.trackEvent("Search")}),"synonyms"===$("#trg-selector .option.selected").attr("data-value")?(rumjs.gaque("send","event","searchform","synonyms",$("#src-selector .option.selected").attr("data-value")),launchSynonyms(0)):document.location.href=context_path+"/"+getLocalizedPath()+"/"+getSelectedLangs()+"/"+toURL($("#entry").val())))}
function launchLinkWithCurrentSearch(a,b){b.preventDefault();var c=a.attr("data-value");rumjs.gaque("send","event","translations","searchin",c);if(!a.hasClass("disabled"))switch(c){case "synonyms":launchSynonyms(b.which);break;case "conjugator":launchConjugator(b.which);break;case "definition":launchDictionary(b.which);break;default:url=a.attr("data-url"),url=void 0===url?a.attr("href"):url,""!==url&&window.open(url+$("#entry").val(),"_blank","noopener")}return!1}
function launchSynonyms(a){if(!$("body").hasClass("loading")){var b=urls.synonyms[$("#src-selector .option.selected").attr("data-value")];void 0!==b&&(validText($.trim($("#entry").val()))?""!==$("#entry").val()&&(b=b.replace("{0}",toURL($("#entry").val().replace(/\+/g,"%20")))):b=b.replace("{0}",""),2==a?window.open(b,"_blank","noopener"):window.location=b)}}
function launchConjugator(a){if(!$("body").hasClass("loading")){var b=urls.conjugator[$("#src-selector .option.selected").attr("data-value")];void 0!==b&&(validText($.trim($("#entry").val()))?""!==$("#entry").val()&&(b=b.replace("{0}",toURL($("#entry").val()).replace(/\+/g,"%20"))):b=b.replace("{0}",""),2==a?window.open(b,"_blank","noopener"):window.location=b)}}
function launchDictionary(a){if(!$("body").hasClass("loading")){var b=urls.dictionary[$("#src-selector .option.selected").attr("data-value")];void 0!==b&&(validText($.trim($("#entry").val()))?""!==$("#entry").val()&&(b=b.replace("{0}",toURL($("#entry").val()).replace(/\+/g,"%20"))):b=b.replace("{0}",""),2==a?window.open(b,"_blank","noopener"):window.location=b)}}
function buildAutocomplete(){exists("#search-input .ui-autocomplete")||(exists("#entry")&&($("#entry").autocomplete({source:function(a,b){a=removeNegativeClauses(a.term);var c=8>=a.split(" ").length&&80>=a.length;validText(a)&&c&&(a={search:a,source_lang:$("#src-selector .option.selected").attr("data-value"),target_lang:$("#trg-selector .option.selected").attr("data-value")},$.ajax({url:context_path+"/bst-suggest-service",type:"post",contentType:"application/json; charset\x3dUTF-8",data:JSON.stringify(a),
dataType:"json",success:function(a){b($.map(a.suggestions,function(a){var b=a.suggestion;a=a.lang;return{label:b,value:b.replace(/<b>/gi,"").replace(/<\/b>/gi,""),lang:a}}))}}))},select:function(a,b){$("#entry").val(b.item.value);b.item.lang!==request.srclang&&(a=$("#src-selector .option.selected").attr("data-value"),$("#src-selector .option.selected").removeClass("selected"),$('#src-selector .option[data-value\x3d"'+b.item.lang+'"]').addClass("selected"),refreshTargetSelector("#src-selector","#trg-selector",
a));launchSearch();return!1},minLength:1}).data("ui-autocomplete")._renderItem=function(a,b){return $("\x3cli\x3e").attr("class",b.lang+"-flag").append("\x3cdiv\x3e"+b.label+"\x3c/div\x3e").appendTo(a)}),append("#search-input",$(".ui-autocomplete")))}
function buildKeyboard(){BuildKeyboardInputs("icon keyboard",constants.keyboard,$("#src-selector .option.selected").attr("data-value"),languages.self_located,languages.located,langDirection(locale).replace(" ",""));$("#keyboardInputMaster").draggable({containment:"parent",handle:".top"});$(".keyboardInputInitiator").insertBefore("#search-input .icons .cancel");$(".keyboardInputInitiator").click(function(){buildTooltips();$("#keyboardInputMaster").click(function(){checkInputRTL($("#entry"))});$("#keyboardInputMaster th strong").click(function(){$(".tooltip").hide()});
$("#entry").click();$("#keyboardInputMaster:not(:visible)").show();rumjs.gaque("send","event","searchform","keyboard","")})}function removeNegativeClauses(a){return $.trim(a.replace(/-{[^}]+}/ig,""))}function validText(a){return""===a||(new RegExp("^[0-9 !\"#$%\x26'()[\\]{}~\\-_.:;,*+^`\x3d?|!\\\\@\x3c\x3e/"+special_chars+"]+$")).test(a)||/(https?|ftp|file):\/\/[^ ]*/.test(a)?!1:!0}
function getSelectedLangs(){return getLocalizedPairURL($("#src-selector .option.selected").attr("data-value"),$("#trg-selector .option.selected").attr("data-value"))}var new_lang_pairs={};function addFlagsForPairSelector(){addNewFlag();addBetaFlag()}
function addNewFlag(){$("#pair-selector .new-flag").remove();var a=$("#src-selector .option.selected").attr("data-value");if(new_lang_pairs&&new_lang_pairs[a])for(var b in new_lang_pairs[a])$("#pair-selector #trg-selector .option[data-value\x3d'"+new_lang_pairs[a][b]+"']").each(function(){$(this).append('\x3cspan class\x3d"new-flag"\x3eNEW\x3c/span\x3e')})}var beta_langs=["tr","sv","zh"];
function addBetaFlag(){$("#pair-selector .beta-flag").remove();for(var a in beta_langs)$("#pair-selector .option[data-value\x3d'"+beta_langs[a]+"']").each(function(){$(this).append('\x3cspan class\x3d"beta-flag"\x3eBETA\x3c/span\x3e')})}
(function(a){function b(a,b){var f=(a&65535)+(b&65535);return(a>>16)+(b>>16)+(f>>16)<<16|f&65535}function c(a,c,d,e,g,q){a=b(b(c,a),b(e,q));return b(a<<g|a>>>32-g,d)}function d(a,b,d,e,g,q,k){return c(b&d|~b&e,a,b,g,q,k)}function e(a,b,d,e,g,q,k){return c(b&e|d&~e,a,b,g,q,k)}function g(a,b,d,e,g,q,k){return c(d^(b|~e),a,b,g,q,k)}function p(a,h){a[h>>5]|=128<<h%32;a[(h+64>>>9<<4)+14]=h;var f,q,p,r,k=1732584193,l=-271733879,n=-1732584194,m=271733878;for(h=0;h<a.length;h+=16)f=k,q=l,p=n,r=m,k=d(k,l,
n,m,a[h],7,-680876936),m=d(m,k,l,n,a[h+1],12,-389564586),n=d(n,m,k,l,a[h+2],17,606105819),l=d(l,n,m,k,a[h+3],22,-1044525330),k=d(k,l,n,m,a[h+4],7,-176418897),m=d(m,k,l,n,a[h+5],12,1200080426),n=d(n,m,k,l,a[h+6],17,-1473231341),l=d(l,n,m,k,a[h+7],22,-45705983),k=d(k,l,n,m,a[h+8],7,1770035416),m=d(m,k,l,n,a[h+9],12,-1958414417),n=d(n,m,k,l,a[h+10],17,-42063),l=d(l,n,m,k,a[h+11],22,-1990404162),k=d(k,l,n,m,a[h+12],7,1804603682),m=d(m,k,l,n,a[h+13],12,-40341101),n=d(n,m,k,l,a[h+14],17,-1502002290),l=
d(l,n,m,k,a[h+15],22,1236535329),k=e(k,l,n,m,a[h+1],5,-165796510),m=e(m,k,l,n,a[h+6],9,-1069501632),n=e(n,m,k,l,a[h+11],14,643717713),l=e(l,n,m,k,a[h],20,-373897302),k=e(k,l,n,m,a[h+5],5,-701558691),m=e(m,k,l,n,a[h+10],9,38016083),n=e(n,m,k,l,a[h+15],14,-660478335),l=e(l,n,m,k,a[h+4],20,-405537848),k=e(k,l,n,m,a[h+9],5,568446438),m=e(m,k,l,n,a[h+14],9,-1019803690),n=e(n,m,k,l,a[h+3],14,-187363961),l=e(l,n,m,k,a[h+8],20,1163531501),k=e(k,l,n,m,a[h+13],5,-1444681467),m=e(m,k,l,n,a[h+2],9,-51403784),
n=e(n,m,k,l,a[h+7],14,1735328473),l=e(l,n,m,k,a[h+12],20,-1926607734),k=c(l^n^m,k,l,a[h+5],4,-378558),m=c(k^l^n,m,k,a[h+8],11,-2022574463),n=c(m^k^l,n,m,a[h+11],16,1839030562),l=c(n^m^k,l,n,a[h+14],23,-35309556),k=c(l^n^m,k,l,a[h+1],4,-1530992060),m=c(k^l^n,m,k,a[h+4],11,1272893353),n=c(m^k^l,n,m,a[h+7],16,-155497632),l=c(n^m^k,l,n,a[h+10],23,-1094730640),k=c(l^n^m,k,l,a[h+13],4,681279174),m=c(k^l^n,m,k,a[h],11,-358537222),n=c(m^k^l,n,m,a[h+3],16,-722521979),l=c(n^m^k,l,n,a[h+6],23,76029189),k=c(l^
n^m,k,l,a[h+9],4,-640364487),m=c(k^l^n,m,k,a[h+12],11,-421815835),n=c(m^k^l,n,m,a[h+15],16,530742520),l=c(n^m^k,l,n,a[h+2],23,-995338651),k=g(k,l,n,m,a[h],6,-198630844),m=g(m,k,l,n,a[h+7],10,1126891415),n=g(n,m,k,l,a[h+14],15,-1416354905),l=g(l,n,m,k,a[h+5],21,-57434055),k=g(k,l,n,m,a[h+12],6,1700485571),m=g(m,k,l,n,a[h+3],10,-1894986606),n=g(n,m,k,l,a[h+10],15,-1051523),l=g(l,n,m,k,a[h+1],21,-2054922799),k=g(k,l,n,m,a[h+8],6,1873313359),m=g(m,k,l,n,a[h+15],10,-30611744),n=g(n,m,k,l,a[h+6],15,-1560198380),
l=g(l,n,m,k,a[h+13],21,1309151649),k=g(k,l,n,m,a[h+4],6,-145523070),m=g(m,k,l,n,a[h+11],10,-1120210379),n=g(n,m,k,l,a[h+2],15,718787259),l=g(l,n,m,k,a[h+9],21,-343485551),k=b(k,f),l=b(l,q),n=b(n,p),m=b(m,r);return[k,l,n,m]}function q(a){var b,c="";for(b=0;b<32*a.length;b+=8)c+=String.fromCharCode(a[b>>5]>>>b%32&255);return c}function u(a){var b,c=[];c[(a.length>>2)-1]=void 0;for(b=0;b<c.length;b+=1)c[b]=0;for(b=0;b<8*a.length;b+=8)c[b>>5]|=(a.charCodeAt(b/8)&255)<<b%32;return c}function r(a){return q(p(u(a),
8*a.length))}function x(a,b){var c=u(a),d=[],e=[];d[15]=e[15]=void 0;16<c.length&&(c=p(c,8*a.length));for(a=0;16>a;a+=1)d[a]=c[a]^909522486,e[a]=c[a]^1549556828;b=p(d.concat(u(b)),512+8*b.length);return q(p(e.concat(b),640))}function v(a){var b="",c,d;for(d=0;d<a.length;d+=1)c=a.charCodeAt(d),b+="0123456789abcdef".charAt(c>>>4&15)+"0123456789abcdef".charAt(c&15);return b}a.md5=function(a,b,c){b?c?a=x(unescape(encodeURIComponent(b)),unescape(encodeURIComponent(a))):(a=x(unescape(encodeURIComponent(b)),
unescape(encodeURIComponent(a))),a=v(a)):a=c?r(unescape(encodeURIComponent(a))):v(r(unescape(encodeURIComponent(a))));return a}})("function"===typeof jQuery?jQuery:this);$(document).ready(function(){setTimeout(function(){$("#side-badges").addClass("disabled");setTimeout(showAds,1E3)},7E3)});$(document).on("scroll",function(){showAds()});function mobileInnerAd(){window.mobilecheck()&&ramjs.que.push(["mobilebottomexamples"])}
function sideLargeAd(){"desktop"===(window.mobilecheck()?"mobile":1024<window.innerWidth?"desktop":"tablet")&&ramjs.que.push(["large_ad"])}function bottomMegaAd(){window.mobilecheck()||ramjs.que.push(["mega_ad"])}function innerAd(){$("#div-gpt-ad-Reverso_Ctxt_R_Result_InFeed_ATF").empty();var a=$("#div-gpt-ad-Reverso_Ctxt_R_Result_InFeed_ATF").clone();$(".inner-rca").html(a);window.mobilecheck()?ramjs.que.push(["mobilefirstexample"]):ramjs.que.push(["native"])}
function showSideAd(){if(exists(".rca.tall-rca")){var a=$("#div-gpt-ad-Reverso_Ctxt_D_Result_300x250_BTF").position().top+$("#div-gpt-ad-Reverso_Ctxt_D_Result_300x250_BTF").height()+20+360;$(window).scrollTop()+$(window).height()>a&&0<a&&exists(".tall-rca.disabled")&&15<=getDisplayedResults()&&($(".tall-rca").removeClass("disabled"),sideLargeAd())}}
function showBottomMegaAd(){exists("#bottom-mega-rca-box")&&exists("#examples-content")&&10<=getDisplayedResults()&&$(window).scrollTop()+$(window).height()>$("#bottom-mega-rca-box").position().top&&!$("#bottom-mega-rca-box").hasClass("loaded")&&($("#bottom-mega-rca-box").addClass("loaded"),bottomMegaAd())}
function showInnerAd(){if(rumjs.business&&rumjs.business.shouldDisplayElementsHiddenByDidomi()&&(exists("#div-gpt-ad-Reverso_Ctxt_R_Result_InFeed_ATF")||exists("#div-gpt-ad-Reverso_Ctxt_M_Result_320x50_ATF"))&&!$("body").hasClass("rude-lock")){var a=$("#div-gpt-ad-Reverso_Ctxt_R_Result_InFeed_ATF, #div-gpt-ad-Reverso_Ctxt_M_Result_320x50_ATF").offset().top+.1*$("#div-gpt-ad-Reverso_Ctxt_R_Result_InFeed_ATF, #div-gpt-ad-Reverso_Ctxt_M_Result_320x50_ATF").height();$(window).scrollTop()+$(window).height()>
a&&exists(".inner-rca.unloaded")&&($(".inner-rca.unloaded").removeClass("unloaded"),innerAd())}else setTimeout(showInnerAd,100)}
function showMobileInnerAd(){if(rumjs.business&&rumjs.business.shouldDisplayElementsHiddenByDidomi()&&exists("#div-gpt-ad-Reverso_Ctxt_M_Result_300x250_BTF")&&!$("body").hasClass("rude-lock")){var a=$("#div-gpt-ad-Reverso_Ctxt_M_Result_300x250_BTF").offset().top+.1*$("#div-gpt-ad-Reverso_Ctxt_M_Result_300x250_BTF").height();$(window).scrollTop()+$(window).height()>a&&exists(".mobile-inner-rca.unloaded")&&($(".mobile-inner-rca.unloaded").removeClass("unloaded"),mobileInnerAd())}else setTimeout(showMobileInnerAd,
100)}function showAds(){showSideAd();showInnerAd();showMobileInnerAd();showBottomMegaAd()}var audio=document.createElement("audio"),voice_feature=!(!audio.canPlayType||!audio.canPlayType("audio/mpeg;").replace(/no/,"")),tags_for_conjugation="v vi vt vp v.perf v.imperf vt,vi vr v-infl".split(" "),templates={},total_examples_viewed=-1,NIKKUD_OPEN="\x3cflag\x3e",NIKKUD_CLOSE="\x3c/flag\x3e";
function storeVisibleExamples(){-1===total_examples_viewed&&(total_examples_viewed=0);for(var a=getDisplayedResults();0<a;a--){var b=$("#examples-content .example").get(a-1),b=$(b).offset().top+$(b).height();$(window).scrollTop()+$(window).height()>b&&a>total_examples_viewed&&(total_examples_viewed=a,a=0)}}function getDisplayedResults(){return $("#examples-content .example").length}
function loadExamples(a,b){var c=getCurrentQuery();c in query_cache.examples?(void 0!==a&&a(),$("#examples-content").html(query_cache.examples[c].content),$("#result-info").html(query_cache.examples[c].info),query_cache.examples[c].rude_warning_displayed&&!query_cache.rude_warning_already_displayed?$("body").addClass("rude rude-lock"):$("body").removeClass("rude-lock"),afterLoadExamples(),void 0!==b&&b(),hideGlobalLoading()):$.ajax({url:context_path+"/bst-query-service",type:"post",contentType:"application/json; charset\x3dUTF-8",
data:JSON.stringify({source_text:request.srctext,target_text:request.trgtext,source_lang:request.srclang,target_lang:request.trglang,npage:request.rpage,mode:request.rmode}),dataType:"json",success:function(c){if(null!==c&&""!==templates.example){null==c.request&&(c.request={});1===request.rpage&&(templates.blocked_results=$("#blocked-results-banner").clone(),templates.blocked_rude_results=$("#blocked-rude-results-banner").clone(),$("#examples-content").empty());request.rmode=null!==c.request?c.request.mode:
request.rmode;void 0!==a&&a();var d=!logLOCD&&c.request.target_text?5:window.mobilecheck()?10:0,g=window.mobilecheck()?1:logLOCD?6:4,p=getDisplayedResults();for(i in c.list){p++;var q=p>d-1&&0!=d;0===p-(c.nrows_exact+1)&&append("#examples-content","\x3ch3 class\x3d'other-result'\x3e"+constants.strings.results_other_results+"\x3c/h3\x3e");$(templates.example).attr("id",c.list[i].ref);$(templates.example).find(".text").attr("style","");$(templates.example).find(".src .text").html(escapeHtmlCharacterLessThan(c.list[i].s_text));
$(templates.example).find(".trg .text").html(linkAlignedText(c.list[i].t_text));$(templates.example).find(".options .src .voice").attr("data-id",c.list[i].ref);$(templates.example).find(".options .trg .addentry").attr("data-text",c.list[i].t_text);$(templates.example).find(".options .trg .voice").attr("data-id",c.list[i].ref);$(templates.example).find(".options .trg .copy").attr("data-id",c.list[i].ref);$(templates.example).find(".options .trg .favourite").addClass("non-favourite").removeClass("favourite");
$(templates.example).find(".options .trg .non-favourite").attr("data-id",c.list[i].ref);$(templates.example).find(".options .trg .more-context").attr("title",constants.strings.tooltip_context+" ("+c.list[i].url+")");$(templates.example).find(".options .trg .more-context").attr("data-id",c.list[i].ref);$(templates.example).find(".options .trg .report").attr("data-id",c.list[i].ref);$(templates.example).find(".mobile-voice").attr("data-id",c.list[i].ref);0<$(templates.example).find(".text-nikkud").length&&
($(templates.example).find(".text-nikkud").remove(),0<$(templates.example).find(".text-transliteration").length&&$(templates.example).find(".text-transliteration").remove());c.list[i].pba?$(templates.example).addClass("pba"):$(templates.example).removeClass("pba");var u=$(templates.example).clone();q&&$(u).addClass("mobile-hidden");void 0!==templates.mobileInnerAd&&p===d&&append("#examples-content",$(templates.mobileInnerAd).clone());9<p&&!logLOCD&&20<=c.list.length&&$(u).addClass("blocked");void 0!==
templates.innerAd&&p===g&&append("#examples-content",$(templates.innerAd).clone());append("#examples-content",$(u))}$("#nrows").html(c.nrows);$("#nrows_exact").html(c.nrows_exact);$("#time").html(c.time_ms);$("#examples-content").append(templates.blocked_rude_results);query_cache.rude_warning_already_displayed||!c.request.risky_words&&!c.request.rude_words?$("body").removeClass("rude-lock"):$("body").addClass("rude rude-lock");logLOCD||$("#examples-content").append(templates.blocked_results);afterLoadExamples();
saveExamplesCache();if(void 0===query_cache.inflected)for(i in query_cache.inflected={},c=c.dictionary_entry_list,c)query_cache.inflected[c[i].term]=c[i].inflectedForms;void 0!==b&&b()}hideGlobalLoading()},error:function(){hideGlobalLoading()}})}
function afterLoadExamples(){0===getDisplayedResults()?$("body").removeClass("last-results").removeClass("locked").addClass("no-results"):($("body").removeClass("no-results"),getDisplayedResults()>=getTotalResults()?$("body").addClass("last-results").removeClass("locked"):($("body").removeClass("last-results"),1===request.rpage?($("body").addClass("locked"),exists(".example.mobile-hidden")&&$("#load-more-examples").show()):$("body").removeClass("locked")),showInnerAd(),logLOCD?checkExamplesFavourites():
resizeBlockedExamplesBanner());buildTooltips();resizeElementsResult()}
function reportExampleError(){tabindex=-1;var a=$("#popups-container .report.popup .options input:checked").val();void 0===a&&($("#popups-container .report.popup .options input[value\x3d5]").click(),a=5);var b=$.trim($("#popups-container .report.popup .src.textarea").text()),c=$.trim($("#popups-container .report.popup .trg.textarea").text()),d=$("#popups-container .report.popup .comment").val(),a={source:$.trim($("#"+$("#popups-container .report.popup .example").attr("data-id")+" .src .text").html()).replace(/<a([^>]+)>/gi,
"").replace(/<\/a>/gi,""),target:$.trim($("#"+$("#popups-container .report.popup .example").attr("data-id")+" .trg .text").html()).replace(/<a([^>]+)>/gi,"").replace(/<\/a>/gi,""),source_lang:request.srclang,target_lang:request.trglang,source_edit:2E3<b.length?b.substring(0,2E3):b,target_edit:2E3<c.length?c.substring(0,2E3):c,type:1,vote:0,show_votes:0,reason:"undefined"!==typeof a?a:7,comment:500<d.length?d.substring(0,500):d,id_segment:$("#popups-container .report.popup").attr("data-example"),search:request.srctext,
results:0<1*$("#nrows_exact").html()?1:2,mode:0,device:0};$.ajax({url:urls.bstring_host+"bst-vote-entry-service",type:"post",contentType:"application/json",data:JSON.stringify(a),dataType:"jsonp"});showMessagePopup(constants.strings.votes_thank_you_vote);removePopup("report")}
function loadNextResults(){!logLOCD||$("body").hasClass("last-results")||$("body").hasClass("locked")||$("body").hasClass("loading-examples")||($("body").addClass("loading-examples"),request.rpage++,delete query_cache.examples[request.srctext+"#"+request.trgtext],rumjs.gaque("send","event","examples","nextpage",request.rpage),showGlobalOptions(),loadExamples(void 0,function(){$("body").removeClass("loading-examples");80===getDisplayedResults()&&$("body").addClass("locked")}))}
function saveTemplates(){0<getDisplayedResults()&&(templates.example=$($("#examples-content .example")[0]).clone());exists("#examples-content .inner-rca")&&(templates.innerAd=$("#examples-content .inner-rca").clone(),$(templates.innerAd).find("#div-gpt-ad-Reverso_Ctxt_R_Result_InFeed_ATF, #div-gpt-ad-Reverso_Ctxt_M_Result_320x50_ATF").empty(),$(templates.innerAd).addClass("unloaded"));exists("#examples-content .mobile-inner-rca")&&(templates.mobileInnerAd=$("#examples-content .mobile-inner-rca").clone(),
$(templates.mobileInnerAd).find("#examples-content .mobile-inner-rca").empty(),$(templates.mobileInnerAd).empty().addClass("unloaded"))}function resizeElementsResult(){resizeElements();resizeBlockedExamplesBanner();resizeBlockedRudeExamplesBanner()}
function resizeBlockedExamplesBanner(){if(exists("#blocked-results-banner:visible")){window.mobilecheck()?($("#examples-content .example").slice(15).hide(),$("#blocked-results-banner").addClass("floating")):($("#examples-content .example").slice(15).show(),$("#blocked-results-banner").removeClass("floating"));var a=$("#examples-content").height()-$($("#examples-content .example").get(9)).position().top-$("#blocked-results-banner .body").outerHeight();$("#blocked-results-banner").css("padding",a/2+
"px 0px")}}function resizeBlockedRudeExamplesBanner(){if(exists("#blocked-rude-results-banner:visible")){var a=$("#examples-content").height()-$($("#examples-content .example").get(0)).position().top-$("#blocked-rude-results-banner .body").outerHeight();$("#blocked-rude-results-banner").css("padding",0>a?0:"40px 0px "+(a-40)+"px")}}function getExactResults(){return exists("#nrows_exact")?parseInt($("#nrows_exact").text()):0}
function getTotalResults(){return exists("#nrows")?parseInt($("#nrows").text()):0}
function getReverseTranslationsOf(a,b){$("#filtered-entry .bottom .reverse-search-content").html($("#filtered-entry .bottom .reverse-search-content .icon"));null!=b&&""!=b&&(b=$.trim(b.replace(/[\]\[]/g,"").replace("/","./")),b+=".");$.ajax({url:context_path+"/bst-query-service",type:"post",contentType:"application/json; charset\x3dUTF-8",data:JSON.stringify({source_text:a,target_text:"",source_lang:request.trglang,target_lang:request.srclang,mode:10,source_pos:b}),dataType:"json",success:function(a){var b=
window.mobilecheck()?2:5,c=a.dictionary_entry_list.splice(0,b);if(0!==c.length){var g=[],p=context_path+"/"+getLocalizedPath()+"/"+getLocalizedPairURL(request.srclang,request.trglang)+"/",q;for(q in c)g.push("\x3ca class\x3d'translation"+(c[q].isTranslation?"":" indication")+"' href\x3d'"+p+toURL(c[q].term)+"'\x3e"+c[q].term+"\x3c/a\x3e");g=g.join(", ");g+=a.dictionary_entry_list.length>b?" ...":"";g='\x3ci class\x3d"icon jump-right"\x3e\x3c/i\x3e'+g;$("#filtered-entry .reverse-search-content").html(g);
$("#filtered-entry .reverse-search-content").show()}else $("#filtered-entry .reverse-search-content").hide();saveTranslationsCache();hideGlobalLoading();resizeElementsResult()}})}
function buildFilteredEntry(){$("#filtered-entry").addClass(langDirection(request.trglang));var a=""!==languages.voice_codes[request.trglang]&&"nikkudator"!==languages.voice_codes[request.trglang],b;b='\x3cbutton class\x3d"close"\x3e\x3ci class\x3d"icon left-arrow"\x3e\x3c/i\x3e'+constants.strings.back;b+='\x3c/button\x3e\x3cdiv class\x3d"entry-content"\x3e\x3ca class\x3d"entry" href\x3e\x3c/a\x3e\x3cspan class\x3d"icon warning"\x3e\x3c/span\x3e\x3cspan class\x3d"pos"\x3e\x3c/span\x3e\x3cspan class\x3d"figure"\x3e\x3c/span\x3e\x3cspan class\x3d"transliteration"\x3e\x3c/span\x3e\x3cdiv class\x3d"options"\x3e';a&&
(b+='\x3cbutton class\x3d"icon stopped voice" title\x3d"'+constants.strings.tooltip_pronunciation+(a?"":" - "+constants.strings.tooltip_translation_na)+'"\x3e\x3c/button\x3e');b=b+'\x3cbutton class\x3d"icon non-favourite"\x3e\x3c/button\x3e'+('\x3ca class\x3d"icon conjugator" title\x3d"'+constants.strings.tooltip_conjugation+'" target\x3d"_blank" rel\x3d"noopener"\x3e\x3c/a\x3e');b+='\x3ca class\x3d"icon synonyms" title\x3d"'+constants.strings.tooltip_synonyms+'" target\x3d"_blank" rel\x3d"noopener"\x3e\x3c/a\x3e';
b+='\x3ca class\x3d"icon dictionary" title\x3d"'+constants.strings.tooltip_definition+'" target\x3d"_blank" rel\x3d"noopener" href\x3d""\x3e\x3c/a\x3e';b+='\x3cbutton class\x3d"icon copy" title\x3d"'+constants.strings.tooltip_copy_translation+'"\x3e\x3c/button\x3e';logLOCD&&(b+='\x3ca class\x3d"icon addentry" title\x3d"'+constants.strings.tooltip_add_to_collab_dict+'" target\x3d"_blank" rel\x3d"noopener" href\x3d""\x3e\x3c/a\x3e');b+='\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"reverse-search-content"\x3e\x3c/div\x3e\x3cdiv class\x3d"inflected-forms-content"\x3e\x3c/div\x3e';
$("#filtered-entry").html(b)}function loadMachineTranslation(){exists("#mt-box")&&$("#mt-box").attr("data-mt-srclang")&&($("#mt-box .loading-pannel .waiting-long").hide(),$("#mt-box").addClass("loading"),loadMachineTranslationReversoAPI());setTimeout(function(){$("#mt-box .loading-pannel .waiting-long").show()},1E4)}var LANGUAGES_WITH_IDEOGRAMS=["zh","ja"];
function loadMachineTranslationReversoAPI(){var a=request.original,b="",c=-1===$.inArray($("#mt-box").attr("data-mt-srclang"),LANGUAGES_WITH_IDEOGRAMS),d;c?(d=logLOCD?360:96,request.original.length>d&&(a=request.original.substring(0,d).split(" ").slice(0,-1).join(" "),b="limit-mt")):(d=logLOCD?140:40,request.original.length>d&&(a=request.original.substring(0,d),b="limit-mt"));d=getISO6392LanguageCode($("#mt-box").attr("data-mt-srclang"));var e=getISO6392LanguageCode($("#mt-box").attr("data-mt-trglang"));
$.ajax({url:urls.reverso_mt_api,headers:{"X-Reverso-Origin":"context.web"},data:JSON.stringify({from:d,to:e,input:a,format:"text",options:{origin:"contextweb",languageDetection:!0}}),type:"POST",dataType:"json",contentType:"application/json; charset\x3dUTF-8",success:function(d){var e=$("#mt-box .title-content").attr("href");if(d.languageDetection.isDirectionChanged){var g=getISO6391LanguageCode(d.from),u=getISO6391LanguageCode(d.to),e=urls.translation_url+"\x26sourcetext\x3d"+toURL(request.original.substring(0,
Math.min(1200,request.original.length)).replace(/</g,""))+"\x26action_form\x3dtranslate\x26direction_translation\x3d"+reverso_codes[g+"-"+u];$("#mt-box .title-content").attr("href",e);if(g in languages.pairs){var r=$("#mt-box");r.attr("data-mt-srclang",g);var x=$("#src-selector .selected").attr("data-value");$("#src-selector .selected").removeClass("selected");var v=$("#src-selector .drop-down .option[data-value\x3d"+g+"]");v.addClass("selected");$("#src-selector .front").html(v.html());$("#src-selector .front").attr("data-value",
g);$("#transliteration-content.notice").hide();-1<$.inArray(u,languages.pairs[g])&&(r.attr("data-mt-trglang",u),$("#trg-selector .selected").removeClass("selected"),r=$("#trg-selector .drop-down .option[data-value\x3d"+u+"]"),r.addClass("selected"),$("#trg-selector .front").html(r.html()),$("#trg-selector .front").attr("data-value",u));$("#mt-box .src .voice").attr("data-lang",g);$("#mt-box .trg .voice").attr("data-lang",u);refreshTargetSelector("#src-selector","#trg-selector",x);window.mobilecheck()||
(buildKeyboard(),$("#keyboardInputMaster").attr("dir",langDirection(locale).replace(" ","")))}}b?($("#mt-box .src .text").html($("\x3ca/\x3e",{rel:"noopener",target:"_blank",href:e}).text(a)),$("#mt-box .trg .text").html($("\x3ca/\x3e",{rel:"noopener",target:"_blank",href:e}).text(d.translation[0])),logLOCD?(g="#mt-box .documents-container.wide-container",$(g).append($("\x3ca/\x3e",{href:e,rel:"noopener",target:"_blank","class":"mtinfo"}).html('Reverso.net\x3cspan class\x3d"icon launch"\x3e\x3c/span\x3e')),
$(g).show()):($("body").addClass(b),g="#mt-box .limit .text.title-text"),exists(g)&&$(g).prepend($("\x3cspan/\x3e",{"class":"mtinfo"}).html(constants.strings.results_mt_characters_translated.replace("{0}",a.length+" / "+request.original.length)+". "))):($("#mt-box .src .text").text(a),$("#mt-box .trg .text").text(d.translation[0]));$("\x3cp/\x3e",{"class":"developers wide-container"}).insertBefore("#footer").html(constants.strings.results_mt_powered.replace("{0}",d.engines.join(", ")));a.length<=
(c?52:128)?logLOCD&&checkMTTranslationFavourite():$("#mt-box .non-favourite").remove();$("#mt-box").removeClass("loading");$("#mt-box .options").fadeIn();$("#mt-box .text").fadeIn()},error:function(){$("#mt-box").removeClass("loading").addClass("error")}})}
function buildGlobalOptions(){var a;a='\x3cdiv id\x3d"global-options" class\x3d"nonselectable"\x3e'+('\x3cbutton class\x3d"icon unlock" title\x3d"'+(logLOCD?constants.strings.tooltip_lock:constants.strings.tooltip_unlock_unregistered)+'"\x3e\x3c/button\x3e');a+='\x3cbutton class\x3d"icon lock" title\x3d"'+constants.strings.tooltip_unlock+'"\x3e\x3c/button\x3e';a+='\x3cbutton class\x3d"icon go-up" title\x3d"'+constants.strings.tooltip_go_to_top+'"\x3e\x3c/button\x3e';a+="\x3c/div\x3e";prepend($("body"),
a)}function buildTransliteration(a,b){b=""+('\x3cdiv lang\x3d"'+b+'" class\x3d"text-nikkud"\x3e\x3c/div\x3e')+'\x3cdiv class\x3d"text-transliteration"\x3e\x3c/div\x3e';$(a).append(b)}
function showContextPopup(a){exists("#popups-container .popup.context")&&$("#popups-container .popup.context").attr("data-id")===a?showPopup("context"):$.ajax({url:context_path+"/bst-context-service",type:"post",contentType:"application/json",data:JSON.stringify({id:a,source_lang:request.srclang,target_lang:request.trglang,size:2}),dataType:"json",success:function(b){var c="",d="",e="",g="",p="";example=b.before[1];if(void 0!==example)var q="0"===example.is_searchable_text?"nonsearchable":"",d=d+
('\x3cdiv class\x3d"prev '+q+'"\x3e')+('\x3cspan class\x3d"src"\x3e'+escapeHtmlCharacterLessThan(example.s_text)+"\x3c/span\x3e"),d=d+('\x3cspan class\x3d"trg"\x3e'+escapeHtmlCharacterLessThan(example.t_text)+"\x3c/span\x3e"),d=d+"\x3c/div\x3e";e=e+'\x3cdiv class\x3d"current"\x3e'+('\x3cspan class\x3d"src"\x3e'+escapeHtmlCharacterLessThan(b.center.s_text)+"\x3c/span\x3e");e+='\x3cspan class\x3d"trg"\x3e'+escapeHtmlCharacterLessThan(b.center.t_text)+"\x3c/span\x3e";e+="\x3c/div\x3e";example=b.after[0];
void 0!==example&&(q="0"===example.is_searchable_text?"nonsearchable":"",g=g+('\x3cdiv class\x3d"post '+q+'"\x3e')+('\x3cspan class\x3d"src"\x3e'+escapeHtmlCharacterLessThan(example.s_text)+"\x3c/span\x3e"),g+='\x3cspan class\x3d"trg"\x3e'+escapeHtmlCharacterLessThan(example.t_text)+"\x3c/span\x3e",g+="\x3c/div\x3e");500>getContextLength(b)&&(example=b.before[0],void 0!==example&&(q="0"===example.is_searchable_text?"nonsearchable":"",c=c+('\x3cdiv class\x3d"prevprev '+q+'"\x3e')+('\x3cspan class\x3d"src"\x3e'+
escapeHtmlCharacterLessThan(example.s_text)+"\x3c/span\x3e"),c+='\x3cspan class\x3d"trg"\x3e'+escapeHtmlCharacterLessThan(example.t_text)+"\x3c/span\x3e",c+="\x3c/div\x3e"),example=b.after[1],void 0!==example&&(q="0"===example.is_searchable_text?"nonsearchable":"",p=p+('\x3cdiv class\x3d"postpost '+q+'"\x3e')+('\x3cspan class\x3d"src"\x3e'+escapeHtmlCharacterLessThan(example.s_text)+"\x3c/span\x3e"),p+='\x3cspan class\x3d"trg"\x3e'+escapeHtmlCharacterLessThan(example.t_text)+"\x3c/span\x3e",p+="\x3c/div\x3e"));
b=c+d+e+g+p+'\x3cspan class\x3d"corpus wide-container"\x3e'+(constants.strings.results_corpus_source+": "+getCorpusDescription(a));b=b+"\x3c/span\x3e"+('\x3cbutton class\x3d"close" data-popup\x3d"context"\x3e'+constants.strings.close+"\x3c/button\x3e");showPopup("context","",b);$("#popups-container .popup.context").attr("data-id",a)}})}
function showReportPopup(a){disableTabIndex();var b=$("#"+a+" .src .text").html().replace("\n","").replace(/^[ ]*/g,""),c=$("#"+a+" .trg .text").html().replace("\n","").replace(/^[ ]*/g,"").replace(/<(\/a|a)[^>]*>/gi,""),d=0<$("#"+a+" .trg .text em").length?$($("#"+a+" .trg .text em").get(0)).text():"",e;e=""+("\x3clabel\x3e"+constants.strings.votes_edit_text+"\x3c/label\x3e");e+='\x3cbutton class\x3d"icon edit'+(logLOCD?" registered":"")+'" title\x3d"'+(logLOCD?constants.strings.tooltip_edit_texts:
constants.strings.tooltip_cannot_edit)+'"\x3e\x3c/button\x3e';logLOCD&&(e+='\x3cbutton class\x3d"icon check" title\x3d"'+constants.strings.accept+'"\x3e\x3c/button\x3e',e+='\x3cbutton class\x3d"icon undo" title\x3d"'+constants.strings.tooltip_undo_changes+'"\x3e\x3c/button\x3e');e=e+('\x3cdiv class\x3d"example wide-container" data-id\x3d"'+a+'"\x3e')+'\x3cdiv class\x3d"edit-content"\x3e'+('\x3cdiv class\x3d"textarea src"'+(logLOCD?' contentEditable\x3d"true"':"")+' maxlength\x3d"400" tabindex\x3d"1" data-translation\x3d"'+
request.srctext+'"\x3e'+b+"\x3c/div\x3e");e+='\x3cdiv class\x3d"textarea trg "'+(logLOCD?' contentEditable\x3d"true"':"")+' maxlength\x3d"400" tabindex\x3d"2" data-translation\x3d"'+d+'"\x3e'+c+"\x3c/div\x3e";e+="\x3c/div\x3e";e+="\x3c/div\x3e";e+='\x3cdiv class\x3d"options wide-container"\x3e';e+="\x3clabel\x3e"+constants.strings.votes_indicate_reason+"\x3c/label\x3e";e+='\x3cdiv class\x3d"option"\x3e\x3cinput type\x3d"radio" name\x3d"errorType" value\x3d"1"\x3e\x3clabel title\x3d"'+constants.strings.tooltip_vote_reason1+
'"\x3e'+constants.strings.votes_negative_1+"\x3c/label\x3e\x3c/div\x3e";e+='\x3cdiv class\x3d"option"\x3e\x3cinput type\x3d"radio" name\x3d"errorType" value\x3d"5"\x3e\x3clabel title\x3d"'+constants.strings.tooltip_vote_reason5+'"\x3e'+constants.strings.votes_negative_5+"\x3c/label\x3e\x3c/div\x3e";e+='\x3cdiv class\x3d"option"\x3e\x3cinput type\x3d"radio" name\x3d"errorType" value\x3d"4"\x3e\x3clabel title\x3d"'+constants.strings.tooltip_vote_reason4+'"\x3e'+constants.strings.votes_negative_4+"\x3c/label\x3e\x3c/div\x3e";
e+='\x3cdiv class\x3d"option"\x3e\x3cinput type\x3d"radio" name\x3d"errorType" value\x3d"3"\x3e\x3clabel title\x3d"'+constants.strings.tooltip_vote_reason3+'"\x3e'+constants.strings.votes_negative_3+"\x3c/label\x3e\x3c/div\x3e";e+='\x3cdiv class\x3d"option"\x3e\x3cinput type\x3d"radio" name\x3d"errorType" value\x3d"6"\x3e\x3clabel title\x3d"'+constants.strings.tooltip_vote_reason6+'"\x3e'+constants.strings.votes_negative_6+"\x3c/label\x3e\x3c/div\x3e";e+="\x3c/div\x3e";e+="\x3clabel\x3e"+constants.strings.votes_add_comment+
"\x3c/label\x3e";e+='\x3cinput class\x3d"comment" type\x3d"text" tabindex\x3d"3"\x3e';e+='\x3cdiv class\x3d"buttons"\x3e';e+='\x3cbutton class\x3d"cancel" data-popup\x3d"report"\x3e'+constants.strings.cancel+"\x3c/button\x3e";e+='\x3cbutton class\x3d"accept"\x3e'+constants.strings.confirm+"\x3c/button\x3e";e+="\x3c/div\x3e";showPopup("report",constants.strings.votes_popup_title,e);enableTabIndex(".popup.report");$("#popups-container .report.popup").attr("data-example",a);rumjs.gaque("send","event",
"user","vote","display")}function showCopyPopup(a){a='\x3ctextarea id\x3d"user-copy" readonly\x3d"" rows\x3d"1"\x3e'+a+"\x3c/textarea\x3e";var b=""===request.srctext?constants.strings.results_copy_message.replace("{0}",request.srctext):"Ctrl+C";showPopup("copy",b,a);$("#user-copy").focus();$("#user-copy").select()}
function showBottomSigninPopup(){var a=0;exists("#blocked-results-banner")&&(a=$("#examples-content").position().top+$("#blocked-results-banner").position().top+$("#blocked-results-banner").height());$(window).scrollTop()+$(window).height()>a?$("#register-popup-bottom").hide():$("#register-popup-bottom").show()}
function checkBottomSigninPopup(){if(exists("#register-popup-bottom")){var a=Cookies.get("floatingpopup_counter");void 0!==a&&(a=parseInt(a),0<a?(--a,Cookies.set("floatingpopup_counter",a)):(a=void 0,Cookies.remove("floatingpopup_counter")));if(10===a||void 0===a)$("#register-popup-bottom").removeClass("closed"),$("#register-popup-bottom .up-arrow").attr("title",constants.strings.close),$("#register-popup-bottom .up-arrow").addClass("cancel").removeClass("up-arrow"),rumjs.gaque("send","event","registration_incentives",
"floatingpopup","display")}}
function getNikkud(a,b){var c=$(a).children(".text")[0],d=flagTags(c),c=d[0],e=d[1],d="fr"===getLocaleLang()?"fr":"en";$.ajax({url:urls.reverso.nikkudator,headers:{"X-Reverso-Origin":"context.web"},crossDomain:!0,contentType:"application/json",type:"get",data:{text:c,includeTransliteration:!0,interfaceLanguage:d},dataType:"json",success:function(c){if(null!==c){var d=restoreTags(c.Nikkud,e);$(a).children(".text-nikkud").html(d);c.hasOwnProperty("Transliteration")&&"string"===typeof c.Transliteration&&
(c=highlightTranslit(c.Transliteration,e),$(a).children(".text-transliteration").html(c));b()}},error:function(a,b,c){}})}function launchTransliteration(a,b,c){$.ajax({url:urls.reverso.transliterator+"transliteration/",headers:{"X-Reverso-Origin":"context.web"},crossDomain:!0,contentType:"application/json",type:"get",data:{text:b,model:transliteration_langs[c]},dataType:"json",success:function(b){null!==b&&a(b)},error:function(a,b,c){}})}
function getSearchTransliteration(){exists("#transliteration-content")&&(action=function(a){$("#transliteration-content .message").html(a.transliteration)},launchTransliteration(action,request.srctext,request.srclang))}
function getTransliteration(a,b,c){var d=$(a).children(".text")[0],d=flagTags(d),e=d[0],g=d[1];transliterationAction=function(c){if(null!==c){var d=c.text;c.hasOwnProperty("vowels")&&"string"===typeof c.vowels&&(d=c.vowels);d=restoreTags(d,g);$(a).children(".text-nikkud").html(d);c.hasOwnProperty("transliteration")&&"string"===typeof c.transliteration&&(c=highlightTranslit(c.transliteration,g),$(a).children(".text-transliteration").html(c));b()}};launchTransliteration(transliterationAction,e,c)}
function extractTags(a,b){var c=["\x3e","\x3c/"];a=a.split(c[0]+b+c[1]);return[a[0]+c[0],c[1]+a[1]]}function flagTags(a){for(var b="",c=[],d=0;d<a.childNodes.length;d++){var e=String(a.childNodes[d].textContent);a.childNodes[d].nodeType==Node.TEXT_NODE?b+=e:(e=a.childNodes[d].textContent,b+=NIKKUD_OPEN+e+NIKKUD_CLOSE,c=c.concat(extractTags(a.childNodes[d].outerHTML,e)))}return[b.trim(),c]}
function highlightTranslit(a,b){a=String(a);for(var c=0;c<b.length;c+=2)a=needsHighlight(b[c])?a.replace(NIKKUD_OPEN,"\x3cem\x3e").replace(NIKKUD_CLOSE,"\x3c/em\x3e"):a.replace(NIKKUD_OPEN,"").replace(NIKKUD_CLOSE,"");return a}var HIGHLIGHT_TRANSLIT_REGEX=/<em(?!.*outlined)/,ANY_FLAG_REGEX=new RegExp(NIKKUD_OPEN+"|"+NIKKUD_CLOSE);function needsHighlight(a){return-1!==a.search(HIGHLIGHT_TRANSLIT_REGEX)}function restoreTags(a,b){a=String(a);for(var c in b)a=a.replace(ANY_FLAG_REGEX,b[c]);return a}
window.onbeforeunload=function(){storeVisibleExamples();-1!==total_examples_viewed&&rumjs.gaque("send","event","examples","visible",total_examples_viewed)};$(document).on("scroll",function(){storeVisibleExamples()});
$(document).on("click","#search-options .detailed-view, #mobile-detailed-view, #translations-content .translation.icon.horizontal-dots",function(){$("body").hasClass("detailed")?($("body").removeClass("detailed"),$("#translations-content .translation.icon.horizontal-dots").show()):($("body").addClass("detailed"),$("#translations-content .translation.icon.horizontal-dots").hide());$("#top-results").hasClass("filtered-entry")&&removeURLFilter()});
$(document).on("click","#pos-filters button",function(){if($(this).hasClass("filtered"))$(this).removeClass("filtered"),$("#translations-content .translation.first").removeClass("non-first"),$("#translations-content .translation.filtered").removeClass("filtered");else{$("#pos-filters button.filtered").removeClass("filtered");var a=$(this).attr("data-index");if("undefined"!==typeof a){var b=$(this).attr("data-pos");$("#translations-content .translation").each(function(){if(void 0!==$(this).attr("data-pos-index")){var c=
$(this).attr("data-pos-index").split(",");-1!==$.inArray(a,c)?$(this).removeClass("filtered"):$(this).addClass("filtered")}else"o."===b&&$(this).hasClass("no-pos")?$(this).removeClass("filtered"):$(this).addClass("filtered")});$("#translations-content .translation.first").addClass("non-first");$(this).addClass("filtered")}}});$(document).on("click","#translations-content .translation",function(a){a.preventDefault();setURLFilter($(this).text())});
$(document).on("click","#filters-content .other-content",function(){$("#top-results").hasClass("filtered-other")?removeURLFilter():(showGlobalLoading(),setURLFilter("-"))});$(document).on("click","#dym-content.applied a",function(){var a=$(this).attr("data-hash");Cookies.set("ignoreDidYouMean_"+a,"true",{expires:1,path:"/"})});$(document).on("click","#suggestions-content .suggestion button",function(){document.location.href=$(this).attr("data-url")});
$(document).on("mousedown","#search-links button",function(a){a.preventDefault();a.stopImmediatePropagation&&a.stopImmediatePropagation();2===a.which&&launchLinkWithCurrentSearch($(this),a);return!1});$(document).on("click","#search-links button.voice2",function(a){a.stopPropagation();voiceRequest($("#entry").val(),$("#src-selector .option.selected").attr("data-value"),$(this))});
$(document).on("click","#search-links a, #search-links button:not(.voice2)",function(a){a.preventDefault();launchLinkWithCurrentSearch($(this),a);return!1});$(document).on("click","#filtered-entry button.close",removeURLFilter);$(document).on("click","#filtered-entry .options button.voice",function(){voiceRequest($("#filtered-entry .entry-content .entry").html().replace("\x26nbsp;",""),request.trglang,$(this))});
$(document).on("click","#filtered-entry .options button.copy",function(){copyToClipboard($.trim($("#filtered-entry .entry-content .entry").html().replace("\x26nbsp;","")),constants.strings.results_copied_translation)});$(document).on("click","#filtered-entry .options button.non-favourite",function(){$(this).addClass("spinner").removeClass("non-favourite");addFavourite()});$(document).on("click","#filtered-entry .options button.favourite",function(){removeFavourite()});
$(document).on("click","#filtered-entry .inflected-forms-content .translation",function(){$(this).hasClass("filtered")?setURLFilter($(this).attr("data-base")):setURLFilter($(this).html())});$(document).on("click","#filtered-entry .reverse-search-content .icon",function(){reverseSearch(request.trglang+"-"+request.srclang,$("#filtered-entry .entry").text())});
$(document).on("click","#bottom-suggestions .other-suggestions, #top-suggestions .other-suggestions",function(){if(""!==$(this).attr("data-negative")){var a=$("#entry").val().replace(" "+$(this).attr("data-negative"),"");$("#entry").val(a+" "+$(this).attr("data-negative"));scrollWindowTo("#entry")}});$(document).on("click","#bottom-suggestions .suggestion button, #top-suggestions .suggestion button",function(){document.location.href=$(this).attr("data-url")});
$(document).on("click","#mt-box .options .voice",function(){var a=$(this).parent().hasClass("src")?".src":".trg";voiceRequest($("#mt-box "+a+" .text").text(),$(this).attr("data-lang"),$(this))});$(document).on("click","#mt-box .options .copy",function(){var a=$(this).parent().hasClass("src")?".src":".trg";copyToClipboard($("#mt-box "+a+" .text").text(),constants.strings.results_copied_translation)});
$(document).on("click","#mt-box .options button.non-favourite",function(){$(this).addClass("spinner").removeClass("non-favourite");addMTFavourite()});$(document).on("click","#mt-box .options button.favourite",function(){removeFavourite($(this))});$(document).on("click","#filters-content .filter-form.closed button.filter",function(){$("#filters-content .filter-form").removeClass("closed").addClass("open");$("#filters-content .filter-form input").focus()});
$(document).on("click","#filters-content .filter-form.open button.filter",function(){var a=$("#filters-content .filter-form input").val().replace("-{}","");""===a?$("#filters-content .filter-form").removeClass("open").addClass("closed"):a!==request.trgtext&&setURLFilter(a)});
$(document).on("click","#filters-content .filter-form button.exclude",function(){var a=$("#filters-content .filter-form input").val();-1===a.search("-{}")&&$("#filters-content .filter-form input").val(a+" -{}");var b=$("#filters-content .filter-form input").get(0),a=$("#filters-content .filter-form input").val().length-1;null!==b&&(b.createTextRange?(b=b.createTextRange(),b.move("character",a),b.select()):(b.focus(),b.selectionStart&&b.setSelectionRange(a,a)))});
$(document).on("click","#filters-content .filter-form button.cancel",removeURLFilter);$(document).on("keyup","#filters-content .filter-form input",function(a){13===a.which&&""!==$(this).val()&&(setURLFilter($(this).val()),rumjs.gaque("send","event","translations","filter","form"))});
$(document).on("click","#examples-content .example .mobile-voice",function(){var a=$(this).attr("data-id").replace(/\./g,"\\."),b=$(this).hasClass("played")?"src":"trg",c=!1;exists("#"+a+" .options ."+b+" .voice")||(b="trg"===b?"src":"trg",c=!0);$("#"+a+" .options ."+b+" .voice").click();"src"===b||"trg"===b?$(this).hasClass("stopped")?$(this).removeClass("stopped").addClass("playing"):$(this).hasClass("playing")?$(this).removeClass("playing").addClass("paused"):$(this).hasClass("paused")&&$(this).removeClass("paused").addClass("playing"):
c||($(this).hasClass("played")?$(this).removeClass("played"):$(this).addClass("played"))});$(document).on("click","#examples-content .example .voice.stopped",function(){var a=$(this).attr("data-lang");if(a in transliteration_langs){var b=$(this).parent().attr("class");0<$("#"+$(this).attr("data-id").replace(".","\\.")+" ."+b+" .text-nikkud:visible").length?hideNikkud($("#"+$(this).attr("data-id").replace(".","\\.")+" ."+b)):showNikkud($(this).attr("data-id"),a,b)}});
$(document).on("click","#examples-content .example .src .voice",function(){var a=cleanID($(this).attr("data-id")),b=$.trim($("#"+a+" .src .text").text()),a=$("#"+a+" .src .text em");1===a.length&&(b=$(a).text()+"\n\n\n"+b);voiceRequest(b,$(this).attr("data-lang"),$(this))});
$(document).on("click","#examples-content .example .trg .voice",function(){var a=cleanID($(this).attr("data-id")),b=$.trim($("#"+a+" .trg .text").text()),a=$("#"+a+" .trg .text em");1===a.length&&(b=$(a).text()+"\n\n\n"+b);voiceRequest(b,$(this).attr("data-lang"),$(this))});
$(document).on("click","#examples-content .example .add",function(){var a=$(this).attr("data-text").match(/<em[^>]*[^<]*<\/em>/gi),a=null!==a?a.join(" ").replace(/<em[^>]*>/gi,"").replace(/<\/em>/gi,""):"",a=$(this).attr("data-url")+"\x26srcLang\x3d"+languages.ms_codes[request.srclang]+"\x26targLang\x3d"+languages.ms_codes[request.trglang]+"\x26word\x3d"+toURL(getSrcTextWithoutNegativeClauses())+"\x26trans\x3d"+toURL(a);window.open(a)});
$(document).on("click","#examples-content .example .non-favourite",function(){$(this).addClass("spinner").removeClass("non-favourite");addFavourite($(this))});$(document).on("click","#examples-content .example .favourite",function(){removeFavourite($(this))});$(document).on("click","#examples-content .example .report",function(){showReportPopup(cleanID($(this).attr("data-id")))});$(document).on("click","#examples-content .example .more-context",function(){showContextPopup($(this).attr("data-id"))});
$(document).on("click","#examples-content .example .copy",function(){var a=$.map($("#"+cleanID($(this).attr("data-id"))+" .trg .text em:not(.outlined)"),function(a){return $.trim($(a).text())});0===a.length&&(a=[$.trim($("#"+cleanID($(this).attr("data-id"))+" .trg .text").text())]);copyToClipboard(a.join(" "),constants.strings.results_copied_translation)});
$(document).on("click","#load-more-examples",function(){window.mobilecheck()?logLOCD?($("#examples-content .example.mobile-hidden").removeClass("mobile-hidden"),$(this).hide()):showSigninPopup("moreexamples"):logLOCD?($("body").removeClass("locked"),loadNextResults()):showSigninPopup("moreexamples");resizeBlockedRudeExamplesBanner()});$(document).on("click","#blocked-results-banner .close",function(){$("#blocked-results-banner").hide()});
$(document).on("click","#blocked-rude-results-banner .close",function(){$("body").removeClass("rude-lock");query_cache.rude_warning_already_displayed=!0;rumjs.gaque("send","event","examples","contentwarning","unlock");resizeElementsResult()});
$(document).on("click",".report.popup button.edit",function(){logLOCD&&($(this).hasClass("src")?($(".report.popup .example .trg.textarea").focus(),setCaretToEnd(".report.popup .example .trg.textarea"),$(this).removeClass("src")):($(".report.popup .example .src.textarea").focus(),setCaretToEnd(".report.popup .example .src.textarea"),$(this).addClass("src")))});$(document).on("click",".report.popup .buttons .accept",reportExampleError);
$(document).on("click",".report.popup .option",function(){$("#popups-container .report.popup .option input").prop("checked",!1);$(this).find("input").prop("checked",!0)});$(document).on("click",".report.popup  button.check",function(){$(this).focus();$("#popups-container .report.popup .options input[value\x3d5]").click()});
$(document).on("click",".report.popup  button.undo",function(){var a=$(".report.popup .example").attr("data-id");$(".report.popup .example .src.textarea").html($("#"+a+" .src .text").text().replace("\n","").replace(/^[ ]*/g,""));$(".report.popup .example .trg.textarea").html($("#"+a+" .trg .text").text().replace("\n","").replace(/^[ ]*/g,""));highlightTextOnTextarea($(".report.popup .example .src.textarea").attr("data-translation"),".report.popup .example .src.textarea");highlightTextOnTextarea($(".report.popup .example .trg.textarea").attr("data-translation"),
".report.popup .example .trg.textarea")});$(document).on("focusout",".report.popup .example .textarea",function(){highlightTextOnTextarea($(this).attr("data-translation"),this)});$(document).on("focusout",".report.popup .comment",function(){$("body").removeClass("tab-enabled")});$(document).on("click","#global-options .go-up",function(){scrollWindowTo("body")});$(document).on("click","#global-options .lock",function(){logLOCD&&($("body").removeClass("locked"),isVisible($("#examples-bottom"))&&loadNextResults())});
$(document).on("click","#global-options .unlock",function(){$("body").addClass("locked")});$(document).on("click","#register-popup-bottom .cancel",function(a){$("#register-popup-bottom").addClass("closed");$(this).attr("title",constants.strings.tooltip_show_details);$(this).removeClass("cancel").addClass("up-arrow");Cookies.set("floatingpopup_counter",10)});
$(document).on("click","#register-popup-bottom .up-arrow",function(){$("#register-popup-bottom").removeClass("closed");$(this).attr("title",constants.strings.close);$(this).addClass("cancel").removeClass("up-arrow")});$(window).resize(function(){relocateGlobalOptions();resizeBlockedExamplesBanner();resizeBlockedRudeExamplesBanner()});
$(document).ready(function(){getSearchTransliteration();loadMachineTranslation();addFlagsForPairSelector();sendPromotionDisplayEvents("result");-1!==getIEVersion()?window.onhashchange=processURLFilter:window.onpopstate=processURLFilter;""!==getHashText()&&(rumjs.gaque("send","event","translations","filter","-"===getHashText()?"others-url":"standard-url"),processURLFilter());runNotifications();window.mobilecheck()&&(showMobileInnerAd(),scrollWindowTo("#entry",!0));showInnerAd();!logLOCD||$("body").hasClass("no-results")&&
$("body").hasClass("no-translations")?window.mobilecheck()||(resizeBlockedExamplesBanner(),setTimeout(function(){resizeBlockedExamplesBanner()},500),checkBottomSigninPopup()):retrieveFavourites();resizeBlockedRudeExamplesBanner();setTimeout(function(){resizeBlockedRudeExamplesBanner()},1E3);exists("#blocked-rude-results-banner:visible")&&rumjs.gaque("send","event","examples","contentwarning","display");checkInputRTL("#entry");saveHistoryCookies();saveTemplates();saveExamplesCache();showBottomSigninPopup()});
function checkMTTranslationFavourite(){var a=$.trim($("#mt-box .src .text").text()),b=$.trim($("#mt-box .trg .text").text()),c=$("#mt-box"),d=c.attr("data-mt-srclang"),c=c.attr("data-mt-trglang"),e=$.md5(user_id+a+b+d+c);$.ajax({url:urls.bstuser_host+"user/favourites/hashes",type:"get",data:{filterText:a,sourceLang:d,targetLang:c},dataType:"json",contentType:"application/json",success:function(a){null===a&&"500"===a.error||-1===$.inArray(e,a.results)||$("#mt-box .options button.non-favourite").attr("title",
constants.strings.tooltip_remove_fav_trans).addClass("favourite").removeClass("non-favourite")}})}function retrieveFavourites(){logLOCD&&$.ajax({url:urls.bstuser_host+"user/favourites/hashes",type:"get",data:{filterText:request.srctext,sourceLang:request.srclang,targetLang:request.trglang},dataType:"json",contentType:"application/json",success:function(a){if(null!==a||"500"!==a.error)query_cache.favourites=a.results,checkExamplesFavourites()}})}
function addFavourite(a){var b="",c=void 0;if(void 0!==a)var d=cleanID($(a).attr("data-id")),e=cleanContext($("#"+d+" .src .text").html()),g=cleanContext($("#"+d+" .trg .text").html()),c=g.match(/<em[^>]*>([^<]*)/),p=""===request.trgtext&&null!==c?1<c.length?c[1]:"":request.trgtext,c={srcText:request.srctext,trgText:p,srcContext:e,trgContext:g,srcLang:request.srclang,trgLang:request.trglang},e=$.trim($("#"+d+" .src .text").text()),g=$.trim($("#"+d+" .trg .text").text()),b=$.md5(user_id+request.srctext+
p+e+g+request.srclang+request.trglang);else c={srcText:request.srctext,trgText:request.trgtext,srcLang:request.srclang,trgLang:request.trglang},b=$.md5(user_id+request.srctext+request.trgtext+""+request.srclang+request.trglang);$.ajax({url:urls.bstuser_host+"user/favourites",type:"post",dataType:"json",data:JSON.stringify(c),contentType:"application/json",success:function(c){void 0!==a?($(a).attr("title",constants.strings.tooltip_remove_fav),$(a).removeClass("spinner").addClass("favourite")):($("#filtered-entry .options button.spinner").attr("title",
constants.strings.tooltip_remove_fav_trans),$("#filtered-entry .options button.spinner").removeClass("spinner").addClass("favourite"));-1===$.inArray(b,query_cache.favourites)&&query_cache.favourites.push(b);saveExamplesCache()}})}
function removeFavourite(a){var b="";if(void 0!==a)if(0<$(a).parents("#mt-box").length)var c=$.trim($("#mt-box .src .text").text()),d=$.trim($("#mt-box .trg .text").text()),e=$("#mt-box"),g=e.attr("data-mt-srclang"),e=e.attr("data-mt-trglang"),b=$.md5(user_id+c+d+g+e);else var c=$(a).attr("data-id").replace(".","\\."),d=cleanContext($("#"+c+" .src .text").html()),g=cleanContext($("#"+c+" .trg .text").html()),e=g.match(/<em[^>]*>([^<]*)/),d=$.trim($("#"+c+" .src .text").text()),g=$.trim($("#"+c+" .trg .text").text()),
p=""===request.trgtext&&null!==e?1<e.length?e[1]:"":p,b=$.md5(user_id+request.srctext+p+d+g+request.srclang+request.trglang);else b=$.md5(user_id+request.srctext+request.trgtext+""+request.srclang+request.trglang);$.ajax({url:urls.bstuser_host+"user/favourites/byHash?hash\x3d"+b,type:"delete",dataType:"json",success:function(c){void 0!==a?($(a).attr("title",constants.strings.tooltip_add_fav),$(a).addClass("non-favourite").removeClass("favourite")):($("#filtered-entry .options .favourite").attr("title",
constants.strings.tooltip_add_fav_trans),$("#filtered-entry .options .favourite").removeClass("favourite").addClass("non-favourite"));-1!==$.inArray(b,query_cache.favourites)&&query_cache.favourites.splice(query_cache.favourites.indexOf(b),1);saveExamplesCache()}})}
function addMTFavourite(){var a=$.trim($("#mt-box .src .text").text()),b=$.trim($("#mt-box .trg .text").text()),c=$("#mt-box"),d=c.attr("data-mt-srclang"),c=c.attr("data-mt-trglang"),e=$.md5(user_id+a+b+d+c);$.ajax({url:urls.bstuser_host+"user/favourites",type:"post",dataType:"json",data:JSON.stringify({srcText:a,trgText:b,srcLang:d,trgLang:c,favType:"mt"}),contentType:"application/json",success:function(a){$("#mt-box .options button.spinner").attr("title",constants.strings.tooltip_remove_fav_trans);
$("#mt-box .options button.spinner").removeClass("spinner").addClass("favourite");-1===$.inArray(e,query_cache.favourites)&&query_cache.favourites.push(e);saveExamplesCache()}})}
function checkExamplesFavourites(){$(".example").each(function(){var a=$.trim($(this).find(".src .text").text()),b=$.trim($(this).find(".trg .text").text()),c=cleanContext($(this).find(".trg .text").html()).match(/<em[^>]*>([^<]*)/),a=$.md5(user_id+request.srctext+(""===request.trgtext&&null!==c?1<c.length?c[1]:"":request.trgtext)+a+b+request.srclang+request.trglang);-1!==$.inArray(a,query_cache.favourites)&&($(this).find(".non-favourite").attr("title",constants.strings.tooltip_remove_fav),$(this).find(".non-favourite").addClass("favourite").removeClass("non-favourite"))})}
function checkTranslationFavourite(){var a=""===request.trgtext?$("#filtered-entry .entry-content .entry").text():request.trgtext,a=$.md5(user_id+request.srctext+a+request.srclang+request.trglang);-1!==$.inArray(a,query_cache.favourites)&&$("#filtered-entry .options .non-favourite").attr("title",constants.strings.tooltip_remove_fav_trans).addClass("favourite").removeClass("non-favourite")}
function runNotifications(){exists($("#translations-content .translation .warning.rude"))?($("body").removeClass("colloquial").addClass("rude"),$("body").addClass("noticed")):!exists($("body.rude"))&&exists($("#translations-content .translation .warning.colloquial"))&&($("body").removeClass("rude").addClass("colloquial"),$("body").addClass("noticed"))}
function replaceFilteredEntry(a){var b=getCurrentQuery();if(b in query_cache.translations)$("#filtered-entry").html(query_cache.translations[b]);else{showGlobalLoading();exists("#filtered-entry .entry")||buildFilteredEntry();var b=$.trim($(a).attr("data-pos")),b=void 0!==b&&"null"!==b?b:"",c=""!==b?b.split("|")[0]:b;$("#filtered-entry .reverse-search-content").empty();getReverseTranslationsOf($.trim(a.text()),c);var c=getLocalizedPOS(b),d=$(a).attr("data-freq"),d=0<d?frequencyShorter(d):"",e=""!==
d?constants.strings.tooltip_alignment_freq.replace("{0}",request.srctext).replace("{1}",d):"",g=$(a).attr("data-trans"),g=void 0!==g&&"null"!==g?g:"";$("#filtered-entry .entry-content .entry").html($.trim($(a).text()));$("#filtered-entry .entry-content .entry").attr("href",context_path+"/"+getLocalizedPath()+"/"+getLocalizedPairURL(request.trglang,request.srclang)+"/"+toURL($.trim($(a).text())));$(a).hasClass("dict")?$("#filtered-entry .entry-content .entry").removeAttr("rel"):$("#filtered-entry .entry-content .entry").attr("rel",
"nofollow");$("#filtered-entry .entry-content .pos").html(b);$("#filtered-entry .entry-content .pos").attr("title",c);""===b?$("#filtered-entry .entry-content .pos").addClass("empty"):$("#filtered-entry .entry-content .pos").removeClass("empty");$("#filtered-entry .entry-content .figure").html(d);$("#filtered-entry .entry-content .figure").attr("title",e);$("#filtered-entry .entry-content .transliteration").html(g);c=0<$(a).find(".rude").length;d=0<$(a).find(".colloquial").length;$("#filtered-entry .entry-content .warning").removeClass("rude").removeClass("colloquial");
$("#filtered-entry .entry-content .warning").removeAttr("title");c?($("#filtered-entry .entry-content .warning").addClass("rude"),$("#filtered-entry .entry-content .warning").attr("title",constants.strings.tooltip_rudeword)):d&&($("#filtered-entry .entry-content .warning").addClass("colloquial"),$("#filtered-entry .entry-content .warning").attr("title",constants.strings.tooltip_colloquial));e=toURL($.trim($(a).text()).replace(/^(([^\s]+[\s]){2}[^\s]*).*/,"$1"));d=urls.dictionary[request.trglang].replace("{0}",
e);c=urls.conjugator[request.trglang].replace("{0}",e.replace(/\+/g,"%20"));e=urls.synonyms[request.trglang].replace("{0}",e.replace(/\+/g,"%20"));b=void 0!==b?b.replace("[","").replace("]",""):"";logLOCD&&(g=urls.reverso.dictionary+"/CollabDict.aspx?view\x3d2\x26lang\x3d"+locale.toUpperCase()+"\x26srcLang\x3d"+languages.ms_codes[request.srclang]+"\x26targLang\x3d"+languages.ms_codes[request.trglang]+"\x26word\x3d"+toURL(getSrcTextWithoutNegativeClauses())+"\x26trans\x3d"+toURL($.trim($(a).text())),
$("#filtered-entry .options .addentry").attr("href",g));""!==d?($("#filtered-entry .options .dictionary").attr("href",d),$("#filtered-entry .options .dictionary.grey").removeClass("grey"),$("#filtered-entry .options .dictionary").attr("title",constants.strings.tooltip_definition)):($("#filtered-entry .options .dictionary").addClass("grey"),$("#filtered-entry .options .dictionary").attr("title",constants.strings.tooltip_definition+" - "+constants.strings.tooltip_translation_na),$("#filtered-entry .options .dictionary").removeAttr("href"));
b=-1!==$.inArray(b,tags_for_conjugation);""!==c&&b?($("#filtered-entry .options .conjugator").attr("href",c),$("#filtered-entry .options .conjugator.grey").removeClass("grey"),$("#filtered-entry .options .conjugator").attr("title",constants.strings.tooltip_conjugation)):($("#filtered-entry .options .conjugator").addClass("grey"),$("#filtered-entry .options .conjugator").attr("title",constants.strings.tooltip_conjugation+" - "+constants.strings.tooltip_translation_na),$("#filtered-entry .options .conjugator").removeAttr("href"));
""!==e?($("#filtered-entry .options .synonyms").attr("href",e),$("#filtered-entry .options .synonyms.grey").removeClass("grey"),$("#filtered-entry .options .synonyms").attr("title",constants.strings.tooltip_synonyms)):($("#filtered-entry .options .synonyms").addClass("grey"),$("#filtered-entry .options .synonyms").attr("title",constants.strings.tooltip_synonyms+" - "+constants.strings.tooltip_translation_na),$("#filtered-entry .options .synonyms").removeAttr("href"));a=constants.strings.tooltip_reverse.replace("{0}",
'"'+$.trim($(a).text())+'"').replace("{1}",languages.located[request.trglang]).replace("{2}",languages.located[request.srclang]);$("#filtered-entry .reverse-search-content .icon").attr("title",a);$("#filtered-entry .options .favourite").removeClass("favourite").addClass("non-favourite");$("#filtered-entry .options .non-favourite").attr("title",constants.strings.tooltip_add_fav_trans);$("#filtered-entry .inflected-forms-content").hide()}resizeElementsResult();logLOCD&&checkTranslationFavourite()}
function showGlobalOptions(){0===$("body #global-options").length&&buildGlobalOptions();$("#global-options").show()}function hideGlobalOptions(){$("#global-options").hide()}
function showNikkud(a,b,c){var d="#"+a.replace(".","\\.")+("trg"===c?" \x3e .trg":" \x3e .src");a=function(){$(d+" .text").hide();$(d+" .text-nikkud").show();""!==$(d+" .text-transliteration").html()&&$(d+" .text-transliteration").show()};!exists(d+" .text-nikkud")&&b in transliteration_langs?(buildTransliteration($(d),b),"he"===b?getNikkud($(d),a):getTransliteration($(d),a,b)):a()}
function hideNikkud(a){$(a).children(".text-nikkud").hide();$(a).children(".text-transliteration").hide();$(a).children(".text").show()}function relocateGlobalOptions(){0<$("#global-options").length&&$("#global-options").css("bottom","0px")}
function linkAlignedText(a){a=escapeHtmlCharacterLessThan(a);return a.replace(/(<em[^>]*>)([^<]*)(<\/em>)/,function(a,c,d,e){return'\x3ca href\x3d"'+(context_path+"/"+getLocalizedPath()+"/"+getLocalizedPairURL(request.trglang+"-"+request.srclang)+"/")+toURL(d)+'" rel\x3d"nofollow"\x3e'+a+"\x3c/a\x3e"})}function escapeHtmlCharacterLessThan(a){return a.replace(/<(?!(\/)?em( class="(both|outlined)?")?>)/ig,"\x26lt;")}function frequencyShorter(a){return 1E4<=a?"+10k":0<a?a:""}
function getContextLength(a){context_length=0;for(i in a.before)context_length+=a.before[i].s_text.length,context_length+=a.before[i].t_text.length;context_length+=a.center.s_text.length;context_length+=a.center.t_text.length;for(i in a.after)context_length+=a.after[i].s_text.length,context_length+=a.after[i].t_text.length;return context_length}function cleanID(a){return a.replace(".","\\.")}
function cleanContext(a){return void 0!==a?a.replace(/^[\n ]*/g,"").replace(/<a([^>]+)>/gi,"").replace(/<\/a>/gi,""):a}function getSrcTextWithoutNegativeClauses(){return $.trim(request.srctext.replace(/\-\{[^}]*\}/g,""))}
function getCorpusDescription(a){a=a.split(".")[0];a=0===a.indexOf("SERPIS")?a="SERPIS":-1!==a.indexOf("XALLAS")?a="XALLAS":a;try{if(void 0===constants.corpus[a]){var b=a.split("-");a=b[b.length-1];return void 0===constants.corpus[a]?constants.corpus.PIVOTED:constants.corpus[a]}return constants.corpus[a]}catch(c){}return""}function getCurrentQuery(){return request.srctext+"#"+request.trgtext}
function getISO6391LanguageCode(a){for(key in languages.iso6392_codes)if(a===languages.iso6392_codes[key])return key;return""}function getISO6392LanguageCode(a){return languages.iso6392_codes[a]}function encodeToBase64(a){return btoa(encodeURIComponent(a).replace(/%([0-9A-F]{2})/g,function(a,c){return String.fromCharCode("0x"+c)}))}
function voiceRequest(a,b,c){try{if(""!==languages.voice_codes[b]&&voice_feature)if($(c).hasClass("playing"))$(c).removeClass("playing").addClass("paused"),audio.pause();else{if($(c).hasClass("paused"))$(c).removeClass("paused").addClass("playing");else{180<a.length&&(pos=a.indexOf(" ",180),-1!==pos&&(a=a.substring(0,pos)));if(0<$(".playing").length||0<$(".paused").length)audio.pause(),$(".playing").removeClass("playing").addClass("stopped"),$(".paused").removeClass("paused").addClass("stopped");
$(c).removeClass("stopped").addClass("playing");audio.src=urls.reverso.voice+"/v1/output\x3djson/GetVoiceStream/voiceName\x3d"+languages.voice_codes[b]+"?"+("zh"===b?"voiceSpeed\x3d85\x26":"")+"inputText\x3d"+encodeToBase64(a)}audio.play()}else voice_feature||alert("Your browser does not support HTML5 audio or mp3. Please update your browser or install the needed codecs.")}catch(d){return alert("The service is not available in this moment. Please try again later."),audio.pause(),$(".playing").removeClass("playing").addClass("stopped"),
$(".paused").removeClass("paused").addClass("stopped"),!1}}audio.onended=function(){$(".mobile-voice.playing").hasClass("blocked")||($(".mobile-voice.playing").hasClass("played")?$(".mobile-voice.playing").removeClass("played"):$(".mobile-voice.playing").addClass("played"));$(".icon.playing").removeClass("playing").addClass("stopped")};
function getLocalizedPOS(a){a=a.split(" | ");var b=[],c;for(c in a){var d=a[c].replace("[","").replace("]","").split("/"),d=1===d.length?a[c].replace(/\[/g,"").replace(/\]/g,"").split(";"):d;for(c in d){var e=constants.pos[d[c]+"."];d[c]=void 0===e?constants.domain[d[c]+"."]:e}b.push(d.join(" / "))}return b.join(" | ")}
function saveHistoryCookies(){if(!logLOCD){var a=Cookies.get("history_entry"),b=Cookies.get("history_pair");if(void 0!==a){a=a.split("]#[");b=b.split("]#[");3<=a.length&&(a=a.slice(1,3),b=b.slice(1,3));var c=$.inArray(request.srctext,a);-1!==c&&(a.splice(c,1),b.splice(c,1));a.push(decodeUnicode(request.srctext));b.push(request.srclang+"-"+request.trglang);Cookies.set("history_entry",a.join("]#["));Cookies.set("history_pair",b.join("]#["))}else Cookies.set("history_entry",request.srctext),Cookies.set("history_pair",
request.srclang+"-"+request.trglang)}}function saveExamplesCache(){var a=$("#examples-content").clone();$(a).find(".inner-rca").replaceWith($(templates.innerAd).clone());$(a).find(".mobile-inner-rca").replaceWith($(templates.mobileInnerAd).clone());query_cache.examples[getCurrentQuery()]={content:$(a).html(),info:$("#result-info").html(),rude_warning_displayed:$("body").hasClass("rude")&&$("body").hasClass("rude-lock")}}
function saveTranslationsCache(){query_cache.translations[getCurrentQuery()]=$("#filtered-entry").html()}function setCaretToEnd(a,b){void 0===b&&(b=0);var c=document.querySelector(a);a=document.createRange();null!==c.lastChild&&(a.setStart(c.lastChild,c.lastChild.length-b),a.setEnd(c.lastChild,c.lastChild.length-b),b=window.getSelection(),b.removeAllRanges(),b.addRange(a))}function setURLFilter(a){window.location.hash=toURL(a)}function removeURLFilter(){window.location.hash=""}
function processURLFilter(){var a=getHashText(),b=void 0,c=function(){hideGlobalLoading()};if(a!==request.trgtext){if(""===a)request.trgtext="",request.rpage=1,b=function(){$("#top-results").removeClass("filtered-entry");$("#top-results").removeClass("filtered-funnel");$("#filters-content .filter-form input").val("");$("#top-results").removeClass("filtered-other")};else if("-"===a)request.trgtext=$("#filters-content .other-content").attr("data-negative"),request.rpage=1,b=function(){$("#top-results").addClass("filtered-other");
$("#top-results").removeClass("filtered-entry").removeClass("filtered-funnel");$("#filters-content .filter-form input").val("")};else{var d=!1;$("#translations-content .translation").each(function(){showGlobalLoading();var e=$.trim($(this).text()),g=!1;void 0!==$(this).attr("data-inflected")&&(g=$(this).attr("data-inflected").split("}--{"),g=-1!==$.inArray(a,g));if((e===a||g)&&!d){request.trgtext=a;request.rpage=1;var p=$(this);b=function(){replaceFilteredEntry(p);$("#top-results").addClass("filtered-entry");
$("#top-results").removeClass("filtered-funnel");$("#filters-content .filter-form input").val("");$("#top-results").removeClass("filtered-other")};c=function(){if(void 0!==query_cache.inflected){var a="",b=query_cache.inflected[e],c=window.mobilecheck()?4:15,d;for(d in b.slice(0,c))var g=b[d],a=a+('\x3cspan class\x3d"translation'+(g.term===request.trgtext?" filtered":"")+'" title\x3d"'+constants.strings.tooltip_inflected.replace("{0}",e)+"\x3cbr\x3e"+constants.strings.tooltip_suggestions_freq.replace("{0}",
g.alignFreq)+'" data-base\x3d"'+e+'"\x3e'+g.term+"\x3c/span\x3e");""!==a&&(a='\x3cspan class\x3d"translation base '+(e===request.trgtext?"filtered":"")+'"\x3e'+e+"\x3c/span\x3e"+a,window.mobilecheck()&&b.length>c&&(a+="\x3cspan\x3e...\x3c/span\x3e"),$("#filtered-entry .inflected-forms-content").html(a),$("#filtered-entry .inflected-forms-content").show())}buildTooltips();hideGlobalLoading()};d=!0}});d||a===request.trgtext||(request.trgtext=a,request.rpage=1,b=function(){$("#top-results").removeClass("filtered-entry");
$("#top-results").removeClass("filtered-other");$("body").addClass("detailed");$("#top-results").addClass("filtered-funnel");$("#filters-content .filter-form input").val(a);$("#filters-content .filter-form.closed").removeClass("closed").addClass("open")},rumjs.gaque("send","event","translations","filter","form-url"))}loadExamples(b,c)}};